var N8=Object.defineProperty;var HL=r=>{throw TypeError(r)};var k8=(r,e,t)=>e in r?N8(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Oe=(r,e,t)=>k8(r,typeof e!="symbol"?e+"":e,t),C5=(r,e,t)=>e.has(r)||HL("Cannot "+t);var m=(r,e,t)=>(C5(r,e,"read from private field"),t?t.call(r):e.get(r)),ae=(r,e,t)=>e.has(r)?HL("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),ee=(r,e,t,n)=>(C5(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),le=(r,e,t)=>(C5(r,e,"access private method"),t);var Hi=(r,e,t,n)=>({set _(i){ee(r,e,i,t)},get _(){return m(r,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var bie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uF(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var A6={exports:{}},MB={},c6={exports:{}},Rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j2=Symbol.for("react.element"),M8=Symbol.for("react.portal"),D8=Symbol.for("react.fragment"),_8=Symbol.for("react.strict_mode"),U8=Symbol.for("react.profiler"),P8=Symbol.for("react.provider"),T8=Symbol.for("react.context"),R8=Symbol.for("react.forward_ref"),Q8=Symbol.for("react.suspense"),O8=Symbol.for("react.memo"),j8=Symbol.for("react.lazy"),WL=Symbol.iterator;function H8(r){return r===null||typeof r!="object"?null:(r=WL&&r[WL]||r["@@iterator"],typeof r=="function"?r:null)}var u6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d6=Object.assign,h6={};function Bg(r,e,t){this.props=r,this.context=e,this.refs=h6,this.updater=t||u6}Bg.prototype.isReactComponent={};Bg.prototype.setState=function(r,e){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,e,"setState")};Bg.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function f6(){}f6.prototype=Bg.prototype;function dF(r,e,t){this.props=r,this.context=e,this.refs=h6,this.updater=t||u6}var hF=dF.prototype=new f6;hF.constructor=dF;d6(hF,Bg.prototype);hF.isPureReactComponent=!0;var KL=Array.isArray,p6=Object.prototype.hasOwnProperty,fF={current:null},g6={key:!0,ref:!0,__self:!0,__source:!0};function m6(r,e,t){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)p6.call(e,n)&&!g6.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=t;else if(1<o){for(var l=Array(o),A=0;A<o;A++)l[A]=arguments[A+2];i.children=l}if(r&&r.defaultProps)for(n in o=r.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:j2,type:r,key:s,ref:a,props:i,_owner:fF.current}}function W8(r,e){return{$$typeof:j2,type:r.type,key:e,ref:r.ref,props:r.props,_owner:r._owner}}function pF(r){return typeof r=="object"&&r!==null&&r.$$typeof===j2}function K8(r){var e={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(t){return e[t]})}var GL=/\/+/g;function S5(r,e){return typeof r=="object"&&r!==null&&r.key!=null?K8(""+r.key):e.toString(36)}function Av(r,e,t,n,i){var s=typeof r;(s==="undefined"||s==="boolean")&&(r=null);var a=!1;if(r===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(r.$$typeof){case j2:case M8:a=!0}}if(a)return a=r,i=i(a),r=n===""?"."+S5(a,0):n,KL(i)?(t="",r!=null&&(t=r.replace(GL,"$&/")+"/"),Av(i,e,t,"",function(A){return A})):i!=null&&(pF(i)&&(i=W8(i,t+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(GL,"$&/")+"/")+r)),e.push(i)),1;if(a=0,n=n===""?".":n+":",KL(r))for(var o=0;o<r.length;o++){s=r[o];var l=n+S5(s,o);a+=Av(s,e,t,l,i)}else if(l=H8(r),typeof l=="function")for(r=l.call(r),o=0;!(s=r.next()).done;)s=s.value,l=n+S5(s,o++),a+=Av(s,e,t,l,i);else if(s==="object")throw e=String(r),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function sw(r,e,t){if(r==null)return r;var n=[],i=0;return Av(r,n,"","",function(s){return e.call(t,s,i++)}),n}function G8(r){if(r._status===-1){var e=r._result;e=e(),e.then(function(t){(r._status===0||r._status===-1)&&(r._status=1,r._result=t)},function(t){(r._status===0||r._status===-1)&&(r._status=2,r._result=t)}),r._status===-1&&(r._status=0,r._result=e)}if(r._status===1)return r._result.default;throw r._result}var is={current:null},cv={transition:null},$8={ReactCurrentDispatcher:is,ReactCurrentBatchConfig:cv,ReactCurrentOwner:fF};function y6(){throw Error("act(...) is not supported in production builds of React.")}Rt.Children={map:sw,forEach:function(r,e,t){sw(r,function(){e.apply(this,arguments)},t)},count:function(r){var e=0;return sw(r,function(){e++}),e},toArray:function(r){return sw(r,function(e){return e})||[]},only:function(r){if(!pF(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};Rt.Component=Bg;Rt.Fragment=D8;Rt.Profiler=U8;Rt.PureComponent=dF;Rt.StrictMode=_8;Rt.Suspense=Q8;Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$8;Rt.act=y6;Rt.cloneElement=function(r,e,t){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var n=d6({},r.props),i=r.key,s=r.ref,a=r._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=fF.current),e.key!==void 0&&(i=""+e.key),r.type&&r.type.defaultProps)var o=r.type.defaultProps;for(l in e)p6.call(e,l)&&!g6.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=t;else if(1<l){o=Array(l);for(var A=0;A<l;A++)o[A]=arguments[A+2];n.children=o}return{$$typeof:j2,type:r.type,key:i,ref:s,props:n,_owner:a}};Rt.createContext=function(r){return r={$$typeof:T8,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:P8,_context:r},r.Consumer=r};Rt.createElement=m6;Rt.createFactory=function(r){var e=m6.bind(null,r);return e.type=r,e};Rt.createRef=function(){return{current:null}};Rt.forwardRef=function(r){return{$$typeof:R8,render:r}};Rt.isValidElement=pF;Rt.lazy=function(r){return{$$typeof:j8,_payload:{_status:-1,_result:r},_init:G8}};Rt.memo=function(r,e){return{$$typeof:O8,type:r,compare:e===void 0?null:e}};Rt.startTransition=function(r){var e=cv.transition;cv.transition={};try{r()}finally{cv.transition=e}};Rt.unstable_act=y6;Rt.useCallback=function(r,e){return is.current.useCallback(r,e)};Rt.useContext=function(r){return is.current.useContext(r)};Rt.useDebugValue=function(){};Rt.useDeferredValue=function(r){return is.current.useDeferredValue(r)};Rt.useEffect=function(r,e){return is.current.useEffect(r,e)};Rt.useId=function(){return is.current.useId()};Rt.useImperativeHandle=function(r,e,t){return is.current.useImperativeHandle(r,e,t)};Rt.useInsertionEffect=function(r,e){return is.current.useInsertionEffect(r,e)};Rt.useLayoutEffect=function(r,e){return is.current.useLayoutEffect(r,e)};Rt.useMemo=function(r,e){return is.current.useMemo(r,e)};Rt.useReducer=function(r,e,t){return is.current.useReducer(r,e,t)};Rt.useRef=function(r){return is.current.useRef(r)};Rt.useState=function(r){return is.current.useState(r)};Rt.useSyncExternalStore=function(r,e,t){return is.current.useSyncExternalStore(r,e,t)};Rt.useTransition=function(){return is.current.useTransition()};Rt.version="18.3.1";c6.exports=Rt;var z=c6.exports;const zt=uF(z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z8=z,V8=Symbol.for("react.element"),q8=Symbol.for("react.fragment"),Y8=Object.prototype.hasOwnProperty,X8=z8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,J8={key:!0,ref:!0,__self:!0,__source:!0};function w6(r,e,t){var n,i={},s=null,a=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)Y8.call(e,n)&&!J8.hasOwnProperty(n)&&(i[n]=e[n]);if(r&&r.defaultProps)for(n in e=r.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:V8,type:r,key:s,ref:a,props:i,_owner:X8.current}}MB.Fragment=q8;MB.jsx=w6;MB.jsxs=w6;A6.exports=MB;var B=A6.exports,v6={exports:{}},aa={},b6={exports:{}},B6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function e(j,T){var _=j.length;j.push(T);e:for(;0<_;){var L=_-1>>>1,v=j[L];if(0<i(v,T))j[L]=T,j[_]=v,_=L;else break e}}function t(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var T=j[0],_=j.pop();if(_!==T){j[0]=_;e:for(var L=0,v=j.length,E=v>>>1;L<E;){var x=2*(L+1)-1,g=j[x],w=x+1,h=j[w];if(0>i(g,_))w<v&&0>i(h,g)?(j[L]=h,j[w]=_,L=w):(j[L]=g,j[x]=_,L=x);else if(w<v&&0>i(h,_))j[L]=h,j[w]=_,L=w;else break e}}return T}function i(j,T){var _=j.sortIndex-T.sortIndex;return _!==0?_:j.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();r.unstable_now=function(){return a.now()-o}}var l=[],A=[],c=1,u=null,f=3,p=!1,I=!1,F=!1,D=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(j){for(var T=t(A);T!==null;){if(T.callback===null)n(A);else if(T.startTime<=j)n(A),T.sortIndex=T.expirationTime,e(l,T);else break;T=t(A)}}function Q(j){if(F=!1,U(j),!I)if(t(l)!==null)I=!0,J(V);else{var T=t(A);T!==null&&O(Q,T.startTime-j)}}function V(j,T){I=!1,F&&(F=!1,C(G),G=-1),p=!0;var _=f;try{for(U(T),u=t(l);u!==null&&(!(u.expirationTime>T)||j&&!H());){var L=u.callback;if(typeof L=="function"){u.callback=null,f=u.priorityLevel;var v=L(u.expirationTime<=T);T=r.unstable_now(),typeof v=="function"?u.callback=v:u===t(l)&&n(l),U(T)}else n(l);u=t(l)}if(u!==null)var E=!0;else{var x=t(A);x!==null&&O(Q,x.startTime-T),E=!1}return E}finally{u=null,f=_,p=!1}}var Z=!1,q=null,G=-1,Y=5,K=-1;function H(){return!(r.unstable_now()-K<Y)}function te(){if(q!==null){var j=r.unstable_now();K=j;var T=!0;try{T=q(!0,j)}finally{T?ue():(Z=!1,q=null)}}else Z=!1}var ue;if(typeof k=="function")ue=function(){k(te)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,re=oe.port2;oe.port1.onmessage=te,ue=function(){re.postMessage(null)}}else ue=function(){D(te,0)};function J(j){q=j,Z||(Z=!0,ue())}function O(j,T){G=D(function(){j(r.unstable_now())},T)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(j){j.callback=null},r.unstable_continueExecution=function(){I||p||(I=!0,J(V))},r.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<j?Math.floor(1e3/j):5},r.unstable_getCurrentPriorityLevel=function(){return f},r.unstable_getFirstCallbackNode=function(){return t(l)},r.unstable_next=function(j){switch(f){case 1:case 2:case 3:var T=3;break;default:T=f}var _=f;f=T;try{return j()}finally{f=_}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(j,T){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var _=f;f=j;try{return T()}finally{f=_}},r.unstable_scheduleCallback=function(j,T,_){var L=r.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?L+_:L):_=L,j){case 1:var v=-1;break;case 2:v=250;break;case 5:v=1073741823;break;case 4:v=1e4;break;default:v=5e3}return v=_+v,j={id:c++,callback:T,priorityLevel:j,startTime:_,expirationTime:v,sortIndex:-1},_>L?(j.sortIndex=_,e(A,j),t(l)===null&&j===t(A)&&(F?(C(G),G=-1):F=!0,O(Q,_-L))):(j.sortIndex=v,e(l,j),I||p||(I=!0,J(V))),j},r.unstable_shouldYield=H,r.unstable_wrapCallback=function(j){var T=f;return function(){var _=f;f=T;try{return j.apply(this,arguments)}finally{f=_}}}})(B6);b6.exports=B6;var Z8=b6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eO=z,sa=Z8;function Qe(r){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+r,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var x6=new Set,U0={};function Ch(r,e){ug(r,e),ug(r+"Capture",e)}function ug(r,e){for(U0[r]=e,r=0;r<e.length;r++)x6.add(e[r])}var EA=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tC=Object.prototype.hasOwnProperty,tO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$L={},zL={};function rO(r){return tC.call(zL,r)?!0:tC.call($L,r)?!1:tO.test(r)?zL[r]=!0:($L[r]=!0,!1)}function nO(r,e,t,n){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:t!==null?!t.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function iO(r,e,t,n){if(e===null||typeof e>"u"||nO(r,e,t,n))return!0;if(n)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ss(r,e,t,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=r,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var mi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){mi[r]=new ss(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var e=r[0];mi[e]=new ss(e,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){mi[r]=new ss(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){mi[r]=new ss(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){mi[r]=new ss(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){mi[r]=new ss(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){mi[r]=new ss(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){mi[r]=new ss(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){mi[r]=new ss(r,5,!1,r.toLowerCase(),null,!1,!1)});var gF=/[\-:]([a-z])/g;function mF(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var e=r.replace(gF,mF);mi[e]=new ss(e,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var e=r.replace(gF,mF);mi[e]=new ss(e,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var e=r.replace(gF,mF);mi[e]=new ss(e,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){mi[r]=new ss(r,1,!1,r.toLowerCase(),null,!1,!1)});mi.xlinkHref=new ss("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){mi[r]=new ss(r,1,!1,r.toLowerCase(),null,!0,!0)});function yF(r,e,t,n){var i=mi.hasOwnProperty(e)?mi[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(iO(e,t,i,n)&&(t=null),n||i===null?rO(e)&&(t===null?r.removeAttribute(e):r.setAttribute(e,""+t)):i.mustUseProperty?r[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,n=i.attributeNamespace,t===null?r.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,n?r.setAttributeNS(n,e,t):r.setAttribute(e,t))))}var UA=eO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,aw=Symbol.for("react.element"),kf=Symbol.for("react.portal"),Mf=Symbol.for("react.fragment"),wF=Symbol.for("react.strict_mode"),rC=Symbol.for("react.profiler"),I6=Symbol.for("react.provider"),C6=Symbol.for("react.context"),vF=Symbol.for("react.forward_ref"),nC=Symbol.for("react.suspense"),iC=Symbol.for("react.suspense_list"),bF=Symbol.for("react.memo"),nc=Symbol.for("react.lazy"),S6=Symbol.for("react.offscreen"),VL=Symbol.iterator;function om(r){return r===null||typeof r!="object"?null:(r=VL&&r[VL]||r["@@iterator"],typeof r=="function"?r:null)}var Wr=Object.assign,F5;function jm(r){if(F5===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);F5=e&&e[1]||""}return`
`+F5+r}var E5=!1;function L5(r,e){if(!r||E5)return"";E5=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(A){var n=A}Reflect.construct(r,[],e)}else{try{e.call()}catch(A){n=A}r.call(e.prototype)}else{try{throw Error()}catch(A){n=A}r()}}catch(A){if(A&&n&&typeof A.stack=="string"){for(var i=A.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return r.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",r.displayName)),l}while(1<=a&&0<=o);break}}}finally{E5=!1,Error.prepareStackTrace=t}return(r=r?r.displayName||r.name:"")?jm(r):""}function sO(r){switch(r.tag){case 5:return jm(r.type);case 16:return jm("Lazy");case 13:return jm("Suspense");case 19:return jm("SuspenseList");case 0:case 2:case 15:return r=L5(r.type,!1),r;case 11:return r=L5(r.type.render,!1),r;case 1:return r=L5(r.type,!0),r;default:return""}}function sC(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case Mf:return"Fragment";case kf:return"Portal";case rC:return"Profiler";case wF:return"StrictMode";case nC:return"Suspense";case iC:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case C6:return(r.displayName||"Context")+".Consumer";case I6:return(r._context.displayName||"Context")+".Provider";case vF:var e=r.render;return r=r.displayName,r||(r=e.displayName||e.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case bF:return e=r.displayName||null,e!==null?e:sC(r.type)||"Memo";case nc:e=r._payload,r=r._init;try{return sC(r(e))}catch{}}return null}function aO(r){var e=r.type;switch(r.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=e.render,r=r.displayName||r.name||"",e.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sC(e);case 8:return e===wF?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function uu(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function F6(r){var e=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function oO(r){var e=F6(r)?"checked":"value",t=Object.getOwnPropertyDescriptor(r.constructor.prototype,e),n=""+r[e];if(!r.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(r,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(r,e,{enumerable:t.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){r._valueTracker=null,delete r[e]}}}}function ow(r){r._valueTracker||(r._valueTracker=oO(r))}function E6(r){if(!r)return!1;var e=r._valueTracker;if(!e)return!0;var t=e.getValue(),n="";return r&&(n=F6(r)?r.checked?"true":"false":r.value),r=n,r!==t?(e.setValue(r),!0):!1}function Ab(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function aC(r,e){var t=e.checked;return Wr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??r._wrapperState.initialChecked})}function qL(r,e){var t=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;t=uu(e.value!=null?e.value:t),r._wrapperState={initialChecked:n,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function L6(r,e){e=e.checked,e!=null&&yF(r,"checked",e,!1)}function oC(r,e){L6(r,e);var t=uu(e.value),n=e.type;if(t!=null)n==="number"?(t===0&&r.value===""||r.value!=t)&&(r.value=""+t):r.value!==""+t&&(r.value=""+t);else if(n==="submit"||n==="reset"){r.removeAttribute("value");return}e.hasOwnProperty("value")?lC(r,e.type,t):e.hasOwnProperty("defaultValue")&&lC(r,e.type,uu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(r.defaultChecked=!!e.defaultChecked)}function YL(r,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+r._wrapperState.initialValue,t||e===r.value||(r.value=e),r.defaultValue=e}t=r.name,t!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,t!==""&&(r.name=t)}function lC(r,e,t){(e!=="number"||Ab(r.ownerDocument)!==r)&&(t==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+t&&(r.defaultValue=""+t))}var Hm=Array.isArray;function Vf(r,e,t,n){if(r=r.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<r.length;t++)i=e.hasOwnProperty("$"+r[t].value),r[t].selected!==i&&(r[t].selected=i),i&&n&&(r[t].defaultSelected=!0)}else{for(t=""+uu(t),e=null,i=0;i<r.length;i++){if(r[i].value===t){r[i].selected=!0,n&&(r[i].defaultSelected=!0);return}e!==null||r[i].disabled||(e=r[i])}e!==null&&(e.selected=!0)}}function AC(r,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Qe(91));return Wr({},e,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function XL(r,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Qe(92));if(Hm(t)){if(1<t.length)throw Error(Qe(93));t=t[0]}e=t}e==null&&(e=""),t=e}r._wrapperState={initialValue:uu(t)}}function N6(r,e){var t=uu(e.value),n=uu(e.defaultValue);t!=null&&(t=""+t,t!==r.value&&(r.value=t),e.defaultValue==null&&r.defaultValue!==t&&(r.defaultValue=t)),n!=null&&(r.defaultValue=""+n)}function JL(r){var e=r.textContent;e===r._wrapperState.initialValue&&e!==""&&e!==null&&(r.value=e)}function k6(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cC(r,e){return r==null||r==="http://www.w3.org/1999/xhtml"?k6(e):r==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var lw,M6=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction(function(){return r(e,t,n,i)})}:r}(function(r,e){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=e;else{for(lw=lw||document.createElement("div"),lw.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lw.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;e.firstChild;)r.appendChild(e.firstChild)}});function P0(r,e){if(e){var t=r.firstChild;if(t&&t===r.lastChild&&t.nodeType===3){t.nodeValue=e;return}}r.textContent=e}var m0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lO=["Webkit","ms","Moz","O"];Object.keys(m0).forEach(function(r){lO.forEach(function(e){e=e+r.charAt(0).toUpperCase()+r.substring(1),m0[e]=m0[r]})});function D6(r,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||m0.hasOwnProperty(r)&&m0[r]?(""+e).trim():e+"px"}function _6(r,e){r=r.style;for(var t in e)if(e.hasOwnProperty(t)){var n=t.indexOf("--")===0,i=D6(t,e[t],n);t==="float"&&(t="cssFloat"),n?r.setProperty(t,i):r[t]=i}}var AO=Wr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uC(r,e){if(e){if(AO[r]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Qe(137,r));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Qe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Qe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Qe(62))}}function dC(r,e){if(r.indexOf("-")===-1)return typeof e.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hC=null;function BF(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var fC=null,qf=null,Yf=null;function ZL(r){if(r=K2(r)){if(typeof fC!="function")throw Error(Qe(280));var e=r.stateNode;e&&(e=TB(e),fC(r.stateNode,r.type,e))}}function U6(r){qf?Yf?Yf.push(r):Yf=[r]:qf=r}function P6(){if(qf){var r=qf,e=Yf;if(Yf=qf=null,ZL(r),e)for(r=0;r<e.length;r++)ZL(e[r])}}function T6(r,e){return r(e)}function R6(){}var N5=!1;function Q6(r,e,t){if(N5)return r(e,t);N5=!0;try{return T6(r,e,t)}finally{N5=!1,(qf!==null||Yf!==null)&&(R6(),P6())}}function T0(r,e){var t=r.stateNode;if(t===null)return null;var n=TB(t);if(n===null)return null;t=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(r=r.type,n=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!n;break e;default:r=!1}if(r)return null;if(t&&typeof t!="function")throw Error(Qe(231,e,typeof t));return t}var pC=!1;if(EA)try{var lm={};Object.defineProperty(lm,"passive",{get:function(){pC=!0}}),window.addEventListener("test",lm,lm),window.removeEventListener("test",lm,lm)}catch{pC=!1}function cO(r,e,t,n,i,s,a,o,l){var A=Array.prototype.slice.call(arguments,3);try{e.apply(t,A)}catch(c){this.onError(c)}}var y0=!1,cb=null,ub=!1,gC=null,uO={onError:function(r){y0=!0,cb=r}};function dO(r,e,t,n,i,s,a,o,l){y0=!1,cb=null,cO.apply(uO,arguments)}function hO(r,e,t,n,i,s,a,o,l){if(dO.apply(this,arguments),y0){if(y0){var A=cb;y0=!1,cb=null}else throw Error(Qe(198));ub||(ub=!0,gC=A)}}function Sh(r){var e=r,t=r;if(r.alternate)for(;e.return;)e=e.return;else{r=e;do e=r,e.flags&4098&&(t=e.return),r=e.return;while(r)}return e.tag===3?t:null}function O6(r){if(r.tag===13){var e=r.memoizedState;if(e===null&&(r=r.alternate,r!==null&&(e=r.memoizedState)),e!==null)return e.dehydrated}return null}function e3(r){if(Sh(r)!==r)throw Error(Qe(188))}function fO(r){var e=r.alternate;if(!e){if(e=Sh(r),e===null)throw Error(Qe(188));return e!==r?null:r}for(var t=r,n=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){t=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return e3(i),r;if(s===n)return e3(i),e;s=s.sibling}throw Error(Qe(188))}if(t.return!==n.return)t=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===t){a=!0,t=i,n=s;break}if(o===n){a=!0,n=i,t=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===t){a=!0,t=s,n=i;break}if(o===n){a=!0,n=s,t=i;break}o=o.sibling}if(!a)throw Error(Qe(189))}}if(t.alternate!==n)throw Error(Qe(190))}if(t.tag!==3)throw Error(Qe(188));return t.stateNode.current===t?r:e}function j6(r){return r=fO(r),r!==null?H6(r):null}function H6(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var e=H6(r);if(e!==null)return e;r=r.sibling}return null}var W6=sa.unstable_scheduleCallback,t3=sa.unstable_cancelCallback,pO=sa.unstable_shouldYield,gO=sa.unstable_requestPaint,rn=sa.unstable_now,mO=sa.unstable_getCurrentPriorityLevel,xF=sa.unstable_ImmediatePriority,K6=sa.unstable_UserBlockingPriority,db=sa.unstable_NormalPriority,yO=sa.unstable_LowPriority,G6=sa.unstable_IdlePriority,DB=null,fl=null;function wO(r){if(fl&&typeof fl.onCommitFiberRoot=="function")try{fl.onCommitFiberRoot(DB,r,void 0,(r.current.flags&128)===128)}catch{}}var wo=Math.clz32?Math.clz32:BO,vO=Math.log,bO=Math.LN2;function BO(r){return r>>>=0,r===0?32:31-(vO(r)/bO|0)|0}var Aw=64,cw=4194304;function Wm(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function hb(r,e){var t=r.pendingLanes;if(t===0)return 0;var n=0,i=r.suspendedLanes,s=r.pingedLanes,a=t&268435455;if(a!==0){var o=a&~i;o!==0?n=Wm(o):(s&=a,s!==0&&(n=Wm(s)))}else a=t&~i,a!==0?n=Wm(a):s!==0&&(n=Wm(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=t&16),e=r.entangledLanes,e!==0)for(r=r.entanglements,e&=n;0<e;)t=31-wo(e),i=1<<t,n|=r[t],e&=~i;return n}function xO(r,e){switch(r){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IO(r,e){for(var t=r.suspendedLanes,n=r.pingedLanes,i=r.expirationTimes,s=r.pendingLanes;0<s;){var a=31-wo(s),o=1<<a,l=i[a];l===-1?(!(o&t)||o&n)&&(i[a]=xO(o,e)):l<=e&&(r.expiredLanes|=o),s&=~o}}function mC(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function $6(){var r=Aw;return Aw<<=1,!(Aw&4194240)&&(Aw=64),r}function k5(r){for(var e=[],t=0;31>t;t++)e.push(r);return e}function H2(r,e,t){r.pendingLanes|=e,e!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,e=31-wo(e),r[e]=t}function CO(r,e){var t=r.pendingLanes&~e;r.pendingLanes=e,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=e,r.mutableReadLanes&=e,r.entangledLanes&=e,e=r.entanglements;var n=r.eventTimes;for(r=r.expirationTimes;0<t;){var i=31-wo(t),s=1<<i;e[i]=0,n[i]=-1,r[i]=-1,t&=~s}}function IF(r,e){var t=r.entangledLanes|=e;for(r=r.entanglements;t;){var n=31-wo(t),i=1<<n;i&e|r[n]&e&&(r[n]|=e),t&=~i}}var Ar=0;function z6(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var V6,CF,q6,Y6,X6,yC=!1,uw=[],Jc=null,Zc=null,eu=null,R0=new Map,Q0=new Map,ac=[],SO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function r3(r,e){switch(r){case"focusin":case"focusout":Jc=null;break;case"dragenter":case"dragleave":Zc=null;break;case"mouseover":case"mouseout":eu=null;break;case"pointerover":case"pointerout":R0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Q0.delete(e.pointerId)}}function Am(r,e,t,n,i,s){return r===null||r.nativeEvent!==s?(r={blockedOn:e,domEventName:t,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=K2(e),e!==null&&CF(e)),r):(r.eventSystemFlags|=n,e=r.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),r)}function FO(r,e,t,n,i){switch(e){case"focusin":return Jc=Am(Jc,r,e,t,n,i),!0;case"dragenter":return Zc=Am(Zc,r,e,t,n,i),!0;case"mouseover":return eu=Am(eu,r,e,t,n,i),!0;case"pointerover":var s=i.pointerId;return R0.set(s,Am(R0.get(s)||null,r,e,t,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Q0.set(s,Am(Q0.get(s)||null,r,e,t,n,i)),!0}return!1}function J6(r){var e=Xu(r.target);if(e!==null){var t=Sh(e);if(t!==null){if(e=t.tag,e===13){if(e=O6(t),e!==null){r.blockedOn=e,X6(r.priority,function(){q6(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){r.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}r.blockedOn=null}function uv(r){if(r.blockedOn!==null)return!1;for(var e=r.targetContainers;0<e.length;){var t=wC(r.domEventName,r.eventSystemFlags,e[0],r.nativeEvent);if(t===null){t=r.nativeEvent;var n=new t.constructor(t.type,t);hC=n,t.target.dispatchEvent(n),hC=null}else return e=K2(t),e!==null&&CF(e),r.blockedOn=t,!1;e.shift()}return!0}function n3(r,e,t){uv(r)&&t.delete(e)}function EO(){yC=!1,Jc!==null&&uv(Jc)&&(Jc=null),Zc!==null&&uv(Zc)&&(Zc=null),eu!==null&&uv(eu)&&(eu=null),R0.forEach(n3),Q0.forEach(n3)}function cm(r,e){r.blockedOn===e&&(r.blockedOn=null,yC||(yC=!0,sa.unstable_scheduleCallback(sa.unstable_NormalPriority,EO)))}function O0(r){function e(i){return cm(i,r)}if(0<uw.length){cm(uw[0],r);for(var t=1;t<uw.length;t++){var n=uw[t];n.blockedOn===r&&(n.blockedOn=null)}}for(Jc!==null&&cm(Jc,r),Zc!==null&&cm(Zc,r),eu!==null&&cm(eu,r),R0.forEach(e),Q0.forEach(e),t=0;t<ac.length;t++)n=ac[t],n.blockedOn===r&&(n.blockedOn=null);for(;0<ac.length&&(t=ac[0],t.blockedOn===null);)J6(t),t.blockedOn===null&&ac.shift()}var Xf=UA.ReactCurrentBatchConfig,fb=!0;function LO(r,e,t,n){var i=Ar,s=Xf.transition;Xf.transition=null;try{Ar=1,SF(r,e,t,n)}finally{Ar=i,Xf.transition=s}}function NO(r,e,t,n){var i=Ar,s=Xf.transition;Xf.transition=null;try{Ar=4,SF(r,e,t,n)}finally{Ar=i,Xf.transition=s}}function SF(r,e,t,n){if(fb){var i=wC(r,e,t,n);if(i===null)j5(r,e,n,pb,t),r3(r,n);else if(FO(i,r,e,t,n))n.stopPropagation();else if(r3(r,n),e&4&&-1<SO.indexOf(r)){for(;i!==null;){var s=K2(i);if(s!==null&&V6(s),s=wC(r,e,t,n),s===null&&j5(r,e,n,pb,t),s===i)break;i=s}i!==null&&n.stopPropagation()}else j5(r,e,n,null,t)}}var pb=null;function wC(r,e,t,n){if(pb=null,r=BF(n),r=Xu(r),r!==null)if(e=Sh(r),e===null)r=null;else if(t=e.tag,t===13){if(r=O6(e),r!==null)return r;r=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;r=null}else e!==r&&(r=null);return pb=r,null}function Z6(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mO()){case xF:return 1;case K6:return 4;case db:case yO:return 16;case G6:return 536870912;default:return 16}default:return 16}}var $c=null,FF=null,dv=null;function eD(){if(dv)return dv;var r,e=FF,t=e.length,n,i="value"in $c?$c.value:$c.textContent,s=i.length;for(r=0;r<t&&e[r]===i[r];r++);var a=t-r;for(n=1;n<=a&&e[t-n]===i[s-n];n++);return dv=i.slice(r,1<n?1-n:void 0)}function hv(r){var e=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&e===13&&(r=13)):r=e,r===10&&(r=13),32<=r||r===13?r:0}function dw(){return!0}function i3(){return!1}function oa(r){function e(t,n,i,s,a){this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in r)r.hasOwnProperty(o)&&(t=r[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?dw:i3,this.isPropagationStopped=i3,this}return Wr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=dw)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=dw)},persist:function(){},isPersistent:dw}),e}var xg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},EF=oa(xg),W2=Wr({},xg,{view:0,detail:0}),kO=oa(W2),M5,D5,um,_B=Wr({},W2,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:LF,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==um&&(um&&r.type==="mousemove"?(M5=r.screenX-um.screenX,D5=r.screenY-um.screenY):D5=M5=0,um=r),M5)},movementY:function(r){return"movementY"in r?r.movementY:D5}}),s3=oa(_B),MO=Wr({},_B,{dataTransfer:0}),DO=oa(MO),_O=Wr({},W2,{relatedTarget:0}),_5=oa(_O),UO=Wr({},xg,{animationName:0,elapsedTime:0,pseudoElement:0}),PO=oa(UO),TO=Wr({},xg,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),RO=oa(TO),QO=Wr({},xg,{data:0}),a3=oa(QO),OO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WO(r){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(r):(r=HO[r])?!!e[r]:!1}function LF(){return WO}var KO=Wr({},W2,{key:function(r){if(r.key){var e=OO[r.key]||r.key;if(e!=="Unidentified")return e}return r.type==="keypress"?(r=hv(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?jO[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:LF,charCode:function(r){return r.type==="keypress"?hv(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?hv(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),GO=oa(KO),$O=Wr({},_B,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),o3=oa($O),zO=Wr({},W2,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:LF}),VO=oa(zO),qO=Wr({},xg,{propertyName:0,elapsedTime:0,pseudoElement:0}),YO=oa(qO),XO=Wr({},_B,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),JO=oa(XO),ZO=[9,13,27,32],NF=EA&&"CompositionEvent"in window,w0=null;EA&&"documentMode"in document&&(w0=document.documentMode);var ej=EA&&"TextEvent"in window&&!w0,tD=EA&&(!NF||w0&&8<w0&&11>=w0),l3=" ",A3=!1;function rD(r,e){switch(r){case"keyup":return ZO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nD(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Df=!1;function tj(r,e){switch(r){case"compositionend":return nD(e);case"keypress":return e.which!==32?null:(A3=!0,l3);case"textInput":return r=e.data,r===l3&&A3?null:r;default:return null}}function rj(r,e){if(Df)return r==="compositionend"||!NF&&rD(r,e)?(r=eD(),dv=FF=$c=null,Df=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tD&&e.locale!=="ko"?null:e.data;default:return null}}var nj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c3(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e==="input"?!!nj[r.type]:e==="textarea"}function iD(r,e,t,n){U6(n),e=gb(e,"onChange"),0<e.length&&(t=new EF("onChange","change",null,t,n),r.push({event:t,listeners:e}))}var v0=null,j0=null;function ij(r){pD(r,0)}function UB(r){var e=Pf(r);if(E6(e))return r}function sj(r,e){if(r==="change")return e}var sD=!1;if(EA){var U5;if(EA){var P5="oninput"in document;if(!P5){var u3=document.createElement("div");u3.setAttribute("oninput","return;"),P5=typeof u3.oninput=="function"}U5=P5}else U5=!1;sD=U5&&(!document.documentMode||9<document.documentMode)}function d3(){v0&&(v0.detachEvent("onpropertychange",aD),j0=v0=null)}function aD(r){if(r.propertyName==="value"&&UB(j0)){var e=[];iD(e,j0,r,BF(r)),Q6(ij,e)}}function aj(r,e,t){r==="focusin"?(d3(),v0=e,j0=t,v0.attachEvent("onpropertychange",aD)):r==="focusout"&&d3()}function oj(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return UB(j0)}function lj(r,e){if(r==="click")return UB(e)}function Aj(r,e){if(r==="input"||r==="change")return UB(e)}function cj(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var bo=typeof Object.is=="function"?Object.is:cj;function H0(r,e){if(bo(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;var t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(n=0;n<t.length;n++){var i=t[n];if(!tC.call(e,i)||!bo(r[i],e[i]))return!1}return!0}function h3(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function f3(r,e){var t=h3(r);r=0;for(var n;t;){if(t.nodeType===3){if(n=r+t.textContent.length,r<=e&&n>=e)return{node:t,offset:e-r};r=n}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=h3(t)}}function oD(r,e){return r&&e?r===e?!0:r&&r.nodeType===3?!1:e&&e.nodeType===3?oD(r,e.parentNode):"contains"in r?r.contains(e):r.compareDocumentPosition?!!(r.compareDocumentPosition(e)&16):!1:!1}function lD(){for(var r=window,e=Ab();e instanceof r.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)r=e.contentWindow;else break;e=Ab(r.document)}return e}function kF(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e&&(e==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||e==="textarea"||r.contentEditable==="true")}function uj(r){var e=lD(),t=r.focusedElem,n=r.selectionRange;if(e!==t&&t&&t.ownerDocument&&oD(t.ownerDocument.documentElement,t)){if(n!==null&&kF(t)){if(e=n.start,r=n.end,r===void 0&&(r=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(r,t.value.length);else if(r=(e=t.ownerDocument||document)&&e.defaultView||window,r.getSelection){r=r.getSelection();var i=t.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!r.extend&&s>n&&(i=n,n=s,s=i),i=f3(t,s);var a=f3(t,n);i&&a&&(r.rangeCount!==1||r.anchorNode!==i.node||r.anchorOffset!==i.offset||r.focusNode!==a.node||r.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),r.removeAllRanges(),s>n?(r.addRange(e),r.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),r.addRange(e)))}}for(e=[],r=t;r=r.parentNode;)r.nodeType===1&&e.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)r=e[t],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var dj=EA&&"documentMode"in document&&11>=document.documentMode,_f=null,vC=null,b0=null,bC=!1;function p3(r,e,t){var n=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;bC||_f==null||_f!==Ab(n)||(n=_f,"selectionStart"in n&&kF(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),b0&&H0(b0,n)||(b0=n,n=gb(vC,"onSelect"),0<n.length&&(e=new EF("onSelect","select",null,e,t),r.push({event:e,listeners:n}),e.target=_f)))}function hw(r,e){var t={};return t[r.toLowerCase()]=e.toLowerCase(),t["Webkit"+r]="webkit"+e,t["Moz"+r]="moz"+e,t}var Uf={animationend:hw("Animation","AnimationEnd"),animationiteration:hw("Animation","AnimationIteration"),animationstart:hw("Animation","AnimationStart"),transitionend:hw("Transition","TransitionEnd")},T5={},AD={};EA&&(AD=document.createElement("div").style,"AnimationEvent"in window||(delete Uf.animationend.animation,delete Uf.animationiteration.animation,delete Uf.animationstart.animation),"TransitionEvent"in window||delete Uf.transitionend.transition);function PB(r){if(T5[r])return T5[r];if(!Uf[r])return r;var e=Uf[r],t;for(t in e)if(e.hasOwnProperty(t)&&t in AD)return T5[r]=e[t];return r}var cD=PB("animationend"),uD=PB("animationiteration"),dD=PB("animationstart"),hD=PB("transitionend"),fD=new Map,g3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bu(r,e){fD.set(r,e),Ch(e,[r])}for(var R5=0;R5<g3.length;R5++){var Q5=g3[R5],hj=Q5.toLowerCase(),fj=Q5[0].toUpperCase()+Q5.slice(1);Bu(hj,"on"+fj)}Bu(cD,"onAnimationEnd");Bu(uD,"onAnimationIteration");Bu(dD,"onAnimationStart");Bu("dblclick","onDoubleClick");Bu("focusin","onFocus");Bu("focusout","onBlur");Bu(hD,"onTransitionEnd");ug("onMouseEnter",["mouseout","mouseover"]);ug("onMouseLeave",["mouseout","mouseover"]);ug("onPointerEnter",["pointerout","pointerover"]);ug("onPointerLeave",["pointerout","pointerover"]);Ch("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ch("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ch("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ch("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ch("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ch("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Km="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Km));function m3(r,e,t){var n=r.type||"unknown-event";r.currentTarget=t,hO(n,e,void 0,r),r.currentTarget=null}function pD(r,e){e=(e&4)!==0;for(var t=0;t<r.length;t++){var n=r[t],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,A=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;m3(i,o,A),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,A=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;m3(i,o,A),s=l}}}if(ub)throw r=gC,ub=!1,gC=null,r}function Er(r,e){var t=e[SC];t===void 0&&(t=e[SC]=new Set);var n=r+"__bubble";t.has(n)||(gD(e,r,2,!1),t.add(n))}function O5(r,e,t){var n=0;e&&(n|=4),gD(t,r,n,e)}var fw="_reactListening"+Math.random().toString(36).slice(2);function W0(r){if(!r[fw]){r[fw]=!0,x6.forEach(function(t){t!=="selectionchange"&&(pj.has(t)||O5(t,!1,r),O5(t,!0,r))});var e=r.nodeType===9?r:r.ownerDocument;e===null||e[fw]||(e[fw]=!0,O5("selectionchange",!1,e))}}function gD(r,e,t,n){switch(Z6(e)){case 1:var i=LO;break;case 4:i=NO;break;default:i=SF}t=i.bind(null,e,t,r),i=void 0,!pC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?r.addEventListener(e,t,{capture:!0,passive:i}):r.addEventListener(e,t,!0):i!==void 0?r.addEventListener(e,t,{passive:i}):r.addEventListener(e,t,!1)}function j5(r,e,t,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Xu(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}Q6(function(){var A=s,c=BF(t),u=[];e:{var f=fD.get(r);if(f!==void 0){var p=EF,I=r;switch(r){case"keypress":if(hv(t)===0)break e;case"keydown":case"keyup":p=GO;break;case"focusin":I="focus",p=_5;break;case"focusout":I="blur",p=_5;break;case"beforeblur":case"afterblur":p=_5;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=s3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=DO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=VO;break;case cD:case uD:case dD:p=PO;break;case hD:p=YO;break;case"scroll":p=kO;break;case"wheel":p=JO;break;case"copy":case"cut":case"paste":p=RO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=o3}var F=(e&4)!==0,D=!F&&r==="scroll",C=F?f!==null?f+"Capture":null:f;F=[];for(var k=A,U;k!==null;){U=k;var Q=U.stateNode;if(U.tag===5&&Q!==null&&(U=Q,C!==null&&(Q=T0(k,C),Q!=null&&F.push(K0(k,Q,U)))),D)break;k=k.return}0<F.length&&(f=new p(f,I,null,t,c),u.push({event:f,listeners:F}))}}if(!(e&7)){e:{if(f=r==="mouseover"||r==="pointerover",p=r==="mouseout"||r==="pointerout",f&&t!==hC&&(I=t.relatedTarget||t.fromElement)&&(Xu(I)||I[LA]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(I=t.relatedTarget||t.toElement,p=A,I=I?Xu(I):null,I!==null&&(D=Sh(I),I!==D||I.tag!==5&&I.tag!==6)&&(I=null)):(p=null,I=A),p!==I)){if(F=s3,Q="onMouseLeave",C="onMouseEnter",k="mouse",(r==="pointerout"||r==="pointerover")&&(F=o3,Q="onPointerLeave",C="onPointerEnter",k="pointer"),D=p==null?f:Pf(p),U=I==null?f:Pf(I),f=new F(Q,k+"leave",p,t,c),f.target=D,f.relatedTarget=U,Q=null,Xu(c)===A&&(F=new F(C,k+"enter",I,t,c),F.target=U,F.relatedTarget=D,Q=F),D=Q,p&&I)t:{for(F=p,C=I,k=0,U=F;U;U=af(U))k++;for(U=0,Q=C;Q;Q=af(Q))U++;for(;0<k-U;)F=af(F),k--;for(;0<U-k;)C=af(C),U--;for(;k--;){if(F===C||C!==null&&F===C.alternate)break t;F=af(F),C=af(C)}F=null}else F=null;p!==null&&y3(u,f,p,F,!1),I!==null&&D!==null&&y3(u,D,I,F,!0)}}e:{if(f=A?Pf(A):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var V=sj;else if(c3(f))if(sD)V=Aj;else{V=oj;var Z=aj}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(V=lj);if(V&&(V=V(r,A))){iD(u,V,t,c);break e}Z&&Z(r,f,A),r==="focusout"&&(Z=f._wrapperState)&&Z.controlled&&f.type==="number"&&lC(f,"number",f.value)}switch(Z=A?Pf(A):window,r){case"focusin":(c3(Z)||Z.contentEditable==="true")&&(_f=Z,vC=A,b0=null);break;case"focusout":b0=vC=_f=null;break;case"mousedown":bC=!0;break;case"contextmenu":case"mouseup":case"dragend":bC=!1,p3(u,t,c);break;case"selectionchange":if(dj)break;case"keydown":case"keyup":p3(u,t,c)}var q;if(NF)e:{switch(r){case"compositionstart":var G="onCompositionStart";break e;case"compositionend":G="onCompositionEnd";break e;case"compositionupdate":G="onCompositionUpdate";break e}G=void 0}else Df?rD(r,t)&&(G="onCompositionEnd"):r==="keydown"&&t.keyCode===229&&(G="onCompositionStart");G&&(tD&&t.locale!=="ko"&&(Df||G!=="onCompositionStart"?G==="onCompositionEnd"&&Df&&(q=eD()):($c=c,FF="value"in $c?$c.value:$c.textContent,Df=!0)),Z=gb(A,G),0<Z.length&&(G=new a3(G,r,null,t,c),u.push({event:G,listeners:Z}),q?G.data=q:(q=nD(t),q!==null&&(G.data=q)))),(q=ej?tj(r,t):rj(r,t))&&(A=gb(A,"onBeforeInput"),0<A.length&&(c=new a3("onBeforeInput","beforeinput",null,t,c),u.push({event:c,listeners:A}),c.data=q))}pD(u,e)})}function K0(r,e,t){return{instance:r,listener:e,currentTarget:t}}function gb(r,e){for(var t=e+"Capture",n=[];r!==null;){var i=r,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=T0(r,t),s!=null&&n.unshift(K0(r,s,i)),s=T0(r,e),s!=null&&n.push(K0(r,s,i))),r=r.return}return n}function af(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function y3(r,e,t,n,i){for(var s=e._reactName,a=[];t!==null&&t!==n;){var o=t,l=o.alternate,A=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&A!==null&&(o=A,i?(l=T0(t,s),l!=null&&a.unshift(K0(t,l,o))):i||(l=T0(t,s),l!=null&&a.push(K0(t,l,o)))),t=t.return}a.length!==0&&r.push({event:e,listeners:a})}var gj=/\r\n?/g,mj=/\u0000|\uFFFD/g;function w3(r){return(typeof r=="string"?r:""+r).replace(gj,`
`).replace(mj,"")}function pw(r,e,t){if(e=w3(e),w3(r)!==e&&t)throw Error(Qe(425))}function mb(){}var BC=null,xC=null;function IC(r,e){return r==="textarea"||r==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var CC=typeof setTimeout=="function"?setTimeout:void 0,yj=typeof clearTimeout=="function"?clearTimeout:void 0,v3=typeof Promise=="function"?Promise:void 0,wj=typeof queueMicrotask=="function"?queueMicrotask:typeof v3<"u"?function(r){return v3.resolve(null).then(r).catch(vj)}:CC;function vj(r){setTimeout(function(){throw r})}function H5(r,e){var t=e,n=0;do{var i=t.nextSibling;if(r.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(n===0){r.removeChild(i),O0(e);return}n--}else t!=="$"&&t!=="$?"&&t!=="$!"||n++;t=i}while(t);O0(e)}function tu(r){for(;r!=null;r=r.nextSibling){var e=r.nodeType;if(e===1||e===3)break;if(e===8){if(e=r.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return r}function b3(r){r=r.previousSibling;for(var e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return r;e--}else t==="/$"&&e++}r=r.previousSibling}return null}var Ig=Math.random().toString(36).slice(2),cl="__reactFiber$"+Ig,G0="__reactProps$"+Ig,LA="__reactContainer$"+Ig,SC="__reactEvents$"+Ig,bj="__reactListeners$"+Ig,Bj="__reactHandles$"+Ig;function Xu(r){var e=r[cl];if(e)return e;for(var t=r.parentNode;t;){if(e=t[LA]||t[cl]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(r=b3(r);r!==null;){if(t=r[cl])return t;r=b3(r)}return e}r=t,t=r.parentNode}return null}function K2(r){return r=r[cl]||r[LA],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Pf(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(Qe(33))}function TB(r){return r[G0]||null}var FC=[],Tf=-1;function xu(r){return{current:r}}function Nr(r){0>Tf||(r.current=FC[Tf],FC[Tf]=null,Tf--)}function Sr(r,e){Tf++,FC[Tf]=r.current,r.current=e}var du={},Ti=xu(du),xs=xu(!1),gh=du;function dg(r,e){var t=r.type.contextTypes;if(!t)return du;var n=r.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=e,r.__reactInternalMemoizedMaskedChildContext=i),i}function Is(r){return r=r.childContextTypes,r!=null}function yb(){Nr(xs),Nr(Ti)}function B3(r,e,t){if(Ti.current!==du)throw Error(Qe(168));Sr(Ti,e),Sr(xs,t)}function mD(r,e,t){var n=r.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return t;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Qe(108,aO(r)||"Unknown",i));return Wr({},t,n)}function wb(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||du,gh=Ti.current,Sr(Ti,r),Sr(xs,xs.current),!0}function x3(r,e,t){var n=r.stateNode;if(!n)throw Error(Qe(169));t?(r=mD(r,e,gh),n.__reactInternalMemoizedMergedChildContext=r,Nr(xs),Nr(Ti),Sr(Ti,r)):Nr(xs),Sr(xs,t)}var Wl=null,RB=!1,W5=!1;function yD(r){Wl===null?Wl=[r]:Wl.push(r)}function xj(r){RB=!0,yD(r)}function Iu(){if(!W5&&Wl!==null){W5=!0;var r=0,e=Ar;try{var t=Wl;for(Ar=1;r<t.length;r++){var n=t[r];do n=n(!0);while(n!==null)}Wl=null,RB=!1}catch(i){throw Wl!==null&&(Wl=Wl.slice(r+1)),W6(xF,Iu),i}finally{Ar=e,W5=!1}}return null}var Rf=[],Qf=0,vb=null,bb=0,Fa=[],Ea=0,mh=null,bA=1,BA="";function Ou(r,e){Rf[Qf++]=bb,Rf[Qf++]=vb,vb=r,bb=e}function wD(r,e,t){Fa[Ea++]=bA,Fa[Ea++]=BA,Fa[Ea++]=mh,mh=r;var n=bA;r=BA;var i=32-wo(n)-1;n&=~(1<<i),t+=1;var s=32-wo(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,bA=1<<32-wo(e)+i|t<<i|n,BA=s+r}else bA=1<<s|t<<i|n,BA=r}function MF(r){r.return!==null&&(Ou(r,1),wD(r,1,0))}function DF(r){for(;r===vb;)vb=Rf[--Qf],Rf[Qf]=null,bb=Rf[--Qf],Rf[Qf]=null;for(;r===mh;)mh=Fa[--Ea],Fa[Ea]=null,BA=Fa[--Ea],Fa[Ea]=null,bA=Fa[--Ea],Fa[Ea]=null}var ta=null,Js=null,Pr=!1,go=null;function vD(r,e){var t=ka(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=r,e=r.deletions,e===null?(r.deletions=[t],r.flags|=16):e.push(t)}function I3(r,e){switch(r.tag){case 5:var t=r.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(r.stateNode=e,ta=r,Js=tu(e.firstChild),!0):!1;case 6:return e=r.pendingProps===""||e.nodeType!==3?null:e,e!==null?(r.stateNode=e,ta=r,Js=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=mh!==null?{id:bA,overflow:BA}:null,r.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=ka(18,null,null,0),t.stateNode=e,t.return=r,r.child=t,ta=r,Js=null,!0):!1;default:return!1}}function EC(r){return(r.mode&1)!==0&&(r.flags&128)===0}function LC(r){if(Pr){var e=Js;if(e){var t=e;if(!I3(r,e)){if(EC(r))throw Error(Qe(418));e=tu(t.nextSibling);var n=ta;e&&I3(r,e)?vD(n,t):(r.flags=r.flags&-4097|2,Pr=!1,ta=r)}}else{if(EC(r))throw Error(Qe(418));r.flags=r.flags&-4097|2,Pr=!1,ta=r}}}function C3(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;ta=r}function gw(r){if(r!==ta)return!1;if(!Pr)return C3(r),Pr=!0,!1;var e;if((e=r.tag!==3)&&!(e=r.tag!==5)&&(e=r.type,e=e!=="head"&&e!=="body"&&!IC(r.type,r.memoizedProps)),e&&(e=Js)){if(EC(r))throw bD(),Error(Qe(418));for(;e;)vD(r,e),e=tu(e.nextSibling)}if(C3(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Qe(317));e:{for(r=r.nextSibling,e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="/$"){if(e===0){Js=tu(r.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}r=r.nextSibling}Js=null}}else Js=ta?tu(r.stateNode.nextSibling):null;return!0}function bD(){for(var r=Js;r;)r=tu(r.nextSibling)}function hg(){Js=ta=null,Pr=!1}function _F(r){go===null?go=[r]:go.push(r)}var Ij=UA.ReactCurrentBatchConfig;function dm(r,e,t){if(r=t.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Qe(309));var n=t.stateNode}if(!n)throw Error(Qe(147,r));var i=n,s=""+r;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof r!="string")throw Error(Qe(284));if(!t._owner)throw Error(Qe(290,r))}return r}function mw(r,e){throw r=Object.prototype.toString.call(e),Error(Qe(31,r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r))}function S3(r){var e=r._init;return e(r._payload)}function BD(r){function e(C,k){if(r){var U=C.deletions;U===null?(C.deletions=[k],C.flags|=16):U.push(k)}}function t(C,k){if(!r)return null;for(;k!==null;)e(C,k),k=k.sibling;return null}function n(C,k){for(C=new Map;k!==null;)k.key!==null?C.set(k.key,k):C.set(k.index,k),k=k.sibling;return C}function i(C,k){return C=su(C,k),C.index=0,C.sibling=null,C}function s(C,k,U){return C.index=U,r?(U=C.alternate,U!==null?(U=U.index,U<k?(C.flags|=2,k):U):(C.flags|=2,k)):(C.flags|=1048576,k)}function a(C){return r&&C.alternate===null&&(C.flags|=2),C}function o(C,k,U,Q){return k===null||k.tag!==6?(k=Y5(U,C.mode,Q),k.return=C,k):(k=i(k,U),k.return=C,k)}function l(C,k,U,Q){var V=U.type;return V===Mf?c(C,k,U.props.children,Q,U.key):k!==null&&(k.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===nc&&S3(V)===k.type)?(Q=i(k,U.props),Q.ref=dm(C,k,U),Q.return=C,Q):(Q=vv(U.type,U.key,U.props,null,C.mode,Q),Q.ref=dm(C,k,U),Q.return=C,Q)}function A(C,k,U,Q){return k===null||k.tag!==4||k.stateNode.containerInfo!==U.containerInfo||k.stateNode.implementation!==U.implementation?(k=X5(U,C.mode,Q),k.return=C,k):(k=i(k,U.children||[]),k.return=C,k)}function c(C,k,U,Q,V){return k===null||k.tag!==7?(k=ch(U,C.mode,Q,V),k.return=C,k):(k=i(k,U),k.return=C,k)}function u(C,k,U){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Y5(""+k,C.mode,U),k.return=C,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case aw:return U=vv(k.type,k.key,k.props,null,C.mode,U),U.ref=dm(C,null,k),U.return=C,U;case kf:return k=X5(k,C.mode,U),k.return=C,k;case nc:var Q=k._init;return u(C,Q(k._payload),U)}if(Hm(k)||om(k))return k=ch(k,C.mode,U,null),k.return=C,k;mw(C,k)}return null}function f(C,k,U,Q){var V=k!==null?k.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return V!==null?null:o(C,k,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case aw:return U.key===V?l(C,k,U,Q):null;case kf:return U.key===V?A(C,k,U,Q):null;case nc:return V=U._init,f(C,k,V(U._payload),Q)}if(Hm(U)||om(U))return V!==null?null:c(C,k,U,Q,null);mw(C,U)}return null}function p(C,k,U,Q,V){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return C=C.get(U)||null,o(k,C,""+Q,V);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case aw:return C=C.get(Q.key===null?U:Q.key)||null,l(k,C,Q,V);case kf:return C=C.get(Q.key===null?U:Q.key)||null,A(k,C,Q,V);case nc:var Z=Q._init;return p(C,k,U,Z(Q._payload),V)}if(Hm(Q)||om(Q))return C=C.get(U)||null,c(k,C,Q,V,null);mw(k,Q)}return null}function I(C,k,U,Q){for(var V=null,Z=null,q=k,G=k=0,Y=null;q!==null&&G<U.length;G++){q.index>G?(Y=q,q=null):Y=q.sibling;var K=f(C,q,U[G],Q);if(K===null){q===null&&(q=Y);break}r&&q&&K.alternate===null&&e(C,q),k=s(K,k,G),Z===null?V=K:Z.sibling=K,Z=K,q=Y}if(G===U.length)return t(C,q),Pr&&Ou(C,G),V;if(q===null){for(;G<U.length;G++)q=u(C,U[G],Q),q!==null&&(k=s(q,k,G),Z===null?V=q:Z.sibling=q,Z=q);return Pr&&Ou(C,G),V}for(q=n(C,q);G<U.length;G++)Y=p(q,C,G,U[G],Q),Y!==null&&(r&&Y.alternate!==null&&q.delete(Y.key===null?G:Y.key),k=s(Y,k,G),Z===null?V=Y:Z.sibling=Y,Z=Y);return r&&q.forEach(function(H){return e(C,H)}),Pr&&Ou(C,G),V}function F(C,k,U,Q){var V=om(U);if(typeof V!="function")throw Error(Qe(150));if(U=V.call(U),U==null)throw Error(Qe(151));for(var Z=V=null,q=k,G=k=0,Y=null,K=U.next();q!==null&&!K.done;G++,K=U.next()){q.index>G?(Y=q,q=null):Y=q.sibling;var H=f(C,q,K.value,Q);if(H===null){q===null&&(q=Y);break}r&&q&&H.alternate===null&&e(C,q),k=s(H,k,G),Z===null?V=H:Z.sibling=H,Z=H,q=Y}if(K.done)return t(C,q),Pr&&Ou(C,G),V;if(q===null){for(;!K.done;G++,K=U.next())K=u(C,K.value,Q),K!==null&&(k=s(K,k,G),Z===null?V=K:Z.sibling=K,Z=K);return Pr&&Ou(C,G),V}for(q=n(C,q);!K.done;G++,K=U.next())K=p(q,C,G,K.value,Q),K!==null&&(r&&K.alternate!==null&&q.delete(K.key===null?G:K.key),k=s(K,k,G),Z===null?V=K:Z.sibling=K,Z=K);return r&&q.forEach(function(te){return e(C,te)}),Pr&&Ou(C,G),V}function D(C,k,U,Q){if(typeof U=="object"&&U!==null&&U.type===Mf&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case aw:e:{for(var V=U.key,Z=k;Z!==null;){if(Z.key===V){if(V=U.type,V===Mf){if(Z.tag===7){t(C,Z.sibling),k=i(Z,U.props.children),k.return=C,C=k;break e}}else if(Z.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===nc&&S3(V)===Z.type){t(C,Z.sibling),k=i(Z,U.props),k.ref=dm(C,Z,U),k.return=C,C=k;break e}t(C,Z);break}else e(C,Z);Z=Z.sibling}U.type===Mf?(k=ch(U.props.children,C.mode,Q,U.key),k.return=C,C=k):(Q=vv(U.type,U.key,U.props,null,C.mode,Q),Q.ref=dm(C,k,U),Q.return=C,C=Q)}return a(C);case kf:e:{for(Z=U.key;k!==null;){if(k.key===Z)if(k.tag===4&&k.stateNode.containerInfo===U.containerInfo&&k.stateNode.implementation===U.implementation){t(C,k.sibling),k=i(k,U.children||[]),k.return=C,C=k;break e}else{t(C,k);break}else e(C,k);k=k.sibling}k=X5(U,C.mode,Q),k.return=C,C=k}return a(C);case nc:return Z=U._init,D(C,k,Z(U._payload),Q)}if(Hm(U))return I(C,k,U,Q);if(om(U))return F(C,k,U,Q);mw(C,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,k!==null&&k.tag===6?(t(C,k.sibling),k=i(k,U),k.return=C,C=k):(t(C,k),k=Y5(U,C.mode,Q),k.return=C,C=k),a(C)):t(C,k)}return D}var fg=BD(!0),xD=BD(!1),Bb=xu(null),xb=null,Of=null,UF=null;function PF(){UF=Of=xb=null}function TF(r){var e=Bb.current;Nr(Bb),r._currentValue=e}function NC(r,e,t){for(;r!==null;){var n=r.alternate;if((r.childLanes&e)!==e?(r.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),r===t)break;r=r.return}}function Jf(r,e){xb=r,UF=Of=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&e&&(Bs=!0),r.firstContext=null)}function Ra(r){var e=r._currentValue;if(UF!==r)if(r={context:r,memoizedValue:e,next:null},Of===null){if(xb===null)throw Error(Qe(308));Of=r,xb.dependencies={lanes:0,firstContext:r}}else Of=Of.next=r;return e}var Ju=null;function RF(r){Ju===null?Ju=[r]:Ju.push(r)}function ID(r,e,t,n){var i=e.interleaved;return i===null?(t.next=t,RF(e)):(t.next=i.next,i.next=t),e.interleaved=t,NA(r,n)}function NA(r,e){r.lanes|=e;var t=r.alternate;for(t!==null&&(t.lanes|=e),t=r,r=r.return;r!==null;)r.childLanes|=e,t=r.alternate,t!==null&&(t.childLanes|=e),t=r,r=r.return;return t.tag===3?t.stateNode:null}var ic=!1;function QF(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CD(r,e){r=r.updateQueue,e.updateQueue===r&&(e.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function xA(r,e){return{eventTime:r,lane:e,tag:0,payload:null,callback:null,next:null}}function ru(r,e,t){var n=r.updateQueue;if(n===null)return null;if(n=n.shared,qt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,NA(r,t)}return i=n.interleaved,i===null?(e.next=e,RF(n)):(e.next=i.next,i.next=e),n.interleaved=e,NA(r,t)}function fv(r,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,IF(r,t)}}function F3(r,e){var t=r.updateQueue,n=r.alternate;if(n!==null&&(n=n.updateQueue,t===n)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=a:s=s.next=a,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},r.updateQueue=t;return}r=t.lastBaseUpdate,r===null?t.firstBaseUpdate=e:r.next=e,t.lastBaseUpdate=e}function Ib(r,e,t,n){var i=r.updateQueue;ic=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,A=l.next;l.next=null,a===null?s=A:a.next=A,a=l;var c=r.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=A:o.next=A,c.lastBaseUpdate=l))}if(s!==null){var u=i.baseState;a=0,c=A=l=null,o=s;do{var f=o.lane,p=o.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var I=r,F=o;switch(f=e,p=t,F.tag){case 1:if(I=F.payload,typeof I=="function"){u=I.call(p,u,f);break e}u=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=F.payload,f=typeof I=="function"?I.call(p,u,f):I,f==null)break e;u=Wr({},u,f);break e;case 2:ic=!0}}o.callback!==null&&o.lane!==0&&(r.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(A=c=p,l=u):c=c.next=p,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=u),i.baseState=l,i.firstBaseUpdate=A,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);wh|=a,r.lanes=a,r.memoizedState=u}}function E3(r,e,t){if(r=e.effects,e.effects=null,r!==null)for(e=0;e<r.length;e++){var n=r[e],i=n.callback;if(i!==null){if(n.callback=null,n=t,typeof i!="function")throw Error(Qe(191,i));i.call(n)}}}var G2={},pl=xu(G2),$0=xu(G2),z0=xu(G2);function Zu(r){if(r===G2)throw Error(Qe(174));return r}function OF(r,e){switch(Sr(z0,e),Sr($0,r),Sr(pl,G2),r=e.nodeType,r){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:cC(null,"");break;default:r=r===8?e.parentNode:e,e=r.namespaceURI||null,r=r.tagName,e=cC(e,r)}Nr(pl),Sr(pl,e)}function pg(){Nr(pl),Nr($0),Nr(z0)}function SD(r){Zu(z0.current);var e=Zu(pl.current),t=cC(e,r.type);e!==t&&(Sr($0,r),Sr(pl,t))}function jF(r){$0.current===r&&(Nr(pl),Nr($0))}var Or=xu(0);function Cb(r){for(var e=r;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var K5=[];function HF(){for(var r=0;r<K5.length;r++)K5[r]._workInProgressVersionPrimary=null;K5.length=0}var pv=UA.ReactCurrentDispatcher,G5=UA.ReactCurrentBatchConfig,yh=0,jr=null,Sn=null,$n=null,Sb=!1,B0=!1,V0=0,Cj=0;function bi(){throw Error(Qe(321))}function WF(r,e){if(e===null)return!1;for(var t=0;t<e.length&&t<r.length;t++)if(!bo(r[t],e[t]))return!1;return!0}function KF(r,e,t,n,i,s){if(yh=s,jr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pv.current=r===null||r.memoizedState===null?Lj:Nj,r=t(n,i),B0){s=0;do{if(B0=!1,V0=0,25<=s)throw Error(Qe(301));s+=1,$n=Sn=null,e.updateQueue=null,pv.current=kj,r=t(n,i)}while(B0)}if(pv.current=Fb,e=Sn!==null&&Sn.next!==null,yh=0,$n=Sn=jr=null,Sb=!1,e)throw Error(Qe(300));return r}function GF(){var r=V0!==0;return V0=0,r}function Go(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?jr.memoizedState=$n=r:$n=$n.next=r,$n}function Qa(){if(Sn===null){var r=jr.alternate;r=r!==null?r.memoizedState:null}else r=Sn.next;var e=$n===null?jr.memoizedState:$n.next;if(e!==null)$n=e,Sn=r;else{if(r===null)throw Error(Qe(310));Sn=r,r={memoizedState:Sn.memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},$n===null?jr.memoizedState=$n=r:$n=$n.next=r}return $n}function q0(r,e){return typeof e=="function"?e(r):e}function $5(r){var e=Qa(),t=e.queue;if(t===null)throw Error(Qe(311));t.lastRenderedReducer=r;var n=Sn,i=n.baseQueue,s=t.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,A=s;do{var c=A.lane;if((yh&c)===c)l!==null&&(l=l.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),n=A.hasEagerState?A.eagerState:r(n,A.action);else{var u={lane:c,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};l===null?(o=l=u,a=n):l=l.next=u,jr.lanes|=c,wh|=c}A=A.next}while(A!==null&&A!==s);l===null?a=n:l.next=o,bo(n,e.memoizedState)||(Bs=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,t.lastRenderedState=n}if(r=t.interleaved,r!==null){i=r;do s=i.lane,jr.lanes|=s,wh|=s,i=i.next;while(i!==r)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function z5(r){var e=Qa(),t=e.queue;if(t===null)throw Error(Qe(311));t.lastRenderedReducer=r;var n=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var a=i=i.next;do s=r(s,a.action),a=a.next;while(a!==i);bo(s,e.memoizedState)||(Bs=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,n]}function FD(){}function ED(r,e){var t=jr,n=Qa(),i=e(),s=!bo(n.memoizedState,i);if(s&&(n.memoizedState=i,Bs=!0),n=n.queue,$F(kD.bind(null,t,n,r),[r]),n.getSnapshot!==e||s||$n!==null&&$n.memoizedState.tag&1){if(t.flags|=2048,Y0(9,ND.bind(null,t,n,i,e),void 0,null),Vn===null)throw Error(Qe(349));yh&30||LD(t,e,i)}return i}function LD(r,e,t){r.flags|=16384,r={getSnapshot:e,value:t},e=jr.updateQueue,e===null?(e={lastEffect:null,stores:null},jr.updateQueue=e,e.stores=[r]):(t=e.stores,t===null?e.stores=[r]:t.push(r))}function ND(r,e,t,n){e.value=t,e.getSnapshot=n,MD(e)&&DD(r)}function kD(r,e,t){return t(function(){MD(e)&&DD(r)})}function MD(r){var e=r.getSnapshot;r=r.value;try{var t=e();return!bo(r,t)}catch{return!0}}function DD(r){var e=NA(r,1);e!==null&&vo(e,r,1,-1)}function L3(r){var e=Go();return typeof r=="function"&&(r=r()),e.memoizedState=e.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:q0,lastRenderedState:r},e.queue=r,r=r.dispatch=Ej.bind(null,jr,r),[e.memoizedState,r]}function Y0(r,e,t,n){return r={tag:r,create:e,destroy:t,deps:n,next:null},e=jr.updateQueue,e===null?(e={lastEffect:null,stores:null},jr.updateQueue=e,e.lastEffect=r.next=r):(t=e.lastEffect,t===null?e.lastEffect=r.next=r:(n=t.next,t.next=r,r.next=n,e.lastEffect=r)),r}function _D(){return Qa().memoizedState}function gv(r,e,t,n){var i=Go();jr.flags|=r,i.memoizedState=Y0(1|e,t,void 0,n===void 0?null:n)}function QB(r,e,t,n){var i=Qa();n=n===void 0?null:n;var s=void 0;if(Sn!==null){var a=Sn.memoizedState;if(s=a.destroy,n!==null&&WF(n,a.deps)){i.memoizedState=Y0(e,t,s,n);return}}jr.flags|=r,i.memoizedState=Y0(1|e,t,s,n)}function N3(r,e){return gv(8390656,8,r,e)}function $F(r,e){return QB(2048,8,r,e)}function UD(r,e){return QB(4,2,r,e)}function PD(r,e){return QB(4,4,r,e)}function TD(r,e){if(typeof e=="function")return r=r(),e(r),function(){e(null)};if(e!=null)return r=r(),e.current=r,function(){e.current=null}}function RD(r,e,t){return t=t!=null?t.concat([r]):null,QB(4,4,TD.bind(null,e,r),t)}function zF(){}function QD(r,e){var t=Qa();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&WF(e,n[1])?n[0]:(t.memoizedState=[r,e],r)}function OD(r,e){var t=Qa();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&WF(e,n[1])?n[0]:(r=r(),t.memoizedState=[r,e],r)}function jD(r,e,t){return yh&21?(bo(t,e)||(t=$6(),jr.lanes|=t,wh|=t,r.baseState=!0),e):(r.baseState&&(r.baseState=!1,Bs=!0),r.memoizedState=t)}function Sj(r,e){var t=Ar;Ar=t!==0&&4>t?t:4,r(!0);var n=G5.transition;G5.transition={};try{r(!1),e()}finally{Ar=t,G5.transition=n}}function HD(){return Qa().memoizedState}function Fj(r,e,t){var n=iu(r);if(t={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null},WD(r))KD(e,t);else if(t=ID(r,e,t,n),t!==null){var i=rs();vo(t,r,n,i),GD(t,e,n)}}function Ej(r,e,t){var n=iu(r),i={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null};if(WD(r))KD(e,i);else{var s=r.alternate;if(r.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,t);if(i.hasEagerState=!0,i.eagerState=o,bo(o,a)){var l=e.interleaved;l===null?(i.next=i,RF(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=ID(r,e,i,n),t!==null&&(i=rs(),vo(t,r,n,i),GD(t,e,n))}}function WD(r){var e=r.alternate;return r===jr||e!==null&&e===jr}function KD(r,e){B0=Sb=!0;var t=r.pending;t===null?e.next=e:(e.next=t.next,t.next=e),r.pending=e}function GD(r,e,t){if(t&4194240){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,IF(r,t)}}var Fb={readContext:Ra,useCallback:bi,useContext:bi,useEffect:bi,useImperativeHandle:bi,useInsertionEffect:bi,useLayoutEffect:bi,useMemo:bi,useReducer:bi,useRef:bi,useState:bi,useDebugValue:bi,useDeferredValue:bi,useTransition:bi,useMutableSource:bi,useSyncExternalStore:bi,useId:bi,unstable_isNewReconciler:!1},Lj={readContext:Ra,useCallback:function(r,e){return Go().memoizedState=[r,e===void 0?null:e],r},useContext:Ra,useEffect:N3,useImperativeHandle:function(r,e,t){return t=t!=null?t.concat([r]):null,gv(4194308,4,TD.bind(null,e,r),t)},useLayoutEffect:function(r,e){return gv(4194308,4,r,e)},useInsertionEffect:function(r,e){return gv(4,2,r,e)},useMemo:function(r,e){var t=Go();return e=e===void 0?null:e,r=r(),t.memoizedState=[r,e],r},useReducer:function(r,e,t){var n=Go();return e=t!==void 0?t(e):e,n.memoizedState=n.baseState=e,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:e},n.queue=r,r=r.dispatch=Fj.bind(null,jr,r),[n.memoizedState,r]},useRef:function(r){var e=Go();return r={current:r},e.memoizedState=r},useState:L3,useDebugValue:zF,useDeferredValue:function(r){return Go().memoizedState=r},useTransition:function(){var r=L3(!1),e=r[0];return r=Sj.bind(null,r[1]),Go().memoizedState=r,[e,r]},useMutableSource:function(){},useSyncExternalStore:function(r,e,t){var n=jr,i=Go();if(Pr){if(t===void 0)throw Error(Qe(407));t=t()}else{if(t=e(),Vn===null)throw Error(Qe(349));yh&30||LD(n,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,N3(kD.bind(null,n,s,r),[r]),n.flags|=2048,Y0(9,ND.bind(null,n,s,t,e),void 0,null),t},useId:function(){var r=Go(),e=Vn.identifierPrefix;if(Pr){var t=BA,n=bA;t=(n&~(1<<32-wo(n)-1)).toString(32)+t,e=":"+e+"R"+t,t=V0++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=Cj++,e=":"+e+"r"+t.toString(32)+":";return r.memoizedState=e},unstable_isNewReconciler:!1},Nj={readContext:Ra,useCallback:QD,useContext:Ra,useEffect:$F,useImperativeHandle:RD,useInsertionEffect:UD,useLayoutEffect:PD,useMemo:OD,useReducer:$5,useRef:_D,useState:function(){return $5(q0)},useDebugValue:zF,useDeferredValue:function(r){var e=Qa();return jD(e,Sn.memoizedState,r)},useTransition:function(){var r=$5(q0)[0],e=Qa().memoizedState;return[r,e]},useMutableSource:FD,useSyncExternalStore:ED,useId:HD,unstable_isNewReconciler:!1},kj={readContext:Ra,useCallback:QD,useContext:Ra,useEffect:$F,useImperativeHandle:RD,useInsertionEffect:UD,useLayoutEffect:PD,useMemo:OD,useReducer:z5,useRef:_D,useState:function(){return z5(q0)},useDebugValue:zF,useDeferredValue:function(r){var e=Qa();return Sn===null?e.memoizedState=r:jD(e,Sn.memoizedState,r)},useTransition:function(){var r=z5(q0)[0],e=Qa().memoizedState;return[r,e]},useMutableSource:FD,useSyncExternalStore:ED,useId:HD,unstable_isNewReconciler:!1};function eo(r,e){if(r&&r.defaultProps){e=Wr({},e),r=r.defaultProps;for(var t in r)e[t]===void 0&&(e[t]=r[t]);return e}return e}function kC(r,e,t,n){e=r.memoizedState,t=t(n,e),t=t==null?e:Wr({},e,t),r.memoizedState=t,r.lanes===0&&(r.updateQueue.baseState=t)}var OB={isMounted:function(r){return(r=r._reactInternals)?Sh(r)===r:!1},enqueueSetState:function(r,e,t){r=r._reactInternals;var n=rs(),i=iu(r),s=xA(n,i);s.payload=e,t!=null&&(s.callback=t),e=ru(r,s,i),e!==null&&(vo(e,r,i,n),fv(e,r,i))},enqueueReplaceState:function(r,e,t){r=r._reactInternals;var n=rs(),i=iu(r),s=xA(n,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=ru(r,s,i),e!==null&&(vo(e,r,i,n),fv(e,r,i))},enqueueForceUpdate:function(r,e){r=r._reactInternals;var t=rs(),n=iu(r),i=xA(t,n);i.tag=2,e!=null&&(i.callback=e),e=ru(r,i,n),e!==null&&(vo(e,r,n,t),fv(e,r,n))}};function k3(r,e,t,n,i,s,a){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!H0(t,n)||!H0(i,s):!0}function $D(r,e,t){var n=!1,i=du,s=e.contextType;return typeof s=="object"&&s!==null?s=Ra(s):(i=Is(e)?gh:Ti.current,n=e.contextTypes,s=(n=n!=null)?dg(r,i):du),e=new e(t,s),r.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=OB,r.stateNode=e,e._reactInternals=r,n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=s),e}function M3(r,e,t,n){r=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,n),e.state!==r&&OB.enqueueReplaceState(e,e.state,null)}function MC(r,e,t,n){var i=r.stateNode;i.props=t,i.state=r.memoizedState,i.refs={},QF(r);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ra(s):(s=Is(e)?gh:Ti.current,i.context=dg(r,s)),i.state=r.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(kC(r,e,s,t),i.state=r.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&OB.enqueueReplaceState(i,i.state,null),Ib(r,t,i,n),i.state=r.memoizedState),typeof i.componentDidMount=="function"&&(r.flags|=4194308)}function gg(r,e){try{var t="",n=e;do t+=sO(n),n=n.return;while(n);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:r,source:e,stack:i,digest:null}}function V5(r,e,t){return{value:r,source:null,stack:t??null,digest:e??null}}function DC(r,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var Mj=typeof WeakMap=="function"?WeakMap:Map;function zD(r,e,t){t=xA(-1,t),t.tag=3,t.payload={element:null};var n=e.value;return t.callback=function(){Lb||(Lb=!0,WC=n),DC(r,e)},t}function VD(r,e,t){t=xA(-1,t),t.tag=3;var n=r.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;t.payload=function(){return n(i)},t.callback=function(){DC(r,e)}}var s=r.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){DC(r,e),typeof n!="function"&&(nu===null?nu=new Set([this]):nu.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function D3(r,e,t){var n=r.pingCache;if(n===null){n=r.pingCache=new Mj;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(t)||(i.add(t),r=$j.bind(null,r,e,t),e.then(r,r))}function _3(r){do{var e;if((e=r.tag===13)&&(e=r.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return r;r=r.return}while(r!==null);return null}function U3(r,e,t,n,i){return r.mode&1?(r.flags|=65536,r.lanes=i,r):(r===e?r.flags|=65536:(r.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=xA(-1,1),e.tag=2,ru(t,e,1))),t.lanes|=1),r)}var Dj=UA.ReactCurrentOwner,Bs=!1;function Ji(r,e,t,n){e.child=r===null?xD(e,null,t,n):fg(e,r.child,t,n)}function P3(r,e,t,n,i){t=t.render;var s=e.ref;return Jf(e,i),n=KF(r,e,t,n,s,i),t=GF(),r!==null&&!Bs?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~i,kA(r,e,i)):(Pr&&t&&MF(e),e.flags|=1,Ji(r,e,n,i),e.child)}function T3(r,e,t,n,i){if(r===null){var s=t.type;return typeof s=="function"&&!tE(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,qD(r,e,s,n,i)):(r=vv(t.type,null,n,e,e.mode,i),r.ref=e.ref,r.return=e,e.child=r)}if(s=r.child,!(r.lanes&i)){var a=s.memoizedProps;if(t=t.compare,t=t!==null?t:H0,t(a,n)&&r.ref===e.ref)return kA(r,e,i)}return e.flags|=1,r=su(s,n),r.ref=e.ref,r.return=e,e.child=r}function qD(r,e,t,n,i){if(r!==null){var s=r.memoizedProps;if(H0(s,n)&&r.ref===e.ref)if(Bs=!1,e.pendingProps=n=s,(r.lanes&i)!==0)r.flags&131072&&(Bs=!0);else return e.lanes=r.lanes,kA(r,e,i)}return _C(r,e,t,n,i)}function YD(r,e,t){var n=e.pendingProps,i=n.children,s=r!==null?r.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sr(Hf,qs),qs|=t;else{if(!(t&1073741824))return r=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:r,cachePool:null,transitions:null},e.updateQueue=null,Sr(Hf,qs),qs|=r,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:t,Sr(Hf,qs),qs|=n}else s!==null?(n=s.baseLanes|t,e.memoizedState=null):n=t,Sr(Hf,qs),qs|=n;return Ji(r,e,i,t),e.child}function XD(r,e){var t=e.ref;(r===null&&t!==null||r!==null&&r.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function _C(r,e,t,n,i){var s=Is(t)?gh:Ti.current;return s=dg(e,s),Jf(e,i),t=KF(r,e,t,n,s,i),n=GF(),r!==null&&!Bs?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~i,kA(r,e,i)):(Pr&&n&&MF(e),e.flags|=1,Ji(r,e,t,i),e.child)}function R3(r,e,t,n,i){if(Is(t)){var s=!0;wb(e)}else s=!1;if(Jf(e,i),e.stateNode===null)mv(r,e),$D(e,t,n),MC(e,t,n,i),n=!0;else if(r===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,A=t.contextType;typeof A=="object"&&A!==null?A=Ra(A):(A=Is(t)?gh:Ti.current,A=dg(e,A));var c=t.getDerivedStateFromProps,u=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";u||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==A)&&M3(e,a,n,A),ic=!1;var f=e.memoizedState;a.state=f,Ib(e,n,a,i),l=e.memoizedState,o!==n||f!==l||xs.current||ic?(typeof c=="function"&&(kC(e,t,c,n),l=e.memoizedState),(o=ic||k3(e,t,o,n,f,l,A))?(u||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=A,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,CD(r,e),o=e.memoizedProps,A=e.type===e.elementType?o:eo(e.type,o),a.props=A,u=e.pendingProps,f=a.context,l=t.contextType,typeof l=="object"&&l!==null?l=Ra(l):(l=Is(t)?gh:Ti.current,l=dg(e,l));var p=t.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==u||f!==l)&&M3(e,a,n,l),ic=!1,f=e.memoizedState,a.state=f,Ib(e,n,a,i);var I=e.memoizedState;o!==u||f!==I||xs.current||ic?(typeof p=="function"&&(kC(e,t,p,n),I=e.memoizedState),(A=ic||k3(e,t,A,n,f,I,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,I,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,I,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===r.memoizedProps&&f===r.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===r.memoizedProps&&f===r.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=I),a.props=n,a.state=I,a.context=l,n=A):(typeof a.componentDidUpdate!="function"||o===r.memoizedProps&&f===r.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===r.memoizedProps&&f===r.memoizedState||(e.flags|=1024),n=!1)}return UC(r,e,t,n,s,i)}function UC(r,e,t,n,i,s){XD(r,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&x3(e,t,!1),kA(r,e,s);n=e.stateNode,Dj.current=e;var o=a&&typeof t.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,r!==null&&a?(e.child=fg(e,r.child,null,s),e.child=fg(e,null,o,s)):Ji(r,e,o,s),e.memoizedState=n.state,i&&x3(e,t,!0),e.child}function JD(r){var e=r.stateNode;e.pendingContext?B3(r,e.pendingContext,e.pendingContext!==e.context):e.context&&B3(r,e.context,!1),OF(r,e.containerInfo)}function Q3(r,e,t,n,i){return hg(),_F(i),e.flags|=256,Ji(r,e,t,n),e.child}var PC={dehydrated:null,treeContext:null,retryLane:0};function TC(r){return{baseLanes:r,cachePool:null,transitions:null}}function ZD(r,e,t){var n=e.pendingProps,i=Or.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=r!==null&&r.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(r===null||r.memoizedState!==null)&&(i|=1),Sr(Or,i&1),r===null)return LC(e),r=e.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(e.mode&1?r.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,r=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=WB(a,n,0,null),r=ch(r,n,t,null),s.return=e,r.return=e,s.sibling=r,e.child=s,e.child.memoizedState=TC(t),e.memoizedState=PC,r):VF(e,a));if(i=r.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return _j(r,e,a,n,o,i,t);if(s){s=n.fallback,a=e.mode,i=r.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=su(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=su(o,s):(s=ch(s,a,t,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=r.child.memoizedState,a=a===null?TC(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=r.childLanes&~t,e.memoizedState=PC,n}return s=r.child,r=s.sibling,n=su(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=t),n.return=e,n.sibling=null,r!==null&&(t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)),e.child=n,e.memoizedState=null,n}function VF(r,e){return e=WB({mode:"visible",children:e},r.mode,0,null),e.return=r,r.child=e}function yw(r,e,t,n){return n!==null&&_F(n),fg(e,r.child,null,t),r=VF(e,e.pendingProps.children),r.flags|=2,e.memoizedState=null,r}function _j(r,e,t,n,i,s,a){if(t)return e.flags&256?(e.flags&=-257,n=V5(Error(Qe(422))),yw(r,e,a,n)):e.memoizedState!==null?(e.child=r.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=WB({mode:"visible",children:n.children},i,0,null),s=ch(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&fg(e,r.child,null,a),e.child.memoizedState=TC(a),e.memoizedState=PC,s);if(!(e.mode&1))return yw(r,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(Qe(419)),n=V5(s,n,void 0),yw(r,e,a,n)}if(o=(a&r.childLanes)!==0,Bs||o){if(n=Vn,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,NA(r,i),vo(n,r,i,-1))}return eE(),n=V5(Error(Qe(421))),yw(r,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=r.child,e=zj.bind(null,r),i._reactRetry=e,null):(r=s.treeContext,Js=tu(i.nextSibling),ta=e,Pr=!0,go=null,r!==null&&(Fa[Ea++]=bA,Fa[Ea++]=BA,Fa[Ea++]=mh,bA=r.id,BA=r.overflow,mh=e),e=VF(e,n.children),e.flags|=4096,e)}function O3(r,e,t){r.lanes|=e;var n=r.alternate;n!==null&&(n.lanes|=e),NC(r.return,e,t)}function q5(r,e,t,n,i){var s=r.memoizedState;s===null?r.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=t,s.tailMode=i)}function e_(r,e,t){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Ji(r,e,n.children,t),n=Or.current,n&2)n=n&1|2,e.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=e.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&O3(r,t,e);else if(r.tag===19)O3(r,t,e);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}n&=1}if(Sr(Or,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)r=t.alternate,r!==null&&Cb(r)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),q5(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(r=i.alternate,r!==null&&Cb(r)===null){e.child=i;break}r=i.sibling,i.sibling=t,t=i,i=r}q5(e,!0,t,null,s);break;case"together":q5(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mv(r,e){!(e.mode&1)&&r!==null&&(r.alternate=null,e.alternate=null,e.flags|=2)}function kA(r,e,t){if(r!==null&&(e.dependencies=r.dependencies),wh|=e.lanes,!(t&e.childLanes))return null;if(r!==null&&e.child!==r.child)throw Error(Qe(153));if(e.child!==null){for(r=e.child,t=su(r,r.pendingProps),e.child=t,t.return=e;r.sibling!==null;)r=r.sibling,t=t.sibling=su(r,r.pendingProps),t.return=e;t.sibling=null}return e.child}function Uj(r,e,t){switch(e.tag){case 3:JD(e),hg();break;case 5:SD(e);break;case 1:Is(e.type)&&wb(e);break;case 4:OF(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Sr(Bb,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Sr(Or,Or.current&1),e.flags|=128,null):t&e.child.childLanes?ZD(r,e,t):(Sr(Or,Or.current&1),r=kA(r,e,t),r!==null?r.sibling:null);Sr(Or,Or.current&1);break;case 19:if(n=(t&e.childLanes)!==0,r.flags&128){if(n)return e_(r,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Sr(Or,Or.current),n)break;return null;case 22:case 23:return e.lanes=0,YD(r,e,t)}return kA(r,e,t)}var t_,RC,r_,n_;t_=function(r,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)r.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};RC=function(){};r_=function(r,e,t,n){var i=r.memoizedProps;if(i!==n){r=e.stateNode,Zu(pl.current);var s=null;switch(t){case"input":i=aC(r,i),n=aC(r,n),s=[];break;case"select":i=Wr({},i,{value:void 0}),n=Wr({},n,{value:void 0}),s=[];break;case"textarea":i=AC(r,i),n=AC(r,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(r.onclick=mb)}uC(t,n);var a;t=null;for(A in i)if(!n.hasOwnProperty(A)&&i.hasOwnProperty(A)&&i[A]!=null)if(A==="style"){var o=i[A];for(a in o)o.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(U0.hasOwnProperty(A)?s||(s=[]):(s=s||[]).push(A,null));for(A in n){var l=n[A];if(o=i!=null?i[A]:void 0,n.hasOwnProperty(A)&&l!==o&&(l!=null||o!=null))if(A==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(t||(t={}),t[a]=l[a])}else t||(s||(s=[]),s.push(A,t)),t=l;else A==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(A,l)):A==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(A,""+l):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(U0.hasOwnProperty(A)?(l!=null&&A==="onScroll"&&Er("scroll",r),s||o===l||(s=[])):(s=s||[]).push(A,l))}t&&(s=s||[]).push("style",t);var A=s;(e.updateQueue=A)&&(e.flags|=4)}};n_=function(r,e,t,n){t!==n&&(e.flags|=4)};function hm(r,e){if(!Pr)switch(r.tailMode){case"hidden":e=r.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?r.tail=null:t.sibling=null;break;case"collapsed":t=r.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e||r.tail===null?r.tail=null:r.tail.sibling=null:n.sibling=null}}function Bi(r){var e=r.alternate!==null&&r.alternate.child===r.child,t=0,n=0;if(e)for(var i=r.child;i!==null;)t|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=r,i=i.sibling;else for(i=r.child;i!==null;)t|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=r,i=i.sibling;return r.subtreeFlags|=n,r.childLanes=t,e}function Pj(r,e,t){var n=e.pendingProps;switch(DF(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bi(e),null;case 1:return Is(e.type)&&yb(),Bi(e),null;case 3:return n=e.stateNode,pg(),Nr(xs),Nr(Ti),HF(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(r===null||r.child===null)&&(gw(e)?e.flags|=4:r===null||r.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,go!==null&&($C(go),go=null))),RC(r,e),Bi(e),null;case 5:jF(e);var i=Zu(z0.current);if(t=e.type,r!==null&&e.stateNode!=null)r_(r,e,t,n,i),r.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Qe(166));return Bi(e),null}if(r=Zu(pl.current),gw(e)){n=e.stateNode,t=e.type;var s=e.memoizedProps;switch(n[cl]=e,n[G0]=s,r=(e.mode&1)!==0,t){case"dialog":Er("cancel",n),Er("close",n);break;case"iframe":case"object":case"embed":Er("load",n);break;case"video":case"audio":for(i=0;i<Km.length;i++)Er(Km[i],n);break;case"source":Er("error",n);break;case"img":case"image":case"link":Er("error",n),Er("load",n);break;case"details":Er("toggle",n);break;case"input":qL(n,s),Er("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Er("invalid",n);break;case"textarea":XL(n,s),Er("invalid",n)}uC(t,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&pw(n.textContent,o,r),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&pw(n.textContent,o,r),i=["children",""+o]):U0.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Er("scroll",n)}switch(t){case"input":ow(n),YL(n,s,!0);break;case"textarea":ow(n),JL(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=mb)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=k6(t)),r==="http://www.w3.org/1999/xhtml"?t==="script"?(r=a.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof n.is=="string"?r=a.createElement(t,{is:n.is}):(r=a.createElement(t),t==="select"&&(a=r,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):r=a.createElementNS(r,t),r[cl]=e,r[G0]=n,t_(r,e,!1,!1),e.stateNode=r;e:{switch(a=dC(t,n),t){case"dialog":Er("cancel",r),Er("close",r),i=n;break;case"iframe":case"object":case"embed":Er("load",r),i=n;break;case"video":case"audio":for(i=0;i<Km.length;i++)Er(Km[i],r);i=n;break;case"source":Er("error",r),i=n;break;case"img":case"image":case"link":Er("error",r),Er("load",r),i=n;break;case"details":Er("toggle",r),i=n;break;case"input":qL(r,n),i=aC(r,n),Er("invalid",r);break;case"option":i=n;break;case"select":r._wrapperState={wasMultiple:!!n.multiple},i=Wr({},n,{value:void 0}),Er("invalid",r);break;case"textarea":XL(r,n),i=AC(r,n),Er("invalid",r);break;default:i=n}uC(t,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?_6(r,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&M6(r,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&P0(r,l):typeof l=="number"&&P0(r,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(U0.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Er("scroll",r):l!=null&&yF(r,s,l,a))}switch(t){case"input":ow(r),YL(r,n,!1);break;case"textarea":ow(r),JL(r);break;case"option":n.value!=null&&r.setAttribute("value",""+uu(n.value));break;case"select":r.multiple=!!n.multiple,s=n.value,s!=null?Vf(r,!!n.multiple,s,!1):n.defaultValue!=null&&Vf(r,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(r.onclick=mb)}switch(t){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Bi(e),null;case 6:if(r&&e.stateNode!=null)n_(r,e,r.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Qe(166));if(t=Zu(z0.current),Zu(pl.current),gw(e)){if(n=e.stateNode,t=e.memoizedProps,n[cl]=e,(s=n.nodeValue!==t)&&(r=ta,r!==null))switch(r.tag){case 3:pw(n.nodeValue,t,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&pw(n.nodeValue,t,(r.mode&1)!==0)}s&&(e.flags|=4)}else n=(t.nodeType===9?t:t.ownerDocument).createTextNode(n),n[cl]=e,e.stateNode=n}return Bi(e),null;case 13:if(Nr(Or),n=e.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Pr&&Js!==null&&e.mode&1&&!(e.flags&128))bD(),hg(),e.flags|=98560,s=!1;else if(s=gw(e),n!==null&&n.dehydrated!==null){if(r===null){if(!s)throw Error(Qe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Qe(317));s[cl]=e}else hg(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Bi(e),s=!1}else go!==null&&($C(go),go=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(n=n!==null,n!==(r!==null&&r.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(r===null||Or.current&1?En===0&&(En=3):eE())),e.updateQueue!==null&&(e.flags|=4),Bi(e),null);case 4:return pg(),RC(r,e),r===null&&W0(e.stateNode.containerInfo),Bi(e),null;case 10:return TF(e.type._context),Bi(e),null;case 17:return Is(e.type)&&yb(),Bi(e),null;case 19:if(Nr(Or),s=e.memoizedState,s===null)return Bi(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)hm(s,!1);else{if(En!==0||r!==null&&r.flags&128)for(r=e.child;r!==null;){if(a=Cb(r),a!==null){for(e.flags|=128,hm(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=t,t=e.child;t!==null;)s=t,r=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,r=a.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t=t.sibling;return Sr(Or,Or.current&1|2),e.child}r=r.sibling}s.tail!==null&&rn()>mg&&(e.flags|=128,n=!0,hm(s,!1),e.lanes=4194304)}else{if(!n)if(r=Cb(a),r!==null){if(e.flags|=128,n=!0,t=r.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),hm(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Pr)return Bi(e),null}else 2*rn()-s.renderingStartTime>mg&&t!==1073741824&&(e.flags|=128,n=!0,hm(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(t=s.last,t!==null?t.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=rn(),e.sibling=null,t=Or.current,Sr(Or,n?t&1|2:t&1),e):(Bi(e),null);case 22:case 23:return ZF(),n=e.memoizedState!==null,r!==null&&r.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?qs&1073741824&&(Bi(e),e.subtreeFlags&6&&(e.flags|=8192)):Bi(e),null;case 24:return null;case 25:return null}throw Error(Qe(156,e.tag))}function Tj(r,e){switch(DF(e),e.tag){case 1:return Is(e.type)&&yb(),r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 3:return pg(),Nr(xs),Nr(Ti),HF(),r=e.flags,r&65536&&!(r&128)?(e.flags=r&-65537|128,e):null;case 5:return jF(e),null;case 13:if(Nr(Or),r=e.memoizedState,r!==null&&r.dehydrated!==null){if(e.alternate===null)throw Error(Qe(340));hg()}return r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 19:return Nr(Or),null;case 4:return pg(),null;case 10:return TF(e.type._context),null;case 22:case 23:return ZF(),null;case 24:return null;default:return null}}var ww=!1,Ui=!1,Rj=typeof WeakSet=="function"?WeakSet:Set,nt=null;function jf(r,e){var t=r.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){Vr(r,e,n)}else t.current=null}function QC(r,e,t){try{t()}catch(n){Vr(r,e,n)}}var j3=!1;function Qj(r,e){if(BC=fb,r=lD(),kF(r)){if("selectionStart"in r)var t={start:r.selectionStart,end:r.selectionEnd};else e:{t=(t=r.ownerDocument)&&t.defaultView||window;var n=t.getSelection&&t.getSelection();if(n&&n.rangeCount!==0){t=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var a=0,o=-1,l=-1,A=0,c=0,u=r,f=null;t:for(;;){for(var p;u!==t||i!==0&&u.nodeType!==3||(o=a+i),u!==s||n!==0&&u.nodeType!==3||(l=a+n),u.nodeType===3&&(a+=u.nodeValue.length),(p=u.firstChild)!==null;)f=u,u=p;for(;;){if(u===r)break t;if(f===t&&++A===i&&(o=a),f===s&&++c===n&&(l=a),(p=u.nextSibling)!==null)break;u=f,f=u.parentNode}u=p}t=o===-1||l===-1?null:{start:o,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(xC={focusedElem:r,selectionRange:t},fb=!1,nt=e;nt!==null;)if(e=nt,r=e.child,(e.subtreeFlags&1028)!==0&&r!==null)r.return=e,nt=r;else for(;nt!==null;){e=nt;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var F=I.memoizedProps,D=I.memoizedState,C=e.stateNode,k=C.getSnapshotBeforeUpdate(e.elementType===e.type?F:eo(e.type,F),D);C.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var U=e.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Qe(163))}}catch(Q){Vr(e,e.return,Q)}if(r=e.sibling,r!==null){r.return=e.return,nt=r;break}nt=e.return}return I=j3,j3=!1,I}function x0(r,e,t){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&r)===r){var s=i.destroy;i.destroy=void 0,s!==void 0&&QC(e,t,s)}i=i.next}while(i!==n)}}function jB(r,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&r)===r){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}}function OC(r){var e=r.ref;if(e!==null){var t=r.stateNode;switch(r.tag){case 5:r=t;break;default:r=t}typeof e=="function"?e(r):e.current=r}}function i_(r){var e=r.alternate;e!==null&&(r.alternate=null,i_(e)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(e=r.stateNode,e!==null&&(delete e[cl],delete e[G0],delete e[SC],delete e[bj],delete e[Bj])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function s_(r){return r.tag===5||r.tag===3||r.tag===4}function H3(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||s_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function jC(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(r,e):t.insertBefore(r,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(r,t)):(e=t,e.appendChild(r)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=mb));else if(n!==4&&(r=r.child,r!==null))for(jC(r,e,t),r=r.sibling;r!==null;)jC(r,e,t),r=r.sibling}function HC(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?t.insertBefore(r,e):t.appendChild(r);else if(n!==4&&(r=r.child,r!==null))for(HC(r,e,t),r=r.sibling;r!==null;)HC(r,e,t),r=r.sibling}var Ai=null,po=!1;function XA(r,e,t){for(t=t.child;t!==null;)a_(r,e,t),t=t.sibling}function a_(r,e,t){if(fl&&typeof fl.onCommitFiberUnmount=="function")try{fl.onCommitFiberUnmount(DB,t)}catch{}switch(t.tag){case 5:Ui||jf(t,e);case 6:var n=Ai,i=po;Ai=null,XA(r,e,t),Ai=n,po=i,Ai!==null&&(po?(r=Ai,t=t.stateNode,r.nodeType===8?r.parentNode.removeChild(t):r.removeChild(t)):Ai.removeChild(t.stateNode));break;case 18:Ai!==null&&(po?(r=Ai,t=t.stateNode,r.nodeType===8?H5(r.parentNode,t):r.nodeType===1&&H5(r,t),O0(r)):H5(Ai,t.stateNode));break;case 4:n=Ai,i=po,Ai=t.stateNode.containerInfo,po=!0,XA(r,e,t),Ai=n,po=i;break;case 0:case 11:case 14:case 15:if(!Ui&&(n=t.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&QC(t,e,a),i=i.next}while(i!==n)}XA(r,e,t);break;case 1:if(!Ui&&(jf(t,e),n=t.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=t.memoizedProps,n.state=t.memoizedState,n.componentWillUnmount()}catch(o){Vr(t,e,o)}XA(r,e,t);break;case 21:XA(r,e,t);break;case 22:t.mode&1?(Ui=(n=Ui)||t.memoizedState!==null,XA(r,e,t),Ui=n):XA(r,e,t);break;default:XA(r,e,t)}}function W3(r){var e=r.updateQueue;if(e!==null){r.updateQueue=null;var t=r.stateNode;t===null&&(t=r.stateNode=new Rj),e.forEach(function(n){var i=Vj.bind(null,r,n);t.has(n)||(t.add(n),n.then(i,i))})}}function qa(r,e){var t=e.deletions;if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];try{var s=r,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Ai=o.stateNode,po=!1;break e;case 3:Ai=o.stateNode.containerInfo,po=!0;break e;case 4:Ai=o.stateNode.containerInfo,po=!0;break e}o=o.return}if(Ai===null)throw Error(Qe(160));a_(s,a,i),Ai=null,po=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(A){Vr(i,e,A)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)o_(e,r),e=e.sibling}function o_(r,e){var t=r.alternate,n=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(qa(e,r),Ro(r),n&4){try{x0(3,r,r.return),jB(3,r)}catch(F){Vr(r,r.return,F)}try{x0(5,r,r.return)}catch(F){Vr(r,r.return,F)}}break;case 1:qa(e,r),Ro(r),n&512&&t!==null&&jf(t,t.return);break;case 5:if(qa(e,r),Ro(r),n&512&&t!==null&&jf(t,t.return),r.flags&32){var i=r.stateNode;try{P0(i,"")}catch(F){Vr(r,r.return,F)}}if(n&4&&(i=r.stateNode,i!=null)){var s=r.memoizedProps,a=t!==null?t.memoizedProps:s,o=r.type,l=r.updateQueue;if(r.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&L6(i,s),dC(o,a);var A=dC(o,s);for(a=0;a<l.length;a+=2){var c=l[a],u=l[a+1];c==="style"?_6(i,u):c==="dangerouslySetInnerHTML"?M6(i,u):c==="children"?P0(i,u):yF(i,c,u,A)}switch(o){case"input":oC(i,s);break;case"textarea":N6(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Vf(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Vf(i,!!s.multiple,s.defaultValue,!0):Vf(i,!!s.multiple,s.multiple?[]:"",!1))}i[G0]=s}catch(F){Vr(r,r.return,F)}}break;case 6:if(qa(e,r),Ro(r),n&4){if(r.stateNode===null)throw Error(Qe(162));i=r.stateNode,s=r.memoizedProps;try{i.nodeValue=s}catch(F){Vr(r,r.return,F)}}break;case 3:if(qa(e,r),Ro(r),n&4&&t!==null&&t.memoizedState.isDehydrated)try{O0(e.containerInfo)}catch(F){Vr(r,r.return,F)}break;case 4:qa(e,r),Ro(r);break;case 13:qa(e,r),Ro(r),i=r.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(XF=rn())),n&4&&W3(r);break;case 22:if(c=t!==null&&t.memoizedState!==null,r.mode&1?(Ui=(A=Ui)||c,qa(e,r),Ui=A):qa(e,r),Ro(r),n&8192){if(A=r.memoizedState!==null,(r.stateNode.isHidden=A)&&!c&&r.mode&1)for(nt=r,c=r.child;c!==null;){for(u=nt=c;nt!==null;){switch(f=nt,p=f.child,f.tag){case 0:case 11:case 14:case 15:x0(4,f,f.return);break;case 1:jf(f,f.return);var I=f.stateNode;if(typeof I.componentWillUnmount=="function"){n=f,t=f.return;try{e=n,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(F){Vr(n,t,F)}}break;case 5:jf(f,f.return);break;case 22:if(f.memoizedState!==null){G3(u);continue}}p!==null?(p.return=f,nt=p):G3(u)}c=c.sibling}e:for(c=null,u=r;;){if(u.tag===5){if(c===null){c=u;try{i=u.stateNode,A?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=u.stateNode,l=u.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=D6("display",a))}catch(F){Vr(r,r.return,F)}}}else if(u.tag===6){if(c===null)try{u.stateNode.nodeValue=A?"":u.memoizedProps}catch(F){Vr(r,r.return,F)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===r)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===r)break e;for(;u.sibling===null;){if(u.return===null||u.return===r)break e;c===u&&(c=null),u=u.return}c===u&&(c=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:qa(e,r),Ro(r),n&4&&W3(r);break;case 21:break;default:qa(e,r),Ro(r)}}function Ro(r){var e=r.flags;if(e&2){try{e:{for(var t=r.return;t!==null;){if(s_(t)){var n=t;break e}t=t.return}throw Error(Qe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(P0(i,""),n.flags&=-33);var s=H3(r);HC(r,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=H3(r);jC(r,o,a);break;default:throw Error(Qe(161))}}catch(l){Vr(r,r.return,l)}r.flags&=-3}e&4096&&(r.flags&=-4097)}function Oj(r,e,t){nt=r,l_(r)}function l_(r,e,t){for(var n=(r.mode&1)!==0;nt!==null;){var i=nt,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||ww;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Ui;o=ww;var A=Ui;if(ww=a,(Ui=l)&&!A)for(nt=i;nt!==null;)a=nt,l=a.child,a.tag===22&&a.memoizedState!==null?$3(i):l!==null?(l.return=a,nt=l):$3(i);for(;s!==null;)nt=s,l_(s),s=s.sibling;nt=i,ww=o,Ui=A}K3(r)}else i.subtreeFlags&8772&&s!==null?(s.return=i,nt=s):K3(r)}}function K3(r){for(;nt!==null;){var e=nt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ui||jB(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ui)if(t===null)n.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:eo(e.type,t.memoizedProps);n.componentDidUpdate(i,t.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&E3(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}E3(e,a,t)}break;case 5:var o=e.stateNode;if(t===null&&e.flags&4){t=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var A=e.alternate;if(A!==null){var c=A.memoizedState;if(c!==null){var u=c.dehydrated;u!==null&&O0(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Qe(163))}Ui||e.flags&512&&OC(e)}catch(f){Vr(e,e.return,f)}}if(e===r){nt=null;break}if(t=e.sibling,t!==null){t.return=e.return,nt=t;break}nt=e.return}}function G3(r){for(;nt!==null;){var e=nt;if(e===r){nt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,nt=t;break}nt=e.return}}function $3(r){for(;nt!==null;){var e=nt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{jB(4,e)}catch(l){Vr(e,t,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Vr(e,i,l)}}var s=e.return;try{OC(e)}catch(l){Vr(e,s,l)}break;case 5:var a=e.return;try{OC(e)}catch(l){Vr(e,a,l)}}}catch(l){Vr(e,e.return,l)}if(e===r){nt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,nt=o;break}nt=e.return}}var jj=Math.ceil,Eb=UA.ReactCurrentDispatcher,qF=UA.ReactCurrentOwner,Ua=UA.ReactCurrentBatchConfig,qt=0,Vn=null,gn=null,pi=0,qs=0,Hf=xu(0),En=0,X0=null,wh=0,HB=0,YF=0,I0=null,bs=null,XF=0,mg=1/0,Ol=null,Lb=!1,WC=null,nu=null,vw=!1,zc=null,Nb=0,C0=0,KC=null,yv=-1,wv=0;function rs(){return qt&6?rn():yv!==-1?yv:yv=rn()}function iu(r){return r.mode&1?qt&2&&pi!==0?pi&-pi:Ij.transition!==null?(wv===0&&(wv=$6()),wv):(r=Ar,r!==0||(r=window.event,r=r===void 0?16:Z6(r.type)),r):1}function vo(r,e,t,n){if(50<C0)throw C0=0,KC=null,Error(Qe(185));H2(r,t,n),(!(qt&2)||r!==Vn)&&(r===Vn&&(!(qt&2)&&(HB|=t),En===4&&oc(r,pi)),Cs(r,n),t===1&&qt===0&&!(e.mode&1)&&(mg=rn()+500,RB&&Iu()))}function Cs(r,e){var t=r.callbackNode;IO(r,e);var n=hb(r,r===Vn?pi:0);if(n===0)t!==null&&t3(t),r.callbackNode=null,r.callbackPriority=0;else if(e=n&-n,r.callbackPriority!==e){if(t!=null&&t3(t),e===1)r.tag===0?xj(z3.bind(null,r)):yD(z3.bind(null,r)),wj(function(){!(qt&6)&&Iu()}),t=null;else{switch(z6(n)){case 1:t=xF;break;case 4:t=K6;break;case 16:t=db;break;case 536870912:t=G6;break;default:t=db}t=g_(t,A_.bind(null,r))}r.callbackPriority=e,r.callbackNode=t}}function A_(r,e){if(yv=-1,wv=0,qt&6)throw Error(Qe(327));var t=r.callbackNode;if(Zf()&&r.callbackNode!==t)return null;var n=hb(r,r===Vn?pi:0);if(n===0)return null;if(n&30||n&r.expiredLanes||e)e=kb(r,n);else{e=n;var i=qt;qt|=2;var s=u_();(Vn!==r||pi!==e)&&(Ol=null,mg=rn()+500,Ah(r,e));do try{Kj();break}catch(o){c_(r,o)}while(!0);PF(),Eb.current=s,qt=i,gn!==null?e=0:(Vn=null,pi=0,e=En)}if(e!==0){if(e===2&&(i=mC(r),i!==0&&(n=i,e=GC(r,i))),e===1)throw t=X0,Ah(r,0),oc(r,n),Cs(r,rn()),t;if(e===6)oc(r,n);else{if(i=r.current.alternate,!(n&30)&&!Hj(i)&&(e=kb(r,n),e===2&&(s=mC(r),s!==0&&(n=s,e=GC(r,s))),e===1))throw t=X0,Ah(r,0),oc(r,n),Cs(r,rn()),t;switch(r.finishedWork=i,r.finishedLanes=n,e){case 0:case 1:throw Error(Qe(345));case 2:ju(r,bs,Ol);break;case 3:if(oc(r,n),(n&130023424)===n&&(e=XF+500-rn(),10<e)){if(hb(r,0)!==0)break;if(i=r.suspendedLanes,(i&n)!==n){rs(),r.pingedLanes|=r.suspendedLanes&i;break}r.timeoutHandle=CC(ju.bind(null,r,bs,Ol),e);break}ju(r,bs,Ol);break;case 4:if(oc(r,n),(n&4194240)===n)break;for(e=r.eventTimes,i=-1;0<n;){var a=31-wo(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=rn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*jj(n/1960))-n,10<n){r.timeoutHandle=CC(ju.bind(null,r,bs,Ol),n);break}ju(r,bs,Ol);break;case 5:ju(r,bs,Ol);break;default:throw Error(Qe(329))}}}return Cs(r,rn()),r.callbackNode===t?A_.bind(null,r):null}function GC(r,e){var t=I0;return r.current.memoizedState.isDehydrated&&(Ah(r,e).flags|=256),r=kb(r,e),r!==2&&(e=bs,bs=t,e!==null&&$C(e)),r}function $C(r){bs===null?bs=r:bs.push.apply(bs,r)}function Hj(r){for(var e=r;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var n=0;n<t.length;n++){var i=t[n],s=i.getSnapshot;i=i.value;try{if(!bo(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oc(r,e){for(e&=~YF,e&=~HB,r.suspendedLanes|=e,r.pingedLanes&=~e,r=r.expirationTimes;0<e;){var t=31-wo(e),n=1<<t;r[t]=-1,e&=~n}}function z3(r){if(qt&6)throw Error(Qe(327));Zf();var e=hb(r,0);if(!(e&1))return Cs(r,rn()),null;var t=kb(r,e);if(r.tag!==0&&t===2){var n=mC(r);n!==0&&(e=n,t=GC(r,n))}if(t===1)throw t=X0,Ah(r,0),oc(r,e),Cs(r,rn()),t;if(t===6)throw Error(Qe(345));return r.finishedWork=r.current.alternate,r.finishedLanes=e,ju(r,bs,Ol),Cs(r,rn()),null}function JF(r,e){var t=qt;qt|=1;try{return r(e)}finally{qt=t,qt===0&&(mg=rn()+500,RB&&Iu())}}function vh(r){zc!==null&&zc.tag===0&&!(qt&6)&&Zf();var e=qt;qt|=1;var t=Ua.transition,n=Ar;try{if(Ua.transition=null,Ar=1,r)return r()}finally{Ar=n,Ua.transition=t,qt=e,!(qt&6)&&Iu()}}function ZF(){qs=Hf.current,Nr(Hf)}function Ah(r,e){r.finishedWork=null,r.finishedLanes=0;var t=r.timeoutHandle;if(t!==-1&&(r.timeoutHandle=-1,yj(t)),gn!==null)for(t=gn.return;t!==null;){var n=t;switch(DF(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&yb();break;case 3:pg(),Nr(xs),Nr(Ti),HF();break;case 5:jF(n);break;case 4:pg();break;case 13:Nr(Or);break;case 19:Nr(Or);break;case 10:TF(n.type._context);break;case 22:case 23:ZF()}t=t.return}if(Vn=r,gn=r=su(r.current,null),pi=qs=e,En=0,X0=null,YF=HB=wh=0,bs=I0=null,Ju!==null){for(e=0;e<Ju.length;e++)if(t=Ju[e],n=t.interleaved,n!==null){t.interleaved=null;var i=n.next,s=t.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}t.pending=n}Ju=null}return r}function c_(r,e){do{var t=gn;try{if(PF(),pv.current=Fb,Sb){for(var n=jr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Sb=!1}if(yh=0,$n=Sn=jr=null,B0=!1,V0=0,qF.current=null,t===null||t.return===null){En=1,X0=e,gn=null;break}e:{var s=r,a=t.return,o=t,l=e;if(e=pi,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var A=l,c=o,u=c.tag;if(!(c.mode&1)&&(u===0||u===11||u===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=_3(a);if(p!==null){p.flags&=-257,U3(p,a,o,s,e),p.mode&1&&D3(s,A,e),e=p,l=A;var I=e.updateQueue;if(I===null){var F=new Set;F.add(l),e.updateQueue=F}else I.add(l);break e}else{if(!(e&1)){D3(s,A,e),eE();break e}l=Error(Qe(426))}}else if(Pr&&o.mode&1){var D=_3(a);if(D!==null){!(D.flags&65536)&&(D.flags|=256),U3(D,a,o,s,e),_F(gg(l,o));break e}}s=l=gg(l,o),En!==4&&(En=2),I0===null?I0=[s]:I0.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var C=zD(s,l,e);F3(s,C);break e;case 1:o=l;var k=s.type,U=s.stateNode;if(!(s.flags&128)&&(typeof k.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(nu===null||!nu.has(U)))){s.flags|=65536,e&=-e,s.lanes|=e;var Q=VD(s,o,e);F3(s,Q);break e}}s=s.return}while(s!==null)}h_(t)}catch(V){e=V,gn===t&&t!==null&&(gn=t=t.return);continue}break}while(!0)}function u_(){var r=Eb.current;return Eb.current=Fb,r===null?Fb:r}function eE(){(En===0||En===3||En===2)&&(En=4),Vn===null||!(wh&268435455)&&!(HB&268435455)||oc(Vn,pi)}function kb(r,e){var t=qt;qt|=2;var n=u_();(Vn!==r||pi!==e)&&(Ol=null,Ah(r,e));do try{Wj();break}catch(i){c_(r,i)}while(!0);if(PF(),qt=t,Eb.current=n,gn!==null)throw Error(Qe(261));return Vn=null,pi=0,En}function Wj(){for(;gn!==null;)d_(gn)}function Kj(){for(;gn!==null&&!pO();)d_(gn)}function d_(r){var e=p_(r.alternate,r,qs);r.memoizedProps=r.pendingProps,e===null?h_(r):gn=e,qF.current=null}function h_(r){var e=r;do{var t=e.alternate;if(r=e.return,e.flags&32768){if(t=Tj(t,e),t!==null){t.flags&=32767,gn=t;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{En=6,gn=null;return}}else if(t=Pj(t,e,qs),t!==null){gn=t;return}if(e=e.sibling,e!==null){gn=e;return}gn=e=r}while(e!==null);En===0&&(En=5)}function ju(r,e,t){var n=Ar,i=Ua.transition;try{Ua.transition=null,Ar=1,Gj(r,e,t,n)}finally{Ua.transition=i,Ar=n}return null}function Gj(r,e,t,n){do Zf();while(zc!==null);if(qt&6)throw Error(Qe(327));t=r.finishedWork;var i=r.finishedLanes;if(t===null)return null;if(r.finishedWork=null,r.finishedLanes=0,t===r.current)throw Error(Qe(177));r.callbackNode=null,r.callbackPriority=0;var s=t.lanes|t.childLanes;if(CO(r,s),r===Vn&&(gn=Vn=null,pi=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||vw||(vw=!0,g_(db,function(){return Zf(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Ua.transition,Ua.transition=null;var a=Ar;Ar=1;var o=qt;qt|=4,qF.current=null,Qj(r,t),o_(t,r),uj(xC),fb=!!BC,xC=BC=null,r.current=t,Oj(t),gO(),qt=o,Ar=a,Ua.transition=s}else r.current=t;if(vw&&(vw=!1,zc=r,Nb=i),s=r.pendingLanes,s===0&&(nu=null),wO(t.stateNode),Cs(r,rn()),e!==null)for(n=r.onRecoverableError,t=0;t<e.length;t++)i=e[t],n(i.value,{componentStack:i.stack,digest:i.digest});if(Lb)throw Lb=!1,r=WC,WC=null,r;return Nb&1&&r.tag!==0&&Zf(),s=r.pendingLanes,s&1?r===KC?C0++:(C0=0,KC=r):C0=0,Iu(),null}function Zf(){if(zc!==null){var r=z6(Nb),e=Ua.transition,t=Ar;try{if(Ua.transition=null,Ar=16>r?16:r,zc===null)var n=!1;else{if(r=zc,zc=null,Nb=0,qt&6)throw Error(Qe(331));var i=qt;for(qt|=4,nt=r.current;nt!==null;){var s=nt,a=s.child;if(nt.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var A=o[l];for(nt=A;nt!==null;){var c=nt;switch(c.tag){case 0:case 11:case 15:x0(8,c,s)}var u=c.child;if(u!==null)u.return=c,nt=u;else for(;nt!==null;){c=nt;var f=c.sibling,p=c.return;if(i_(c),c===A){nt=null;break}if(f!==null){f.return=p,nt=f;break}nt=p}}}var I=s.alternate;if(I!==null){var F=I.child;if(F!==null){I.child=null;do{var D=F.sibling;F.sibling=null,F=D}while(F!==null)}}nt=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,nt=a;else e:for(;nt!==null;){if(s=nt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:x0(9,s,s.return)}var C=s.sibling;if(C!==null){C.return=s.return,nt=C;break e}nt=s.return}}var k=r.current;for(nt=k;nt!==null;){a=nt;var U=a.child;if(a.subtreeFlags&2064&&U!==null)U.return=a,nt=U;else e:for(a=k;nt!==null;){if(o=nt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:jB(9,o)}}catch(V){Vr(o,o.return,V)}if(o===a){nt=null;break e}var Q=o.sibling;if(Q!==null){Q.return=o.return,nt=Q;break e}nt=o.return}}if(qt=i,Iu(),fl&&typeof fl.onPostCommitFiberRoot=="function")try{fl.onPostCommitFiberRoot(DB,r)}catch{}n=!0}return n}finally{Ar=t,Ua.transition=e}}return!1}function V3(r,e,t){e=gg(t,e),e=zD(r,e,1),r=ru(r,e,1),e=rs(),r!==null&&(H2(r,1,e),Cs(r,e))}function Vr(r,e,t){if(r.tag===3)V3(r,r,t);else for(;e!==null;){if(e.tag===3){V3(e,r,t);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(nu===null||!nu.has(n))){r=gg(t,r),r=VD(e,r,1),e=ru(e,r,1),r=rs(),e!==null&&(H2(e,1,r),Cs(e,r));break}}e=e.return}}function $j(r,e,t){var n=r.pingCache;n!==null&&n.delete(e),e=rs(),r.pingedLanes|=r.suspendedLanes&t,Vn===r&&(pi&t)===t&&(En===4||En===3&&(pi&130023424)===pi&&500>rn()-XF?Ah(r,0):YF|=t),Cs(r,e)}function f_(r,e){e===0&&(r.mode&1?(e=cw,cw<<=1,!(cw&130023424)&&(cw=4194304)):e=1);var t=rs();r=NA(r,e),r!==null&&(H2(r,e,t),Cs(r,t))}function zj(r){var e=r.memoizedState,t=0;e!==null&&(t=e.retryLane),f_(r,t)}function Vj(r,e){var t=0;switch(r.tag){case 13:var n=r.stateNode,i=r.memoizedState;i!==null&&(t=i.retryLane);break;case 19:n=r.stateNode;break;default:throw Error(Qe(314))}n!==null&&n.delete(e),f_(r,t)}var p_;p_=function(r,e,t){if(r!==null)if(r.memoizedProps!==e.pendingProps||xs.current)Bs=!0;else{if(!(r.lanes&t)&&!(e.flags&128))return Bs=!1,Uj(r,e,t);Bs=!!(r.flags&131072)}else Bs=!1,Pr&&e.flags&1048576&&wD(e,bb,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;mv(r,e),r=e.pendingProps;var i=dg(e,Ti.current);Jf(e,t),i=KF(null,e,n,r,i,t);var s=GF();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Is(n)?(s=!0,wb(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,QF(e),i.updater=OB,e.stateNode=i,i._reactInternals=e,MC(e,n,r,t),e=UC(null,e,n,!0,s,t)):(e.tag=0,Pr&&s&&MF(e),Ji(null,e,i,t),e=e.child),e;case 16:n=e.elementType;e:{switch(mv(r,e),r=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Yj(n),r=eo(n,r),i){case 0:e=_C(null,e,n,r,t);break e;case 1:e=R3(null,e,n,r,t);break e;case 11:e=P3(null,e,n,r,t);break e;case 14:e=T3(null,e,n,eo(n.type,r),t);break e}throw Error(Qe(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:eo(n,i),_C(r,e,n,i,t);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:eo(n,i),R3(r,e,n,i,t);case 3:e:{if(JD(e),r===null)throw Error(Qe(387));n=e.pendingProps,s=e.memoizedState,i=s.element,CD(r,e),Ib(e,n,null,t);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=gg(Error(Qe(423)),e),e=Q3(r,e,n,t,i);break e}else if(n!==i){i=gg(Error(Qe(424)),e),e=Q3(r,e,n,t,i);break e}else for(Js=tu(e.stateNode.containerInfo.firstChild),ta=e,Pr=!0,go=null,t=xD(e,null,n,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(hg(),n===i){e=kA(r,e,t);break e}Ji(r,e,n,t)}e=e.child}return e;case 5:return SD(e),r===null&&LC(e),n=e.type,i=e.pendingProps,s=r!==null?r.memoizedProps:null,a=i.children,IC(n,i)?a=null:s!==null&&IC(n,s)&&(e.flags|=32),XD(r,e),Ji(r,e,a,t),e.child;case 6:return r===null&&LC(e),null;case 13:return ZD(r,e,t);case 4:return OF(e,e.stateNode.containerInfo),n=e.pendingProps,r===null?e.child=fg(e,null,n,t):Ji(r,e,n,t),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:eo(n,i),P3(r,e,n,i,t);case 7:return Ji(r,e,e.pendingProps,t),e.child;case 8:return Ji(r,e,e.pendingProps.children,t),e.child;case 12:return Ji(r,e,e.pendingProps.children,t),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Sr(Bb,n._currentValue),n._currentValue=a,s!==null)if(bo(s.value,a)){if(s.children===i.children&&!xs.current){e=kA(r,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=xA(-1,t&-t),l.tag=2;var A=s.updateQueue;if(A!==null){A=A.shared;var c=A.pending;c===null?l.next=l:(l.next=c.next,c.next=l),A.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),NC(s.return,t,e),o.lanes|=t;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Qe(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),NC(a,t,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Ji(r,e,i.children,t),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Jf(e,t),i=Ra(i),n=n(i),e.flags|=1,Ji(r,e,n,t),e.child;case 14:return n=e.type,i=eo(n,e.pendingProps),i=eo(n.type,i),T3(r,e,n,i,t);case 15:return qD(r,e,e.type,e.pendingProps,t);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:eo(n,i),mv(r,e),e.tag=1,Is(n)?(r=!0,wb(e)):r=!1,Jf(e,t),$D(e,n,i),MC(e,n,i,t),UC(null,e,n,!0,r,t);case 19:return e_(r,e,t);case 22:return YD(r,e,t)}throw Error(Qe(156,e.tag))};function g_(r,e){return W6(r,e)}function qj(r,e,t,n){this.tag=r,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ka(r,e,t,n){return new qj(r,e,t,n)}function tE(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Yj(r){if(typeof r=="function")return tE(r)?1:0;if(r!=null){if(r=r.$$typeof,r===vF)return 11;if(r===bF)return 14}return 2}function su(r,e){var t=r.alternate;return t===null?(t=ka(r.tag,e,r.key,r.mode),t.elementType=r.elementType,t.type=r.type,t.stateNode=r.stateNode,t.alternate=r,r.alternate=t):(t.pendingProps=e,t.type=r.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=r.flags&14680064,t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=r.sibling,t.index=r.index,t.ref=r.ref,t}function vv(r,e,t,n,i,s){var a=2;if(n=r,typeof r=="function")tE(r)&&(a=1);else if(typeof r=="string")a=5;else e:switch(r){case Mf:return ch(t.children,i,s,e);case wF:a=8,i|=8;break;case rC:return r=ka(12,t,e,i|2),r.elementType=rC,r.lanes=s,r;case nC:return r=ka(13,t,e,i),r.elementType=nC,r.lanes=s,r;case iC:return r=ka(19,t,e,i),r.elementType=iC,r.lanes=s,r;case S6:return WB(t,i,s,e);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case I6:a=10;break e;case C6:a=9;break e;case vF:a=11;break e;case bF:a=14;break e;case nc:a=16,n=null;break e}throw Error(Qe(130,r==null?r:typeof r,""))}return e=ka(a,t,e,i),e.elementType=r,e.type=n,e.lanes=s,e}function ch(r,e,t,n){return r=ka(7,r,n,e),r.lanes=t,r}function WB(r,e,t,n){return r=ka(22,r,n,e),r.elementType=S6,r.lanes=t,r.stateNode={isHidden:!1},r}function Y5(r,e,t){return r=ka(6,r,null,e),r.lanes=t,r}function X5(r,e,t){return e=ka(4,r.children!==null?r.children:[],r.key,e),e.lanes=t,e.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},e}function Xj(r,e,t,n,i){this.tag=e,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=k5(0),this.expirationTimes=k5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=k5(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function rE(r,e,t,n,i,s,a,o,l){return r=new Xj(r,e,t,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ka(3,null,null,e),r.current=s,s.stateNode=r,s.memoizedState={element:n,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},QF(s),r}function Jj(r,e,t){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kf,key:n==null?null:""+n,children:r,containerInfo:e,implementation:t}}function m_(r){if(!r)return du;r=r._reactInternals;e:{if(Sh(r)!==r||r.tag!==1)throw Error(Qe(170));var e=r;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Is(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Qe(171))}if(r.tag===1){var t=r.type;if(Is(t))return mD(r,t,e)}return e}function y_(r,e,t,n,i,s,a,o,l){return r=rE(t,n,!0,r,i,s,a,o,l),r.context=m_(null),t=r.current,n=rs(),i=iu(t),s=xA(n,i),s.callback=e??null,ru(t,s,i),r.current.lanes=i,H2(r,i,n),Cs(r,n),r}function KB(r,e,t,n){var i=e.current,s=rs(),a=iu(i);return t=m_(t),e.context===null?e.context=t:e.pendingContext=t,e=xA(s,a),e.payload={element:r},n=n===void 0?null:n,n!==null&&(e.callback=n),r=ru(i,e,a),r!==null&&(vo(r,i,a,s),fv(r,i,a)),a}function Mb(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function q3(r,e){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var t=r.retryLane;r.retryLane=t!==0&&t<e?t:e}}function nE(r,e){q3(r,e),(r=r.alternate)&&q3(r,e)}function Zj(){return null}var w_=typeof reportError=="function"?reportError:function(r){console.error(r)};function iE(r){this._internalRoot=r}GB.prototype.render=iE.prototype.render=function(r){var e=this._internalRoot;if(e===null)throw Error(Qe(409));KB(r,e,null,null)};GB.prototype.unmount=iE.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var e=r.containerInfo;vh(function(){KB(null,r,null,null)}),e[LA]=null}};function GB(r){this._internalRoot=r}GB.prototype.unstable_scheduleHydration=function(r){if(r){var e=Y6();r={blockedOn:null,target:r,priority:e};for(var t=0;t<ac.length&&e!==0&&e<ac[t].priority;t++);ac.splice(t,0,r),t===0&&J6(r)}};function sE(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function $B(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Y3(){}function eH(r,e,t,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var A=Mb(a);s.call(A)}}var a=y_(e,n,r,0,null,!1,!1,"",Y3);return r._reactRootContainer=a,r[LA]=a.current,W0(r.nodeType===8?r.parentNode:r),vh(),a}for(;i=r.lastChild;)r.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var A=Mb(l);o.call(A)}}var l=rE(r,0,!1,null,null,!1,!1,"",Y3);return r._reactRootContainer=l,r[LA]=l.current,W0(r.nodeType===8?r.parentNode:r),vh(function(){KB(e,l,t,n)}),l}function zB(r,e,t,n,i){var s=t._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Mb(a);o.call(l)}}KB(e,a,r,i)}else a=eH(t,e,r,i,n);return Mb(a)}V6=function(r){switch(r.tag){case 3:var e=r.stateNode;if(e.current.memoizedState.isDehydrated){var t=Wm(e.pendingLanes);t!==0&&(IF(e,t|1),Cs(e,rn()),!(qt&6)&&(mg=rn()+500,Iu()))}break;case 13:vh(function(){var n=NA(r,1);if(n!==null){var i=rs();vo(n,r,1,i)}}),nE(r,1)}};CF=function(r){if(r.tag===13){var e=NA(r,134217728);if(e!==null){var t=rs();vo(e,r,134217728,t)}nE(r,134217728)}};q6=function(r){if(r.tag===13){var e=iu(r),t=NA(r,e);if(t!==null){var n=rs();vo(t,r,e,n)}nE(r,e)}};Y6=function(){return Ar};X6=function(r,e){var t=Ar;try{return Ar=r,e()}finally{Ar=t}};fC=function(r,e,t){switch(e){case"input":if(oC(r,t),e=t.name,t.type==="radio"&&e!=null){for(t=r;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var n=t[e];if(n!==r&&n.form===r.form){var i=TB(n);if(!i)throw Error(Qe(90));E6(n),oC(n,i)}}}break;case"textarea":N6(r,t);break;case"select":e=t.value,e!=null&&Vf(r,!!t.multiple,e,!1)}};T6=JF;R6=vh;var tH={usingClientEntryPoint:!1,Events:[K2,Pf,TB,U6,P6,JF]},fm={findFiberByHostInstance:Xu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rH={bundleType:fm.bundleType,version:fm.version,rendererPackageName:fm.rendererPackageName,rendererConfig:fm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:UA.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=j6(r),r===null?null:r.stateNode},findFiberByHostInstance:fm.findFiberByHostInstance||Zj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bw.isDisabled&&bw.supportsFiber)try{DB=bw.inject(rH),fl=bw}catch{}}aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tH;aa.createPortal=function(r,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sE(e))throw Error(Qe(200));return Jj(r,e,null,t)};aa.createRoot=function(r,e){if(!sE(r))throw Error(Qe(299));var t=!1,n="",i=w_;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=rE(r,1,!1,null,null,t,!1,n,i),r[LA]=e.current,W0(r.nodeType===8?r.parentNode:r),new iE(e)};aa.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var e=r._reactInternals;if(e===void 0)throw typeof r.render=="function"?Error(Qe(188)):(r=Object.keys(r).join(","),Error(Qe(268,r)));return r=j6(e),r=r===null?null:r.stateNode,r};aa.flushSync=function(r){return vh(r)};aa.hydrate=function(r,e,t){if(!$B(e))throw Error(Qe(200));return zB(null,r,e,!0,t)};aa.hydrateRoot=function(r,e,t){if(!sE(r))throw Error(Qe(405));var n=t!=null&&t.hydratedSources||null,i=!1,s="",a=w_;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=y_(e,null,r,1,t??null,i,!1,s,a),r[LA]=e.current,W0(r),n)for(r=0;r<n.length;r++)t=n[r],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new GB(e)};aa.render=function(r,e,t){if(!$B(e))throw Error(Qe(200));return zB(null,r,e,!1,t)};aa.unmountComponentAtNode=function(r){if(!$B(r))throw Error(Qe(40));return r._reactRootContainer?(vh(function(){zB(null,null,r,!1,function(){r._reactRootContainer=null,r[LA]=null})}),!0):!1};aa.unstable_batchedUpdates=JF;aa.unstable_renderSubtreeIntoContainer=function(r,e,t,n){if(!$B(t))throw Error(Qe(200));if(r==null||r._reactInternals===void 0)throw Error(Qe(38));return zB(r,e,t,!1,n)};aa.version="18.3.1-next-f1338f8080-20240426";function v_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v_)}catch(r){console.error(r)}}v_(),v6.exports=aa;var aE=v6.exports;const nH=uF(aE);var b_,X3=aE;b_=X3.createRoot,X3.hydrateRoot;const xt=r=>typeof r=="string",pm=()=>{let r,e;const t=new Promise((n,i)=>{r=n,e=i});return t.resolve=r,t.reject=e,t},J3=r=>r==null?"":""+r,iH=(r,e,t)=>{r.forEach(n=>{e[n]&&(t[n]=e[n])})},sH=/###/g,Z3=r=>r&&r.indexOf("###")>-1?r.replace(sH,"."):r,eN=r=>!r||xt(r),S0=(r,e,t)=>{const n=xt(e)?e.split("."):e;let i=0;for(;i<n.length-1;){if(eN(r))return{};const s=Z3(n[i]);!r[s]&&t&&(r[s]=new t),Object.prototype.hasOwnProperty.call(r,s)?r=r[s]:r={},++i}return eN(r)?{}:{obj:r,k:Z3(n[i])}},tN=(r,e,t)=>{const{obj:n,k:i}=S0(r,e,Object);if(n!==void 0||e.length===1){n[i]=t;return}let s=e[e.length-1],a=e.slice(0,e.length-1),o=S0(r,a,Object);for(;o.obj===void 0&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),o=S0(r,a,Object),o!=null&&o.obj&&typeof o.obj[`${o.k}.${s}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${s}`]=t},aH=(r,e,t,n)=>{const{obj:i,k:s}=S0(r,e,Object);i[s]=i[s]||[],i[s].push(t)},Db=(r,e)=>{const{obj:t,k:n}=S0(r,e);if(t&&Object.prototype.hasOwnProperty.call(t,n))return t[n]},oH=(r,e,t)=>{const n=Db(r,t);return n!==void 0?n:Db(e,t)},B_=(r,e,t)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in r?xt(r[n])||r[n]instanceof String||xt(e[n])||e[n]instanceof String?t&&(r[n]=e[n]):B_(r[n],e[n],t):r[n]=e[n]);return r},of=r=>r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var lH={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const AH=r=>xt(r)?r.replace(/[&<>"'\/]/g,e=>lH[e]):r;class cH{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const uH=[" ",",","?","!",";"],dH=new cH(20),hH=(r,e,t)=>{e=e||"",t=t||"";const n=uH.filter(a=>e.indexOf(a)<0&&t.indexOf(a)<0);if(n.length===0)return!0;const i=dH.getRegExp(`(${n.map(a=>a==="?"?"\\?":a).join("|")})`);let s=!i.test(r);if(!s){const a=r.indexOf(t);a>0&&!i.test(r.substring(0,a))&&(s=!0)}return s},zC=(r,e,t=".")=>{if(!r)return;if(r[e])return Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0;const n=e.split(t);let i=r;for(let s=0;s<n.length;){if(!i||typeof i!="object")return;let a,o="";for(let l=s;l<n.length;++l)if(l!==s&&(o+=t),o+=n[l],a=i[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<n.length-1)continue;s+=l-s+1;break}i=a}return i},J0=r=>r==null?void 0:r.replace("_","-"),fH={type:"logger",log(r){this.output("log",r)},warn(r){this.output("warn",r)},error(r){this.output("error",r)},output(r,e){var t,n;(n=(t=console==null?void 0:console[r])==null?void 0:t.apply)==null||n.call(t,console,e)}};let pH=class VC{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||fH,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,i){return i&&!this.debug?null:(xt(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new VC(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new VC(this.logger,e)}};var dl=new pH;class VB{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(t)||0;this.observers[n].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,s])=>{for(let a=0;a<s;a++)i(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,s])=>{for(let a=0;a<s;a++)i.apply(i,[e,...t])})}}class rN extends VB{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n,i={}){var A,c;const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,t],n&&(Array.isArray(n)?o.push(...n):xt(n)&&s?o.push(...n.split(s)):o.push(n)));const l=Db(this.data,o);return!l&&!t&&!n&&e.indexOf(".")>-1&&(e=o[0],t=o[1],n=o.slice(2).join(".")),l||!a||!xt(n)?l:zC((c=(A=this.data)==null?void 0:A[e])==null?void 0:c[t],n,s)}addResource(e,t,n,i,s={silent:!1}){const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let o=[e,t];n&&(o=o.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(o=e.split("."),i=t,t=o[1]),this.addNamespaces(t),tN(this.data,o,i),s.silent||this.emit("added",e,t,n,i)}addResources(e,t,n,i={silent:!1}){for(const s in n)(xt(n[s])||Array.isArray(n[s]))&&this.addResource(e,t,s,n[s],{silent:!0});i.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,i,s,a={silent:!1,skipCopy:!1}){let o=[e,t];e.indexOf(".")>-1&&(o=e.split("."),i=n,n=t,t=o[1]),this.addNamespaces(t);let l=Db(this.data,o)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?B_(l,n,s):l={...l,...n},tN(this.data,o,l),a.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(i=>t[i]&&Object.keys(t[i]).length>0)}toJSON(){return this.data}}var x_={processors:{},addPostProcessor(r){this.processors[r.name]=r},handle(r,e,t,n,i){return r.forEach(s=>{var a;e=((a=this.processors[s])==null?void 0:a.process(e,t,n,i))??e}),e}};const nN={},iN=r=>!xt(r)&&typeof r!="boolean"&&typeof r!="number";class _b extends VB{constructor(e,t={}){super(),iH(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=dl.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const n={...t};if(e==null)return!1;const i=this.resolve(e,n);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,t){let n=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let s=t.ns||this.options.defaultNS||[];const a=n&&e.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!hH(e,n,i);if(a&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:xt(s)?[s]:s};const A=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(A[0])>-1)&&(s=A.shift()),e=A.join(i)}return{key:e,namespaces:xt(s)?[s]:s}}translate(e,t,n){let i=typeof t=="object"?{...t}:t;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],i),A=l[l.length-1];let c=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;c===void 0&&(c=":");const u=i.lng||this.language,f=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((u==null?void 0:u.toLowerCase())==="cimode")return f?s?{res:`${A}${c}${o}`,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:A,usedParams:this.getUsedParamsDetails(i)}:`${A}${c}${o}`:s?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:A,usedParams:this.getUsedParamsDetails(i)}:o;const p=this.resolve(e,i);let I=p==null?void 0:p.res;const F=(p==null?void 0:p.usedKey)||o,D=(p==null?void 0:p.exactUsedKey)||o,C=["[object Number]","[object Function]","[object RegExp]"],k=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,U=!this.i18nFormat||this.i18nFormat.handleAsObject,Q=i.count!==void 0&&!xt(i.count),V=_b.hasDefaultValue(i),Z=Q?this.pluralResolver.getSuffix(u,i.count,i):"",q=i.ordinal&&Q?this.pluralResolver.getSuffix(u,i.count,{ordinal:!1}):"",G=Q&&!i.ordinal&&i.count===0,Y=G&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${Z}`]||i[`defaultValue${q}`]||i.defaultValue;let K=I;U&&!I&&V&&(K=Y);const H=iN(K),te=Object.prototype.toString.apply(K);if(U&&K&&H&&C.indexOf(te)<0&&!(xt(k)&&Array.isArray(K))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ue=this.options.returnedObjectHandler?this.options.returnedObjectHandler(F,K,{...i,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return s?(p.res=ue,p.usedParams=this.getUsedParamsDetails(i),p):ue}if(a){const ue=Array.isArray(K),oe=ue?[]:{},re=ue?D:F;for(const J in K)if(Object.prototype.hasOwnProperty.call(K,J)){const O=`${re}${a}${J}`;V&&!I?oe[J]=this.translate(O,{...i,defaultValue:iN(Y)?Y[J]:void 0,joinArrays:!1,ns:l}):oe[J]=this.translate(O,{...i,joinArrays:!1,ns:l}),oe[J]===O&&(oe[J]=K[J])}I=oe}}else if(U&&xt(k)&&Array.isArray(I))I=I.join(k),I&&(I=this.extendTranslation(I,e,i,n));else{let ue=!1,oe=!1;!this.isValidLookup(I)&&V&&(ue=!0,I=Y),this.isValidLookup(I)||(oe=!0,I=o);const J=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&oe?void 0:I,O=V&&Y!==I&&this.options.updateMissing;if(oe||ue||O){if(this.logger.log(O?"updateKey":"missingKey",u,A,o,O?Y:I),a){const L=this.resolve(o,{...i,keySeparator:!1});L&&L.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let j=[];const T=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&T&&T[0])for(let L=0;L<T.length;L++)j.push(T[L]);else this.options.saveMissingTo==="all"?j=this.languageUtils.toResolveHierarchy(i.lng||this.language):j.push(i.lng||this.language);const _=(L,v,E)=>{var g;const x=V&&E!==I?E:J;this.options.missingKeyHandler?this.options.missingKeyHandler(L,A,v,x,O,i):(g=this.backendConnector)!=null&&g.saveMissing&&this.backendConnector.saveMissing(L,A,v,x,O,i),this.emit("missingKey",L,A,v,I)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Q?j.forEach(L=>{const v=this.pluralResolver.getSuffixes(L,i);G&&i[`defaultValue${this.options.pluralSeparator}zero`]&&v.indexOf(`${this.options.pluralSeparator}zero`)<0&&v.push(`${this.options.pluralSeparator}zero`),v.forEach(E=>{_([L],o+E,i[`defaultValue${E}`]||Y)})}):_(j,o,Y))}I=this.extendTranslation(I,e,i,p,n),oe&&I===o&&this.options.appendNamespaceToMissingKey&&(I=`${A}${c}${o}`),(oe||ue)&&this.options.parseMissingKeyHandler&&(I=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${A}${c}${o}`:o,ue?I:void 0,i))}return s?(p.res=I,p.usedParams=this.getUsedParamsDetails(i),p):I}extendTranslation(e,t,n,i,s){var l,A;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const c=xt(e)&&(((A=n==null?void 0:n.interpolation)==null?void 0:A.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(c){const p=e.match(this.interpolator.nestingRegexp);u=p&&p.length}let f=n.replace&&!xt(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,n.lng||this.language||i.usedLng,n),c){const p=e.match(this.interpolator.nestingRegexp),I=p&&p.length;u<I&&(n.nest=!1)}!n.lng&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...p)=>(s==null?void 0:s[0])===p[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${t[0]}`),null):this.translate(...p,t),n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,o=xt(a)?[a]:a;return e!=null&&(o!=null&&o.length)&&n.applyPostProcessor!==!1&&(e=x_.handle(o,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,t={}){let n,i,s,a,o;return xt(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(n))return;const A=this.extractFromKey(l,t),c=A.key;i=c;let u=A.namespaces;this.options.fallbackNS&&(u=u.concat(this.options.fallbackNS));const f=t.count!==void 0&&!xt(t.count),p=f&&!t.ordinal&&t.count===0,I=t.context!==void 0&&(xt(t.context)||typeof t.context=="number")&&t.context!=="",F=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);u.forEach(D=>{var C,k;this.isValidLookup(n)||(o=D,!nN[`${F[0]}-${D}`]&&((C=this.utils)!=null&&C.hasLoadedNamespace)&&!((k=this.utils)!=null&&k.hasLoadedNamespace(o))&&(nN[`${F[0]}-${D}`]=!0,this.logger.warn(`key "${i}" for languages "${F.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),F.forEach(U=>{var Z;if(this.isValidLookup(n))return;a=U;const Q=[c];if((Z=this.i18nFormat)!=null&&Z.addLookupKeys)this.i18nFormat.addLookupKeys(Q,c,U,D,t);else{let q;f&&(q=this.pluralResolver.getSuffix(U,t.count,t));const G=`${this.options.pluralSeparator}zero`,Y=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(Q.push(c+q),t.ordinal&&q.indexOf(Y)===0&&Q.push(c+q.replace(Y,this.options.pluralSeparator)),p&&Q.push(c+G)),I){const K=`${c}${this.options.contextSeparator}${t.context}`;Q.push(K),f&&(Q.push(K+q),t.ordinal&&q.indexOf(Y)===0&&Q.push(K+q.replace(Y,this.options.pluralSeparator)),p&&Q.push(K+G))}}let V;for(;V=Q.pop();)this.isValidLookup(n)||(s=V,n=this.getResource(U,D,V,t))}))})}),{res:n,usedKey:i,exactUsedKey:s,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,n,i={}){var s;return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(e,t,n,i):this.resourceStore.getResource(e,t,n,i)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!xt(e.replace);let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const s of t)delete i[s]}return i}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&e[n]!==void 0)return!0;return!1}}class sN{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=dl.create("languageUtils")}getScriptPartFromCode(e){if(e=J0(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=J0(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(xt(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(n=>{if(t)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(n=>{if(t)return;const i=this.getScriptPartFromCode(n);if(this.isSupportedCode(i))return t=i;const s=this.getLanguagePartFromCode(n);if(this.isSupportedCode(s))return t=s;t=this.options.supportedLngs.find(a=>{if(a===s)return a;if(!(a.indexOf("-")<0&&s.indexOf("-")<0)&&(a.indexOf("-")>0&&s.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===s||a.indexOf(s)===0&&s.length>1))return a})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),xt(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),i=[],s=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return xt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):xt(e)&&s(this.formatLanguageCode(e)),n.forEach(a=>{i.indexOf(a)<0&&s(this.formatLanguageCode(a))}),i}}const aN={zero:0,one:1,two:2,few:3,many:4,other:5},oN={select:r=>r===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class gH{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=dl.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const n=J0(e==="dev"?"en":e),i=t.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let a;try{a=new Intl.PluralRules(n,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),oN;if(!e.match(/-|_/))return oN;const l=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(l,t)}return this.pluralRulesCache[s]=a,a}needsPlural(e,t={}){let n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,n={}){return this.getSuffixes(e,n).map(i=>`${t}${i}`)}getSuffixes(e,t={}){let n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?n.resolvedOptions().pluralCategories.sort((i,s)=>aN[i]-aN[s]).map(i=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,t,n={}){const i=this.getRule(e,n);return i?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,n))}}const lN=(r,e,t,n=".",i=!0)=>{let s=oH(r,e,t);return!s&&i&&xt(t)&&(s=zC(r,t,n),s===void 0&&(s=zC(e,t,n))),s},J5=r=>r.replace(/\$/g,"$$$$");class mH{constructor(e={}){var t;this.logger=dl.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:i,prefix:s,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:A,unescapeSuffix:c,unescapePrefix:u,nestingPrefix:f,nestingPrefixEscaped:p,nestingSuffix:I,nestingSuffixEscaped:F,nestingOptionsSeparator:D,maxReplaces:C,alwaysFormat:k}=e.interpolation;this.escape=t!==void 0?t:AH,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?of(s):a||"{{",this.suffix=o?of(o):l||"}}",this.formatSeparator=A||",",this.unescapePrefix=c?"":u||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=f?of(f):p||of("$t("),this.nestingSuffix=I?of(I):F||of(")"),this.nestingOptionsSeparator=D||",",this.maxReplaces=C||1e3,this.alwaysFormat=k!==void 0?k:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,n)=>(t==null?void 0:t.source)===n?(t.lastIndex=0,t):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,n,i){var p;let s,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},A=I=>{if(I.indexOf(this.formatSeparator)<0){const k=lN(t,l,I,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(k,void 0,n,{...i,...t,interpolationkey:I}):k}const F=I.split(this.formatSeparator),D=F.shift().trim(),C=F.join(this.formatSeparator).trim();return this.format(lN(t,l,D,this.options.keySeparator,this.options.ignoreJSONStructure),C,n,{...i,...t,interpolationkey:D})};this.resetRegExp();const c=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,u=((p=i==null?void 0:i.interpolation)==null?void 0:p.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:I=>J5(I)},{regex:this.regexp,safeValue:I=>this.escapeValue?J5(this.escape(I)):J5(I)}].forEach(I=>{for(o=0;s=I.regex.exec(e);){const F=s[1].trim();if(a=A(F),a===void 0)if(typeof c=="function"){const C=c(e,s,i);a=xt(C)?C:""}else if(i&&Object.prototype.hasOwnProperty.call(i,F))a="";else if(u){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${F} for interpolating ${e}`),a="";else!xt(a)&&!this.useRawValueToEscape&&(a=J3(a));const D=I.safeValue(a);if(e=e.replace(s[0],D),u?(I.regex.lastIndex+=a.length,I.regex.lastIndex-=s[0].length):I.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,t,n={}){let i,s,a;const o=(l,A)=>{const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const u=l.split(new RegExp(`${c}[ ]*{`));let f=`{${u[1]}`;l=u[0],f=this.interpolate(f,a);const p=f.match(/'/g),I=f.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!I||I.length%2!==0)&&(f=f.replace(/'/g,'"'));try{a=JSON.parse(f),A&&(a={...A,...a})}catch(F){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,F),`${l}${c}${f}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];a={...n},a=a.replace&&!xt(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;const A=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(A!==-1&&(l=i[1].slice(A).split(this.formatSeparator).map(c=>c.trim()).filter(Boolean),i[1]=i[1].slice(0,A)),s=t(o.call(this,i[1].trim(),a),a),s&&i[0]===e&&!xt(s))return s;xt(s)||(s=J3(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),l.length&&(s=l.reduce((c,u)=>this.format(c,u,n.lng,{...n,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const yH=r=>{let e=r.toLowerCase().trim();const t={};if(r.indexOf("(")>-1){const n=r.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?t.currency||(t.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?t.range||(t.range=i.trim()):i.split(";").forEach(a=>{if(a){const[o,...l]=a.split(":"),A=l.join(":").trim().replace(/^'+|'+$/g,""),c=o.trim();t[c]||(t[c]=A),A==="false"&&(t[c]=!1),A==="true"&&(t[c]=!0),isNaN(A)||(t[c]=parseInt(A,10))}})}return{formatName:e,formatOptions:t}},AN=r=>{const e={};return(t,n,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const a=n+JSON.stringify(s);let o=e[a];return o||(o=r(J0(n),i),e[a]=o),o(t)}},wH=r=>(e,t,n)=>r(J0(t),n)(e);class vH{constructor(e={}){this.logger=dl.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const n=t.cacheInBuiltFormats?AN:wH;this.formats={number:n((i,s)=>{const a=new Intl.NumberFormat(i,{...s});return o=>a.format(o)}),currency:n((i,s)=>{const a=new Intl.NumberFormat(i,{...s,style:"currency"});return o=>a.format(o)}),datetime:n((i,s)=>{const a=new Intl.DateTimeFormat(i,{...s});return o=>a.format(o)}),relativetime:n((i,s)=>{const a=new Intl.RelativeTimeFormat(i,{...s});return o=>a.format(o,s.range||"day")}),list:n((i,s)=>{const a=new Intl.ListFormat(i,{...s});return o=>a.format(o)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=AN(t)}format(e,t,n,i={}){const s=t.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(o=>o.indexOf(")")>-1)){const o=s.findIndex(l=>l.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,o)].join(this.formatSeparator)}return s.reduce((o,l)=>{var u;const{formatName:A,formatOptions:c}=yH(l);if(this.formats[A]){let f=o;try{const p=((u=i==null?void 0:i.formatParams)==null?void 0:u[i.interpolationkey])||{},I=p.locale||p.lng||i.locale||i.lng||n;f=this.formats[A](o,I,{...c,...i,...p})}catch(p){this.logger.warn(p)}return f}else this.logger.warn(`there was no format function for ${A}`);return o},e)}}const bH=(r,e)=>{r.pending[e]!==void 0&&(delete r.pending[e],r.pendingCount--)};class BH extends VB{constructor(e,t,n,i={}){var s,a;super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=dl.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(a=(s=this.backend)==null?void 0:s.init)==null||a.call(s,n,i.backend,i)}queueLoad(e,t,n,i){const s={},a={},o={},l={};return e.forEach(A=>{let c=!0;t.forEach(u=>{const f=`${A}|${u}`;!n.reload&&this.store.hasResourceBundle(A,u)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?a[f]===void 0&&(a[f]=!0):(this.state[f]=1,c=!1,a[f]===void 0&&(a[f]=!0),s[f]===void 0&&(s[f]=!0),l[u]===void 0&&(l[u]=!0)))}),c||(o[A]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,t,n){const i=e.split("|"),s=i[0],a=i[1];t&&this.emit("failedLoading",s,a,t),!t&&n&&this.store.addResourceBundle(s,a,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const o={};this.queue.forEach(l=>{aH(l.loaded,[s],a),bH(l,e),t&&l.errors.push(t),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(A=>{o[A]||(o[A]={});const c=l.loaded[A];c.length&&c.forEach(u=>{o[A][u]===void 0&&(o[A][u]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,t,n,i=0,s=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:n,tried:i,wait:s,callback:a});return}this.readingCalls++;const o=(A,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const u=this.waitingReads.shift();this.read(u.lng,u.ns,u.fcName,u.tried,u.wait,u.callback)}if(A&&c&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,n,i+1,s*2,a)},s);return}a(A,c)},l=this.backend[n].bind(this.backend);if(l.length===2){try{const A=l(e,t);A&&typeof A.then=="function"?A.then(c=>o(null,c)).catch(o):o(null,A)}catch(A){o(A)}return}return l(e,t,o)}prepareLoading(e,t,n={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();xt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),xt(t)&&(t=[t]);const s=this.queueLoad(e,t,n,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(a=>{this.loadOne(a)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e,t=""){const n=e.split("|"),i=n[0],s=n[1];this.read(i,s,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${t}loading namespace ${s} for language ${i} failed`,a),!a&&o&&this.logger.log(`${t}loaded namespace ${s} for language ${i}`,o),this.loaded(e,a,o)})}saveMissing(e,t,n,i,s,a={},o=()=>{}){var l,A,c,u,f;if((A=(l=this.services)==null?void 0:l.utils)!=null&&A.hasLoadedNamespace&&!((u=(c=this.services)==null?void 0:c.utils)!=null&&u.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((f=this.backend)!=null&&f.create){const p={...a,isUpdate:s},I=this.backend.create.bind(this.backend);if(I.length<6)try{let F;I.length===5?F=I(e,t,n,i,p):F=I(e,t,n,i),F&&typeof F.then=="function"?F.then(D=>o(null,D)).catch(o):o(null,F)}catch(F){o(F)}else I(e,t,n,i,o,p)}!e||!e[0]||this.store.addResource(e[0],t,n,i)}}}const cN=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:r=>{let e={};if(typeof r[1]=="object"&&(e=r[1]),xt(r[1])&&(e.defaultValue=r[1]),xt(r[2])&&(e.tDescription=r[2]),typeof r[2]=="object"||typeof r[3]=="object"){const t=r[3]||r[2];Object.keys(t).forEach(n=>{e[n]=t[n]})}return e},interpolation:{escapeValue:!0,format:r=>r,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),uN=r=>{var e,t;return xt(r.ns)&&(r.ns=[r.ns]),xt(r.fallbackLng)&&(r.fallbackLng=[r.fallbackLng]),xt(r.fallbackNS)&&(r.fallbackNS=[r.fallbackNS]),((t=(e=r.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(r.supportedLngs=r.supportedLngs.concat(["cimode"])),typeof r.initImmediate=="boolean"&&(r.initAsync=r.initImmediate),r},Bw=()=>{},xH=r=>{Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach(t=>{typeof r[t]=="function"&&(r[t]=r[t].bind(r))})};class Z0 extends VB{constructor(e={},t){if(super(),this.options=uN(e),this.services={},this.logger=dl,this.modules={external:[]},xH(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(xt(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=cN();this.options={...n,...this.options,...uN(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=A=>A?typeof A=="function"?new A:A:null;if(!this.options.isClone){this.modules.logger?dl.init(i(this.modules.logger),this.options):dl.init(null,this.options);let A;this.modules.formatter?A=this.modules.formatter:A=vH;const c=new sN(this.options);this.store=new rN(this.options.resources,this.options);const u=this.services;u.logger=dl,u.resourceStore=this.store,u.languageUtils=c,u.pluralResolver=new gH(c,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),A&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(u.formatter=i(A),u.formatter.init&&u.formatter.init(u,this.options),this.options.interpolation.format=u.formatter.format.bind(u.formatter)),u.interpolator=new mH(this.options),u.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},u.backendConnector=new BH(i(this.modules.backend),u.resourceStore,u,this.options),u.backendConnector.on("*",(p,...I)=>{this.emit(p,...I)}),this.modules.languageDetector&&(u.languageDetector=i(this.modules.languageDetector),u.languageDetector.init&&u.languageDetector.init(u,this.options.detection,this.options)),this.modules.i18nFormat&&(u.i18nFormat=i(this.modules.i18nFormat),u.i18nFormat.init&&u.i18nFormat.init(this)),this.translator=new _b(this.services,this.options),this.translator.on("*",(p,...I)=>{this.emit(p,...I)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Bw),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const A=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);A.length>0&&A[0]!=="dev"&&(this.options.lng=A[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(A=>{this[A]=(...c)=>this.store[A](...c)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(A=>{this[A]=(...c)=>(this.store[A](...c),this)});const o=pm(),l=()=>{const A=(c,u)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(u),t(c,u)};if(this.languages&&!this.isInitialized)return A(null,this.t.bind(this));this.changeLanguage(this.options.lng,A)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),o}loadResources(e,t=Bw){var s,a;let n=t;const i=xt(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const o=[],l=A=>{if(!A||A==="cimode")return;this.services.languageUtils.toResolveHierarchy(A).forEach(u=>{u!=="cimode"&&o.indexOf(u)<0&&o.push(u)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>l(c)),(a=(s=this.options.preload)==null?void 0:s.forEach)==null||a.call(s,A=>l(A)),this.services.backendConnector.load(o,this.options.ns,A=>{!A&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(A)})}else n(null)}reloadResources(e,t,n){const i=pm();return typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=Bw),this.services.backendConnector.reload(e,t,s=>{i.resolve(),n(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&x_.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const n=pm();this.emit("languageChanging",e);const i=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},s=(o,l)=>{l?this.isLanguageChangingTo===e&&(i(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,n.resolve((...A)=>this.t(...A)),t&&t(o,(...A)=>this.t(...A))},a=o=>{var c,u;!e&&!o&&this.services.languageDetector&&(o=[]);const l=xt(o)?o:o&&o[0],A=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(xt(o)?[o]:o);A&&(this.language||i(A),this.translator.language||this.translator.changeLanguage(A),(u=(c=this.services.languageDetector)==null?void 0:c.cacheUserLanguage)==null||u.call(c,A)),this.loadResources(A,f=>{s(f,A)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),n}getFixedT(e,t,n){const i=(s,a,...o)=>{let l;typeof a!="object"?l=this.options.overloadTranslationOptionHandler([s,a].concat(o)):l={...a},l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||n||i.keyPrefix);const A=this.options.keySeparator||".";let c;return l.keyPrefix&&Array.isArray(s)?c=s.map(u=>`${l.keyPrefix}${A}${u}`):c=l.keyPrefix?`${l.keyPrefix}${A}${s}`:s,this.t(c,l)};return xt(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}t(...e){var t;return(t=this.translator)==null?void 0:t.translate(...e)}exists(...e){var t;return(t=this.translator)==null?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const A=this.services.backendConnector.state[`${o}|${l}`];return A===-1||A===0||A===2};if(t.precheck){const o=t.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,e)&&(!i||a(s,e)))}loadNamespaces(e,t){const n=pm();return this.options.ns?(xt(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),t&&t(i)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=pm();xt(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return s.length?(this.options.preload=i.concat(s),this.loadResources(a=>{n.resolve(),t&&t(a)}),n):(t&&t(),Promise.resolve())}dir(e){var i,s;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const a=new Intl.Locale(e);if(a&&a.getTextInfo){const o=a.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((s=this.services)==null?void 0:s.languageUtils)||new sN(cN());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new Z0(e,t)}cloneInstance(e={},t=Bw){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new Z0(i);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(o=>{s[o]=this[o]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n){const o=Object.keys(this.store.data).reduce((l,A)=>(l[A]={...this.store.data[A]},l[A]=Object.keys(l[A]).reduce((c,u)=>(c[u]={...l[A][u]},c),l[A]),l),{});s.store=new rN(o,i),s.services.resourceStore=s.store}return s.translator=new _b(s.services,i),s.translator.on("*",(o,...l)=>{s.emit(o,...l)}),s.init(i,t),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const yn=Z0.createInstance();yn.createInstance=Z0.createInstance;yn.createInstance;yn.dir;yn.init;yn.loadResources;yn.reloadResources;yn.use;yn.changeLanguage;yn.getFixedT;yn.t;yn.exists;yn.setDefaultNamespace;yn.hasLoadedNamespace;yn.loadNamespaces;yn.loadLanguages;const IH=(r,e,t,n)=>{var s,a,o,l;const i=[t,{code:e,...n||{}}];if((a=(s=r==null?void 0:r.services)==null?void 0:s.logger)!=null&&a.forward)return r.services.logger.forward(i,"warn","react-i18next::",!0);uh(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(l=(o=r==null?void 0:r.services)==null?void 0:o.logger)!=null&&l.warn?r.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},dN={},qC=(r,e,t,n)=>{uh(t)&&dN[t]||(uh(t)&&(dN[t]=new Date),IH(r,e,t,n))},I_=(r,e)=>()=>{if(r.isInitialized)e();else{const t=()=>{setTimeout(()=>{r.off("initialized",t)},0),e()};r.on("initialized",t)}},YC=(r,e,t)=>{r.loadNamespaces(e,I_(r,t))},hN=(r,e,t,n)=>{if(uh(t)&&(t=[t]),r.options.preload&&r.options.preload.indexOf(e)>-1)return YC(r,t,n);t.forEach(i=>{r.options.ns.indexOf(i)<0&&r.options.ns.push(i)}),r.loadLanguages(e,I_(r,n))},CH=(r,e,t={})=>!e.languages||!e.languages.length?(qC(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(r,{lng:t.lng,precheck:(n,i)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!i(n.isLanguageChangingTo,r))return!1}}),uh=r=>typeof r=="string",SH=r=>typeof r=="object"&&r!==null,FH=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,EH={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},LH=r=>EH[r],NH=r=>r.replace(FH,LH);let XC={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:NH};const kH=(r={})=>{XC={...XC,...r}},MH=()=>XC;let C_;const DH=r=>{C_=r},_H=()=>C_,UH={type:"3rdParty",init(r){kH(r.options.react),DH(r)}},PH=z.createContext();class TH{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const RH=(r,e)=>{const t=z.useRef();return z.useEffect(()=>{t.current=r},[r,e]),t.current},S_=(r,e,t,n)=>r.getFixedT(e,t,n),QH=(r,e,t,n)=>z.useCallback(S_(r,e,t,n),[r,e,t,n]),Xn=(r,e={})=>{var Q,V,Z,q;const{i18n:t}=e,{i18n:n,defaultNS:i}=z.useContext(PH)||{},s=t||n||_H();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new TH),!s){qC(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const G=(K,H)=>uh(H)?H:SH(H)&&uh(H.defaultValue)?H.defaultValue:Array.isArray(K)?K[K.length-1]:K,Y=[G,{},!1];return Y.t=G,Y.i18n={},Y.ready=!1,Y}(Q=s.options.react)!=null&&Q.wait&&qC(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...MH(),...s.options.react,...e},{useSuspense:o,keyPrefix:l}=a;let A=i||((V=s.options)==null?void 0:V.defaultNS);A=uh(A)?[A]:A||["translation"],(q=(Z=s.reportNamespaces).addUsedNamespaces)==null||q.call(Z,A);const c=(s.isInitialized||s.initializedStoreOnce)&&A.every(G=>CH(G,s,a)),u=QH(s,e.lng||null,a.nsMode==="fallback"?A:A[0],l),f=()=>u,p=()=>S_(s,e.lng||null,a.nsMode==="fallback"?A:A[0],l),[I,F]=z.useState(f);let D=A.join();e.lng&&(D=`${e.lng}${D}`);const C=RH(D),k=z.useRef(!0);z.useEffect(()=>{const{bindI18n:G,bindI18nStore:Y}=a;k.current=!0,!c&&!o&&(e.lng?hN(s,e.lng,A,()=>{k.current&&F(p)}):YC(s,A,()=>{k.current&&F(p)})),c&&C&&C!==D&&k.current&&F(p);const K=()=>{k.current&&F(p)};return G&&(s==null||s.on(G,K)),Y&&(s==null||s.store.on(Y,K)),()=>{k.current=!1,s&&G&&(G==null||G.split(" ").forEach(H=>s.off(H,K))),Y&&s&&Y.split(" ").forEach(H=>s.store.off(H,K))}},[s,D]),z.useEffect(()=>{k.current&&c&&F(f)},[s,l,c]);const U=[I,s,c];if(U.t=I,U.i18n=s,U.ready=c,c||!c&&!o)return U;throw new Promise(G=>{e.lng?hN(s,e.lng,A,()=>G()):YC(s,A,()=>G())})},{slice:OH,forEach:jH}=[];function HH(r){return jH.call(OH.call(arguments,1),e=>{if(e)for(const t in e)r[t]===void 0&&(r[t]=e[t])}),r}function WH(r){return typeof r!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(r))}const fN=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,KH=function(r,e){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let s=`${r}=${i}`;if(n.maxAge>0){const a=n.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");s+=`; Max-Age=${Math.floor(a)}`}if(n.domain){if(!fN.test(n.domain))throw new TypeError("option domain is invalid");s+=`; Domain=${n.domain}`}if(n.path){if(!fN.test(n.path))throw new TypeError("option path is invalid");s+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(s+="; Partitioned"),s},pN={create(r,e,t,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+t*60*1e3)),n&&(i.domain=n),document.cookie=KH(r,e,i)},read(r){const e=`${r}=`,t=document.cookie.split(";");for(let n=0;n<t.length;n++){let i=t[n];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(r,e){this.create(r,"",-1,e)}};var GH={name:"cookie",lookup(r){let{lookupCookie:e}=r;if(e&&typeof document<"u")return pN.read(e)||void 0},cacheUserLanguage(r,e){let{lookupCookie:t,cookieMinutes:n,cookieDomain:i,cookieOptions:s}=e;t&&typeof document<"u"&&pN.create(t,r,n,i,s)}},$H={name:"querystring",lookup(r){var n;let{lookupQuerystring:e}=r,t;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((n=window.location.hash)==null?void 0:n.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const a=i.substring(1).split("&");for(let o=0;o<a.length;o++){const l=a[o].indexOf("=");l>0&&a[o].substring(0,l)===e&&(t=a[o].substring(l+1))}}return t}},zH={name:"hash",lookup(r){var i;let{lookupHash:e,lookupFromHashIndex:t}=r,n;if(typeof window<"u"){const{hash:s}=window.location;if(s&&s.length>2){const a=s.substring(1);if(e){const o=a.split("&");for(let l=0;l<o.length;l++){const A=o[l].indexOf("=");A>0&&o[l].substring(0,A)===e&&(n=o[l].substring(A+1))}}if(n)return n;if(!n&&t>-1){const o=s.match(/\/([a-zA-Z-]*)/g);return Array.isArray(o)?(i=o[typeof t=="number"?t:0])==null?void 0:i.replace("/",""):void 0}}}return n}};let lf=null;const gN=()=>{if(lf!==null)return lf;try{if(lf=typeof window<"u"&&window.localStorage!==null,!lf)return!1;const r="i18next.translate.boo";window.localStorage.setItem(r,"foo"),window.localStorage.removeItem(r)}catch{lf=!1}return lf};var VH={name:"localStorage",lookup(r){let{lookupLocalStorage:e}=r;if(e&&gN())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(r,e){let{lookupLocalStorage:t}=e;t&&gN()&&window.localStorage.setItem(t,r)}};let Af=null;const mN=()=>{if(Af!==null)return Af;try{if(Af=typeof window<"u"&&window.sessionStorage!==null,!Af)return!1;const r="i18next.translate.boo";window.sessionStorage.setItem(r,"foo"),window.sessionStorage.removeItem(r)}catch{Af=!1}return Af};var qH={name:"sessionStorage",lookup(r){let{lookupSessionStorage:e}=r;if(e&&mN())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(r,e){let{lookupSessionStorage:t}=e;t&&mN()&&window.sessionStorage.setItem(t,r)}},YH={name:"navigator",lookup(r){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:n,language:i}=navigator;if(t)for(let s=0;s<t.length;s++)e.push(t[s]);n&&e.push(n),i&&e.push(i)}return e.length>0?e:void 0}},XH={name:"htmlTag",lookup(r){let{htmlTag:e}=r,t;const n=e||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(t=n.getAttribute("lang")),t}},JH={name:"path",lookup(r){var i;let{lookupFromPathIndex:e}=r;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?(i=t[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},ZH={name:"subdomain",lookup(r){var i,s;let{lookupFromSubdomainIndex:e}=r;const t=typeof e=="number"?e+1:1,n=typeof window<"u"&&((s=(i=window.location)==null?void 0:i.hostname)==null?void 0:s.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(n)return n[t]}};let F_=!1;try{document.cookie,F_=!0}catch{}const E_=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];F_||E_.splice(1,1);const e7=()=>({order:E_,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:r=>r});class L_{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=HH(t,this.options||{},e7()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(GH),this.addDetector($H),this.addDetector(VH),this.addDetector(qH),this.addDetector(YH),this.addDetector(XH),this.addDetector(JH),this.addDetector(ZH),this.addDetector(zH)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(n=>{if(this.detectors[n]){let i=this.detectors[n].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(t=t.concat(i))}}),t=t.filter(n=>n!=null&&!WH(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}L_.type="languageDetector";const t7={home:"Home",tournaments:"Tournaments",players:"Players",matches:"Matches"},r7={title:"Arm Wrestling Tournament Manager",description:"Manage your arm wrestling tournaments, players, and matches with ease",quickActions:"Quick Actions",createTournament:"Create Tournament",addPlayer:"Add Player",viewMatches:"View Matches",featuresTitle:"Why Choose Our Platform?",featuresSubtitle:"The ultimate platform for arm wrestling enthusiasts",features:{tournamentManagement:{title:"Tournament Management",description:"Organize professional armwrestling tournaments with custom weight classes and filters."},playerProfiles:{title:"Player Profiles",description:"Create detailed profiles, track performance, and manage hand preference and gender."},liveMatches:{title:"Live Matches",description:"Run live brackets, confirm winners, and follow real-time progress."},statsAnalytics:{title:"Statistics & Analytics",description:"View results and rankings; export players and generate PDFs."}},clickToProceed:"Click to proceed",intro:{title:"All-in-one platform for armwrestling tournaments",description:"Create tournaments with custom weight ranges, manage players with flexible filters, run live matches, and export localized PDFs with one click.",highlights:{reliableBrackets:"Reliable brackets & live progression",localizedPDF:"Localized PDF export & preview",flexibleFilters:"Flexible player filters (gender, hand, birth year)"}},steps:{title:"How it works",s1:{title:"Create a tournament",desc:"Set divisions by weight and optional filters."},s2:{title:"Add players",desc:"Import or add quickly, manage by division."},s3:{title:"Run matches",desc:"Start fixtures, confirm winners, view ranks."},s4:{title:"Export results",desc:"Generate localized PDFs and share."}},bottomCta:{title:"Ready to host your next Armwrestling event?",description:"Spin up a professional tournament in minutes with WrestleMania Pro.",primary:"Create a Tournament",secondary:"Manage Players"}},n7={intro:{title:"All-in-one platform for armwrestling tournaments",description:"Create tournaments with custom weight ranges, manage players with flexible filters, run live matches, and export localized PDFs with one click.",highlights:{reliableBrackets:"Reliable brackets & live progression",localizedPDF:"Localized PDF export & preview",flexibleFilters:"Flexible player filters (gender, hand, birth year)"}},steps:{title:"How it works",s1:{title:"Create a tournament",desc:"Set divisions by weight and optional filters."},s2:{title:"Add players",desc:"Import or add quickly, manage by division."},s3:{title:"Run matches",desc:"Start fixtures, confirm winners, view ranks."},s4:{title:"Export results",desc:"Generate localized PDFs and share."}},bottomCta:{title:"Ready to host your next Armwrestling event?",description:"Spin up a professional tournament in minutes with WrestleMania Pro.",primary:"Create a Tournament",secondary:"Manage Players"}},i7={title:"Tournaments",createTournament:"Create Tournament",editTournament:"Edit Tournament",deleteTournament:"Delete Tournament",tournamentName:"Tournament Name",startDate:"Start Date",endDate:"End Date",status:"Status",actions:"Actions",active:"Active",completed:"Completed",upcoming:"Upcoming",noTournaments:"No tournaments found",confirmDelete:"Are you sure you want to delete this tournament?",deleteSuccess:"Tournament deleted successfully",createSuccess:"Tournament created successfully",updateSuccess:"Tournament updated successfully",clearAllData:"Clear All Data",noTournamentsYet:"No tournaments yet",createFirstTournament:"Create your first tournament to get started",createFirstTournamentButton:"Create First Tournament",totalTournaments:"Total Tournaments",createNewTournament:"Create New Tournament",updateTournamentSettings:"Update your tournament settings and weight ranges",setupTournament:"Set up your tournament with custom weight ranges and filters",details:"Tournament Details",filters:"Tournament Filters",genderRestriction:"Gender Restriction",allGenders:"All Genders",handPreference:"Hand Preference",allHandPreferences:"All Hand Preferences",minBirthYear:"Min Birth Year",minBirthYearPlaceholder:"e.g., 1990",maxBirthYear:"Max Birth Year",maxBirthYearPlaceholder:"e.g., 2005",weightRanges:"Weight Ranges",addRange:"Add Range",range:"Range",divisionName:"Division Name",divisionNamePlaceholder:"e.g., Lightweight Division",minWeight:"Min Weight (kg)",minWeightPlaceholder:"40.0",maxWeight:"Max Weight (kg)",maxWeightPlaceholder:"50.0",rangeLabel:"Range: {{min}} - {{max}} kg",readyToSave:"✓ Ready to save changes",readyToCreate:"✓ Ready to create tournament",completeAllFields:"Please complete all fields",saveChanges:"Save Changes",tournamentNamePlaceholder:"e.g., Youth Men's Left Arm Championship"},s7={title:"Players",addPlayer:"Add Player",editPlayer:"Edit Player",deletePlayer:"Delete Player",playerName:"Player Name",weight:"Weight",age:"Age",rank:"Rank",wins:"Wins",losses:"Losses",actions:"Actions",searchPlayers:"Search players...",noPlayers:"No players found",confirmDelete:"Are you sure you want to delete this player?",deleteSuccess:"Player deleted successfully",createSuccess:"Player created successfully",updateSuccess:"Player updated successfully",addTestPlayers:"Add 5 Test Players",clearAllData:"Clear All Data",addColumn:"Add Column",exportJSON:"Export (JSON)",importJSON:"Import (JSON)",addNewColumn:"Add New Column",columnName:"Column name",totalPlayers:"Total Players",addRow:"Add Row",clearAllDataConfirm:"Are you sure you want to clear all player data? This action cannot be undone.",importSuccess:"Players successfully added and updated!",importError:"JSON could not be read or format is invalid: {error}",surname:"Surname",gender:"Gender",handPreference:"Hand Preference",birthday:"Birthday",city:"City",male:"Male",female:"Female",left:"Left",right:"Right",both:"Both",delete:"Delete",edit:"Edit",filters:"Filters",selectGender:"Select gender",name:"Name",addPlayerRow:"Add Player Row",all:"All",maleOnly:"Male Only",femaleOnly:"Female Only",leftHandOnly:"Left Hand Only",rightHandOnly:"Right Hand Only",activeMatches:"Active Matches",noActiveMatches:"No active matches",activeMatchesDescription:"View and manage active tournament matches",viewMatches:"View Matches",goToMatches:"Go to Matches"},a7={title:"Matches",activeFixtures:"Active Fixtures",completedMatches:"Completed Matches",player1:"Player 1",player2:"Player 2",winner:"Winner",status:"Status",date:"Date",actions:"Actions",pending:"Pending",inProgress:"In Progress",completed:"Completed",noMatches:"No matches found",startMatch:"Start Match",endMatch:"End Match",deleteMatch:"Delete Match",confirmDelete:"Are you sure you want to delete this match?",deleteSuccess:"Match deleted successfully",updateSuccess:"Match updated successfully",clearAllData:"Clear All Data",noActiveFixtures:"No active fixtures",startTournamentMessage:"Start a tournament from the Tournaments page to create a fixture",goToTournaments:"Go to Tournaments",deleteFixture:"Delete Fixture",deleteFixtureMessage:'Are you sure you want to delete "{fixtureName}"? This action cannot be undone.',cancel:"Cancel",totalFixtures:"Total Fixtures",fixture:"fixture",fixtures:"fixtures",available:"available",ready:"Ready",active:"Active",players:"players",updated:"Updated",tabActive:"Active Matches",tabCompleted:"Completed Matches",tabRankings:"Rankings",matchActive:"Match Active",matchWaiting:"Match Waiting",advancesToNextRound:"Advances to next round",matchInProgress:"MATCH IN PROGRESS",leftTable:"Left Table",rightTable:"Right Table",confirmWinner:"Confirm Winner",round:"Round",match:"Match",vs:"VS",bye:"BYE",loser:"Loser"},o7={searchPlayersPlaceholder:"Search player name...",hideByeMatches:"Hide BYE matches",showByeMatches:"Show BYE matches",headers:{matchNo:"Match No",bracket:"Bracket",loser:"Loser"}},l7={WB1:"Winner Bracket Round 1",WB2:"Winner Bracket Round 2",WB3:"Winner Bracket Round 3",WB4:"Winner Bracket Round 4",WB5:"Winner Bracket Round 5",WB6:"Winner Bracket Round 6",WB7:"Winner Bracket Round 7",WB8:"Winner Bracket Round 8",WB_QuarterFinal:"Winner Bracket Quarter Final",WB_SemiFinal:"Winner Bracket Semi Final",LB1:"Loser Bracket Round 1",LB2:"Loser Bracket Round 2",LB3:"Loser Bracket Round 3",LB4:"Loser Bracket Round 4",LB5:"Loser Bracket Round 5",LB6:"Loser Bracket Round 6",LB7:"Loser Bracket Round 7",LB8:"Loser Bracket Round 8",LB9:"Loser Bracket Round 9",LB10:"Loser Bracket Round 10",LB11:"Loser Bracket Round 11",LB12:"Loser Bracket Round 12",LB13:"Loser Bracket Round 13",LB14:"Loser Bracket Round 14",LB15:"Loser Bracket Round 15",LB_Final:"Loser Bracket Final","7-8":"7th/8th Place Match","5-6":"5th/6th Place Match","4-5":"4th/5th Place Match","3-4":"3rd/4th Place Match",Final:"Final",GrandFinal:"Grand Final"},A7={save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",add:"Add",close:"Close",loading:"Loading...",error:"Error",success:"Success",warning:"Warning",info:"Information",yes:"Yes",no:"No",ok:"OK"},c7={en:"English",tr:"Turkish"},u7={weightCategory:"weight category",weightCategories:"weight categories",confirmDeleteTournament:'Are you sure you want to delete the tournament "{{name}}"? This action cannot be undone.',managingPlayersFor:"Managing Players for {{name}}",weightRange:"Weight Range",exportJSON:"Export (JSON)",createPDF:"Create PDF",closePlayerManagement:"Close player management",availablePlayers:"Available Players ({{count}})",excludedPlayers:"Excluded Players ({{count}})",excludedPlayersDescription:"These players are excluded from this weight range but still exist in the main players list",playersAvailable:"players available",managePlayers:"Manage Players ({{count}})",startTournament:"Start Fixture",showResults:"Show Results",continueTournament:"In Progress",completed:"Completed",inProgress:"In Progress",paused:"Paused",pdfColumnSelection:"PDF Column Selection",selectColumnsForPDF:"Select the columns you want to appear in the PDF",playersPerPage:"Players Per Page",min:"Min",max:"Max",atLeastOneColumn:"You must select at least one column!",openPreview:"Open Preview",pdfPreview:"PDF Preview",downloadPDF:"Download PDF",returnToColumnSelection:"Return to Column Selection",previousPage:"Previous Page",page:"Page",nextPage:"Next Page",pdfSuccessMessage:`PDF created successfully!
File size: {{fileSize}}
Total pages: {{totalPages}}
Players per page: {{playersPerPage}}`,pdfErrorMessage:"An error occurred while creating the PDF."},d7={footer:"Arm Wrestling Tournament Management System"},h7={title:"Tournament Results",first:"1st Place",second:"2nd Place",third:"3rd Place",fourth:"4th Place",fifth:"5th Place",sixth:"6th Place",seventh:"7th Place",eighth:"8th Place"},f7={navigation:t7,home:r7,homeIntro:n7,tournaments:i7,players:s7,matches:a7,completedMatches:o7,rounds:l7,common:A7,language:c7,tournamentCard:u7,pdf:d7,rankings:h7},p7={home:"Ana Sayfa",tournaments:"Turnuvalar",players:"Oyuncular",matches:"Maçlar"},g7={title:"Bilek Güreşi Turnuva Yöneticisi",description:"Bilek güreşi turnuvalarınızı, oyuncularınızı ve maçlarınızı kolayca yönetin",quickActions:"Hızlı İşlemler",createTournament:"Turnuva Oluştur",addPlayer:"Oyuncu Ekle",viewMatches:"Maçları Görüntüle",featuresTitle:"Neden Bu Platform?",featuresSubtitle:"Bilek güreşi tutkunları için eksiksiz bir platform",features:{tournamentManagement:{title:"Turnuva Yönetimi",description:"Özel sıklet aralıkları ve filtrelerle profesyonel turnuvalar düzenleyin."},playerProfiles:{title:"Oyuncu Profilleri",description:"Detaylı profiller oluşturun, performansı takip edin, el tercihi ve cinsiyeti yönetin."},liveMatches:{title:"Canlı Maçlar",description:"Canlı braketleri yönetin, kazananları onaylayın, ilerlemeyi anlık takip edin."},statsAnalytics:{title:"İstatistik ve Analiz",description:"Sonuçlar ve sıralamaları görüntüleyin; oyuncuları dışa aktarın ve PDF oluşturun."}},clickToProceed:"Devam etmek için tıklayın",intro:{title:"Bilek güreşi turnuvaları için hepsi bir arada platform",description:"Özel sıklet aralıklarıyla turnuvalar oluşturun, esnek filtrelerle oyuncuları yönetin, canlı maçları yürütün ve tek tıkla yerelleştirilmiş PDF’ler oluşturun.",highlights:{reliableBrackets:"Güvenilir braketler ve canlı ilerleme",localizedPDF:"Yerelleştirilmiş PDF önizleme ve dışa aktarma",flexibleFilters:"Esnek oyuncu filtreleri (cinsiyet, el tercihi, doğum yılı)"}},steps:{title:"Nasıl çalışır",s1:{title:"Turnuva oluşturun",desc:"Sıklet ve isteğe bağlı filtreleri belirleyin."},s2:{title:"Oyuncu ekleyin",desc:"İçe aktarın veya hızlı ekleyin, klasmanlara göre yönetin."},s3:{title:"Maçları yürütün",desc:"Fikstürü başlatın, kazananları onaylayın, sıralamayı görün."},s4:{title:"Sonuçları dışa aktarın",desc:"Yerelleştirilmiş PDF’ler oluşturun ve paylaşın."}},bottomCta:{title:"Bir sonraki Bilek Güreşi etkinliğinize hazır mısınız?",description:"WrestleMania Pro ile dakikalar içinde profesyonel bir turnuva kurun.",primary:"Turnuva Oluştur",secondary:"Oyuncuları Yönet"}},m7={title:"Turnuvalar",deleteTournament:"Turnuvayı Sil",tournamentName:"Turnuva Adı",startDate:"Başlangıç Tarihi",endDate:"Bitiş Tarihi",status:"Durum",actions:"İşlemler",active:"Aktif",completed:"Tamamlandı",upcoming:"Yaklaşan",noTournaments:"Turnuva bulunamadı",confirmDelete:"Bu turnuvayı silmek istediğinizden emin misiniz?",deleteSuccess:"Turnuva başarıyla silindi",createSuccess:"Turnuva başarıyla oluşturuldu",updateSuccess:"Turnuva başarıyla güncellendi",clearAllData:"Tüm Verileri Temizle",noTournamentsYet:"Henüz turnuva yok",createFirstTournament:"Başlamak için ilk turnuvanızı oluşturun",createFirstTournamentButton:"İlk Turnuvayı Oluştur",totalTournaments:"Toplam Turnuva",createNewTournament:"Yeni Turnuva Oluştur",editTournament:"Turnuvayı Düzenle",updateTournamentSettings:"Turnuva ayarlarını ve sıklet aralıklarını güncelleyin",setupTournament:"Turnuvanızı özel sıklet aralıkları ve filtrelerle kurun",details:"Turnuva Detayları",filters:"Turnuva Filtreleri",genderRestriction:"Cinsiyet Kısıtlaması",allGenders:"Tüm Cinsiyetler",handPreference:"El Tercihi",allHandPreferences:"Tüm El Tercihleri",minBirthYear:"Min Doğum Yılı",minBirthYearPlaceholder:"örn. 1990",maxBirthYear:"Maks Doğum Yılı",maxBirthYearPlaceholder:"örn. 2005",weightRanges:"Sıklet Aralıkları",addRange:"Aralık Ekle",range:"Aralık",divisionName:"Klasman Adı",divisionNamePlaceholder:"örn. Hafif Sıklet",minWeight:"Min Kilo (kg)",minWeightPlaceholder:"40.0",maxWeight:"Maks Kilo (kg)",maxWeightPlaceholder:"50.0",rangeLabel:"Aralık: {{min}} - {{max}} kg",readyToSave:"✓ Kaydetmeye hazır",readyToCreate:"✓ Turnuva oluşturmaya hazır",completeAllFields:"Lütfen tüm alanları doldurun",saveChanges:"Değişiklikleri Kaydet",createTournament:"Turnuva Oluştur",tournamentNamePlaceholder:"örn. Gençler Sol Kol Şampiyonası",weightCategory:"sıklet kategorisi",weightCategories:"sıklet kategorisi",confirmDeleteTournament:'"{{name}}" turnuvasını silmek istediğinizden emin misiniz? Bu işlem geri alınamaz.',managingPlayersFor:"{{name}} için Oyuncu Yönetimi",weightRange:"Sıklet Aralığı",exportJSON:"Dışa Aktar (JSON)",createPDF:"PDF Oluştur",closePlayerManagement:"Oyuncu yönetimini kapat",availablePlayers:"Mevcut Oyuncular ({{count}})",excludedPlayers:"Hariç Tutulan Oyuncular ({{count}})",excludedPlayersDescription:"Bu oyuncular bu sıklet aralığından hariç tutulmuş ancak ana oyuncu listesinde hala mevcut",playersAvailable:"oyuncu mevcut",managePlayers:"Oyuncuları Yönet ({{count}})",startTournament:"Turnuvayı Başlat",showResults:"Sonuçları Göster",continueTournament:"Devam Et",inProgress:"Oynanıyor",paused:"Duraklatıldı",pdfColumnSelection:"PDF Kolon Seçimi",selectColumnsForPDF:"PDF'te görünmesini istediğiniz kolonları seçin",playersPerPage:"Sayfa Başına Oyuncu Sayısı",min:"Min",max:"Max",atLeastOneColumn:"En az bir kolon seçmelisiniz!",openPreview:"Önizleme Aç",pdfPreview:"PDF Önizleme",downloadPDF:"PDF İndir",returnToColumnSelection:"Kolon Seçimine Dön",previousPage:"Önceki Sayfa",page:"Sayfa",nextPage:"Sonraki Sayfa",pdfSuccessMessage:`PDF başarıyla oluşturuldu!
Dosya boyutu: {{fileSize}}
Toplam sayfa: {{totalPages}}
Sayfa başına oyuncu: {{playersPerPage}}`,pdfErrorMessage:"PDF oluşturulurken bir hata oluştu."},y7={weightCategory:"sıklet kategorisi",weightCategories:"sıklet kategorisi",confirmDeleteTournament:'"{{name}}" turnuvasını silmek istediğinizden emin misiniz? Bu işlem geri alınamaz.',managingPlayersFor:"{{name}} için Oyuncu Yönetimi",weightRange:"Sıklet Aralığı",exportJSON:"Dışa Aktar (JSON)",createPDF:"PDF Oluştur",closePlayerManagement:"Oyuncu yönetimini kapat",availablePlayers:"Mevcut Oyuncular ({{count}})",excludedPlayers:"Hariç Tutulan Oyuncular ({{count}})",excludedPlayersDescription:"Bu oyuncular bu sıklet aralığından hariç tutulmuş ancak ana oyuncu listesinde hala mevcut",playersAvailable:"oyuncu mevcut",managePlayers:"Oyuncuları Yönet ({{count}})",startTournament:"Fikstürü Başlat",showResults:"Sonuçları Göster",continueTournament:"Devam Ediyor",completed:"Tamamlandı",inProgress:"Oynanıyor",paused:"Duraklatıldı",pdfColumnSelection:"PDF Kolon Seçimi",selectColumnsForPDF:"PDF'te görünmesini istediğiniz kolonları seçin",playersPerPage:"Sayfa Başına Oyuncu Sayısı",min:"Min",max:"Max",atLeastOneColumn:"En az bir kolon seçmelisiniz!",openPreview:"Önizleme Aç",pdfPreview:"PDF Önizleme",downloadPDF:"PDF İndir",returnToColumnSelection:"Kolon Seçimine Dön",previousPage:"Önceki Sayfa",page:"Sayfa",nextPage:"Sonraki Sayfa",pdfSuccessMessage:`PDF başarıyla oluşturuldu!
Dosya boyutu: {{fileSize}}
Toplam sayfa: {{totalPages}}
Sayfa başına oyuncu: {{playersPerPage}}`,pdfErrorMessage:"PDF oluşturulurken bir hata oluştu."},w7={footer:"Bilek Güreşi Turnuva Yönetim Sistemi"},v7={title:"Oyuncular",addPlayer:"Oyuncu Ekle",editPlayer:"Oyuncuyu Düzenle",deletePlayer:"Oyuncuyu Sil",playerName:"Oyuncu Adı",weight:"Kilo",age:"Yaş",rank:"Sıralama",wins:"Galibiyet",losses:"Mağlubiyet",actions:"İşlemler",searchPlayers:"Oyuncu ara...",noPlayers:"Oyuncu bulunamadı",confirmDelete:"Bu oyuncuyu silmek istediğinizden emin misiniz?",deleteSuccess:"Oyuncu başarıyla silindi",createSuccess:"Oyuncu başarıyla eklendi",updateSuccess:"Oyuncu başarıyla güncellendi",addTestPlayers:"5 Test Oyuncusu Ekle",clearAllData:"Tüm Verileri Temizle",addColumn:"Sütun Ekle",exportJSON:"Dışa Aktar (JSON)",importJSON:"İçe Aktar (JSON)",addNewColumn:"Yeni Sütun Ekle",columnName:"Sütun adı",totalPlayers:"Toplam Oyuncu",addRow:"Satır Ekle",clearAllDataConfirm:"Tüm oyuncu verilerini temizlemek istediğinizden emin misiniz? Bu işlem geri alınamaz.",importSuccess:"Oyuncular başarıyla eklendi ve güncellendi!",importError:"JSON okunamadı veya format hatalı: {error}",surname:"Soyad",gender:"Cinsiyet",handPreference:"El Tercihi",birthday:"Doğum Tarihi",city:"Şehir",male:"Erkek",female:"Kadın",left:"Sol",right:"Sağ",both:"Her İkisi",delete:"Sil",edit:"Düzenle",filters:"Filtreler",selectGender:"Cinsiyet seç",name:"Ad",min:"Min",max:"Maks",clear:"Temizle",enterName:"Ad girin",enterSurname:"Soyad girin",enterWeight:"Kilo girin",enterCity:"Şehir girin",enterBirthday:"Doğum tarihi girin",addPlayerRow:"Oyuncu Satırı Ekle",all:"Tümü",maleOnly:"Sadece Erkek",femaleOnly:"Sadece Kadın",leftHandOnly:"Sadece Sol El",rightHandOnly:"Sadece Sağ El",activeMatches:"Aktif Maçlar",noActiveMatches:"Aktif maç yok",activeMatchesDescription:"Aktif turnuva maçlarını görüntüleyin ve yönetin",viewMatches:"Maçları Görüntüle",goToMatches:"Maçlara Git"},b7={title:"Maçlar",activeFixtures:"Aktif Fikstürler",completedMatches:"Tamamlanan Maçlar",player1:"Oyuncu 1",player2:"Oyuncu 2",winner:"Kazanan",status:"Durum",date:"Tarih",actions:"İşlemler",pending:"Beklemede",inProgress:"Devam Ediyor",completed:"Tamamlandı",noMatches:"Maç bulunamadı",startMatch:"Maçı Başlat",endMatch:"Maçı Bitir",deleteMatch:"Maçı Sil",confirmDelete:"Bu maçı silmek istediğinizden emin misiniz?",deleteSuccess:"Maç başarıyla silindi",updateSuccess:"Maç başarıyla güncellendi",clearAllData:"Tüm Verileri Temizle",noActiveFixtures:"Aktif fikstür yok",startTournamentMessage:"Fikstür oluşturmak için Turnuvalar sayfasından bir turnuva başlatın",goToTournaments:"Turnuvalara Git",deleteFixture:"Fikstürü Sil",deleteFixtureMessage:'"{fixtureName}" fikstürünü silmek istediğinizden emin misiniz? Bu işlem geri alınamaz.',cancel:"İptal",totalFixtures:"Toplam Fikstür",fixture:"fikstür",fixtures:"fikstür",available:"mevcut",ready:"Hazır",active:"Aktif",players:"oyuncu",updated:"Güncellendi",tabActive:"Aktif Maçlar",tabCompleted:"Oynanmış Maçlar",tabRankings:"Sıralama",matchActive:"Maç Aktif",matchWaiting:"Maç Bekliyor",advancesToNextRound:"Sonraki tura geçer",matchInProgress:"MAÇ SAHADA DEVAM EDİYOR",leftTable:"Sol Masa",rightTable:"Sağ Masa",confirmWinner:"Kazananı Onayla",round:"Tur",match:"Maç",vs:"VS",bye:"BAY",loser:"Kaybeden"},B7={searchPlayersPlaceholder:"Oyuncu adı ara...",hideByeMatches:"BAY maçlarını gizle",showByeMatches:"BAY maçlarını göster",headers:{matchNo:"Maç No",bracket:"Braket",loser:"Kaybeden"}},x7={WB1:"Kazananlar Braketi 1. Tur",WB2:"Kazananlar Braketi 2. Tur",WB3:"Kazananlar Braketi 3. Tur",WB4:"Kazananlar Braketi 4. Tur",WB5:"Kazananlar Braketi 5. Tur",WB6:"Kazananlar Braketi 6. Tur",WB7:"Kazananlar Braketi 7. Tur",WB8:"Kazananlar Braketi 8. Tur",WB_QuarterFinal:"Kazananlar Braketi Çeyrek Final",WB_SemiFinal:"Kazananlar Braketi Yarı Final",LB1:"Kaybedenler Braketi 1. Tur",LB2:"Kaybedenler Braketi 2. Tur",LB3:"Kaybedenler Braketi 3. Tur",LB4:"Kaybedenler Braketi 4. Tur",LB5:"Kaybedenler Braketi 5. Tur",LB6:"Kaybedenler Braketi 6. Tur",LB7:"Kaybedenler Braketi 7. Tur",LB8:"Kaybedenler Braketi 8. Tur",LB9:"Kaybedenler Braketi 9. Tur",LB10:"Kaybedenler Braketi 10. Tur",LB11:"Kaybedenler Braketi 11. Tur",LB12:"Kaybedenler Braketi 12. Tur",LB13:"Kaybedenler Braketi 13. Tur",LB14:"Kaybedenler Braketi 14. Tur",LB15:"Kaybedenler Braketi 15. Tur",LB_Final:"Kaybedenler Braketi Final","7-8":"7./8.'lik Maçı","5-6":"5./6.'lık Maçı","4-5":"4./5.'lik Maçı","3-4":"3./4.'lük Maçı",Final:"Final",GrandFinal:"Büyük Final"},I7={save:"Kaydet",cancel:"İptal",delete:"Sil",edit:"Düzenle",add:"Ekle",close:"Kapat",loading:"Yükleniyor...",error:"Hata",success:"Başarılı",warning:"Uyarı",info:"Bilgi",yes:"Evet",no:"Hayır",ok:"Tamam"},C7={en:"İngilizce",tr:"Türkçe"},S7={title:"Turnuva Sonuçları",first:"1. Sıra",second:"2. Sıra",third:"3. Sıra",fourth:"4. Sıra",fifth:"5. Sıra",sixth:"6. Sıra",seventh:"7. Sıra",eighth:"8. Sıra"},F7={navigation:p7,home:g7,tournaments:m7,tournamentCard:y7,pdf:w7,players:v7,matches:b7,completedMatches:B7,rounds:x7,common:I7,language:C7,rankings:S7},E7={en:{translation:f7},tr:{translation:F7}};yn.use(L_).use(UH).init({resources:E7,fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]},react:{useSuspense:!1}});var oE={};Object.defineProperty(oE,"__esModule",{value:!0});oE.parse=U7;oE.serialize=P7;const L7=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,N7=/^[\u0021-\u003A\u003C-\u007E]*$/,k7=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,M7=/^[\u0020-\u003A\u003D-\u007E]*$/,D7=Object.prototype.toString,_7=(()=>{const r=function(){};return r.prototype=Object.create(null),r})();function U7(r,e){const t=new _7,n=r.length;if(n<2)return t;const i=(e==null?void 0:e.decode)||T7;let s=0;do{const a=r.indexOf("=",s);if(a===-1)break;const o=r.indexOf(";",s),l=o===-1?n:o;if(a>l){s=r.lastIndexOf(";",a-1)+1;continue}const A=yN(r,s,a),c=wN(r,a,A),u=r.slice(A,c);if(t[u]===void 0){let f=yN(r,a+1,l),p=wN(r,l,f);const I=i(r.slice(f,p));t[u]=I}s=l+1}while(s<n);return t}function yN(r,e,t){do{const n=r.charCodeAt(e);if(n!==32&&n!==9)return e}while(++e<t);return t}function wN(r,e,t){for(;e>t;){const n=r.charCodeAt(--e);if(n!==32&&n!==9)return e+1}return t}function P7(r,e,t){const n=(t==null?void 0:t.encode)||encodeURIComponent;if(!L7.test(r))throw new TypeError(`argument name is invalid: ${r}`);const i=n(e);if(!N7.test(i))throw new TypeError(`argument val is invalid: ${e}`);let s=r+"="+i;if(!t)return s;if(t.maxAge!==void 0){if(!Number.isInteger(t.maxAge))throw new TypeError(`option maxAge is invalid: ${t.maxAge}`);s+="; Max-Age="+t.maxAge}if(t.domain){if(!k7.test(t.domain))throw new TypeError(`option domain is invalid: ${t.domain}`);s+="; Domain="+t.domain}if(t.path){if(!M7.test(t.path))throw new TypeError(`option path is invalid: ${t.path}`);s+="; Path="+t.path}if(t.expires){if(!R7(t.expires)||!Number.isFinite(t.expires.valueOf()))throw new TypeError(`option expires is invalid: ${t.expires}`);s+="; Expires="+t.expires.toUTCString()}if(t.httpOnly&&(s+="; HttpOnly"),t.secure&&(s+="; Secure"),t.partitioned&&(s+="; Partitioned"),t.priority)switch(typeof t.priority=="string"?t.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${t.priority}`)}if(t.sameSite)switch(typeof t.sameSite=="string"?t.sameSite.toLowerCase():t.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${t.sameSite}`)}return s}function T7(r){if(r.indexOf("%")===-1)return r;try{return decodeURIComponent(r)}catch{return r}}function R7(r){return D7.call(r)==="[object Date]"}var vN="popstate";function Q7(r={}){function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return JC("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:e1(i)}return j7(e,t,null,r)}function Hr(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Bo(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function O7(){return Math.random().toString(36).substring(2,10)}function bN(r,e){return{usr:r.state,key:r.key,idx:e}}function JC(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Cg(e):e,state:t,key:e&&e.key||n||O7()}}function e1({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Cg(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function j7(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o="POP",l=null,A=c();A==null&&(A=0,a.replaceState({...a.state,idx:A},""));function c(){return(a.state||{idx:null}).idx}function u(){o="POP";let D=c(),C=D==null?null:D-A;A=D,l&&l({action:o,location:F.location,delta:C})}function f(D,C){o="PUSH";let k=JC(F.location,D,C);A=c()+1;let U=bN(k,A),Q=F.createHref(k);try{a.pushState(U,"",Q)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(Q)}s&&l&&l({action:o,location:F.location,delta:1})}function p(D,C){o="REPLACE";let k=JC(F.location,D,C);A=c();let U=bN(k,A),Q=F.createHref(k);a.replaceState(U,"",Q),s&&l&&l({action:o,location:F.location,delta:0})}function I(D){return H7(D)}let F={get action(){return o},get location(){return r(i,a)},listen(D){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(vN,u),l=D,()=>{i.removeEventListener(vN,u),l=null}},createHref(D){return e(i,D)},createURL:I,encodeLocation(D){let C=I(D);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:f,replace:p,go(D){return a.go(D)}};return F}function H7(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Hr(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:e1(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function N_(r,e,t="/"){return W7(r,e,t,!1)}function W7(r,e,t,n){let i=typeof e=="string"?Cg(e):e,s=MA(i.pathname||"/",t);if(s==null)return null;let a=k_(r);K7(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let A=tW(s);o=Z7(a[l],A,n)}return o}function k_(r,e=[],t=[],n=""){let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Hr(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length));let A=IA([n,l.relativePath]),c=t.concat(l);s.children&&s.children.length>0&&(Hr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),k_(s.children,e,c,A)),!(s.path==null&&!s.index)&&e.push({path:A,score:X7(A,s.index),routesMeta:c})};return r.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of M_(s.path))i(s,a,l)}),e}function M_(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=M_(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>r.startsWith("/")&&l===""?"/":l)}function K7(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:J7(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var G7=/^:[\w-]+$/,$7=3,z7=2,V7=1,q7=10,Y7=-2,BN=r=>r==="*";function X7(r,e){let t=r.split("/"),n=t.length;return t.some(BN)&&(n+=Y7),e&&(n+=z7),t.filter(i=>!BN(i)).reduce((i,s)=>i+(G7.test(s)?$7:s===""?V7:q7),n)}function J7(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function Z7(r,e,t=!1){let{routesMeta:n}=r,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],A=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",u=Ub({path:l.relativePath,caseSensitive:l.caseSensitive,end:A},c),f=l.route;if(!u&&A&&t&&!n[n.length-1].route.index&&(u=Ub({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:IA([s,u.pathname]),pathnameBase:sW(IA([s,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(s=IA([s,u.pathnameBase]))}return a}function Ub(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=eW(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((A,{paramName:c,isOptional:u},f)=>{if(c==="*"){let I=o[f]||"";a=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const p=o[f];return u&&!p?A[c]=void 0:A[c]=(p||"").replace(/%2F/g,"/"),A},{}),pathname:s,pathnameBase:a,pattern:r}}function eW(r,e=!1,t=!0){Bo(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function tW(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bo(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function MA(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function rW(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?Cg(r):r;return{pathname:t?t.startsWith("/")?t:nW(t,e):e,search:aW(n),hash:oW(i)}}function nW(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Z5(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iW(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function D_(r){let e=iW(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function __(r,e,t,n=!1){let i;typeof r=="string"?i=Cg(r):(i={...r},Hr(!i.pathname||!i.pathname.includes("?"),Z5("?","pathname","search",i)),Hr(!i.pathname||!i.pathname.includes("#"),Z5("#","pathname","hash",i)),Hr(!i.search||!i.search.includes("#"),Z5("#","search","hash",i)));let s=r===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=t;else{let u=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),u-=1;i.pathname=f.join("/")}o=u>=0?e[u]:"/"}let l=rW(i,o),A=a&&a!=="/"&&a.endsWith("/"),c=(s||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(A||c)&&(l.pathname+="/"),l}var IA=r=>r.join("/").replace(/\/\/+/g,"/"),sW=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),aW=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,oW=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function lW(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var U_=["POST","PUT","PATCH","DELETE"];new Set(U_);var AW=["GET",...U_];new Set(AW);var Sg=z.createContext(null);Sg.displayName="DataRouter";var qB=z.createContext(null);qB.displayName="DataRouterState";var P_=z.createContext({isTransitioning:!1});P_.displayName="ViewTransition";var cW=z.createContext(new Map);cW.displayName="Fetchers";var uW=z.createContext(null);uW.displayName="Await";var wl=z.createContext(null);wl.displayName="Navigation";var $2=z.createContext(null);$2.displayName="Location";var vl=z.createContext({outlet:null,matches:[],isDataRoute:!1});vl.displayName="Route";var lE=z.createContext(null);lE.displayName="RouteError";function dW(r,{relative:e}={}){Hr(z2(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=z.useContext(wl),{hash:i,pathname:s,search:a}=V2(r,{relative:e}),o=s;return t!=="/"&&(o=s==="/"?t:IA([t,s])),n.createHref({pathname:o,search:a,hash:i})}function z2(){return z.useContext($2)!=null}function PA(){return Hr(z2(),"useLocation() may be used only in the context of a <Router> component."),z.useContext($2).location}var T_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function R_(r){z.useContext(wl).static||z.useLayoutEffect(r)}function YB(){let{isDataRoute:r}=z.useContext(vl);return r?FW():hW()}function hW(){Hr(z2(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(Sg),{basename:e,navigator:t}=z.useContext(wl),{matches:n}=z.useContext(vl),{pathname:i}=PA(),s=JSON.stringify(D_(n)),a=z.useRef(!1);return R_(()=>{a.current=!0}),z.useCallback((l,A={})=>{if(Bo(a.current,T_),!a.current)return;if(typeof l=="number"){t.go(l);return}let c=__(l,JSON.parse(s),i,A.relative==="path");r==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:IA([e,c.pathname])),(A.replace?t.replace:t.push)(c,A.state,A)},[e,t,s,i,r])}var fW=z.createContext(null);function pW(r){let e=z.useContext(vl).outlet;return e&&z.createElement(fW.Provider,{value:r},e)}function V2(r,{relative:e}={}){let{matches:t}=z.useContext(vl),{pathname:n}=PA(),i=JSON.stringify(D_(t));return z.useMemo(()=>__(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function gW(r,e){return Q_(r,e)}function Q_(r,e,t,n){var k;Hr(z2(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=z.useContext(wl),{matches:a}=z.useContext(vl),o=a[a.length-1],l=o?o.params:{},A=o?o.pathname:"/",c=o?o.pathnameBase:"/",u=o&&o.route;{let U=u&&u.path||"";O_(A,!u||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${A}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let f=PA(),p;if(e){let U=typeof e=="string"?Cg(e):e;Hr(c==="/"||((k=U.pathname)==null?void 0:k.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${U.pathname}" was given in the \`location\` prop.`),p=U}else p=f;let I=p.pathname||"/",F=I;if(c!=="/"){let U=c.replace(/^\//,"").split("/");F="/"+I.replace(/^\//,"").split("/").slice(U.length).join("/")}let D=!s&&t&&t.matches&&t.matches.length>0?t.matches:N_(r,{pathname:F});Bo(u||D!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Bo(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=bW(D&&D.map(U=>Object.assign({},U,{params:Object.assign({},l,U.params),pathname:IA([c,i.encodeLocation?i.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?c:IA([c,i.encodeLocation?i.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),a,t,n);return e&&C?z.createElement($2.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},C):C}function mW(){let r=SW(),e=lW(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",r),a=z.createElement(z.Fragment,null,z.createElement("p",null,"💿 Hey developer 👋"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:s},"ErrorBoundary")," or"," ",z.createElement("code",{style:s},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:i},t):null,a)}var yW=z.createElement(mW,null),wW=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?z.createElement(vl.Provider,{value:this.props.routeContext},z.createElement(lE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vW({routeContext:r,match:e,children:t}){let n=z.useContext(Sg);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(vl.Provider,{value:r},t)}function bW(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let i=r,s=t==null?void 0:t.errors;if(s!=null){let l=i.findIndex(A=>A.route.id&&(s==null?void 0:s[A.route.id])!==void 0);Hr(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let a=!1,o=-1;if(t)for(let l=0;l<i.length;l++){let A=i[l];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(o=l),A.route.id){let{loaderData:c,errors:u}=t,f=A.route.loader&&!c.hasOwnProperty(A.route.id)&&(!u||u[A.route.id]===void 0);if(A.route.lazy||f){a=!0,o>=0?i=i.slice(0,o+1):i=[i[0]];break}}}return i.reduceRight((l,A,c)=>{let u,f=!1,p=null,I=null;t&&(u=s&&A.route.id?s[A.route.id]:void 0,p=A.route.errorElement||yW,a&&(o<0&&c===0?(O_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,I=null):o===c&&(f=!0,I=A.route.hydrateFallbackElement||null)));let F=e.concat(i.slice(0,c+1)),D=()=>{let C;return u?C=p:f?C=I:A.route.Component?C=z.createElement(A.route.Component,null):A.route.element?C=A.route.element:C=l,z.createElement(vW,{match:A,routeContext:{outlet:l,matches:F,isDataRoute:t!=null},children:C})};return t&&(A.route.ErrorBoundary||A.route.errorElement||c===0)?z.createElement(wW,{location:t.location,revalidation:t.revalidation,component:p,error:u,children:D(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):D()},null)}function AE(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BW(r){let e=z.useContext(Sg);return Hr(e,AE(r)),e}function xW(r){let e=z.useContext(qB);return Hr(e,AE(r)),e}function IW(r){let e=z.useContext(vl);return Hr(e,AE(r)),e}function cE(r){let e=IW(r),t=e.matches[e.matches.length-1];return Hr(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function CW(){return cE("useRouteId")}function SW(){var n;let r=z.useContext(lE),e=xW("useRouteError"),t=cE("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function FW(){let{router:r}=BW("useNavigate"),e=cE("useNavigate"),t=z.useRef(!1);return R_(()=>{t.current=!0}),z.useCallback(async(i,s={})=>{Bo(t.current,T_),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...s}))},[r,e])}var xN={};function O_(r,e,t){!e&&!xN[r]&&(xN[r]=!0,Bo(!1,t))}z.memo(EW);function EW({routes:r,future:e,state:t}){return Q_(r,void 0,t,e)}function LW(r){return pW(r.context)}function wf(r){Hr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NW({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:s=!1}){Hr(!z2(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=r.replace(/^\/*/,"/"),o=z.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof t=="string"&&(t=Cg(t));let{pathname:l="/",search:A="",hash:c="",state:u=null,key:f="default"}=t,p=z.useMemo(()=>{let I=MA(l,a);return I==null?null:{location:{pathname:I,search:A,hash:c,state:u,key:f},navigationType:n}},[a,l,A,c,u,f,n]);return Bo(p!=null,`<Router basename="${a}"> is not able to match the URL "${l}${A}${c}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:z.createElement(wl.Provider,{value:o},z.createElement($2.Provider,{children:e,value:p}))}function kW({children:r,location:e}){return gW(ZC(r),e)}function ZC(r,e=[]){let t=[];return z.Children.forEach(r,(n,i)=>{if(!z.isValidElement(n))return;let s=[...e,i];if(n.type===z.Fragment){t.push.apply(t,ZC(n.props.children,s));return}Hr(n.type===wf,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Hr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=ZC(n.props.children,s)),t.push(a)}),t}var bv="get",Bv="application/x-www-form-urlencoded";function XB(r){return r!=null&&typeof r.tagName=="string"}function MW(r){return XB(r)&&r.tagName.toLowerCase()==="button"}function DW(r){return XB(r)&&r.tagName.toLowerCase()==="form"}function _W(r){return XB(r)&&r.tagName.toLowerCase()==="input"}function UW(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function PW(r,e){return r.button===0&&(!e||e==="_self")&&!UW(r)}function eS(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,t)=>{let n=r[t];return e.concat(Array.isArray(n)?n.map(i=>[t,i]):[[t,n]])},[]))}function TW(r,e){let t=eS(r);return e&&e.forEach((n,i)=>{t.has(i)||e.getAll(i).forEach(s=>{t.append(i,s)})}),t}var xw=null;function RW(){if(xw===null)try{new FormData(document.createElement("form"),0),xw=!1}catch{xw=!0}return xw}var QW=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function eI(r){return r!=null&&!QW.has(r)?(Bo(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bv}"`),null):r}function OW(r,e){let t,n,i,s,a;if(DW(r)){let o=r.getAttribute("action");n=o?MA(o,e):null,t=r.getAttribute("method")||bv,i=eI(r.getAttribute("enctype"))||Bv,s=new FormData(r)}else if(MW(r)||_W(r)&&(r.type==="submit"||r.type==="image")){let o=r.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=r.getAttribute("formaction")||o.getAttribute("action");if(n=l?MA(l,e):null,t=r.getAttribute("formmethod")||o.getAttribute("method")||bv,i=eI(r.getAttribute("formenctype"))||eI(o.getAttribute("enctype"))||Bv,s=new FormData(o,r),!RW()){let{name:A,type:c,value:u}=r;if(c==="image"){let f=A?`${A}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else A&&s.append(A,u)}}else{if(XB(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=bv,n=null,i=Bv,a=r}return s&&i==="text/plain"&&(a=s,s=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:s,body:a}}function uE(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function jW(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HW(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function WW(r,e,t){let n=await Promise.all(r.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await jW(s,t);return a.links?a.links():[]}return[]}));return zW(n.flat(1).filter(HW).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function IN(r,e,t,n,i,s){let a=(l,A)=>t[A]?l.route.id!==t[A].route.id:!0,o=(l,A)=>{var c;return t[A].pathname!==l.pathname||((c=t[A].route.path)==null?void 0:c.endsWith("*"))&&t[A].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,A)=>a(l,A)||o(l,A)):s==="data"?e.filter((l,A)=>{var u;let c=n.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(a(l,A)||o(l,A))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((u=t[0])==null?void 0:u.params)||{},nextUrl:new URL(r,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function KW(r,e,{includeHydrateFallback:t}={}){return GW(r.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function GW(r){return[...new Set(r)]}function $W(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function zW(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let s=JSON.stringify($W(i));return t.has(s)||(t.add(s),n.push({key:s,link:i})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var VW=new Set([100,101,204,205]);function qW(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&MA(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function j_(){let r=z.useContext(Sg);return uE(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function YW(){let r=z.useContext(qB);return uE(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var dE=z.createContext(void 0);dE.displayName="FrameworkContext";function H_(){let r=z.useContext(dE);return uE(r,"You must render this element inside a <HydratedRouter> element"),r}function XW(r,e){let t=z.useContext(dE),[n,i]=z.useState(!1),[s,a]=z.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:A,onMouseLeave:c,onTouchStart:u}=e,f=z.useRef(null);z.useEffect(()=>{if(r==="render"&&a(!0),r==="viewport"){let F=C=>{C.forEach(k=>{a(k.isIntersecting)})},D=new IntersectionObserver(F,{threshold:.5});return f.current&&D.observe(f.current),()=>{D.disconnect()}}},[r]),z.useEffect(()=>{if(n){let F=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(F)}}},[n]);let p=()=>{i(!0)},I=()=>{i(!1),a(!1)};return t?r!=="intent"?[s,f,{}]:[s,f,{onFocus:gm(o,p),onBlur:gm(l,I),onMouseEnter:gm(A,p),onMouseLeave:gm(c,I),onTouchStart:gm(u,p)}]:[!1,f,{}]}function gm(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function JW({page:r,...e}){let{router:t}=j_(),n=z.useMemo(()=>N_(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?z.createElement(e9,{page:r,matches:n,...e}):null}function ZW(r){let{manifest:e,routeModules:t}=H_(),[n,i]=z.useState([]);return z.useEffect(()=>{let s=!1;return WW(r,e,t).then(a=>{s||i(a)}),()=>{s=!0}},[r,e,t]),n}function e9({page:r,matches:e,...t}){let n=PA(),{manifest:i,routeModules:s}=H_(),{basename:a}=j_(),{loaderData:o,matches:l}=YW(),A=z.useMemo(()=>IN(r,e,l,i,n,"data"),[r,e,l,i,n]),c=z.useMemo(()=>IN(r,e,l,i,n,"assets"),[r,e,l,i,n]),u=z.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let I=new Set,F=!1;if(e.forEach(C=>{var U;let k=i.routes[C.route.id];!k||!k.hasLoader||(!A.some(Q=>Q.route.id===C.route.id)&&C.route.id in o&&((U=s[C.route.id])!=null&&U.shouldRevalidate)||k.hasClientLoader?F=!0:I.add(C.route.id))}),I.size===0)return[];let D=qW(r,a);return F&&I.size>0&&D.searchParams.set("_routes",e.filter(C=>I.has(C.route.id)).map(C=>C.route.id).join(",")),[D.pathname+D.search]},[a,o,n,i,A,e,r,s]),f=z.useMemo(()=>KW(c,i),[c,i]),p=ZW(c);return z.createElement(z.Fragment,null,u.map(I=>z.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),f.map(I=>z.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),p.map(({key:I,link:F})=>z.createElement("link",{key:I,...F})))}function t9(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var W_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{W_&&(window.__reactRouterVersion="7.6.0")}catch{}function r9({basename:r,children:e,window:t}){let n=z.useRef();n.current==null&&(n.current=Q7({window:t,v5Compat:!0}));let i=n.current,[s,a]=z.useState({action:i.action,location:i.location}),o=z.useCallback(l=>{z.startTransition(()=>a(l))},[a]);return z.useLayoutEffect(()=>i.listen(o),[i,o]),z.createElement(NW,{basename:r,children:e,location:s.location,navigationType:s.action,navigator:i})}var K_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zi=z.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:s,replace:a,state:o,target:l,to:A,preventScrollReset:c,viewTransition:u,...f},p){let{basename:I}=z.useContext(wl),F=typeof A=="string"&&K_.test(A),D,C=!1;if(typeof A=="string"&&F&&(D=A,W_))try{let Y=new URL(window.location.href),K=A.startsWith("//")?new URL(Y.protocol+A):new URL(A),H=MA(K.pathname,I);K.origin===Y.origin&&H!=null?A=H+K.search+K.hash:C=!0}catch{Bo(!1,`<Link to="${A}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=dW(A,{relative:i}),[U,Q,V]=XW(n,f),Z=a9(A,{replace:a,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:u});function q(Y){e&&e(Y),Y.defaultPrevented||Z(Y)}let G=z.createElement("a",{...f,...V,href:D||k,onClick:C||s?e:q,ref:t9(p,Q),target:l,"data-discover":!F&&t==="render"?"true":void 0});return U&&!F?z.createElement(z.Fragment,null,G,z.createElement(JW,{page:k})):G});Zi.displayName="Link";var n9=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...A},c){let u=V2(a,{relative:A.relative}),f=PA(),p=z.useContext(qB),{navigator:I,basename:F}=z.useContext(wl),D=p!=null&&d9(u)&&o===!0,C=I.encodeLocation?I.encodeLocation(u).pathname:u.pathname,k=f.pathname,U=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;t||(k=k.toLowerCase(),U=U?U.toLowerCase():null,C=C.toLowerCase()),U&&F&&(U=MA(U,F)||U);const Q=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let V=k===C||!i&&k.startsWith(C)&&k.charAt(Q)==="/",Z=U!=null&&(U===C||!i&&U.startsWith(C)&&U.charAt(C.length)==="/"),q={isActive:V,isPending:Z,isTransitioning:D},G=V?e:void 0,Y;typeof n=="function"?Y=n(q):Y=[n,V?"active":null,Z?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let K=typeof s=="function"?s(q):s;return z.createElement(Zi,{...A,"aria-current":G,className:Y,ref:c,style:K,to:a,viewTransition:o},typeof l=="function"?l(q):l)});n9.displayName="NavLink";var i9=z.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:s,method:a=bv,action:o,onSubmit:l,relative:A,preventScrollReset:c,viewTransition:u,...f},p)=>{let I=c9(),F=u9(o,{relative:A}),D=a.toLowerCase()==="get"?"get":"post",C=typeof o=="string"&&K_.test(o),k=U=>{if(l&&l(U),U.defaultPrevented)return;U.preventDefault();let Q=U.nativeEvent.submitter,V=(Q==null?void 0:Q.getAttribute("formmethod"))||a;I(Q||U.currentTarget,{fetcherKey:e,method:V,navigate:t,replace:i,state:s,relative:A,preventScrollReset:c,viewTransition:u})};return z.createElement("form",{ref:p,method:D,action:F,onSubmit:n?l:k,...f,"data-discover":!C&&r==="render"?"true":void 0})});i9.displayName="Form";function s9(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G_(r){let e=z.useContext(Sg);return Hr(e,s9(r)),e}function a9(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:s,viewTransition:a}={}){let o=YB(),l=PA(),A=V2(r,{relative:s});return z.useCallback(c=>{if(PW(c,e)){c.preventDefault();let u=t!==void 0?t:e1(l)===e1(A);o(r,{replace:u,state:n,preventScrollReset:i,relative:s,viewTransition:a})}},[l,o,A,t,n,e,r,i,s,a])}function o9(r){Bo(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=z.useRef(eS(r)),t=z.useRef(!1),n=PA(),i=z.useMemo(()=>TW(n.search,t.current?null:e.current),[n.search]),s=YB(),a=z.useCallback((o,l)=>{const A=eS(typeof o=="function"?o(i):o);t.current=!0,s("?"+A,l)},[s,i]);return[i,a]}var l9=0,A9=()=>`__${String(++l9)}__`;function c9(){let{router:r}=G_("useSubmit"),{basename:e}=z.useContext(wl),t=CW();return z.useCallback(async(n,i={})=>{let{action:s,method:a,encType:o,formData:l,body:A}=OW(n,e);if(i.navigate===!1){let c=i.fetcherKey||A9();await r.fetch(c,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:A,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await r.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:A,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function u9(r,{relative:e}={}){let{basename:t}=z.useContext(wl),n=z.useContext(vl);Hr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...V2(r||".",{relative:e})},a=PA();if(r==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(c=>c==="")){o.delete("index"),l.filter(u=>u).forEach(u=>o.append("index",u));let c=o.toString();s.search=c?`?${c}`:""}}return(!r||r===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:IA([t,s.pathname])),e1(s)}function d9(r,e={}){let t=z.useContext(P_);Hr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=G_("useViewTransitionState"),i=V2(r,{relative:e.relative});if(!t.isTransitioning)return!1;let s=MA(t.currentLocation.pathname,n)||t.currentLocation.pathname,a=MA(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Ub(i.pathname,a)!=null||Ub(i.pathname,s)!=null}[...VW];function h9({title:r,titleId:e,...t},n){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?z.createElement("title",{id:e},r):null,z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const f9=z.forwardRef(h9);function p9({title:r,titleId:e,...t},n){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?z.createElement("title",{id:e},r):null,z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const g9=z.forwardRef(p9);function m9({title:r,titleId:e,...t},n){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?z.createElement("title",{id:e},r):null,z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"}))}const $_=z.forwardRef(m9);function y9({title:r,titleId:e,...t},n){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?z.createElement("title",{id:e},r):null,z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const tS=z.forwardRef(y9);function w9({title:r,titleId:e,...t},n){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?z.createElement("title",{id:e},r):null,z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const v9=z.forwardRef(w9);function b9({title:r,titleId:e,...t},n){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?z.createElement("title",{id:e},r):null,z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const B9=z.forwardRef(b9);function x9({title:r,titleId:e,...t},n){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?z.createElement("title",{id:e},r):null,z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.91 11.672a.375.375 0 0 1 0 .656l-5.603 3.113a.375.375 0 0 1-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112Z"}))}const hE=z.forwardRef(x9);function I9({title:r,titleId:e,...t},n){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?z.createElement("title",{id:e},r):null,z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const CN=z.forwardRef(I9);function C9({title:r,titleId:e,...t},n){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?z.createElement("title",{id:e},r):null,z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const S9=z.forwardRef(C9);function F9({title:r,titleId:e,...t},n){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?z.createElement("title",{id:e},r):null,z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const E9=z.forwardRef(F9);function L9({title:r,titleId:e,...t},n){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?z.createElement("title",{id:e},r):null,z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const N9=z.forwardRef(L9);function k9({title:r,titleId:e,...t},n){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?z.createElement("title",{id:e},r):null,z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const q2=z.forwardRef(k9);function M9({title:r,titleId:e,...t},n){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?z.createElement("title",{id:e},r):null,z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const D9=z.forwardRef(M9);function _9({title:r,titleId:e,...t},n){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?z.createElement("title",{id:e},r):null,z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const U9=z.forwardRef(_9);function P9({title:r,titleId:e,...t},n){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?z.createElement("title",{id:e},r):null,z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const JB=z.forwardRef(P9);function T9({title:r,titleId:e,...t},n){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?z.createElement("title",{id:e},r):null,z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const rS=z.forwardRef(T9),R9=()=>{const{t:r}=Xn();return B.jsxs("div",{className:"relative isolate overflow-hidden bg-gradient-to-b from-gray-50 to-white w-screen",children:[B.jsx("div",{className:"pointer-events-none absolute -top-24 -left-24 h-72 w-72 rounded-full bg-gradient-to-tr from-blue-400 via-indigo-400 to-purple-500 opacity-20 blur-3xl"}),B.jsx("div",{className:"pointer-events-none absolute -bottom-16 -right-24 h-72 w-72 rounded-full bg-gradient-to-tr from-fuchsia-400 via-pink-400 to-rose-500 opacity-20 blur-3xl"}),B.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-20 relative",children:B.jsxs("div",{className:"text-center",children:[B.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-extrabold tracking-tight mb-6",children:B.jsx("span",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 bg-clip-text text-transparent drop-shadow-sm",children:r("home.title")})}),B.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-3xl mx-auto mb-10",children:r("home.description")}),B.jsxs("div",{className:"flex flex-wrap justify-center gap-3 sm:gap-4",children:[B.jsxs(Zi,{to:"/tournaments",className:"inline-flex items-center gap-2 px-6 sm:px-8 py-3 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold shadow-lg hover:shadow-xl hover:brightness-110 transition-all duration-200",children:[B.jsx(q2,{className:"w-5 h-5"}),B.jsx("span",{children:r("home.createTournament")})]}),B.jsxs(Zi,{to:"/players",className:"inline-flex items-center gap-2 px-6 sm:px-8 py-3 rounded-xl bg-white text-blue-700 font-semibold border border-blue-200 shadow-lg hover:shadow-xl hover:bg-blue-50 transition-all duration-200",children:[B.jsx(JB,{className:"w-5 h-5"}),B.jsx("span",{children:r("home.addPlayer")})]}),B.jsxs(Zi,{to:"/matches",className:"inline-flex items-center gap-2 px-6 sm:px-8 py-3 rounded-xl bg-white text-purple-700 font-semibold border border-purple-200 shadow-lg hover:shadow-xl hover:bg-purple-50 transition-all duration-200",children:[B.jsx(hE,{className:"w-5 h-5"}),B.jsx("span",{children:r("home.viewMatches")})]})]})]})})]})},Q9=()=>{const{t:r}=Xn(),e=[{to:"/tournaments",label:r("home.createTournament"),Icon:q2,color:"from-blue-500 to-indigo-600"},{to:"/players",label:r("home.addPlayer"),Icon:JB,color:"from-emerald-500 to-green-600"},{to:"/matches",label:r("home.viewMatches"),Icon:hE,color:"from-purple-500 to-fuchsia-600"}];return B.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-white py-12 w-screen",children:B.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:[B.jsx("div",{className:"flex items-center justify-between mb-6",children:B.jsx("h3",{className:"text-2xl font-extrabold bg-gradient-to-r from-blue-700 to-indigo-700 bg-clip-text text-transparent",children:r("home.quickActions")})}),B.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(({to:t,label:n,Icon:i,color:s})=>B.jsx(Zi,{to:t,className:"group relative rounded-2xl p-[1px] bg-gradient-to-br from-gray-200/80 via-gray-100/80 to-gray-200/80 hover:from-blue-200/80 hover:via-indigo-100/80 hover:to-purple-200/80 transition-all duration-300",children:B.jsxs("div",{className:"relative flex items-center gap-4 p-5 rounded-2xl bg-white/70 backdrop-blur-sm border border-white/60 shadow-sm hover:shadow-md",children:[B.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${s} flex items-center justify-center`,children:B.jsx(i,{className:"w-6 h-6 text-white"})}),B.jsxs("div",{className:"flex-1",children:[B.jsx("div",{className:"text-lg font-semibold text-gray-900 group-hover:text-gray-950",children:n}),B.jsx("div",{className:"text-sm text-gray-500",children:r("home.clickToProceed",{defaultValue:"Click to proceed"})})]}),B.jsx(f9,{className:"w-5 h-5 text-gray-300 group-hover:text-indigo-400 transition-colors"})]})},t))})]})})},O9=()=>{const{t:r}=Xn(),e=[{Icon:E9,text:r("home.intro.highlights.reliableBrackets")},{Icon:g9,text:r("home.intro.highlights.localizedPDF")},{Icon:$_,text:r("home.intro.highlights.flexibleFilters")}];return B.jsx("section",{className:"relative w-screen py-14 bg-gradient-to-br from-indigo-50 via-white to-blue-50",children:B.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:[B.jsxs("div",{className:"mx-auto max-w-4xl text-center",children:[B.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent",children:r("home.intro.title")}),B.jsx("p",{className:"mt-4 text-lg text-gray-600",children:r("home.intro.description")})]}),B.jsx("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-3 gap-4 max-w-5xl mx-auto",children:e.map(({Icon:t,text:n},i)=>B.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-gray-200/70 bg-white/80 backdrop-blur p-4 shadow-sm",children:[B.jsx("span",{className:"inline-flex items-center justify-center w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-indigo-600",children:B.jsx(t,{className:"w-5 h-5 text-white"})}),B.jsx("span",{className:"text-sm font-semibold text-gray-800",children:n})]},i))})]})})},j9=()=>{const{t:r}=Xn(),e=[{Icon:q2,title:r("home.steps.s1.title"),desc:r("home.steps.s1.desc")},{Icon:JB,title:r("home.steps.s2.title"),desc:r("home.steps.s2.desc")},{Icon:hE,title:r("home.steps.s3.title"),desc:r("home.steps.s3.desc")},{Icon:$_,title:r("home.steps.s4.title"),desc:r("home.steps.s4.desc")}];return B.jsx("section",{className:"w-screen py-14 bg-white",children:B.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:[B.jsx("h3",{className:"text-2xl sm:text-3xl font-extrabold text-center text-gray-900",children:r("home.steps.title")}),B.jsx("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map(({Icon:t,title:n,desc:i},s)=>B.jsxs("div",{className:"rounded-2xl p-6 border border-gray-200 bg-white shadow-sm hover:shadow-md transition-all",children:[B.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center mb-4",children:B.jsx(t,{className:"w-6 h-6 text-white"})}),B.jsx("div",{className:"font-bold text-gray-900 mb-1",children:n}),B.jsx("div",{className:"text-sm text-gray-600",children:i})]},s))})]})})},H9=()=>{const{t:r}=Xn();return B.jsx("section",{className:"w-screen py-16 bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600",children:B.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:B.jsxs("div",{className:"max-w-4xl mx-auto text-center text-white",children:[B.jsx("h3",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight",children:r("home.bottomCta.title")}),B.jsx("p",{className:"mt-3 text-lg text-white/90",children:r("home.bottomCta.description")}),B.jsxs("div",{className:"mt-6 flex flex-wrap justify-center gap-3",children:[B.jsxs(Zi,{to:"/tournaments",className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-white text-blue-700 font-semibold shadow hover:shadow-lg transition",children:[B.jsx(q2,{className:"w-5 h-5"}),B.jsx("span",{children:r("home.bottomCta.primary")})]}),B.jsxs(Zi,{to:"/players",className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-white/10 ring-1 ring-white/40 text-white font-semibold backdrop-blur hover:bg-white/20 transition",children:[B.jsx(JB,{className:"w-5 h-5"}),B.jsx("span",{children:r("home.bottomCta.secondary")})]})]})]})})})},W9=()=>B.jsxs("div",{className:"w-screen",children:[B.jsx(R9,{}),B.jsx(Q9,{}),B.jsx(O9,{}),B.jsx(j9,{}),B.jsx(H9,{})]}),ni=[];for(let r=0;r<256;++r)ni.push((r+256).toString(16).slice(1));function K9(r,e=0){return(ni[r[e+0]]+ni[r[e+1]]+ni[r[e+2]]+ni[r[e+3]]+"-"+ni[r[e+4]]+ni[r[e+5]]+"-"+ni[r[e+6]]+ni[r[e+7]]+"-"+ni[r[e+8]]+ni[r[e+9]]+"-"+ni[r[e+10]]+ni[r[e+11]]+ni[r[e+12]]+ni[r[e+13]]+ni[r[e+14]]+ni[r[e+15]]).toLowerCase()}let tI;const G9=new Uint8Array(16);function $9(){if(!tI){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");tI=crypto.getRandomValues.bind(crypto)}return tI(G9)}const z9=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),SN={randomUUID:z9};function Di(r,e,t){var i;if(SN.randomUUID&&!r)return SN.randomUUID();r=r||{};const n=r.random??((i=r.rng)==null?void 0:i.call(r))??$9();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,K9(n)}function nS(r,e){return nS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},nS(r,e)}function z_(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,nS(r,e)}function gt(){return gt=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},gt.apply(null,arguments)}function Jt(r){"@babel/helpers - typeof";return Jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jt(r)}function V9(r,e){if(Jt(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Jt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function q9(r){var e=V9(r,"string");return Jt(e)=="symbol"?e:e+""}function Y9(r,e,t){return(e=q9(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function FN(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function EN(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FN(Object(t),!0).forEach(function(n){Y9(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):FN(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function hs(r){return"Minified Redux error #"+r+"; visit https://redux.js.org/Errors?code="+r+" for the full message or use the non-minified dev environment for full errors. "}var LN=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),NN=function(){return Math.random().toString(36).substring(7).split("").join(".")},kN={INIT:"@@redux/INIT"+NN(),REPLACE:"@@redux/REPLACE"+NN()};function X9(r){if(typeof r!="object"||r===null)return!1;for(var e=r;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e}function V_(r,e,t){var n;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(hs(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(hs(1));return t(V_)(r,e)}if(typeof r!="function")throw new Error(hs(2));var i=r,s=e,a=[],o=a,l=!1;function A(){o===a&&(o=a.slice())}function c(){if(l)throw new Error(hs(3));return s}function u(F){if(typeof F!="function")throw new Error(hs(4));if(l)throw new Error(hs(5));var D=!0;return A(),o.push(F),function(){if(D){if(l)throw new Error(hs(6));D=!1,A();var k=o.indexOf(F);o.splice(k,1),a=null}}}function f(F){if(!X9(F))throw new Error(hs(7));if(typeof F.type>"u")throw new Error(hs(8));if(l)throw new Error(hs(9));try{l=!0,s=i(s,F)}finally{l=!1}for(var D=a=o,C=0;C<D.length;C++){var k=D[C];k()}return F}function p(F){if(typeof F!="function")throw new Error(hs(10));i=F,f({type:kN.REPLACE})}function I(){var F,D=u;return F={subscribe:function(k){if(typeof k!="object"||k===null)throw new Error(hs(11));function U(){k.next&&k.next(c())}U();var Q=D(U);return{unsubscribe:Q}}},F[LN]=function(){return this},F}return f({type:kN.INIT}),n={dispatch:f,subscribe:u,getState:c,replaceReducer:p},n[LN]=I,n}function MN(r,e){return function(){return e(r.apply(this,arguments))}}function DN(r,e){if(typeof r=="function")return MN(r,e);if(typeof r!="object"||r===null)throw new Error(hs(16));var t={};for(var n in r){var i=r[n];typeof i=="function"&&(t[n]=MN(i,e))}return t}function q_(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return e.length===0?function(n){return n}:e.length===1?e[0]:e.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function J9(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return function(n){return function(){var i=n.apply(void 0,arguments),s=function(){throw new Error(hs(15))},a={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},o=e.map(function(l){return l(a)});return s=q_.apply(void 0,o)(i.dispatch),EN(EN({},i),{},{dispatch:s})}}}var Y_=zt.createContext(null);function Z9(r){r()}var X_=Z9,eK=function(e){return X_=e},tK=function(){return X_};function rK(){var r=tK(),e=null,t=null;return{clear:function(){e=null,t=null},notify:function(){r(function(){for(var i=e;i;)i.callback(),i=i.next})},get:function(){for(var i=[],s=e;s;)i.push(s),s=s.next;return i},subscribe:function(i){var s=!0,a=t={callback:i,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!s||e===null||(s=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var _N={notify:function(){},get:function(){return[]}};function J_(r,e){var t,n=_N;function i(u){return l(),n.subscribe(u)}function s(){n.notify()}function a(){c.onStateChange&&c.onStateChange()}function o(){return!!t}function l(){t||(t=e?e.addNestedSub(a):r.subscribe(a),n=rK())}function A(){t&&(t(),t=void 0,n.clear(),n=_N)}var c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:a,isSubscribed:o,trySubscribe:l,tryUnsubscribe:A,getListeners:function(){return n}};return c}var Z_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?z.useLayoutEffect:z.useEffect;function nK(r){var e=r.store,t=r.context,n=r.children,i=z.useMemo(function(){var o=J_(e);return{store:e,subscription:o}},[e]),s=z.useMemo(function(){return e.getState()},[e]);Z_(function(){var o=i.subscription;return o.onStateChange=o.notifyNestedSubs,o.trySubscribe(),s!==e.getState()&&o.notifyNestedSubs(),function(){o.tryUnsubscribe(),o.onStateChange=null}},[i,s]);var a=t||Y_;return zt.createElement(a.Provider,{value:i},n)}function Pb(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var eU={exports:{}},cr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jn=typeof Symbol=="function"&&Symbol.for,fE=Jn?Symbol.for("react.element"):60103,pE=Jn?Symbol.for("react.portal"):60106,ZB=Jn?Symbol.for("react.fragment"):60107,ex=Jn?Symbol.for("react.strict_mode"):60108,tx=Jn?Symbol.for("react.profiler"):60114,rx=Jn?Symbol.for("react.provider"):60109,nx=Jn?Symbol.for("react.context"):60110,gE=Jn?Symbol.for("react.async_mode"):60111,ix=Jn?Symbol.for("react.concurrent_mode"):60111,sx=Jn?Symbol.for("react.forward_ref"):60112,ax=Jn?Symbol.for("react.suspense"):60113,iK=Jn?Symbol.for("react.suspense_list"):60120,ox=Jn?Symbol.for("react.memo"):60115,lx=Jn?Symbol.for("react.lazy"):60116,sK=Jn?Symbol.for("react.block"):60121,aK=Jn?Symbol.for("react.fundamental"):60117,oK=Jn?Symbol.for("react.responder"):60118,lK=Jn?Symbol.for("react.scope"):60119;function la(r){if(typeof r=="object"&&r!==null){var e=r.$$typeof;switch(e){case fE:switch(r=r.type,r){case gE:case ix:case ZB:case tx:case ex:case ax:return r;default:switch(r=r&&r.$$typeof,r){case nx:case sx:case lx:case ox:case rx:return r;default:return e}}case pE:return e}}}function tU(r){return la(r)===ix}cr.AsyncMode=gE;cr.ConcurrentMode=ix;cr.ContextConsumer=nx;cr.ContextProvider=rx;cr.Element=fE;cr.ForwardRef=sx;cr.Fragment=ZB;cr.Lazy=lx;cr.Memo=ox;cr.Portal=pE;cr.Profiler=tx;cr.StrictMode=ex;cr.Suspense=ax;cr.isAsyncMode=function(r){return tU(r)||la(r)===gE};cr.isConcurrentMode=tU;cr.isContextConsumer=function(r){return la(r)===nx};cr.isContextProvider=function(r){return la(r)===rx};cr.isElement=function(r){return typeof r=="object"&&r!==null&&r.$$typeof===fE};cr.isForwardRef=function(r){return la(r)===sx};cr.isFragment=function(r){return la(r)===ZB};cr.isLazy=function(r){return la(r)===lx};cr.isMemo=function(r){return la(r)===ox};cr.isPortal=function(r){return la(r)===pE};cr.isProfiler=function(r){return la(r)===tx};cr.isStrictMode=function(r){return la(r)===ex};cr.isSuspense=function(r){return la(r)===ax};cr.isValidElementType=function(r){return typeof r=="string"||typeof r=="function"||r===ZB||r===ix||r===tx||r===ex||r===ax||r===iK||typeof r=="object"&&r!==null&&(r.$$typeof===lx||r.$$typeof===ox||r.$$typeof===rx||r.$$typeof===nx||r.$$typeof===sx||r.$$typeof===aK||r.$$typeof===oK||r.$$typeof===lK||r.$$typeof===sK)};cr.typeOf=la;eU.exports=cr;var AK=eU.exports,mE=AK,cK={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},uK={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},dK={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},rU={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},yE={};yE[mE.ForwardRef]=dK;yE[mE.Memo]=rU;function UN(r){return mE.isMemo(r)?rU:yE[r.$$typeof]||cK}var hK=Object.defineProperty,fK=Object.getOwnPropertyNames,PN=Object.getOwnPropertySymbols,pK=Object.getOwnPropertyDescriptor,gK=Object.getPrototypeOf,TN=Object.prototype;function nU(r,e,t){if(typeof e!="string"){if(TN){var n=gK(e);n&&n!==TN&&nU(r,n,t)}var i=fK(e);PN&&(i=i.concat(PN(e)));for(var s=UN(r),a=UN(e),o=0;o<i.length;++o){var l=i[o];if(!uK[l]&&!(t&&t[l])&&!(a&&a[l])&&!(s&&s[l])){var A=pK(e,l);try{hK(r,l,A)}catch{}}}}return r}var mK=nU;const RN=uF(mK);var iU={exports:{}},vr={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ax=60103,cx=60106,Y2=60107,X2=60108,J2=60114,Z2=60109,ey=60110,ty=60112,ry=60113,wE=60120,ny=60115,iy=60116,sU=60121,aU=60122,oU=60117,lU=60129,AU=60131;if(typeof Symbol=="function"&&Symbol.for){var ri=Symbol.for;Ax=ri("react.element"),cx=ri("react.portal"),Y2=ri("react.fragment"),X2=ri("react.strict_mode"),J2=ri("react.profiler"),Z2=ri("react.provider"),ey=ri("react.context"),ty=ri("react.forward_ref"),ry=ri("react.suspense"),wE=ri("react.suspense_list"),ny=ri("react.memo"),iy=ri("react.lazy"),sU=ri("react.block"),aU=ri("react.server.block"),oU=ri("react.fundamental"),lU=ri("react.debug_trace_mode"),AU=ri("react.legacy_hidden")}function Co(r){if(typeof r=="object"&&r!==null){var e=r.$$typeof;switch(e){case Ax:switch(r=r.type,r){case Y2:case J2:case X2:case ry:case wE:return r;default:switch(r=r&&r.$$typeof,r){case ey:case ty:case iy:case ny:case Z2:return r;default:return e}}case cx:return e}}}var yK=Z2,wK=Ax,vK=ty,bK=Y2,BK=iy,xK=ny,IK=cx,CK=J2,SK=X2,FK=ry;vr.ContextConsumer=ey;vr.ContextProvider=yK;vr.Element=wK;vr.ForwardRef=vK;vr.Fragment=bK;vr.Lazy=BK;vr.Memo=xK;vr.Portal=IK;vr.Profiler=CK;vr.StrictMode=SK;vr.Suspense=FK;vr.isAsyncMode=function(){return!1};vr.isConcurrentMode=function(){return!1};vr.isContextConsumer=function(r){return Co(r)===ey};vr.isContextProvider=function(r){return Co(r)===Z2};vr.isElement=function(r){return typeof r=="object"&&r!==null&&r.$$typeof===Ax};vr.isForwardRef=function(r){return Co(r)===ty};vr.isFragment=function(r){return Co(r)===Y2};vr.isLazy=function(r){return Co(r)===iy};vr.isMemo=function(r){return Co(r)===ny};vr.isPortal=function(r){return Co(r)===cx};vr.isProfiler=function(r){return Co(r)===J2};vr.isStrictMode=function(r){return Co(r)===X2};vr.isSuspense=function(r){return Co(r)===ry};vr.isValidElementType=function(r){return typeof r=="string"||typeof r=="function"||r===Y2||r===J2||r===lU||r===X2||r===ry||r===wE||r===AU||typeof r=="object"&&r!==null&&(r.$$typeof===iy||r.$$typeof===ny||r.$$typeof===Z2||r.$$typeof===ey||r.$$typeof===ty||r.$$typeof===oU||r.$$typeof===sU||r[0]===aU)};vr.typeOf=Co;iU.exports=vr;var EK=iU.exports,LK=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],NK=["reactReduxForwardedRef"],kK=[],MK=[null,null];function DK(r,e){var t=r[1];return[e.payload,t+1]}function QN(r,e,t){Z_(function(){return r.apply(void 0,e)},t)}function _K(r,e,t,n,i,s,a){r.current=n,e.current=i,t.current=!1,s.current&&(s.current=null,a())}function UK(r,e,t,n,i,s,a,o,l,A){if(r){var c=!1,u=null,f=function(){if(!c){var F=e.getState(),D,C;try{D=n(F,i.current)}catch(k){C=k,u=k}C||(u=null),D===s.current?a.current||l():(s.current=D,o.current=D,a.current=!0,A({type:"STORE_UPDATED",payload:{error:C}}))}};t.onStateChange=f,t.trySubscribe(),f();var p=function(){if(c=!0,t.tryUnsubscribe(),t.onStateChange=null,u)throw u};return p}}var PK=function(){return[null,0]};function TK(r,e){e===void 0&&(e={});var t=e,n=t.getDisplayName,i=n===void 0?function(U){return"ConnectAdvanced("+U+")"}:n,s=t.methodName,a=s===void 0?"connectAdvanced":s,o=t.renderCountProp,l=o===void 0?void 0:o,A=t.shouldHandleStateChanges,c=A===void 0?!0:A,u=t.storeKey,f=u===void 0?"store":u;t.withRef;var p=t.forwardRef,I=p===void 0?!1:p,F=t.context,D=F===void 0?Y_:F,C=Pb(t,LK),k=D;return function(Q){var V=Q.displayName||Q.name||"Component",Z=i(V),q=gt({},C,{getDisplayName:i,methodName:a,renderCountProp:l,shouldHandleStateChanges:c,storeKey:f,displayName:Z,wrappedComponentName:V,WrappedComponent:Q}),G=C.pure;function Y(oe){return r(oe.dispatch,q)}var K=G?z.useMemo:function(oe){return oe()};function H(oe){var re=z.useMemo(function(){var De=oe.reactReduxForwardedRef,je=Pb(oe,NK);return[oe.context,De,je]},[oe]),J=re[0],O=re[1],j=re[2],T=z.useMemo(function(){return J&&J.Consumer&&EK.isContextConsumer(zt.createElement(J.Consumer,null))?J:k},[J,k]),_=z.useContext(T),L=!!oe.store&&!!oe.store.getState&&!!oe.store.dispatch;_&&_.store;var v=L?oe.store:_.store,E=z.useMemo(function(){return Y(v)},[v]),x=z.useMemo(function(){if(!c)return MK;var De=J_(v,L?null:_.subscription),je=De.notifyNestedSubs.bind(De);return[De,je]},[v,L,_]),g=x[0],w=x[1],h=z.useMemo(function(){return L?_:gt({},_,{subscription:g})},[L,_,g]),y=z.useReducer(DK,kK,PK),d=y[0],M=d[0],S=y[1];if(M&&M.error)throw M.error;var W=z.useRef(),$=z.useRef(j),se=z.useRef(),me=z.useRef(!1),pe=K(function(){return se.current&&j===$.current?se.current:E(v.getState(),j)},[v,M,j]);QN(_K,[$,W,me,j,pe,se,w]),QN(UK,[c,v,g,E,$,W,me,se,w,S],[v,g,E]);var at=z.useMemo(function(){return zt.createElement(Q,gt({},pe,{ref:O}))},[O,Q,pe]),Te=z.useMemo(function(){return c?zt.createElement(T.Provider,{value:h},at):at},[T,at,h]);return Te}var te=G?zt.memo(H):H;if(te.WrappedComponent=Q,te.displayName=H.displayName=Z,I){var ue=zt.forwardRef(function(re,J){return zt.createElement(te,gt({},re,{reactReduxForwardedRef:J}))});return ue.displayName=Z,ue.WrappedComponent=Q,RN(ue,Q)}return RN(te,Q)}}function ON(r,e){return r===e?r!==0||e!==0||1/r===1/e:r!==r&&e!==e}function rI(r,e){if(ON(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;var t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(e,t[i])||!ON(r[t[i]],e[t[i]]))return!1;return!0}function RK(r,e){var t={},n=function(a){var o=r[a];typeof o=="function"&&(t[a]=function(){return e(o.apply(void 0,arguments))})};for(var i in r)n(i);return t}function vE(r){return function(t,n){var i=r(t,n);function s(){return i}return s.dependsOnOwnProps=!1,s}}function jN(r){return r.dependsOnOwnProps!==null&&r.dependsOnOwnProps!==void 0?!!r.dependsOnOwnProps:r.length!==1}function cU(r,e){return function(n,i){i.displayName;var s=function(o,l){return s.dependsOnOwnProps?s.mapToProps(o,l):s.mapToProps(o)};return s.dependsOnOwnProps=!0,s.mapToProps=function(o,l){s.mapToProps=r,s.dependsOnOwnProps=jN(r);var A=s(o,l);return typeof A=="function"&&(s.mapToProps=A,s.dependsOnOwnProps=jN(A),A=s(o,l)),A},s}}function QK(r){return typeof r=="function"?cU(r):void 0}function OK(r){return r?void 0:vE(function(e){return{dispatch:e}})}function jK(r){return r&&typeof r=="object"?vE(function(e){return RK(r,e)}):void 0}const HK=[QK,OK,jK];function WK(r){return typeof r=="function"?cU(r):void 0}function KK(r){return r?void 0:vE(function(){return{}})}const GK=[WK,KK];function $K(r,e,t){return gt({},t,r,e)}function zK(r){return function(t,n){n.displayName;var i=n.pure,s=n.areMergedPropsEqual,a=!1,o;return function(A,c,u){var f=r(A,c,u);return a?(!i||!s(f,o))&&(o=f):(a=!0,o=f),o}}}function VK(r){return typeof r=="function"?zK(r):void 0}function qK(r){return r?void 0:function(){return $K}}const YK=[VK,qK];var XK=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function JK(r,e,t,n){return function(s,a){return t(r(s,a),e(n,a),a)}}function ZK(r,e,t,n,i){var s=i.areStatesEqual,a=i.areOwnPropsEqual,o=i.areStatePropsEqual,l=!1,A,c,u,f,p;function I(U,Q){return A=U,c=Q,u=r(A,c),f=e(n,c),p=t(u,f,c),l=!0,p}function F(){return u=r(A,c),e.dependsOnOwnProps&&(f=e(n,c)),p=t(u,f,c),p}function D(){return r.dependsOnOwnProps&&(u=r(A,c)),e.dependsOnOwnProps&&(f=e(n,c)),p=t(u,f,c),p}function C(){var U=r(A,c),Q=!o(U,u);return u=U,Q&&(p=t(u,f,c)),p}function k(U,Q){var V=!a(Q,c),Z=!s(U,A,Q,c);return A=U,c=Q,V&&Z?F():V?D():Z?C():p}return function(Q,V){return l?k(Q,V):I(Q,V)}}function eG(r,e){var t=e.initMapStateToProps,n=e.initMapDispatchToProps,i=e.initMergeProps,s=Pb(e,XK),a=t(r,s),o=n(r,s),l=i(r,s),A=s.pure?ZK:JK;return A(a,o,l,r,s)}var tG=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function nI(r,e,t){for(var n=e.length-1;n>=0;n--){var i=e[n](r);if(i)return i}return function(s,a){throw new Error("Invalid value of type "+typeof r+" for "+t+" argument when connecting component "+a.wrappedComponentName+".")}}function rG(r,e){return r===e}function nG(r){var e=r===void 0?{}:r,t=e.connectHOC,n=t===void 0?TK:t,i=e.mapStateToPropsFactories,s=i===void 0?GK:i,a=e.mapDispatchToPropsFactories,o=a===void 0?HK:a,l=e.mergePropsFactories,A=l===void 0?YK:l,c=e.selectorFactory,u=c===void 0?eG:c;return function(p,I,F,D){D===void 0&&(D={});var C=D,k=C.pure,U=k===void 0?!0:k,Q=C.areStatesEqual,V=Q===void 0?rG:Q,Z=C.areOwnPropsEqual,q=Z===void 0?rI:Z,G=C.areStatePropsEqual,Y=G===void 0?rI:G,K=C.areMergedPropsEqual,H=K===void 0?rI:K,te=Pb(C,tG),ue=nI(p,s,"mapStateToProps"),oe=nI(I,o,"mapDispatchToProps"),re=nI(F,A,"mergeProps");return n(u,gt({methodName:"connect",getDisplayName:function(O){return"Connect("+O+")"},shouldHandleStateChanges:!!p,initMapStateToProps:ue,initMapDispatchToProps:oe,initMergeProps:re,pure:U,areStatesEqual:V,areOwnPropsEqual:q,areStatePropsEqual:Y,areMergedPropsEqual:H},te))}}const uU=nG();eK(aE.unstable_batchedUpdates);function iG(r,e){if(r.length!==e.length)return!1;for(var t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function dU(r,e){var t=z.useState(function(){return{inputs:e,result:r()}})[0],n=z.useRef(!0),i=z.useRef(t),s=n.current||!!(e&&i.current.inputs&&iG(e,i.current.inputs)),a=s?i.current:{inputs:e,result:r()};return z.useEffect(function(){n.current=!1,i.current=a},[a]),a.result}function sG(r,e){return dU(function(){return r},e)}var Vt=dU,ct=sG,aG="Invariant failed";function oG(r,e){throw new Error(aG)}var mo=function(e){var t=e.top,n=e.right,i=e.bottom,s=e.left,a=n-s,o=i-t,l={top:t,right:n,bottom:i,left:s,width:a,height:o,x:s,y:t,center:{x:(n+s)/2,y:(i+t)/2}};return l},bE=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},HN=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},lG=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},iI={top:0,right:0,bottom:0,left:0},BE=function(e){var t=e.borderBox,n=e.margin,i=n===void 0?iI:n,s=e.border,a=s===void 0?iI:s,o=e.padding,l=o===void 0?iI:o,A=mo(bE(t,i)),c=mo(HN(t,a)),u=mo(HN(c,l));return{marginBox:A,borderBox:mo(t),paddingBox:c,contentBox:u,margin:i,border:a,padding:l}},ma=function(e){var t=e.slice(0,-2),n=e.slice(-2);if(n!=="px")return 0;var i=Number(t);return isNaN(i)&&oG(),i},AG=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Tb=function(e,t){var n=e.borderBox,i=e.border,s=e.margin,a=e.padding,o=lG(n,t);return BE({borderBox:o,border:i,margin:s,padding:a})},Rb=function(e,t){return t===void 0&&(t=AG()),Tb(e,t)},hU=function(e,t){var n={top:ma(t.marginTop),right:ma(t.marginRight),bottom:ma(t.marginBottom),left:ma(t.marginLeft)},i={top:ma(t.paddingTop),right:ma(t.paddingRight),bottom:ma(t.paddingBottom),left:ma(t.paddingLeft)},s={top:ma(t.borderTopWidth),right:ma(t.borderRightWidth),bottom:ma(t.borderBottomWidth),left:ma(t.borderLeftWidth)};return BE({borderBox:e,margin:n,padding:i,border:s})},fU=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return hU(t,n)},WN=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function cG(r,e){return!!(r===e||WN(r)&&WN(e))}function uG(r,e){if(r.length!==e.length)return!1;for(var t=0;t<r.length;t++)if(!cG(r[t],e[t]))return!1;return!0}function qn(r,e){e===void 0&&(e=uG);var t,n=[],i,s=!1;function a(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return s&&t===this&&e(o,n)||(i=r.apply(this,o),s=!0,t=this,n=o),i}return a}var t1=function(e){var t=[],n=null,i=function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];t=o,!n&&(n=requestAnimationFrame(function(){n=null,e.apply(void 0,t)}))};return i.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},i};function pU(r,e){}pU.bind(null,"warn");pU.bind(null,"error");function au(){}function dG(r,e){return gt({},r,{},e)}function Ma(r,e,t){var n=e.map(function(i){var s=dG(t,i.options);return r.addEventListener(i.eventName,i.fn,s),function(){r.removeEventListener(i.eventName,i.fn,s)}});return function(){n.forEach(function(s){s()})}}var hG="Invariant failed";function Qb(r){this.message=r}Qb.prototype.toString=function(){return this.message};function We(r,e){throw new Qb(hG)}var fG=function(r){z_(e,r);function e(){for(var n,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=r.call.apply(r,[this].concat(s))||this,n.callbacks=null,n.unbind=au,n.onWindowError=function(o){var l=n.getCallbacks();l.isDragging()&&l.tryAbort();var A=o.error;A instanceof Qb&&o.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(o){n.callbacks=o},n}var t=e.prototype;return t.componentDidMount=function(){this.unbind=Ma(window,[{eventName:"error",fn:this.onWindowError}])},t.componentDidCatch=function(i){if(i instanceof Qb){this.setState({});return}throw i},t.componentWillUnmount=function(){this.unbind()},t.render=function(){return this.props.children(this.setCallbacks)},e}(zt.Component),pG=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Ob=function(e){return e+1},gG=function(e){return`
  You have lifted an item in position `+Ob(e.source.index)+`
`},gU=function(e,t){var n=e.droppableId===t.droppableId,i=Ob(e.index),s=Ob(t.index);return n?`
      You have moved the item from position `+i+`
      to position `+s+`
    `:`
    You have moved the item from position `+i+`
    in list `+e.droppableId+`
    to list `+t.droppableId+`
    in position `+s+`
  `},mU=function(e,t,n){var i=t.droppableId===n.droppableId;return i?`
      The item `+e+`
      has been combined with `+n.draggableId:`
      The item `+e+`
      in list `+t.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},mG=function(e){var t=e.destination;if(t)return gU(e.source,t);var n=e.combine;return n?mU(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},KN=function(e){return`
  The item has returned to its starting position
  of `+Ob(e.index)+`
`},yG=function(e){if(e.reason==="CANCEL")return`
      Movement cancelled.
      `+KN(e.source)+`
    `;var t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      `+gU(e.source,t)+`
    `:n?`
      You have dropped the item.
      `+mU(e.draggableId,e.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+KN(e.source)+`
  `},xv={dragHandleUsageInstructions:pG,onDragStart:gG,onDragUpdate:mG,onDragEnd:yG},Yn={x:0,y:0},hi=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},Zs=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},ou=function(e,t){return e.x===t.x&&e.y===t.y},Fg=function(e){return{x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}},bh=function(e,t,n){var i;return n===void 0&&(n=0),i={},i[e]=t,i[e==="x"?"y":"x"]=n,i},r1=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},GN=function(e,t){return Math.min.apply(Math,t.map(function(n){return r1(e,n)}))},yU=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},wG=function(r,e){var t=mo({top:Math.max(e.top,r.top),right:Math.min(e.right,r.right),bottom:Math.min(e.bottom,r.bottom),left:Math.max(e.left,r.left)});return t.width<=0||t.height<=0?null:t},sy=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},$N=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},vG={top:0,right:0,bottom:0,left:0},bG=function(e,t){return t?sy(e,t.scroll.diff.displacement):e},BG=function(e,t,n){if(n&&n.increasedBy){var i;return gt({},e,(i={},i[t.end]=e[t.end]+n.increasedBy[t.line],i))}return e},xG=function(e,t){return t&&t.shouldClipSubject?wG(t.pageMarginBox,e):mo(e)},yg=function(r){var e=r.page,t=r.withPlaceholder,n=r.axis,i=r.frame,s=bG(e.marginBox,i),a=BG(s,n,t),o=xG(a,i);return{page:e,withPlaceholder:t,active:o}},xE=function(r,e){r.frame||We();var t=r.frame,n=Zs(e,t.scroll.initial),i=Fg(n),s=gt({},t,{scroll:{initial:t.scroll.initial,current:e,diff:{value:n,displacement:i},max:t.scroll.max}}),a=yg({page:r.subject.page,withPlaceholder:r.subject.withPlaceholder,axis:r.axis,frame:s}),o=gt({},r,{frame:s,subject:a});return o};function jb(r){return Object.values?Object.values(r):Object.keys(r).map(function(e){return r[e]})}function IE(r,e){if(r.findIndex)return r.findIndex(e);for(var t=0;t<r.length;t++)if(e(r[t]))return t;return-1}function Cu(r,e){if(r.find)return r.find(e);var t=IE(r,e);if(t!==-1)return r[t]}function wU(r){return Array.prototype.slice.call(r)}var vU=qn(function(r){return r.reduce(function(e,t){return e[t.descriptor.id]=t,e},{})}),bU=qn(function(r){return r.reduce(function(e,t){return e[t.descriptor.id]=t,e},{})}),ux=qn(function(r){return jb(r)}),IG=qn(function(r){return jb(r)}),Eg=qn(function(r,e){var t=IG(e).filter(function(n){return r===n.descriptor.droppableId}).sort(function(n,i){return n.descriptor.index-i.descriptor.index});return t});function CE(r){return r.at&&r.at.type==="REORDER"?r.at.destination:null}function dx(r){return r.at&&r.at.type==="COMBINE"?r.at.combine:null}var hx=qn(function(r,e){return e.filter(function(t){return t.descriptor.id!==r.descriptor.id})}),CG=function(r){var e=r.isMovingForward,t=r.draggable,n=r.destination,i=r.insideDestination,s=r.previousImpact;if(!n.isCombineEnabled)return null;var a=CE(s);if(!a)return null;function o(F){var D={type:"COMBINE",combine:{draggableId:F,droppableId:n.descriptor.id}};return gt({},s,{at:D})}var l=s.displaced.all,A=l.length?l[0]:null;if(e)return A?o(A):null;var c=hx(t,i);if(!A){if(!c.length)return null;var u=c[c.length-1];return o(u.descriptor.id)}var f=IE(c,function(F){return F.descriptor.id===A});f===-1&&We();var p=f-1;if(p<0)return null;var I=c[p];return o(I.descriptor.id)},Lg=function(r,e){return r.descriptor.droppableId===e.descriptor.id},BU={point:Yn,value:0},n1={invisible:{},visible:{},all:[]},SG={displaced:n1,displacedBy:BU,at:null},Pa=function(r,e){return function(t){return r<=t&&t<=e}},xU=function(r){var e=Pa(r.top,r.bottom),t=Pa(r.left,r.right);return function(n){var i=e(n.top)&&e(n.bottom)&&t(n.left)&&t(n.right);if(i)return!0;var s=e(n.top)||e(n.bottom),a=t(n.left)||t(n.right),o=s&&a;if(o)return!0;var l=n.top<r.top&&n.bottom>r.bottom,A=n.left<r.left&&n.right>r.right,c=l&&A;if(c)return!0;var u=l&&a||A&&s;return u}},FG=function(r){var e=Pa(r.top,r.bottom),t=Pa(r.left,r.right);return function(n){var i=e(n.top)&&e(n.bottom)&&t(n.left)&&t(n.right);return i}},SE={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},IU={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},EG=function(r){return function(e){var t=Pa(e.top,e.bottom),n=Pa(e.left,e.right);return function(i){return r===SE?t(i.top)&&t(i.bottom):n(i.left)&&n(i.right)}}},LG=function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:Yn;return sy(e,n)},NG=function(e,t,n){return t.subject.active?n(t.subject.active)(e):!1},kG=function(e,t,n){return n(t)(e)},FE=function(e){var t=e.target,n=e.destination,i=e.viewport,s=e.withDroppableDisplacement,a=e.isVisibleThroughFrameFn,o=s?LG(t,n):t;return NG(o,n,a)&&kG(o,i,a)},MG=function(e){return FE(gt({},e,{isVisibleThroughFrameFn:xU}))},CU=function(e){return FE(gt({},e,{isVisibleThroughFrameFn:FG}))},DG=function(e){return FE(gt({},e,{isVisibleThroughFrameFn:EG(e.destination.axis)}))},_G=function(e,t,n){if(typeof n=="boolean")return n;if(!t)return!0;var i=t.invisible,s=t.visible;if(i[e])return!1;var a=s[e];return a?a.shouldAnimate:!0};function UG(r,e){var t=r.page.marginBox,n={top:e.point.y,right:0,bottom:0,left:e.point.x};return mo(bE(t,n))}function i1(r){var e=r.afterDragging,t=r.destination,n=r.displacedBy,i=r.viewport,s=r.forceShouldAnimate,a=r.last;return e.reduce(function(l,A){var c=UG(A,n),u=A.descriptor.id;l.all.push(u);var f=MG({target:c,destination:t,viewport:i,withDroppableDisplacement:!0});if(!f)return l.invisible[A.descriptor.id]=!0,l;var p=_G(u,a,s),I={draggableId:u,shouldAnimate:p};return l.visible[u]=I,l},{all:[],visible:{},invisible:{}})}function PG(r,e){if(!r.length)return 0;var t=r[r.length-1].descriptor.index;return e.inHomeList?t:t+1}function zN(r){var e=r.insideDestination,t=r.inHomeList,n=r.displacedBy,i=r.destination,s=PG(e,{inHomeList:t});return{displaced:n1,displacedBy:n,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:s}}}}function Hb(r){var e=r.draggable,t=r.insideDestination,n=r.destination,i=r.viewport,s=r.displacedBy,a=r.last,o=r.index,l=r.forceShouldAnimate,A=Lg(e,n);if(o==null)return zN({insideDestination:t,inHomeList:A,displacedBy:s,destination:n});var c=Cu(t,function(F){return F.descriptor.index===o});if(!c)return zN({insideDestination:t,inHomeList:A,displacedBy:s,destination:n});var u=hx(e,t),f=t.indexOf(c),p=u.slice(f),I=i1({afterDragging:p,destination:n,displacedBy:s,last:a,viewport:i.frame,forceShouldAnimate:l});return{displaced:I,displacedBy:s,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function hu(r,e){return!!e.effected[r]}var TG=function(r){var e=r.isMovingForward,t=r.destination,n=r.draggables,i=r.combine,s=r.afterCritical;if(!t.isCombineEnabled)return null;var a=i.draggableId,o=n[a],l=o.descriptor.index,A=hu(a,s);return A?e?l:l-1:e?l+1:l},RG=function(r){var e=r.isMovingForward,t=r.isInHomeList,n=r.insideDestination,i=r.location;if(!n.length)return null;var s=i.index,a=e?s+1:s-1,o=n[0].descriptor.index,l=n[n.length-1].descriptor.index,A=t?l:l+1;return a<o||a>A?null:a},QG=function(r){var e=r.isMovingForward,t=r.isInHomeList,n=r.draggable,i=r.draggables,s=r.destination,a=r.insideDestination,o=r.previousImpact,l=r.viewport,A=r.afterCritical,c=o.at;if(c||We(),c.type==="REORDER"){var u=RG({isMovingForward:e,isInHomeList:t,location:c.destination,insideDestination:a});return u==null?null:Hb({draggable:n,insideDestination:a,destination:s,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:u})}var f=TG({isMovingForward:e,destination:s,displaced:o.displaced,draggables:i,combine:c.combine,afterCritical:A});return f==null?null:Hb({draggable:n,insideDestination:a,destination:s,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:f})},OG=function(r){var e=r.displaced,t=r.afterCritical,n=r.combineWith,i=r.displacedBy,s=!!(e.visible[n]||e.invisible[n]);return hu(n,t)?s?Yn:Fg(i.point):s?i.point:Yn},jG=function(r){var e=r.afterCritical,t=r.impact,n=r.draggables,i=dx(t);i||We();var s=i.draggableId,a=n[s].page.borderBox.center,o=OG({displaced:t.displaced,afterCritical:e,combineWith:s,displacedBy:t.displacedBy});return hi(a,o)},SU=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},HG=function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2},EE=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},VN=function(e){var t=e.axis,n=e.moveRelativeTo,i=e.isMoving;return bh(t.line,n.marginBox[t.end]+SU(t,i),EE(t,n.marginBox,i))},qN=function(e){var t=e.axis,n=e.moveRelativeTo,i=e.isMoving;return bh(t.line,n.marginBox[t.start]-HG(t,i),EE(t,n.marginBox,i))},WG=function(e){var t=e.axis,n=e.moveInto,i=e.isMoving;return bh(t.line,n.contentBox[t.start]+SU(t,i),EE(t,n.contentBox,i))},KG=function(r){var e=r.impact,t=r.draggable,n=r.draggables,i=r.droppable,s=r.afterCritical,a=Eg(i.descriptor.id,n),o=t.page,l=i.axis;if(!a.length)return WG({axis:l,moveInto:i.page,isMoving:o});var A=e.displaced,c=e.displacedBy,u=A.all[0];if(u){var f=n[u];if(hu(u,s))return qN({axis:l,moveRelativeTo:f.page,isMoving:o});var p=Tb(f.page,c.point);return qN({axis:l,moveRelativeTo:p,isMoving:o})}var I=a[a.length-1];if(I.descriptor.id===t.descriptor.id)return o.borderBox.center;if(hu(I.descriptor.id,s)){var F=Tb(I.page,Fg(s.displacedBy.point));return VN({axis:l,moveRelativeTo:F,isMoving:o})}return VN({axis:l,moveRelativeTo:I.page,isMoving:o})},iS=function(r,e){var t=r.frame;return t?hi(e,t.scroll.diff.displacement):e},GG=function(e){var t=e.impact,n=e.draggable,i=e.droppable,s=e.draggables,a=e.afterCritical,o=n.page.borderBox.center,l=t.at;return!i||!l?o:l.type==="REORDER"?KG({impact:t,draggable:n,draggables:s,droppable:i,afterCritical:a}):jG({impact:t,draggables:s,afterCritical:a})},fx=function(r){var e=GG(r),t=r.droppable,n=t?iS(t,e):e;return n},FU=function(r,e){var t=Zs(e,r.scroll.initial),n=Fg(t),i=mo({top:e.y,bottom:e.y+r.frame.height,left:e.x,right:e.x+r.frame.width}),s={frame:i,scroll:{initial:r.scroll.initial,max:r.scroll.max,current:e,diff:{value:t,displacement:n}}};return s};function YN(r,e){return r.map(function(t){return e[t]})}function $G(r,e){for(var t=0;t<e.length;t++){var n=e[t].visible[r];if(n)return n}return null}var zG=function(r){var e=r.impact,t=r.viewport,n=r.destination,i=r.draggables,s=r.maxScrollChange,a=FU(t,hi(t.scroll.current,s)),o=n.frame?xE(n,hi(n.frame.scroll.current,s)):n,l=e.displaced,A=i1({afterDragging:YN(l.all,i),destination:n,displacedBy:e.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),c=i1({afterDragging:YN(l.all,i),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),u={},f={},p=[l,A,c];l.all.forEach(function(F){var D=$G(F,p);if(D){f[F]=D;return}u[F]=!0});var I=gt({},e,{displaced:{all:l.all,invisible:u,visible:f}});return I},VG=function(r,e){return hi(r.scroll.diff.displacement,e)},LE=function(r){var e=r.pageBorderBoxCenter,t=r.draggable,n=r.viewport,i=VG(n,e),s=Zs(i,t.page.borderBox.center);return hi(t.client.borderBox.center,s)},EU=function(r){var e=r.draggable,t=r.destination,n=r.newPageBorderBoxCenter,i=r.viewport,s=r.withDroppableDisplacement,a=r.onlyOnMainAxis,o=a===void 0?!1:a,l=Zs(n,e.page.borderBox.center),A=sy(e.page.borderBox,l),c={target:A,destination:t,withDroppableDisplacement:s,viewport:i};return o?DG(c):CU(c)},qG=function(r){var e=r.isMovingForward,t=r.draggable,n=r.destination,i=r.draggables,s=r.previousImpact,a=r.viewport,o=r.previousPageBorderBoxCenter,l=r.previousClientSelection,A=r.afterCritical;if(!n.isEnabled)return null;var c=Eg(n.descriptor.id,i),u=Lg(t,n),f=CG({isMovingForward:e,draggable:t,destination:n,insideDestination:c,previousImpact:s})||QG({isMovingForward:e,isInHomeList:u,draggable:t,draggables:i,destination:n,insideDestination:c,previousImpact:s,viewport:a,afterCritical:A});if(!f)return null;var p=fx({impact:f,draggable:t,droppable:n,draggables:i,afterCritical:A}),I=EU({draggable:t,destination:n,newPageBorderBoxCenter:p,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(I){var F=LE({pageBorderBoxCenter:p,draggable:t,viewport:a});return{clientSelection:F,impact:f,scrollJumpRequest:null}}var D=Zs(p,o),C=zG({impact:f,viewport:a,destination:n,draggables:i,maxScrollChange:D});return{clientSelection:l,impact:C,scrollJumpRequest:D}},Wi=function(e){var t=e.subject.active;return t||We(),t},YG=function(r){var e=r.isMovingForward,t=r.pageBorderBoxCenter,n=r.source,i=r.droppables,s=r.viewport,a=n.subject.active;if(!a)return null;var o=n.axis,l=Pa(a[o.start],a[o.end]),A=ux(i).filter(function(u){return u!==n}).filter(function(u){return u.isEnabled}).filter(function(u){return!!u.subject.active}).filter(function(u){return xU(s.frame)(Wi(u))}).filter(function(u){var f=Wi(u);return e?a[o.crossAxisEnd]<f[o.crossAxisEnd]:f[o.crossAxisStart]<a[o.crossAxisStart]}).filter(function(u){var f=Wi(u),p=Pa(f[o.start],f[o.end]);return l(f[o.start])||l(f[o.end])||p(a[o.start])||p(a[o.end])}).sort(function(u,f){var p=Wi(u)[o.crossAxisStart],I=Wi(f)[o.crossAxisStart];return e?p-I:I-p}).filter(function(u,f,p){return Wi(u)[o.crossAxisStart]===Wi(p[0])[o.crossAxisStart]});if(!A.length)return null;if(A.length===1)return A[0];var c=A.filter(function(u){var f=Pa(Wi(u)[o.start],Wi(u)[o.end]);return f(t[o.line])});return c.length===1?c[0]:c.length>1?c.sort(function(u,f){return Wi(u)[o.start]-Wi(f)[o.start]})[0]:A.sort(function(u,f){var p=GN(t,$N(Wi(u))),I=GN(t,$N(Wi(f)));return p!==I?p-I:Wi(u)[o.start]-Wi(f)[o.start]})[0]},XN=function(e,t){var n=e.page.borderBox.center;return hu(e.descriptor.id,t)?Zs(n,t.displacedBy.point):n},XG=function(e,t){var n=e.page.borderBox;return hu(e.descriptor.id,t)?sy(n,Fg(t.displacedBy.point)):n},JG=function(r){var e=r.pageBorderBoxCenter,t=r.viewport,n=r.destination,i=r.insideDestination,s=r.afterCritical,a=i.filter(function(o){return CU({target:XG(o,s),destination:n,viewport:t.frame,withDroppableDisplacement:!0})}).sort(function(o,l){var A=r1(e,iS(n,XN(o,s))),c=r1(e,iS(n,XN(l,s)));return A<c?-1:c<A?1:o.descriptor.index-l.descriptor.index});return a[0]||null},ay=qn(function(e,t){var n=t[e.line];return{value:n,point:bh(e.line,n)}}),ZG=function(e,t,n){var i=e.axis;if(e.descriptor.mode==="virtual")return bh(i.line,t[i.line]);var s=e.subject.page.contentBox[i.size],a=Eg(e.descriptor.id,n),o=a.reduce(function(c,u){return c+u.client.marginBox[i.size]},0),l=o+t[i.line],A=l-s;return A<=0?null:bh(i.line,A)},LU=function(e,t){return gt({},e,{scroll:gt({},e.scroll,{max:t})})},NU=function(e,t,n){var i=e.frame;Lg(t,e)&&We(),e.subject.withPlaceholder&&We();var s=ay(e.axis,t.displaceBy).point,a=ZG(e,s,n),o={placeholderSize:s,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!i){var l=yg({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return gt({},e,{subject:l})}var A=a?hi(i.scroll.max,a):i.scroll.max,c=LU(i,A),u=yg({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:c});return gt({},e,{subject:u,frame:c})},e$=function(e){var t=e.subject.withPlaceholder;t||We();var n=e.frame;if(!n){var i=yg({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return gt({},e,{subject:i})}var s=t.oldFrameMaxScroll;s||We();var a=LU(n,s),o=yg({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null});return gt({},e,{subject:o,frame:a})},t$=function(r){var e=r.previousPageBorderBoxCenter,t=r.moveRelativeTo,n=r.insideDestination,i=r.draggable,s=r.draggables,a=r.destination,o=r.viewport,l=r.afterCritical;if(!t){if(n.length)return null;var A={displaced:n1,displacedBy:BU,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},c=fx({impact:A,draggable:i,droppable:a,draggables:s,afterCritical:l}),u=Lg(i,a)?a:NU(a,i,s),f=EU({draggable:i,destination:u,newPageBorderBoxCenter:c,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return f?A:null}var p=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],I=function(){var D=t.descriptor.index;return t.descriptor.id===i.descriptor.id||p?D:D+1}(),F=ay(a.axis,i.displaceBy);return Hb({draggable:i,insideDestination:n,destination:a,viewport:o,displacedBy:F,last:n1,index:I})},r$=function(r){var e=r.isMovingForward,t=r.previousPageBorderBoxCenter,n=r.draggable,i=r.isOver,s=r.draggables,a=r.droppables,o=r.viewport,l=r.afterCritical,A=YG({isMovingForward:e,pageBorderBoxCenter:t,source:i,droppables:a,viewport:o});if(!A)return null;var c=Eg(A.descriptor.id,s),u=JG({pageBorderBoxCenter:t,viewport:o,destination:A,insideDestination:c,afterCritical:l}),f=t$({previousPageBorderBoxCenter:t,destination:A,draggable:n,draggables:s,moveRelativeTo:u,insideDestination:c,viewport:o,afterCritical:l});if(!f)return null;var p=fx({impact:f,draggable:n,droppable:A,draggables:s,afterCritical:l}),I=LE({pageBorderBoxCenter:p,draggable:n,viewport:o});return{clientSelection:I,impact:f,scrollJumpRequest:null}},ra=function(r){var e=r.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null},n$=function(e,t){var n=ra(e);return n?t[n]:null},i$=function(r){var e=r.state,t=r.type,n=n$(e.impact,e.dimensions.droppables),i=!!n,s=e.dimensions.droppables[e.critical.droppable.id],a=n||s,o=a.axis.direction,l=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!i)return null;var A=t==="MOVE_DOWN"||t==="MOVE_RIGHT",c=e.dimensions.draggables[e.critical.draggable.id],u=e.current.page.borderBoxCenter,f=e.dimensions,p=f.draggables,I=f.droppables;return l?qG({isMovingForward:A,previousPageBorderBoxCenter:u,draggable:c,destination:a,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):r$({isMovingForward:A,previousPageBorderBoxCenter:u,draggable:c,isOver:a,draggables:p,droppables:I,viewport:e.viewport,afterCritical:e.afterCritical})};function Hu(r){return r.phase==="DRAGGING"||r.phase==="COLLECTING"}function kU(r){var e=Pa(r.top,r.bottom),t=Pa(r.left,r.right);return function(i){return e(i.y)&&t(i.x)}}function s$(r,e){return r.left<e.right&&r.right>e.left&&r.top<e.bottom&&r.bottom>e.top}function a$(r){var e=r.pageBorderBox,t=r.draggable,n=r.candidates,i=t.page.borderBox.center,s=n.map(function(a){var o=a.axis,l=bh(a.axis.line,e.center[o.line],a.page.borderBox.center[o.crossAxisLine]);return{id:a.descriptor.id,distance:r1(i,l)}}).sort(function(a,o){return o.distance-a.distance});return s[0]?s[0].id:null}function o$(r){var e=r.pageBorderBox,t=r.draggable,n=r.droppables,i=ux(n).filter(function(s){if(!s.isEnabled)return!1;var a=s.subject.active;if(!a||!s$(e,a))return!1;if(kU(a)(e.center))return!0;var o=s.axis,l=a.center[o.crossAxisLine],A=e[o.crossAxisStart],c=e[o.crossAxisEnd],u=Pa(a[o.crossAxisStart],a[o.crossAxisEnd]),f=u(A),p=u(c);return!f&&!p?!0:f?A<l:c>l});return i.length?i.length===1?i[0].descriptor.id:a$({pageBorderBox:e,draggable:t,candidates:i}):null}var MU=function(e,t){return mo(sy(e,t))},l$=function(r,e){var t=r.frame;return t?MU(e,t.scroll.diff.value):e};function DU(r){var e=r.displaced,t=r.id;return!!(e.visible[t]||e.invisible[t])}function A$(r){var e=r.draggable,t=r.closest,n=r.inHomeList;return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var c$=function(r){var e=r.pageBorderBoxWithDroppableScroll,t=r.draggable,n=r.destination,i=r.insideDestination,s=r.last,a=r.viewport,o=r.afterCritical,l=n.axis,A=ay(n.axis,t.displaceBy),c=A.value,u=e[l.start],f=e[l.end],p=hx(t,i),I=Cu(p,function(D){var C=D.descriptor.id,k=D.page.borderBox.center[l.line],U=hu(C,o),Q=DU({displaced:s,id:C});return U?Q?f<=k:u<k-c:Q?f<=k+c:u<k}),F=A$({draggable:t,closest:I,inHomeList:Lg(t,n)});return Hb({draggable:t,insideDestination:i,destination:n,viewport:a,last:s,displacedBy:A,index:F})},u$=4,d$=function(r){var e=r.draggable,t=r.pageBorderBoxWithDroppableScroll,n=r.previousImpact,i=r.destination,s=r.insideDestination,a=r.afterCritical;if(!i.isCombineEnabled)return null;var o=i.axis,l=ay(i.axis,e.displaceBy),A=l.value,c=t[o.start],u=t[o.end],f=hx(e,s),p=Cu(f,function(F){var D=F.descriptor.id,C=F.page.borderBox,k=C[o.size],U=k/u$,Q=hu(D,a),V=DU({displaced:n.displaced,id:D});return Q?V?u>C[o.start]+U&&u<C[o.end]-U:c>C[o.start]-A+U&&c<C[o.end]-A-U:V?u>C[o.start]+A+U&&u<C[o.end]+A-U:c>C[o.start]+U&&c<C[o.end]-U});if(!p)return null;var I={displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:i.descriptor.id}}};return I},_U=function(r){var e=r.pageOffset,t=r.draggable,n=r.draggables,i=r.droppables,s=r.previousImpact,a=r.viewport,o=r.afterCritical,l=MU(t.page.borderBox,e),A=o$({pageBorderBox:l,draggable:t,droppables:i});if(!A)return SG;var c=i[A],u=Eg(c.descriptor.id,n),f=l$(c,l);return d$({pageBorderBoxWithDroppableScroll:f,draggable:t,previousImpact:s,destination:c,insideDestination:u,afterCritical:o})||c$({pageBorderBoxWithDroppableScroll:f,draggable:t,destination:c,insideDestination:u,last:s.displaced,viewport:a,afterCritical:o})},NE=function(r,e){var t;return gt({},r,(t={},t[e.descriptor.id]=e,t))},h$=function(e){var t=e.previousImpact,n=e.impact,i=e.droppables,s=ra(t),a=ra(n);if(!s||s===a)return i;var o=i[s];if(!o.subject.withPlaceholder)return i;var l=e$(o);return NE(i,l)},f$=function(r){var e=r.draggable,t=r.draggables,n=r.droppables,i=r.previousImpact,s=r.impact,a=h$({previousImpact:i,impact:s,droppables:n}),o=ra(s);if(!o)return a;var l=n[o];if(Lg(e,l)||l.subject.withPlaceholder)return a;var A=NU(l,e,t);return NE(a,A)},F0=function(r){var e=r.state,t=r.clientSelection,n=r.dimensions,i=r.viewport,s=r.impact,a=r.scrollJumpRequest,o=i||e.viewport,l=n||e.dimensions,A=t||e.current.client.selection,c=Zs(A,e.initial.client.selection),u={offset:c,selection:A,borderBoxCenter:hi(e.initial.client.borderBoxCenter,c)},f={selection:hi(u.selection,o.scroll.current),borderBoxCenter:hi(u.borderBoxCenter,o.scroll.current),offset:hi(u.offset,o.scroll.diff.value)},p={client:u,page:f};if(e.phase==="COLLECTING")return gt({phase:"COLLECTING"},e,{dimensions:l,viewport:o,current:p});var I=l.draggables[e.critical.draggable.id],F=s||_U({pageOffset:f.offset,draggable:I,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),D=f$({draggable:I,impact:F,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables}),C=gt({},e,{current:p,dimensions:{draggables:l.draggables,droppables:D},impact:F,viewport:o,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null});return C};function p$(r,e){return r.map(function(t){return e[t]})}var UU=function(r){var e=r.impact,t=r.viewport,n=r.draggables,i=r.destination,s=r.forceShouldAnimate,a=e.displaced,o=p$(a.all,n),l=i1({afterDragging:o,destination:i,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:s,last:a});return gt({},e,{displaced:l})},PU=function(r){var e=r.impact,t=r.draggable,n=r.droppable,i=r.draggables,s=r.viewport,a=r.afterCritical,o=fx({impact:e,draggable:t,draggables:i,droppable:n,afterCritical:a});return LE({pageBorderBoxCenter:o,draggable:t,viewport:s})},TU=function(r){var e=r.state,t=r.dimensions,n=r.viewport;e.movementMode!=="SNAP"&&We();var i=e.impact,s=n||e.viewport,a=t||e.dimensions,o=a.draggables,l=a.droppables,A=o[e.critical.draggable.id],c=ra(i);c||We();var u=l[c],f=UU({impact:i,viewport:s,destination:u,draggables:o}),p=PU({impact:f,draggable:A,droppable:u,draggables:o,viewport:s,afterCritical:e.afterCritical});return F0({impact:f,clientSelection:p,state:e,dimensions:a,viewport:s})},g$=function(r){return{index:r.index,droppableId:r.droppableId}},RU=function(r){var e=r.draggable,t=r.home,n=r.draggables,i=r.viewport,s=ay(t.axis,e.displaceBy),a=Eg(t.descriptor.id,n),o=a.indexOf(e);o===-1&&We();var l=a.slice(o+1),A=l.reduce(function(p,I){return p[I.descriptor.id]=!0,p},{}),c={inVirtualList:t.descriptor.mode==="virtual",displacedBy:s,effected:A},u=i1({afterDragging:l,destination:t,displacedBy:s,last:null,viewport:i.frame,forceShouldAnimate:!1}),f={displaced:u,displacedBy:s,at:{type:"REORDER",destination:g$(e.descriptor)}};return{impact:f,afterCritical:c}},m$=function(r,e){return{draggables:r.draggables,droppables:NE(r.droppables,e)}},y$=function(r){var e=r.draggable,t=r.offset,n=r.initialWindowScroll,i=Tb(e.client,t),s=Rb(i,n),a=gt({},e,{placeholder:gt({},e.placeholder,{client:i}),client:i,page:s});return a},w$=function(r){var e=r.frame;return e||We(),e},v$=function(r){var e=r.additions,t=r.updatedDroppables,n=r.viewport,i=n.scroll.diff.value;return e.map(function(s){var a=s.descriptor.droppableId,o=t[a],l=w$(o),A=l.scroll.diff.value,c=hi(i,A),u=y$({draggable:s,offset:c,initialWindowScroll:n.scroll.initial});return u})},b$=function(r){var e=r.state,t=r.published,n=t.modified.map(function(U){var Q=e.dimensions.droppables[U.droppableId],V=xE(Q,U.scroll);return V}),i=gt({},e.dimensions.droppables,{},vU(n)),s=bU(v$({additions:t.additions,updatedDroppables:i,viewport:e.viewport})),a=gt({},e.dimensions.draggables,{},s);t.removals.forEach(function(U){delete a[U]});var o={droppables:i,draggables:a},l=ra(e.impact),A=l?o.droppables[l]:null,c=o.draggables[e.critical.draggable.id],u=o.droppables[e.critical.droppable.id],f=RU({draggable:c,home:u,draggables:a,viewport:e.viewport}),p=f.impact,I=f.afterCritical,F=A&&A.isCombineEnabled?e.impact:p,D=_U({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:F,viewport:e.viewport,afterCritical:I}),C=gt({phase:"DRAGGING"},e,{phase:"DRAGGING",impact:D,onLiftImpact:p,dimensions:o,afterCritical:I,forceShouldAnimate:!1});if(e.phase==="COLLECTING")return C;var k=gt({phase:"DROP_PENDING"},C,{phase:"DROP_PENDING",reason:e.reason,isWaiting:!1});return k},sS=function(e){return e.movementMode==="SNAP"},sI=function(e,t,n){var i=m$(e.dimensions,t);return!sS(e)||n?F0({state:e,dimensions:i}):TU({state:e,dimensions:i})};function aI(r){return r.isDragging&&r.movementMode==="SNAP"?gt({phase:"DRAGGING"},r,{scrollJumpRequest:null}):r}var JN={phase:"IDLE",completed:null,shouldFlush:!1},B$=function(r,e){if(r===void 0&&(r=JN),e.type==="FLUSH")return gt({},JN,{shouldFlush:!0});if(e.type==="INITIAL_PUBLISH"){r.phase!=="IDLE"&&We();var t=e.payload,n=t.critical,i=t.clientSelection,s=t.viewport,a=t.dimensions,o=t.movementMode,l=a.draggables[n.draggable.id],A=a.droppables[n.droppable.id],c={selection:i,borderBoxCenter:l.client.borderBox.center,offset:Yn},u={client:c,page:{selection:hi(c.selection,s.scroll.initial),borderBoxCenter:hi(c.selection,s.scroll.initial),offset:hi(c.selection,s.scroll.diff.value)}},f=ux(a.droppables).every(function(S){return!S.isFixedOnPage}),p=RU({draggable:l,home:A,draggables:a.draggables,viewport:s}),I=p.impact,F=p.afterCritical,D={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:a,initial:u,current:u,isWindowScrollAllowed:f,impact:I,afterCritical:F,onLiftImpact:I,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null};return D}if(e.type==="COLLECTION_STARTING"){if(r.phase==="COLLECTING"||r.phase==="DROP_PENDING")return r;r.phase!=="DRAGGING"&&We();var C=gt({phase:"COLLECTING"},r,{phase:"COLLECTING"});return C}if(e.type==="PUBLISH_WHILE_DRAGGING")return r.phase==="COLLECTING"||r.phase==="DROP_PENDING"||We(),b$({state:r,published:e.payload});if(e.type==="MOVE"){if(r.phase==="DROP_PENDING")return r;Hu(r)||We();var k=e.payload.client;return ou(k,r.current.client.selection)?r:F0({state:r,clientSelection:k,impact:sS(r)?r.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(r.phase==="DROP_PENDING"||r.phase==="COLLECTING")return aI(r);Hu(r)||We();var U=e.payload,Q=U.id,V=U.newScroll,Z=r.dimensions.droppables[Q];if(!Z)return r;var q=xE(Z,V);return sI(r,q,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(r.phase==="DROP_PENDING")return r;Hu(r)||We();var G=e.payload,Y=G.id,K=G.isEnabled,H=r.dimensions.droppables[Y];H||We(),H.isEnabled===K&&We();var te=gt({},H,{isEnabled:K});return sI(r,te,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(r.phase==="DROP_PENDING")return r;Hu(r)||We();var ue=e.payload,oe=ue.id,re=ue.isCombineEnabled,J=r.dimensions.droppables[oe];J||We(),J.isCombineEnabled===re&&We();var O=gt({},J,{isCombineEnabled:re});return sI(r,O,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(r.phase==="DROP_PENDING"||r.phase==="DROP_ANIMATING")return r;Hu(r)||We(),r.isWindowScrollAllowed||We();var j=e.payload.newScroll;if(ou(r.viewport.scroll.current,j))return aI(r);var T=FU(r.viewport,j);return sS(r)?TU({state:r,viewport:T}):F0({state:r,viewport:T})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Hu(r))return r;var _=e.payload.maxScroll;if(ou(_,r.viewport.scroll.max))return r;var L=gt({},r.viewport,{scroll:gt({},r.viewport.scroll,{max:_})});return gt({phase:"DRAGGING"},r,{viewport:L})}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(r.phase==="COLLECTING"||r.phase==="DROP_PENDING")return r;r.phase!=="DRAGGING"&&We();var v=i$({state:r,type:e.type});return v?F0({state:r,impact:v.impact,clientSelection:v.clientSelection,scrollJumpRequest:v.scrollJumpRequest}):r}if(e.type==="DROP_PENDING"){var E=e.payload.reason;r.phase!=="COLLECTING"&&We();var x=gt({phase:"DROP_PENDING"},r,{phase:"DROP_PENDING",isWaiting:!0,reason:E});return x}if(e.type==="DROP_ANIMATE"){var g=e.payload,w=g.completed,h=g.dropDuration,y=g.newHomeClientOffset;r.phase==="DRAGGING"||r.phase==="DROP_PENDING"||We();var d={phase:"DROP_ANIMATING",completed:w,dropDuration:h,newHomeClientOffset:y,dimensions:r.dimensions};return d}if(e.type==="DROP_COMPLETE"){var M=e.payload.completed;return{phase:"IDLE",completed:M,shouldFlush:!1}}return r},x$=function(e){return{type:"BEFORE_INITIAL_CAPTURE",payload:e}},I$=function(e){return{type:"LIFT",payload:e}},C$=function(e){return{type:"INITIAL_PUBLISH",payload:e}},S$=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},F$=function(){return{type:"COLLECTION_STARTING",payload:null}},E$=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},L$=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},N$=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},QU=function(e){return{type:"MOVE",payload:e}},k$=function(e){return{type:"MOVE_BY_WINDOW_SCROLL",payload:e}},M$=function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}},D$=function(){return{type:"MOVE_UP",payload:null}},_$=function(){return{type:"MOVE_DOWN",payload:null}},U$=function(){return{type:"MOVE_RIGHT",payload:null}},P$=function(){return{type:"MOVE_LEFT",payload:null}},kE=function(){return{type:"FLUSH",payload:null}},T$=function(e){return{type:"DROP_ANIMATE",payload:e}},ME=function(e){return{type:"DROP_COMPLETE",payload:e}},OU=function(e){return{type:"DROP",payload:e}},R$=function(e){return{type:"DROP_PENDING",payload:e}},jU=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},Q$=function(r){return function(e){var t=e.getState,n=e.dispatch;return function(i){return function(s){if(s.type!=="LIFT"){i(s);return}var a=s.payload,o=a.id,l=a.clientSelection,A=a.movementMode,c=t();c.phase==="DROP_ANIMATING"&&n(ME({completed:c.completed})),t().phase!=="IDLE"&&We(),n(kE()),n(x$({draggableId:o,movementMode:A}));var u={shouldPublishImmediately:A==="SNAP"},f={draggableId:o,scrollOptions:u},p=r.startPublishing(f),I=p.critical,F=p.dimensions,D=p.viewport;n(C$({critical:I,dimensions:F,clientSelection:l,movementMode:A,viewport:D}))}}}},O$=function(r){return function(){return function(e){return function(t){t.type==="INITIAL_PUBLISH"&&r.dragging(),t.type==="DROP_ANIMATE"&&r.dropping(t.payload.completed.result.reason),(t.type==="FLUSH"||t.type==="DROP_COMPLETE")&&r.resting(),e(t)}}}},DE={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},s1={opacity:{drop:0,combining:.7},scale:{drop:.75}},_E={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Ru=_E.outOfTheWay+"s "+DE.outOfTheWay,E0={fluid:"opacity "+Ru,snap:"transform "+Ru+", opacity "+Ru,drop:function(e){var t=e+"s "+DE.drop;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+Ru,placeholder:"height "+Ru+", width "+Ru+", margin "+Ru},ZN=function(e){return ou(e,Yn)?null:"translate("+e.x+"px, "+e.y+"px)"},aS={moveTo:ZN,drop:function(e,t){var n=ZN(e);return n?t?n+" scale("+s1.scale.drop+")":n:null}},oS=_E.minDropTime,HU=_E.maxDropTime,j$=HU-oS,ek=1500,H$=.6,W$=function(r){var e=r.current,t=r.destination,n=r.reason,i=r1(e,t);if(i<=0)return oS;if(i>=ek)return HU;var s=i/ek,a=oS+j$*s,o=n==="CANCEL"?a*H$:a;return Number(o.toFixed(2))},K$=function(r){var e=r.impact,t=r.draggable,n=r.dimensions,i=r.viewport,s=r.afterCritical,a=n.draggables,o=n.droppables,l=ra(e),A=l?o[l]:null,c=o[t.descriptor.droppableId],u=PU({impact:e,draggable:t,draggables:a,afterCritical:s,droppable:A||c,viewport:i}),f=Zs(u,t.client.borderBox.center);return f},G$=function(r){var e=r.draggables,t=r.reason,n=r.lastImpact,i=r.home,s=r.viewport,a=r.onLiftImpact;if(!n.at||t!=="DROP"){var o=UU({draggables:e,impact:a,destination:i,viewport:s,forceShouldAnimate:!0});return{impact:o,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var l=gt({},n,{displaced:n1});return{impact:l,didDropInsideDroppable:!0}},$$=function(r){var e=r.getState,t=r.dispatch;return function(n){return function(i){if(i.type!=="DROP"){n(i);return}var s=e(),a=i.payload.reason;if(s.phase==="COLLECTING"){t(R$({reason:a}));return}if(s.phase!=="IDLE"){var o=s.phase==="DROP_PENDING"&&s.isWaiting;o&&We(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||We();var l=s.critical,A=s.dimensions,c=A.draggables[s.critical.draggable.id],u=G$({reason:a,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),f=u.impact,p=u.didDropInsideDroppable,I=p?CE(f):null,F=p?dx(f):null,D={index:l.draggable.index,droppableId:l.droppable.id},C={draggableId:c.descriptor.id,type:c.descriptor.type,source:D,reason:a,mode:s.movementMode,destination:I,combine:F},k=K$({impact:f,draggable:c,dimensions:A,viewport:s.viewport,afterCritical:s.afterCritical}),U={critical:s.critical,afterCritical:s.afterCritical,result:C,impact:f},Q=!ou(s.current.client.offset,k)||!!C.combine;if(!Q){t(ME({completed:U}));return}var V=W$({current:s.current.client.offset,destination:k,reason:a}),Z={newHomeClientOffset:k,dropDuration:V,completed:U};t(T$(Z))}}}},WU=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function z$(r){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||r()}}}function V$(r){var e=r.onWindowScroll;function t(){e(WU())}var n=t1(t),i=z$(n),s=au;function a(){return s!==au}function o(){a()&&We(),s=Ma(window,[i])}function l(){a()||We(),n.cancel(),s(),s=au}return{start:o,stop:l,isActive:a}}var q$=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},Y$=function(r){var e=V$({onWindowScroll:function(n){r.dispatch(k$({newScroll:n}))}});return function(t){return function(n){!e.isActive()&&n.type==="INITIAL_PUBLISH"&&e.start(),e.isActive()&&q$(n)&&e.stop(),t(n)}}},X$=function(r){var e=!1,t=!1,n=setTimeout(function(){t=!0}),i=function(a){e||t||(e=!0,r(a),clearTimeout(n))};return i.wasCalled=function(){return e},i},J$=function(){var r=[],e=function(s){var a=IE(r,function(A){return A.timerId===s});a===-1&&We();var o=r.splice(a,1),l=o[0];l.callback()},t=function(s){var a=setTimeout(function(){return e(a)}),o={timerId:a,callback:s};r.push(o)},n=function(){if(r.length){var s=[].concat(r);r.length=0,s.forEach(function(a){clearTimeout(a.timerId),a.callback()})}};return{add:t,flush:n}},Z$=function(e,t){return e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index},ez=function(e,t){return e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId},tz=function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,i=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&i},mm=function(e,t){t()},Iw=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},oI=function(e,t,n,i){if(!e){n(i(t));return}var s=X$(n),a={announce:s};e(t,a),s.wasCalled()||n(i(t))},rz=function(r,e){var t=J$(),n=null,i=function(f,p){n&&We(),mm("onBeforeCapture",function(){var I=r().onBeforeCapture;if(I){var F={draggableId:f,mode:p};I(F)}})},s=function(f,p){n&&We(),mm("onBeforeDragStart",function(){var I=r().onBeforeDragStart;I&&I(Iw(f,p))})},a=function(f,p){n&&We();var I=Iw(f,p);n={mode:p,lastCritical:f,lastLocation:I.source,lastCombine:null},t.add(function(){mm("onDragStart",function(){return oI(r().onDragStart,I,e,xv.onDragStart)})})},o=function(f,p){var I=CE(p),F=dx(p);n||We();var D=!tz(f,n.lastCritical);D&&(n.lastCritical=f);var C=!Z$(n.lastLocation,I);C&&(n.lastLocation=I);var k=!ez(n.lastCombine,F);if(k&&(n.lastCombine=F),!(!D&&!C&&!k)){var U=gt({},Iw(f,n.mode),{combine:F,destination:I});t.add(function(){mm("onDragUpdate",function(){return oI(r().onDragUpdate,U,e,xv.onDragUpdate)})})}},l=function(){n||We(),t.flush()},A=function(f){n||We(),n=null,mm("onDragEnd",function(){return oI(r().onDragEnd,f,e,xv.onDragEnd)})},c=function(){if(n){var f=gt({},Iw(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});A(f)}};return{beforeCapture:i,beforeStart:s,start:a,update:o,flush:l,drop:A,abort:c}},nz=function(r,e){var t=rz(r,e);return function(n){return function(i){return function(s){if(s.type==="BEFORE_INITIAL_CAPTURE"){t.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(s.type==="INITIAL_PUBLISH"){var a=s.payload.critical;t.beforeStart(a,s.payload.movementMode),i(s),t.start(a,s.payload.movementMode);return}if(s.type==="DROP_COMPLETE"){var o=s.payload.completed.result;t.flush(),i(s),t.drop(o);return}if(i(s),s.type==="FLUSH"){t.abort();return}var l=n.getState();l.phase==="DRAGGING"&&t.update(l.critical,l.impact)}}}},iz=function(r){return function(e){return function(t){if(t.type!=="DROP_ANIMATION_FINISHED"){e(t);return}var n=r.getState();n.phase!=="DROP_ANIMATING"&&We(),r.dispatch(ME({completed:n.completed}))}}},sz=function(r){var e=null,t=null;function n(){t&&(cancelAnimationFrame(t),t=null),e&&(e(),e=null)}return function(i){return function(s){if((s.type==="FLUSH"||s.type==="DROP_COMPLETE"||s.type==="DROP_ANIMATION_FINISHED")&&n(),i(s),s.type==="DROP_ANIMATE"){var a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var l=r.getState();l.phase==="DROP_ANIMATING"&&r.dispatch(jU())}};t=requestAnimationFrame(function(){t=null,e=Ma(window,[a])})}}}},az=function(r){return function(){return function(e){return function(t){(t.type==="DROP_COMPLETE"||t.type==="FLUSH"||t.type==="DROP_ANIMATE")&&r.stopPublishing(),e(t)}}}},oz=function(r){var e=!1;return function(){return function(t){return function(n){if(n.type==="INITIAL_PUBLISH"){e=!0,r.tryRecordFocus(n.payload.critical.draggable.id),t(n),r.tryRestoreFocusRecorded();return}if(t(n),!!e){if(n.type==="FLUSH"){e=!1,r.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){e=!1;var i=n.payload.completed.result;i.combine&&r.tryShiftRecord(i.draggableId,i.combine.draggableId),r.tryRestoreFocusRecorded()}}}}}},lz=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},Az=function(r){return function(e){return function(t){return function(n){if(lz(n)){r.stop(),t(n);return}if(n.type==="INITIAL_PUBLISH"){t(n);var i=e.getState();i.phase!=="DRAGGING"&&We(),r.start(i);return}t(n),r.scroll(e.getState())}}}},cz=function(r){return function(e){return function(t){if(e(t),t.type==="PUBLISH_WHILE_DRAGGING"){var n=r.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||r.dispatch(OU({reason:n.reason})))}}}},uz=q_,dz=function(r){var e=r.dimensionMarshal,t=r.focusMarshal,n=r.styleMarshal,i=r.getResponders,s=r.announce,a=r.autoScroller;return V_(B$,uz(J9(O$(n),az(e),Q$(e),$$,iz,sz,cz,Az(a),Y$,oz(t),nz(i,s))))},lI=function(){return{additions:{},removals:{},modified:{}}};function hz(r){var e=r.registry,t=r.callbacks,n=lI(),i=null,s=function(){i||(t.collectionStarting(),i=requestAnimationFrame(function(){i=null;var c=n,u=c.additions,f=c.removals,p=c.modified,I=Object.keys(u).map(function(C){return e.draggable.getById(C).getDimension(Yn)}).sort(function(C,k){return C.descriptor.index-k.descriptor.index}),F=Object.keys(p).map(function(C){var k=e.droppable.getById(C),U=k.callbacks.getScrollWhileDragging();return{droppableId:C,scroll:U}}),D={additions:I,removals:Object.keys(f),modified:F};n=lI(),t.publish(D)}))},a=function(c){var u=c.descriptor.id;n.additions[u]=c,n.modified[c.descriptor.droppableId]=!0,n.removals[u]&&delete n.removals[u],s()},o=function(c){var u=c.descriptor;n.removals[u.id]=!0,n.modified[u.droppableId]=!0,n.additions[u.id]&&delete n.additions[u.id],s()},l=function(){i&&(cancelAnimationFrame(i),i=null,n=lI())};return{add:a,remove:o,stop:l}}var KU=function(r){var e=r.scrollHeight,t=r.scrollWidth,n=r.height,i=r.width,s=Zs({x:t,y:e},{x:i,y:n}),a={x:Math.max(0,s.x),y:Math.max(0,s.y)};return a},GU=function(){var r=document.documentElement;return r||We(),r},$U=function(){var r=GU(),e=KU({scrollHeight:r.scrollHeight,scrollWidth:r.scrollWidth,width:r.clientWidth,height:r.clientHeight});return e},fz=function(){var r=WU(),e=$U(),t=r.y,n=r.x,i=GU(),s=i.clientWidth,a=i.clientHeight,o=n+s,l=t+a,A=mo({top:t,left:n,right:o,bottom:l}),c={frame:A,scroll:{initial:r,current:r,max:e,diff:{value:Yn,displacement:Yn}}};return c},pz=function(r){var e=r.critical,t=r.scrollOptions,n=r.registry,i=fz(),s=i.scroll.current,a=e.droppable,o=n.droppable.getAllByType(a.type).map(function(u){return u.callbacks.getDimensionAndWatchScroll(s,t)}),l=n.draggable.getAllByType(e.draggable.type).map(function(u){return u.getDimension(s)}),A={draggables:bU(l),droppables:vU(o)},c={dimensions:A,critical:e,viewport:i};return c};function tk(r,e,t){if(t.descriptor.id===e.id||t.descriptor.type!==e.type)return!1;var n=r.droppable.getById(t.descriptor.droppableId);return n.descriptor.mode==="virtual"}var gz=function(r,e){var t=null,n=hz({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:r}),i=function(p,I){r.droppable.exists(p)||We(),t&&e.updateDroppableIsEnabled({id:p,isEnabled:I})},s=function(p,I){t&&(r.droppable.exists(p)||We(),e.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:I}))},a=function(p,I){t&&(r.droppable.exists(p)||We(),e.updateDroppableScroll({id:p,newScroll:I}))},o=function(p,I){t&&r.droppable.getById(p).callbacks.scroll(I)},l=function(){if(t){n.stop();var p=t.critical.droppable;r.droppable.getAllByType(p.type).forEach(function(I){return I.callbacks.dragStopped()}),t.unsubscribe(),t=null}},A=function(p){t||We();var I=t.critical.draggable;p.type==="ADDITION"&&tk(r,I,p.value)&&n.add(p.value),p.type==="REMOVAL"&&tk(r,I,p.value)&&n.remove(p.value)},c=function(p){t&&We();var I=r.draggable.getById(p.draggableId),F=r.droppable.getById(I.descriptor.droppableId),D={draggable:I.descriptor,droppable:F.descriptor},C=r.subscribe(A);return t={critical:D,unsubscribe:C},pz({critical:D,registry:r,scrollOptions:p.scrollOptions})},u={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:s,scrollDroppable:o,updateDroppableScroll:a,startPublishing:c,stopPublishing:l};return u},zU=function(r,e){return r.phase==="IDLE"?!0:r.phase!=="DROP_ANIMATING"||r.completed.result.draggableId===e?!1:r.completed.result.reason==="DROP"},mz=function(r){window.scrollBy(r.x,r.y)},yz=qn(function(r){return ux(r).filter(function(e){return!(!e.isEnabled||!e.frame)})}),wz=function(e,t){var n=Cu(yz(t),function(i){return i.frame||We(),kU(i.frame.pageMarginBox)(e)});return n},vz=function(r){var e=r.center,t=r.destination,n=r.droppables;if(t){var i=n[t];return i.frame?i:null}var s=wz(e,n);return s},lu={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(e){return Math.pow(e,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},bz=function(r,e){var t=r[e.size]*lu.startFromPercentage,n=r[e.size]*lu.maxScrollAtPercentage,i={startScrollingFrom:t,maxScrollValueAt:n};return i},VU=function(r){var e=r.startOfRange,t=r.endOfRange,n=r.current,i=t-e;if(i===0)return 0;var s=n-e,a=s/i;return a},UE=1,Bz=function(r,e){if(r>e.startScrollingFrom)return 0;if(r<=e.maxScrollValueAt)return lu.maxPixelScroll;if(r===e.startScrollingFrom)return UE;var t=VU({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:r}),n=1-t,i=lu.maxPixelScroll*lu.ease(n);return Math.ceil(i)},rk=lu.durationDampening.accelerateAt,nk=lu.durationDampening.stopDampeningAt,xz=function(r,e){var t=e,n=nk,i=Date.now(),s=i-t;if(s>=nk)return r;if(s<rk)return UE;var a=VU({startOfRange:rk,endOfRange:n,current:s}),o=r*lu.ease(a);return Math.ceil(o)},ik=function(r){var e=r.distanceToEdge,t=r.thresholds,n=r.dragStartTime,i=r.shouldUseTimeDampening,s=Bz(e,t);return s===0?0:i?Math.max(xz(s,n),UE):s},sk=function(r){var e=r.container,t=r.distanceToEdges,n=r.dragStartTime,i=r.axis,s=r.shouldUseTimeDampening,a=bz(e,i),o=t[i.end]<t[i.start];return o?ik({distanceToEdge:t[i.end],thresholds:a,dragStartTime:n,shouldUseTimeDampening:s}):-1*ik({distanceToEdge:t[i.start],thresholds:a,dragStartTime:n,shouldUseTimeDampening:s})},Iz=function(r){var e=r.container,t=r.subject,n=r.proposedScroll,i=t.height>e.height,s=t.width>e.width;return!s&&!i?n:s&&i?null:{x:s?0:n.x,y:i?0:n.y}},Cz=yU(function(r){return r===0?0:r}),qU=function(r){var e=r.dragStartTime,t=r.container,n=r.subject,i=r.center,s=r.shouldUseTimeDampening,a={top:i.y-t.top,right:t.right-i.x,bottom:t.bottom-i.y,left:i.x-t.left},o=sk({container:t,distanceToEdges:a,dragStartTime:e,axis:SE,shouldUseTimeDampening:s}),l=sk({container:t,distanceToEdges:a,dragStartTime:e,axis:IU,shouldUseTimeDampening:s}),A=Cz({x:l,y:o});if(ou(A,Yn))return null;var c=Iz({container:t,subject:n,proposedScroll:A});return c?ou(c,Yn)?null:c:null},Sz=yU(function(r){return r===0?0:r>0?1:-1}),PE=function(){var r=function(t,n){return t<0?t:t>n?t-n:0};return function(e){var t=e.current,n=e.max,i=e.change,s=hi(t,i),a={x:r(s.x,n.x),y:r(s.y,n.y)};return ou(a,Yn)?null:a}}(),YU=function(e){var t=e.max,n=e.current,i=e.change,s={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},a=Sz(i),o=PE({max:s,current:n,change:a});return!o||a.x!==0&&o.x===0||a.y!==0&&o.y===0},TE=function(e,t){return YU({current:e.scroll.current,max:e.scroll.max,change:t})},Fz=function(e,t){if(!TE(e,t))return null;var n=e.scroll.max,i=e.scroll.current;return PE({current:i,max:n,change:t})},RE=function(e,t){var n=e.frame;return n?YU({current:n.scroll.current,max:n.scroll.max,change:t}):!1},Ez=function(e,t){var n=e.frame;return!n||!RE(e,t)?null:PE({current:n.scroll.current,max:n.scroll.max,change:t})},Lz=function(r){var e=r.viewport,t=r.subject,n=r.center,i=r.dragStartTime,s=r.shouldUseTimeDampening,a=qU({dragStartTime:i,container:e.frame,subject:t,center:n,shouldUseTimeDampening:s});return a&&TE(e,a)?a:null},Nz=function(r){var e=r.droppable,t=r.subject,n=r.center,i=r.dragStartTime,s=r.shouldUseTimeDampening,a=e.frame;if(!a)return null;var o=qU({dragStartTime:i,container:a.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:s});return o&&RE(e,o)?o:null},ak=function(r){var e=r.state,t=r.dragStartTime,n=r.shouldUseTimeDampening,i=r.scrollWindow,s=r.scrollDroppable,a=e.current.page.borderBoxCenter,o=e.dimensions.draggables[e.critical.draggable.id],l=o.page.marginBox;if(e.isWindowScrollAllowed){var A=e.viewport,c=Lz({dragStartTime:t,viewport:A,subject:l,center:a,shouldUseTimeDampening:n});if(c){i(c);return}}var u=vz({center:a,destination:ra(e.impact),droppables:e.dimensions.droppables});if(u){var f=Nz({dragStartTime:t,droppable:u,subject:l,center:a,shouldUseTimeDampening:n});f&&s(u.descriptor.id,f)}},kz=function(r){var e=r.scrollWindow,t=r.scrollDroppable,n=t1(e),i=t1(t),s=null,a=function(c){s||We();var u=s,f=u.shouldUseTimeDampening,p=u.dragStartTime;ak({state:c,scrollWindow:n,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:f})},o=function(c){s&&We();var u=Date.now(),f=!1,p=function(){f=!0};ak({state:c,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p}),s={dragStartTime:u,shouldUseTimeDampening:f},f&&a(c)},l=function(){s&&(n.cancel(),i.cancel(),s=null)};return{start:o,stop:l,scroll:a}},Mz=function(r){var e=r.move,t=r.scrollDroppable,n=r.scrollWindow,i=function(A,c){var u=hi(A.current.client.selection,c);e({client:u})},s=function(A,c){if(!RE(A,c))return c;var u=Ez(A,c);if(!u)return t(A.descriptor.id,c),null;var f=Zs(c,u);t(A.descriptor.id,f);var p=Zs(c,f);return p},a=function(A,c,u){if(!A||!TE(c,u))return u;var f=Fz(c,u);if(!f)return n(u),null;var p=Zs(u,f);n(p);var I=Zs(u,p);return I},o=function(A){var c=A.scrollJumpRequest;if(c){var u=ra(A.impact);u||We();var f=s(A.dimensions.droppables[u],c);if(f){var p=A.viewport,I=a(A.isWindowScrollAllowed,p,f);I&&i(A,I)}}};return o},Dz=function(r){var e=r.scrollDroppable,t=r.scrollWindow,n=r.move,i=kz({scrollWindow:t,scrollDroppable:e}),s=Mz({move:n,scrollWindow:t,scrollDroppable:e}),a=function(A){if(A.phase==="DRAGGING"){if(A.movementMode==="FLUID"){i.scroll(A);return}A.scrollJumpRequest&&s(A)}},o={scroll:a,start:i.start,stop:i.stop};return o},wg="data-rbd",vg=function(){var r=wg+"-drag-handle";return{base:r,draggableId:r+"-draggable-id",contextId:r+"-context-id"}}(),lS=function(){var r=wg+"-draggable";return{base:r,contextId:r+"-context-id",id:r+"-id"}}(),_z=function(){var r=wg+"-droppable";return{base:r,contextId:r+"-context-id",id:r+"-id"}}(),ok={contextId:wg+"-scroll-container-context-id"},Uz=function(e){return function(t){return"["+t+'="'+e+'"]'}},ym=function(e,t){return e.map(function(n){var i=n.styles[t];return i?n.selector+" { "+i+" }":""}).join(" ")},Pz="pointer-events: none;",Tz=function(r){var e=Uz(r),t=function(){var o=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(vg.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:o,dragging:Pz,dropAnimating:o}}}(),n=function(){var o=`
      transition: `+E0.outOfTheWay+`;
    `;return{selector:e(lS.contextId),styles:{dragging:o,dropAnimating:o,userCancel:o}}}(),i={selector:e(_z.contextId),styles:{always:"overflow-anchor: none;"}},s={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},a=[n,t,i,s];return{always:ym(a,"always"),resting:ym(a,"resting"),dragging:ym(a,"dragging"),dropAnimating:ym(a,"dropAnimating"),userCancel:ym(a,"userCancel")}},na=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?z.useLayoutEffect:z.useEffect,AI=function(){var e=document.querySelector("head");return e||We(),e},lk=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Rz(r,e){var t=Vt(function(){return Tz(r)},[r]),n=z.useRef(null),i=z.useRef(null),s=ct(qn(function(u){var f=i.current;f||We(),f.textContent=u}),[]),a=ct(function(u){var f=n.current;f||We(),f.textContent=u},[]);na(function(){!n.current&&!i.current||We();var u=lk(e),f=lk(e);return n.current=u,i.current=f,u.setAttribute(wg+"-always",r),f.setAttribute(wg+"-dynamic",r),AI().appendChild(u),AI().appendChild(f),a(t.always),s(t.resting),function(){var p=function(F){var D=F.current;D||We(),AI().removeChild(D),F.current=null};p(n),p(i)}},[e,a,s,t.always,t.resting,r]);var o=ct(function(){return s(t.dragging)},[s,t.dragging]),l=ct(function(u){if(u==="DROP"){s(t.dropAnimating);return}s(t.userCancel)},[s,t.dropAnimating,t.userCancel]),A=ct(function(){i.current&&s(t.resting)},[s,t.resting]),c=Vt(function(){return{dragging:o,dropping:l,resting:A}},[o,l,A]);return c}var XU=function(r){return r&&r.ownerDocument?r.ownerDocument.defaultView:window};function px(r){return r instanceof XU(r).HTMLElement}function Qz(r,e){var t="["+vg.contextId+'="'+r+'"]',n=wU(document.querySelectorAll(t));if(!n.length)return null;var i=Cu(n,function(s){return s.getAttribute(vg.draggableId)===e});return!i||!px(i)?null:i}function Oz(r){var e=z.useRef({}),t=z.useRef(null),n=z.useRef(null),i=z.useRef(!1),s=ct(function(f,p){var I={id:f,focus:p};return e.current[f]=I,function(){var D=e.current,C=D[f];C!==I&&delete D[f]}},[]),a=ct(function(f){var p=Qz(r,f);p&&p!==document.activeElement&&p.focus()},[r]),o=ct(function(f,p){t.current===f&&(t.current=p)},[]),l=ct(function(){n.current||i.current&&(n.current=requestAnimationFrame(function(){n.current=null;var f=t.current;f&&a(f)}))},[a]),A=ct(function(f){t.current=null;var p=document.activeElement;p&&p.getAttribute(vg.draggableId)===f&&(t.current=f)},[]);na(function(){return i.current=!0,function(){i.current=!1;var f=n.current;f&&cancelAnimationFrame(f)}},[]);var c=Vt(function(){return{register:s,tryRecordFocus:A,tryRestoreFocusRecorded:l,tryShiftRecord:o}},[s,A,l,o]);return c}function jz(){var r={draggables:{},droppables:{}},e=[];function t(u){return e.push(u),function(){var p=e.indexOf(u);p!==-1&&e.splice(p,1)}}function n(u){e.length&&e.forEach(function(f){return f(u)})}function i(u){return r.draggables[u]||null}function s(u){var f=i(u);return f||We(),f}var a={register:function(f){r.draggables[f.descriptor.id]=f,n({type:"ADDITION",value:f})},update:function(f,p){var I=r.draggables[p.descriptor.id];I&&I.uniqueId===f.uniqueId&&(delete r.draggables[p.descriptor.id],r.draggables[f.descriptor.id]=f)},unregister:function(f){var p=f.descriptor.id,I=i(p);I&&f.uniqueId===I.uniqueId&&(delete r.draggables[p],n({type:"REMOVAL",value:f}))},getById:s,findById:i,exists:function(f){return!!i(f)},getAllByType:function(f){return jb(r.draggables).filter(function(p){return p.descriptor.type===f})}};function o(u){return r.droppables[u]||null}function l(u){var f=o(u);return f||We(),f}var A={register:function(f){r.droppables[f.descriptor.id]=f},unregister:function(f){var p=o(f.descriptor.id);p&&f.uniqueId===p.uniqueId&&delete r.droppables[f.descriptor.id]},getById:l,findById:o,exists:function(f){return!!o(f)},getAllByType:function(f){return jb(r.droppables).filter(function(p){return p.descriptor.type===f})}};function c(){r.draggables={},r.droppables={},e.length=0}return{draggable:a,droppable:A,subscribe:t,clean:c}}function Hz(){var r=Vt(jz,[]);return z.useEffect(function(){return function(){requestAnimationFrame(r.clean)}},[r]),r}var QE=zt.createContext(null),Wb=function(){var r=document.body;return r||We(),r},Wz={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Kz=function(e){return"rbd-announcement-"+e};function Gz(r){var e=Vt(function(){return Kz(r)},[r]),t=z.useRef(null);z.useEffect(function(){var s=document.createElement("div");return t.current=s,s.id=e,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),gt(s.style,Wz),Wb().appendChild(s),function(){setTimeout(function(){var l=Wb();l.contains(s)&&l.removeChild(s),s===t.current&&(t.current=null)})}},[e]);var n=ct(function(i){var s=t.current;if(s){s.textContent=i;return}},[]);return n}var $z=0,zz={separator:"::"};function OE(r,e){return e===void 0&&(e=zz),Vt(function(){return""+r+e.separator+$z++},[e.separator,r])}function Vz(r){var e=r.contextId,t=r.uniqueId;return"rbd-hidden-text-"+e+"-"+t}function qz(r){var e=r.contextId,t=r.text,n=OE("hidden-text",{separator:"-"}),i=Vt(function(){return Vz({contextId:e,uniqueId:n})},[n,e]);return z.useEffect(function(){var a=document.createElement("div");return a.id=i,a.textContent=t,a.style.display="none",Wb().appendChild(a),function(){var l=Wb();l.contains(a)&&l.removeChild(a)}},[i,t]),i}var gx=zt.createContext(null);function JU(r){var e=z.useRef(r);return z.useEffect(function(){e.current=r}),e}function Yz(){var r=null;function e(){return!!r}function t(a){return a===r}function n(a){r&&We();var o={abandon:a};return r=o,o}function i(){r||We(),r=null}function s(){r&&(r.abandon(),i())}return{isClaimed:e,isActive:t,claim:n,release:i,tryAbandon:s}}var Xz=9,Jz=13,jE=27,ZU=32,Zz=33,eV=34,tV=35,rV=36,nV=37,iV=38,sV=39,aV=40,Cw,oV=(Cw={},Cw[Jz]=!0,Cw[Xz]=!0,Cw),eP=function(r){oV[r.keyCode]&&r.preventDefault()},mx=function(){var r="visibilitychange";if(typeof document>"u")return r;var e=[r,"ms"+r,"webkit"+r,"moz"+r,"o"+r],t=Cu(e,function(n){return"on"+n in document});return t||r}(),tP=0,Ak=5;function lV(r,e){return Math.abs(e.x-r.x)>=Ak||Math.abs(e.y-r.y)>=Ak}var ck={type:"IDLE"};function AV(r){var e=r.cancel,t=r.completed,n=r.getPhase,i=r.setPhase;return[{eventName:"mousemove",fn:function(a){var o=a.button,l=a.clientX,A=a.clientY;if(o===tP){var c={x:l,y:A},u=n();if(u.type==="DRAGGING"){a.preventDefault(),u.actions.move(c);return}u.type!=="PENDING"&&We();var f=u.point;if(lV(f,c)){a.preventDefault();var p=u.actions.fluidLift(c);i({type:"DRAGGING",actions:p})}}}},{eventName:"mouseup",fn:function(a){var o=n();if(o.type!=="DRAGGING"){e();return}a.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:function(a){n().type==="DRAGGING"&&a.preventDefault(),e()}},{eventName:"keydown",fn:function(a){var o=n();if(o.type==="PENDING"){e();return}if(a.keyCode===jE){a.preventDefault(),e();return}eP(a)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:function(a){var o=n();if(o.type==="IDLE"&&We(),o.actions.shouldRespectForcePress()){e();return}a.preventDefault()}},{eventName:mx,fn:e}]}function cV(r){var e=z.useRef(ck),t=z.useRef(au),n=Vt(function(){return{eventName:"mousedown",fn:function(u){if(!u.defaultPrevented&&u.button===tP&&!(u.ctrlKey||u.metaKey||u.shiftKey||u.altKey)){var f=r.findClosestDraggableId(u);if(f){var p=r.tryGetLock(f,a,{sourceEvent:u});if(p){u.preventDefault();var I={x:u.clientX,y:u.clientY};t.current(),A(p,I)}}}}}},[r]),i=Vt(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(u){if(!u.defaultPrevented){var f=r.findClosestDraggableId(u);if(f){var p=r.findOptionsForDraggable(f);p&&(p.shouldRespectForcePress||r.canGetLock(f)&&u.preventDefault())}}}}},[r]),s=ct(function(){var u={passive:!1,capture:!0};t.current=Ma(window,[i,n],u)},[i,n]),a=ct(function(){var c=e.current;c.type!=="IDLE"&&(e.current=ck,t.current(),s())},[s]),o=ct(function(){var c=e.current;a(),c.type==="DRAGGING"&&c.actions.cancel({shouldBlockNextClick:!0}),c.type==="PENDING"&&c.actions.abort()},[a]),l=ct(function(){var u={capture:!0,passive:!1},f=AV({cancel:o,completed:a,getPhase:function(){return e.current},setPhase:function(I){e.current=I}});t.current=Ma(window,f,u)},[o,a]),A=ct(function(u,f){e.current.type!=="IDLE"&&We(),e.current={type:"PENDING",point:f,actions:u},l()},[l]);na(function(){return s(),function(){t.current()}},[s])}var cf;function uV(){}var dV=(cf={},cf[eV]=!0,cf[Zz]=!0,cf[rV]=!0,cf[tV]=!0,cf);function hV(r,e){function t(){e(),r.cancel()}function n(){e(),r.drop()}return[{eventName:"keydown",fn:function(s){if(s.keyCode===jE){s.preventDefault(),t();return}if(s.keyCode===ZU){s.preventDefault(),n();return}if(s.keyCode===aV){s.preventDefault(),r.moveDown();return}if(s.keyCode===iV){s.preventDefault(),r.moveUp();return}if(s.keyCode===sV){s.preventDefault(),r.moveRight();return}if(s.keyCode===nV){s.preventDefault(),r.moveLeft();return}if(dV[s.keyCode]){s.preventDefault();return}eP(s)}},{eventName:"mousedown",fn:t},{eventName:"mouseup",fn:t},{eventName:"click",fn:t},{eventName:"touchstart",fn:t},{eventName:"resize",fn:t},{eventName:"wheel",fn:t,options:{passive:!0}},{eventName:mx,fn:t}]}function fV(r){var e=z.useRef(uV),t=Vt(function(){return{eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==ZU)return;var a=r.findClosestDraggableId(s);if(!a)return;var o=r.tryGetLock(a,c,{sourceEvent:s});if(!o)return;s.preventDefault();var l=!0,A=o.snapLift();e.current();function c(){l||We(),l=!1,e.current(),n()}e.current=Ma(window,hV(A,c),{capture:!0,passive:!1})}}},[r]),n=ct(function(){var s={passive:!1,capture:!0};e.current=Ma(window,[t],s)},[t]);na(function(){return n(),function(){e.current()}},[n])}var cI={type:"IDLE"},pV=120,gV=.15;function mV(r){var e=r.cancel,t=r.getPhase;return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(t().type!=="DRAGGING"){e();return}i.keyCode===jE&&i.preventDefault(),e()}},{eventName:mx,fn:e}]}function yV(r){var e=r.cancel,t=r.completed,n=r.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(s){var a=n();if(a.type!=="DRAGGING"){e();return}a.hasMoved=!0;var o=s.touches[0],l=o.clientX,A=o.clientY,c={x:l,y:A};s.preventDefault(),a.actions.move(c)}},{eventName:"touchend",fn:function(s){var a=n();if(a.type!=="DRAGGING"){e();return}s.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:function(s){if(n().type!=="DRAGGING"){e();return}s.preventDefault(),e()}},{eventName:"touchforcechange",fn:function(s){var a=n();a.type==="IDLE"&&We();var o=s.touches[0];if(o){var l=o.force>=gV;if(l){var A=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){A&&e();return}if(A){if(a.hasMoved){s.preventDefault();return}e();return}s.preventDefault()}}}},{eventName:mx,fn:e}]}function wV(r){var e=z.useRef(cI),t=z.useRef(au),n=ct(function(){return e.current},[]),i=ct(function(p){e.current=p},[]),s=Vt(function(){return{eventName:"touchstart",fn:function(p){if(!p.defaultPrevented){var I=r.findClosestDraggableId(p);if(I){var F=r.tryGetLock(I,o,{sourceEvent:p});if(F){var D=p.touches[0],C=D.clientX,k=D.clientY,U={x:C,y:k};t.current(),u(F,U)}}}}}},[r]),a=ct(function(){var p={capture:!0,passive:!1};t.current=Ma(window,[s],p)},[s]),o=ct(function(){var f=e.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),i(cI),t.current(),a())},[a,i]),l=ct(function(){var f=e.current;o(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[o]),A=ct(function(){var p={capture:!0,passive:!1},I={cancel:l,completed:o,getPhase:n},F=Ma(window,yV(I),p),D=Ma(window,mV(I),p);t.current=function(){F(),D()}},[l,n,o]),c=ct(function(){var p=n();p.type!=="PENDING"&&We();var I=p.actions.fluidLift(p.point);i({type:"DRAGGING",actions:I,hasMoved:!1})},[n,i]),u=ct(function(p,I){n().type!=="IDLE"&&We();var F=setTimeout(c,pV);i({type:"PENDING",point:I,actions:p,longPressTimerId:F}),A()},[A,n,i,c]);na(function(){return a(),function(){t.current();var I=n();I.type==="PENDING"&&(clearTimeout(I.longPressTimerId),i(cI))}},[n,a,i]),na(function(){var p=Ma(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return p},[])}var vV={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function rP(r,e){if(e==null)return!1;var t=!!vV[e.tagName.toLowerCase()];if(t)return!0;var n=e.getAttribute("contenteditable");return n==="true"||n===""?!0:e===r?!1:rP(r,e.parentElement)}function bV(r,e){var t=e.target;return px(t)?rP(r,t):!1}var BV=function(r){return mo(r.getBoundingClientRect()).center};function xV(r){return r instanceof XU(r).Element}var IV=function(){var r="matches";if(typeof document>"u")return r;var e=[r,"msMatchesSelector","webkitMatchesSelector"],t=Cu(e,function(n){return n in Element.prototype});return t||r}();function nP(r,e){return r==null?null:r[IV](e)?r:nP(r.parentElement,e)}function CV(r,e){return r.closest?r.closest(e):nP(r,e)}function SV(r){return"["+vg.contextId+'="'+r+'"]'}function FV(r,e){var t=e.target;if(!xV(t))return null;var n=SV(r),i=CV(t,n);return!i||!px(i)?null:i}function EV(r,e){var t=FV(r,e);return t?t.getAttribute(vg.draggableId):null}function LV(r,e){var t="["+lS.contextId+'="'+r+'"]',n=wU(document.querySelectorAll(t)),i=Cu(n,function(s){return s.getAttribute(lS.id)===e});return!i||!px(i)?null:i}function NV(r){r.preventDefault()}function Sw(r){var e=r.expected,t=r.phase,n=r.isLockActive;return r.shouldWarn,!(!n()||e!==t)}function iP(r){var e=r.lockAPI,t=r.store,n=r.registry,i=r.draggableId;if(e.isClaimed())return!1;var s=n.draggable.findById(i);return!(!s||!s.options.isEnabled||!zU(t.getState(),i))}function kV(r){var e=r.lockAPI,t=r.contextId,n=r.store,i=r.registry,s=r.draggableId,a=r.forceSensorStop,o=r.sourceEvent,l=iP({lockAPI:e,store:n,registry:i,draggableId:s});if(!l)return null;var A=i.draggable.getById(s),c=LV(t,A.descriptor.id);if(!c||o&&!A.options.canDragInteractiveElements&&bV(c,o))return null;var u=e.claim(a||au),f="PRE_DRAG";function p(){return A.options.shouldRespectForcePress}function I(){return e.isActive(u)}function F(Z,q){Sw({expected:Z,phase:f,isLockActive:I,shouldWarn:!0})&&n.dispatch(q())}var D=F.bind(null,"DRAGGING");function C(Z){function q(){e.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(q(),f!=="PRE_DRAG"&&We()),n.dispatch(I$(Z.liftActionArgs)),f="DRAGGING";function G(Y,K){if(K===void 0&&(K={shouldBlockNextClick:!1}),Z.cleanup(),K.shouldBlockNextClick){var H=Ma(window,[{eventName:"click",fn:NV,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(H)}q(),n.dispatch(OU({reason:Y}))}return gt({isActive:function(){return Sw({expected:"DRAGGING",phase:f,isLockActive:I,shouldWarn:!1})},shouldRespectForcePress:p,drop:function(K){return G("DROP",K)},cancel:function(K){return G("CANCEL",K)}},Z.actions)}function k(Z){var q=t1(function(Y){D(function(){return QU({client:Y})})}),G=C({liftActionArgs:{id:s,clientSelection:Z,movementMode:"FLUID"},cleanup:function(){return q.cancel()},actions:{move:q}});return gt({},G,{move:q})}function U(){var Z={moveUp:function(){return D(D$)},moveRight:function(){return D(U$)},moveDown:function(){return D(_$)},moveLeft:function(){return D(P$)}};return C({liftActionArgs:{id:s,clientSelection:BV(c),movementMode:"SNAP"},cleanup:au,actions:Z})}function Q(){var Z=Sw({expected:"PRE_DRAG",phase:f,isLockActive:I,shouldWarn:!0});Z&&e.release()}var V={isActive:function(){return Sw({expected:"PRE_DRAG",phase:f,isLockActive:I,shouldWarn:!1})},shouldRespectForcePress:p,fluidLift:k,snapLift:U,abort:Q};return V}var MV=[cV,fV,wV];function DV(r){var e=r.contextId,t=r.store,n=r.registry,i=r.customSensors,s=r.enableDefaultSensors,a=[].concat(s?MV:[],i||[]),o=z.useState(function(){return Yz()})[0],l=ct(function(k,U){k.isDragging&&!U.isDragging&&o.tryAbandon()},[o]);na(function(){var k=t.getState(),U=t.subscribe(function(){var Q=t.getState();l(k,Q),k=Q});return U},[o,t,l]),na(function(){return o.tryAbandon},[o.tryAbandon]);for(var A=ct(function(C){return iP({lockAPI:o,registry:n,store:t,draggableId:C})},[o,n,t]),c=ct(function(C,k,U){return kV({lockAPI:o,registry:n,contextId:e,store:t,draggableId:C,forceSensorStop:k,sourceEvent:U&&U.sourceEvent?U.sourceEvent:null})},[e,o,n,t]),u=ct(function(C){return EV(e,C)},[e]),f=ct(function(C){var k=n.draggable.findById(C);return k?k.options:null},[n.draggable]),p=ct(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(kE()))},[o,t]),I=ct(o.isClaimed,[o]),F=Vt(function(){return{canGetLock:A,tryGetLock:c,findClosestDraggableId:u,findOptionsForDraggable:f,tryReleaseLock:p,isLockClaimed:I}},[A,c,u,f,p,I]),D=0;D<a.length;D++)a[D](F)}var _V=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function wm(r){return r.current||We(),r.current}function UV(r){var e=r.contextId,t=r.setCallbacks,n=r.sensors,i=r.nonce,s=r.dragHandleUsageInstructions,a=z.useRef(null),o=JU(r),l=ct(function(){return _V(o.current)},[o]),A=Gz(e),c=qz({contextId:e,text:s}),u=Rz(e,i),f=ct(function(Y){wm(a).dispatch(Y)},[]),p=Vt(function(){return DN({publishWhileDragging:S$,updateDroppableScroll:E$,updateDroppableIsEnabled:L$,updateDroppableIsCombineEnabled:N$,collectionStarting:F$},f)},[f]),I=Hz(),F=Vt(function(){return gz(I,p)},[I,p]),D=Vt(function(){return Dz(gt({scrollWindow:mz,scrollDroppable:F.scrollDroppable},DN({move:QU},f)))},[F.scrollDroppable,f]),C=Oz(e),k=Vt(function(){return dz({announce:A,autoScroller:D,dimensionMarshal:F,focusMarshal:C,getResponders:l,styleMarshal:u})},[A,D,F,C,l,u]);a.current=k;var U=ct(function(){var Y=wm(a),K=Y.getState();K.phase!=="IDLE"&&Y.dispatch(kE())},[]),Q=ct(function(){var Y=wm(a).getState();return Y.isDragging||Y.phase==="DROP_ANIMATING"},[]),V=Vt(function(){return{isDragging:Q,tryAbort:U}},[Q,U]);t(V);var Z=ct(function(Y){return zU(wm(a).getState(),Y)},[]),q=ct(function(){return Hu(wm(a).getState())},[]),G=Vt(function(){return{marshal:F,focus:C,contextId:e,canLift:Z,isMovementAllowed:q,dragHandleUsageInstructionsId:c,registry:I}},[e,F,c,C,Z,q,I]);return DV({contextId:e,store:k,registry:I,customSensors:n,enableDefaultSensors:r.enableDefaultSensors!==!1}),z.useEffect(function(){return U},[U]),zt.createElement(gx.Provider,{value:G},zt.createElement(nK,{context:QE,store:k},r.children))}var PV=0;function TV(){return Vt(function(){return""+PV++},[])}function RV(r){var e=TV(),t=r.dragHandleUsageInstructions||xv.dragHandleUsageInstructions;return zt.createElement(fG,null,function(n){return zt.createElement(UV,{nonce:r.nonce,contextId:e,setCallbacks:n,dragHandleUsageInstructions:t,enableDefaultSensors:r.enableDefaultSensors,sensors:r.sensors,onBeforeCapture:r.onBeforeCapture,onBeforeDragStart:r.onBeforeDragStart,onDragStart:r.onDragStart,onDragUpdate:r.onDragUpdate,onDragEnd:r.onDragEnd},r.children)})}var sP=function(e){return function(t){return e===t}},QV=sP("scroll"),OV=sP("auto"),uk=function(e,t){return t(e.overflowX)||t(e.overflowY)},jV=function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return uk(n,QV)||uk(n,OV)},HV=function(){return!1},WV=function r(e){return e==null?null:e===document.body?HV()?e:null:e===document.documentElement?null:jV(e)?e:r(e.parentElement)},AS=function(r){return{x:r.scrollLeft,y:r.scrollTop}},KV=function r(e){if(!e)return!1;var t=window.getComputedStyle(e);return t.position==="fixed"?!0:r(e.parentElement)},GV=function(r){var e=WV(r),t=KV(r);return{closestScrollable:e,isFixedOnPage:t}},$V=function(r){var e=r.descriptor,t=r.isEnabled,n=r.isCombineEnabled,i=r.isFixedOnPage,s=r.direction,a=r.client,o=r.page,l=r.closest,A=function(){if(!l)return null;var p=l.scrollSize,I=l.client,F=KU({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:I.paddingBox.height,width:I.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:I,scrollSize:p,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:F,diff:{value:Yn,displacement:Yn}}}}(),c=s==="vertical"?SE:IU,u=yg({page:o,withPlaceholder:null,axis:c,frame:A}),f={descriptor:e,isCombineEnabled:n,isFixedOnPage:i,axis:c,isEnabled:t,client:a,page:o,frame:A,subject:u};return f},zV=function(e,t){var n=fU(e);if(!t||e!==t)return n;var i=n.paddingBox.top-t.scrollTop,s=n.paddingBox.left-t.scrollLeft,a=i+t.scrollHeight,o=s+t.scrollWidth,l={top:i,right:o,bottom:a,left:s},A=bE(l,n.border),c=BE({borderBox:A,margin:n.margin,border:n.border,padding:n.padding});return c},VV=function(r){var e=r.ref,t=r.descriptor,n=r.env,i=r.windowScroll,s=r.direction,a=r.isDropDisabled,o=r.isCombineEnabled,l=r.shouldClipSubject,A=n.closestScrollable,c=zV(e,A),u=Rb(c,i),f=function(){if(!A)return null;var I=fU(A),F={scrollHeight:A.scrollHeight,scrollWidth:A.scrollWidth};return{client:I,page:Rb(I,i),scroll:AS(A),scrollSize:F,shouldClipSubject:l}}(),p=$V({descriptor:t,isEnabled:!a,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:s,client:c,page:u,closest:f});return p},qV={passive:!1},YV={passive:!0},dk=function(r){return r.shouldPublishImmediately?qV:YV};function Kb(r){var e=z.useContext(r);return e||We(),e}var Fw=function(e){return e&&e.env.closestScrollable||null};function XV(r){var e=z.useRef(null),t=Kb(gx),n=OE("droppable"),i=t.registry,s=t.marshal,a=JU(r),o=Vt(function(){return{id:r.droppableId,type:r.type,mode:r.mode}},[r.droppableId,r.mode,r.type]),l=z.useRef(o),A=Vt(function(){return qn(function(Q,V){e.current||We();var Z={x:Q,y:V};s.updateDroppableScroll(o.id,Z)})},[o.id,s]),c=ct(function(){var Q=e.current;return!Q||!Q.env.closestScrollable?Yn:AS(Q.env.closestScrollable)},[]),u=ct(function(){var Q=c();A(Q.x,Q.y)},[c,A]),f=Vt(function(){return t1(u)},[u]),p=ct(function(){var Q=e.current,V=Fw(Q);Q&&V||We();var Z=Q.scrollOptions;if(Z.shouldPublishImmediately){u();return}f()},[f,u]),I=ct(function(Q,V){e.current&&We();var Z=a.current,q=Z.getDroppableRef();q||We();var G=GV(q),Y={ref:q,descriptor:o,env:G,scrollOptions:V};e.current=Y;var K=VV({ref:q,descriptor:o,env:G,windowScroll:Q,direction:Z.direction,isDropDisabled:Z.isDropDisabled,isCombineEnabled:Z.isCombineEnabled,shouldClipSubject:!Z.ignoreContainerClipping}),H=G.closestScrollable;return H&&(H.setAttribute(ok.contextId,t.contextId),H.addEventListener("scroll",p,dk(Y.scrollOptions))),K},[t.contextId,o,p,a]),F=ct(function(){var Q=e.current,V=Fw(Q);return Q&&V||We(),AS(V)},[]),D=ct(function(){var Q=e.current;Q||We();var V=Fw(Q);e.current=null,V&&(f.cancel(),V.removeAttribute(ok.contextId),V.removeEventListener("scroll",p,dk(Q.scrollOptions)))},[p,f]),C=ct(function(Q){var V=e.current;V||We();var Z=Fw(V);Z||We(),Z.scrollTop+=Q.y,Z.scrollLeft+=Q.x},[]),k=Vt(function(){return{getDimensionAndWatchScroll:I,getScrollWhileDragging:F,dragStopped:D,scroll:C}},[D,I,F,C]),U=Vt(function(){return{uniqueId:n,descriptor:o,callbacks:k}},[k,o,n]);na(function(){return l.current=U.descriptor,i.droppable.register(U),function(){e.current&&D(),i.droppable.unregister(U)}},[k,o,D,U,s,i.droppable]),na(function(){e.current&&s.updateDroppableIsEnabled(l.current.id,!r.isDropDisabled)},[r.isDropDisabled,s]),na(function(){e.current&&s.updateDroppableIsCombineEnabled(l.current.id,r.isCombineEnabled)},[r.isCombineEnabled,s])}function uI(){}var hk={width:0,height:0,margin:vG},JV=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,i=e.animate;return t||i==="close"?hk:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},ZV=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,i=e.animate,s=JV({isAnimatingOpenOnMount:t,placeholder:n,animate:i});return{display:n.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?E0.placeholder:null}};function eq(r){var e=z.useRef(null),t=ct(function(){e.current&&(clearTimeout(e.current),e.current=null)},[]),n=r.animate,i=r.onTransitionEnd,s=r.onClose,a=r.contextId,o=z.useState(r.animate==="open"),l=o[0],A=o[1];z.useEffect(function(){return l?n!=="open"?(t(),A(!1),uI):e.current?uI:(e.current=setTimeout(function(){e.current=null,A(!1)}),t):uI},[n,l,t]);var c=ct(function(f){f.propertyName==="height"&&(i(),n==="close"&&s())},[n,s,i]),u=ZV({isAnimatingOpenOnMount:l,animate:r.animate,placeholder:r.placeholder});return zt.createElement(r.placeholder.tagName,{style:u,"data-rbd-placeholder-context-id":a,onTransitionEnd:c,ref:r.innerRef})}var tq=zt.memo(eq),HE=zt.createContext(null),rq=function(r){z_(e,r);function e(){for(var n,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=r.call.apply(r,[this].concat(s))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}e.getDerivedStateFromProps=function(i,s){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:s.isVisible?{isVisible:!0,data:s.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var t=e.prototype;return t.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},e}(zt.PureComponent),fk={dragging:5e3,dropAnimating:4500},nq=function(e,t){return t?E0.drop(t.duration):e?E0.snap:E0.fluid},iq=function(e,t){return e?t?s1.opacity.drop:s1.opacity.combining:null},sq=function(e){return e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP"};function aq(r){var e=r.dimension,t=e.client,n=r.offset,i=r.combineWith,s=r.dropping,a=!!i,o=sq(r),l=!!s,A=l?aS.drop(n,a):aS.moveTo(n),c={position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:nq(o,s),transform:A,opacity:iq(a,l),zIndex:l?fk.dropAnimating:fk.dragging,pointerEvents:"none"};return c}function oq(r){return{transform:aS.moveTo(r.offset),transition:r.shouldAnimateDisplacement?null:"none"}}function lq(r){return r.type==="DRAGGING"?aq(r):oq(r)}function Aq(r,e,t){t===void 0&&(t=Yn);var n=window.getComputedStyle(e),i=e.getBoundingClientRect(),s=hU(i,n),a=Rb(s,t),o={client:s,tagName:e.tagName.toLowerCase(),display:n.display},l={x:s.marginBox.width,y:s.marginBox.height},A={descriptor:r,placeholder:o,displaceBy:l,client:s,page:a};return A}function cq(r){var e=OE("draggable"),t=r.descriptor,n=r.registry,i=r.getDraggableRef,s=r.canDragInteractiveElements,a=r.shouldRespectForcePress,o=r.isEnabled,l=Vt(function(){return{canDragInteractiveElements:s,shouldRespectForcePress:a,isEnabled:o}},[s,o,a]),A=ct(function(p){var I=i();return I||We(),Aq(t,I,p)},[t,i]),c=Vt(function(){return{uniqueId:e,descriptor:t,options:l,getDimension:A}},[t,A,l,e]),u=z.useRef(c),f=z.useRef(!0);na(function(){return n.draggable.register(u.current),function(){return n.draggable.unregister(u.current)}},[n.draggable]),na(function(){if(f.current){f.current=!1;return}var p=u.current;u.current=c,n.draggable.update(c,p)},[c,n.draggable])}function uq(r){r.preventDefault()}function dq(r){var e=z.useRef(null),t=ct(function(Y){e.current=Y},[]),n=ct(function(){return e.current},[]),i=Kb(gx),s=i.contextId,a=i.dragHandleUsageInstructionsId,o=i.registry,l=Kb(HE),A=l.type,c=l.droppableId,u=Vt(function(){return{id:r.draggableId,index:r.index,type:A,droppableId:c}},[r.draggableId,r.index,A,c]),f=r.children,p=r.draggableId,I=r.isEnabled,F=r.shouldRespectForcePress,D=r.canDragInteractiveElements,C=r.isClone,k=r.mapped,U=r.dropAnimationFinished;if(!C){var Q=Vt(function(){return{descriptor:u,registry:o,getDraggableRef:n,canDragInteractiveElements:D,shouldRespectForcePress:F,isEnabled:I}},[u,o,n,D,F,I]);cq(Q)}var V=Vt(function(){return I?{tabIndex:0,role:"button","aria-describedby":a,"data-rbd-drag-handle-draggable-id":p,"data-rbd-drag-handle-context-id":s,draggable:!1,onDragStart:uq}:null},[s,a,p,I]),Z=ct(function(Y){k.type==="DRAGGING"&&k.dropping&&Y.propertyName==="transform"&&U()},[U,k]),q=Vt(function(){var Y=lq(k),K=k.type==="DRAGGING"&&k.dropping?Z:null,H={innerRef:t,draggableProps:{"data-rbd-draggable-context-id":s,"data-rbd-draggable-id":p,style:Y,onTransitionEnd:K},dragHandleProps:V};return H},[s,V,p,k,Z,t]),G=Vt(function(){return{draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}},[u.droppableId,u.id,u.index,u.type]);return f(q,k.snapshot,G)}var aP=function(r,e){return r===e},oP=function(r){var e=r.combine,t=r.destination;return t?t.droppableId:e?e.droppableId:null},hq=function(e){return e.combine?e.combine.draggableId:null},fq=function(e){return e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null};function pq(){var r=qn(function(i,s){return{x:i,y:s}}),e=qn(function(i,s,a,o,l){return{isDragging:!0,isClone:s,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:a,combineWith:o,combineTargetFor:null}}),t=qn(function(i,s,a,o,l,A,c){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:A,mode:s,offset:i,dimension:a,forceShouldAnimate:c,snapshot:e(s,o,l,A,null)}}}),n=function(s,a){if(s.isDragging){if(s.critical.draggable.id!==a.draggableId)return null;var o=s.current.client.offset,l=s.dimensions.draggables[a.draggableId],A=ra(s.impact),c=fq(s.impact),u=s.forceShouldAnimate;return t(r(o.x,o.y),s.movementMode,l,a.isClone,A,c,u)}if(s.phase==="DROP_ANIMATING"){var f=s.completed;if(f.result.draggableId!==a.draggableId)return null;var p=a.isClone,I=s.dimensions.draggables[a.draggableId],F=f.result,D=F.mode,C=oP(F),k=hq(F),U=s.dropDuration,Q={duration:U,curve:DE.drop,moveTo:s.newHomeClientOffset,opacity:k?s1.opacity.drop:null,scale:k?s1.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:I,dropping:Q,draggingOver:C,combineWith:k,mode:D,forceShouldAnimate:null,snapshot:e(D,p,C,k,Q)}}}return null};return n}function lP(r){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:r,combineWith:null}}var gq={mapped:{type:"SECONDARY",offset:Yn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:lP(null)}};function mq(){var r=qn(function(a,o){return{x:a,y:o}}),e=qn(lP),t=qn(function(a,o,l){return o===void 0&&(o=null),{mapped:{type:"SECONDARY",offset:a,combineTargetFor:o,shouldAnimateDisplacement:l,snapshot:e(o)}}}),n=function(o){return o?t(Yn,o,!0):null},i=function(o,l,A,c){var u=A.displaced.visible[o],f=!!(c.inVirtualList&&c.effected[o]),p=dx(A),I=p&&p.draggableId===o?l:null;if(!u){if(!f)return n(I);if(A.displaced.invisible[o])return null;var F=Fg(c.displacedBy.point),D=r(F.x,F.y);return t(D,I,!0)}if(f)return n(I);var C=A.displacedBy.point,k=r(C.x,C.y);return t(k,I,u.shouldAnimate)},s=function(o,l){if(o.isDragging)return o.critical.draggable.id===l.draggableId?null:i(l.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){var A=o.completed;return A.result.draggableId===l.draggableId?null:i(l.draggableId,A.result.draggableId,A.impact,A.afterCritical)}return null};return s}var yq=function(){var e=pq(),t=mq(),n=function(s,a){return e(s,a)||t(s,a)||gq};return n},wq={dropAnimationFinished:jU},vq=uU(yq,wq,null,{context:QE,pure:!0,areStatePropsEqual:aP})(dq);function AP(r){var e=Kb(HE),t=e.isUsingCloneFor;return t===r.draggableId&&!r.isClone?null:zt.createElement(vq,r)}function bq(r){var e=typeof r.isDragDisabled=="boolean"?!r.isDragDisabled:!0,t=!!r.disableInteractiveElementBlocking,n=!!r.shouldRespectForcePress;return zt.createElement(AP,gt({},r,{isClone:!1,isEnabled:e,canDragInteractiveElements:t,shouldRespectForcePress:n}))}function Bq(r){var e=z.useContext(gx);e||We();var t=e.contextId,n=e.isMovementAllowed,i=z.useRef(null),s=z.useRef(null),a=r.children,o=r.droppableId,l=r.type,A=r.mode,c=r.direction,u=r.ignoreContainerClipping,f=r.isDropDisabled,p=r.isCombineEnabled,I=r.snapshot,F=r.useClone,D=r.updateViewportMaxScroll,C=r.getContainerForClone,k=ct(function(){return i.current},[]),U=ct(function(H){i.current=H},[]);ct(function(){return s.current},[]);var Q=ct(function(H){s.current=H},[]),V=ct(function(){n()&&D({maxScroll:$U()})},[n,D]);XV({droppableId:o,type:l,mode:A,direction:c,isDropDisabled:f,isCombineEnabled:p,ignoreContainerClipping:u,getDroppableRef:k});var Z=zt.createElement(rq,{on:r.placeholder,shouldAnimate:r.shouldAnimatePlaceholder},function(H){var te=H.onClose,ue=H.data,oe=H.animate;return zt.createElement(tq,{placeholder:ue,onClose:te,innerRef:Q,animate:oe,contextId:t,onTransitionEnd:V})}),q=Vt(function(){return{innerRef:U,placeholder:Z,droppableProps:{"data-rbd-droppable-id":o,"data-rbd-droppable-context-id":t}}},[t,o,Z,U]),G=F?F.dragging.draggableId:null,Y=Vt(function(){return{droppableId:o,type:l,isUsingCloneFor:G}},[o,G,l]);function K(){if(!F)return null;var H=F.dragging,te=F.render,ue=zt.createElement(AP,{draggableId:H.draggableId,index:H.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(oe,re){return te(oe,re,H)});return nH.createPortal(ue,C())}return zt.createElement(HE.Provider,{value:Y},a(q,I),K())}var dI=function(e,t){return e===t.droppable.type},pk=function(e,t){return t.draggables[e.draggable.id]},xq=function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=gt({},e,{shouldAnimatePlaceholder:!1}),n=qn(function(a){return{draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}}}),i=qn(function(a,o,l,A,c,u){var f=c.descriptor.id,p=c.descriptor.droppableId===a;if(p){var I=u?{render:u,dragging:n(c.descriptor)}:null,F={isDraggingOver:l,draggingOverWith:l?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:F,useClone:I}}if(!o)return t;if(!A)return e;var D={isDraggingOver:l,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:D,useClone:null}}),s=function(o,l){var A=l.droppableId,c=l.type,u=!l.isDropDisabled,f=l.renderClone;if(o.isDragging){var p=o.critical;if(!dI(c,p))return t;var I=pk(p,o.dimensions),F=ra(o.impact)===A;return i(A,u,F,F,I,f)}if(o.phase==="DROP_ANIMATING"){var D=o.completed;if(!dI(c,D.critical))return t;var C=pk(D.critical,o.dimensions);return i(A,u,oP(D.result)===A,ra(D.impact)===A,C,f)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){var k=o.completed;if(!dI(c,k.critical))return t;var U=ra(k.impact)===A,Q=!!(k.impact.at&&k.impact.at.type==="COMBINE"),V=k.critical.droppable.id===A;return U?Q?e:t:V?e:t}return t};return s},Iq={updateViewportMaxScroll:M$};function Cq(){return document.body||We(),document.body}var Sq={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Cq},cP=uU(xq,Iq,null,{context:QE,pure:!0,areStatePropsEqual:aP})(Bq);cP.defaultProps=Sq;const cS=({players:r,onPlayersChange:e,columns:t,onColumnsChange:n,searchTerm:i,showAddRow:s=!0,showDeleteColumn:a=!0,onDeletePlayer:o,className:l=""})=>{const{t:A}=Xn(),[c,u]=z.useState(null),[f,p]=z.useState(""),[I,F]=z.useState(!1),[D,C]=z.useState({min:null,max:null}),[k,U]=z.useState({}),[Q,V]=z.useState({}),[Z,q]=z.useState(null),G=z.useRef(null);z.useEffect(()=>{const y=d=>{G.current&&!G.current.contains(d.target)&&(q(null),F(!1))};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const Y=y=>{let d=r.map(M=>M[y]).filter(M=>M!=null).map(String).map(M=>M.trim()).filter(M=>M!=="");return y==="gender"&&(d=d.map(M=>A(`players.${M}`))),y==="handPreference"&&(d=d.map(M=>A(`players.${M}`))),[A("players.all"),...Array.from(new Set(d))]},K=(y,d)=>{let M=d;y==="gender"&&(d===A("players.male")&&(M="male"),d===A("players.female")&&(M="female")),y==="handPreference"&&(d===A("players.left")&&(M="left"),d===A("players.right")&&(M="right"),d===A("players.both")&&(M="both")),V(S=>({...S,[y]:M===A("players.all")?null:M.trim()})),q(null)},H=y=>{o?o(y):window.confirm("Are you sure you want to delete this player?")&&e(r.filter(d=>d.id!==y))},te=y=>{if(!y.destination)return;const d=Array.from(t),[M]=d.splice(y.source.index,1);d.splice(y.destination.index,0,M),n(d)},ue=(y,d,M)=>{if(d==="gender"){const S=M==="male"?"female":"male";e(r.map(W=>W.id===y?{...W,gender:S}:W));return}d!=="handPreference"&&(u({id:y,column:d}),p(M?String(M):""))},oe=(y,d)=>{e(r.map(M=>{if(M.id===y){const S=M.handPreference;let W;return d==="left"?S==="left"?W="right":S==="right"?W="both":W="right":S==="right"?W="left":S==="left"?W="both":W="left",{...M,handPreference:W}}return M}))},re=y=>{p(y.target.value)},J=()=>{c&&(e(r.map(y=>y.id===c.id?{...y,[c.column]:f||null}:y)),u(null))},O=y=>{y.key==="Enter"?J():y.key==="Escape"&&u(null)},j=(y,d)=>{C(M=>({...M,[y]:d===""?null:parseFloat(d)}))},T=()=>{C({min:null,max:null}),F(!1)},_=(y,d)=>{U(M=>({...M,[y]:y==="weight"?parseFloat(d)||"":d}))},L=y=>{if(y.key==="Enter"&&k.name&&k.surname&&k.weight&&k.gender&&k.handPreference){const d={id:Di(),name:k.name,surname:k.surname,weight:k.weight,gender:k.gender,handPreference:k.handPreference,city:k.city||""};e([...r,d]),U({}),setTimeout(()=>{const M=document.querySelector('input[placeholder="Enter name"]');M&&M.focus()},0)}},v=y=>{const d=k.handPreference;let M;y==="left"?d==="left"?M="right":d==="right"?M="both":d==="both"?M="right":M="left":d==="right"?M="left":d==="left"?M="both":d==="both"?M="left":M="right",U(S=>({...S,handPreference:M}))},E=r.filter(y=>{const d=i.trim().toLowerCase(),M=d.length>0?d.split(/\s+/).filter(Boolean):[],S=`${(y.name||"").toString()} ${(y.surname||"").toString()}`.trim().toLowerCase(),W=Object.values(y).map(pe=>String(pe).toLowerCase()),$=M.length===0?!0:M.every(pe=>S.includes(pe)||W.some(at=>at.includes(pe))),se=(D.min===null||y.weight>=D.min)&&(D.max===null||y.weight<=D.max),me=Object.entries(Q).every(([pe,at])=>at===null?!0:String(y[pe]).trim()===at);return $&&se&&me}),x=(y,d)=>{if((c==null?void 0:c.id)===y.id&&(c==null?void 0:c.column)===d.id)return B.jsx("input",{type:d.id==="weight"?"number":d.id==="birthday"?"date":"text",step:d.id==="weight"?"0.1":void 0,value:f,onChange:re,onBlur:J,onKeyDown:O,className:`w-full bg-transparent outline-none text-base font-semibold ${d.id==="name"?"text-blue-700":d.id==="surname"?"text-gray-900":d.id==="weight"?"text-gray-800":"text-gray-700"}`,autoFocus:!0});{let M=y[d.id]||"",S=`text-base font-semibold ${d.id==="name"?"text-blue-700":d.id==="surname"?"text-gray-900":d.id==="weight"?"text-gray-800":"text-gray-700"}`;if(d.id==="handPreference"){const W=y.handPreference==="left"||y.handPreference==="both",$=y.handPreference==="right"||y.handPreference==="both";return B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsxs("button",{onClick:()=>oe(y.id,"left"),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg font-medium text-sm transition-all duration-200 ${W?"bg-blue-500 text-white shadow-md hover:bg-blue-600":"bg-gray-100 text-gray-600 hover:bg-gray-200 border border-gray-200"}`,children:[B.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center transition-all duration-200 ${W?"border-white bg-white":"border-gray-400 bg-transparent"}`,children:W&&B.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})}),B.jsx("span",{children:A("players.left")})]}),B.jsxs("button",{onClick:()=>oe(y.id,"right"),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg font-medium text-sm transition-all duration-200 ${$?"bg-green-500 text-white shadow-md hover:bg-green-600":"bg-gray-100 text-gray-600 hover:bg-gray-200 border border-gray-200"}`,children:[B.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center transition-all duration-200 ${$?"border-white bg-white":"border-gray-400 bg-transparent"}`,children:$&&B.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"})}),B.jsx("span",{children:A("players.right")})]})]})}else d.id==="gender"&&(M=A(`players.${M}`),S+=" cursor-pointer hover:bg-blue-100 px-2 py-1 rounded transition-colors");return d.id==="handPreference"&&typeof M=="string"&&(M=A(`players.${M}`)),B.jsx("span",{className:S,children:M})}},g=y=>{if(y.id==="gender")return B.jsxs("select",{value:k[y.id]||"",onChange:d=>_(y.id,d.target.value),onKeyDown:L,className:"w-full px-2 py-1 bg-transparent border-0 text-sm text-gray-700 focus:outline-none focus:ring-0",children:[B.jsx("option",{value:"",children:"Select gender"}),B.jsx("option",{value:"male",children:"Male"}),B.jsx("option",{value:"female",children:"Female"})]});if(y.id==="handPreference"){const d=k.handPreference==="left"||k.handPreference==="both",M=k.handPreference==="right"||k.handPreference==="both";return B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsxs("button",{onClick:()=>v("left"),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg font-medium text-sm transition-all duration-200 ${d?"bg-blue-500 text-white shadow-md hover:bg-blue-600":"bg-gray-100 text-gray-600 hover:bg-gray-200 border border-gray-200"}`,children:[B.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center transition-all duration-200 ${d?"border-white bg-white":"border-gray-400 bg-transparent"}`,children:d&&B.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})}),B.jsx("span",{children:"Left"})]}),B.jsxs("button",{onClick:()=>v("right"),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg font-medium text-sm transition-all duration-200 ${M?"bg-green-500 text-white shadow-md hover:bg-green-600":"bg-gray-100 text-gray-600 hover:bg-gray-200 border border-gray-200"}`,children:[B.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center transition-all duration-200 ${M?"border-white bg-white":"border-gray-400 bg-transparent"}`,children:M&&B.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"})}),B.jsx("span",{children:"Right"})]})]})}else return B.jsx("input",{type:y.id==="weight"?"number":y.id==="birthday"?"date":"text",step:y.id==="weight"?"0.1":void 0,value:k[y.id]||"",onChange:d=>_(y.id,d.target.value),onKeyDown:L,placeholder:y.id==="birthday"?"":`Enter ${y.name.toLowerCase()}`,className:"w-full px-2 py-1 bg-transparent border-0 text-sm text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-0",autoFocus:y.id==="name"&&Object.keys(k).length===0})},w=["name","surname","weight","gender","handPreference","birthday"],h=y=>"table-cell";return B.jsx("div",{className:`overflow-x-auto overflow-y-auto max-h-[70vh] mt-6 ${l}`,children:B.jsxs("table",{className:"min-w-full border-separate border-spacing-y-2",children:[B.jsx("thead",{children:B.jsx(RV,{onDragEnd:te,children:B.jsx(cP,{droppableId:"columns",direction:"horizontal",children:y=>B.jsxs("tr",{...y.droppableProps,ref:y.innerRef,className:"bg-white",children:[B.jsx("th",{className:"w-8 p-1 font-bold text-gray-900 text-sm sm:text-base bg-white border-b border-r border-gray-100 text-center sticky top-0 z-20",children:"#"}),t.map((d,M)=>{d.visible;const S=d.visible?h():"hidden";return B.jsx(bq,{draggableId:d.id,index:M,children:W=>B.jsx("th",{ref:W.innerRef,...W.draggableProps,...W.dragHandleProps,className:`p-3 ${d.visible?"w-48":"w-10"} bg-white border-b border-r border-gray-100 ${S} sticky top-0 z-20`,children:d.visible&&B.jsxs("div",{className:"flex flex-col",children:[B.jsxs("div",{className:"flex items-center justify-between",children:[B.jsx("span",{className:"text-sm sm:text-base md:text-lg font-bold text-gray-900",children:w.includes(d.id)?A(`players.${d.id}`):d.name}),d.id==="weight"?B.jsx("button",{onClick:$=>{$.stopPropagation(),F(!I)},className:`p-1 rounded transition-colors duration-200 ${D.min!==null||D.max!==null?"text-blue-600 hover:bg-blue-50":"text-gray-400 hover:bg-gray-50"}`,children:B.jsx(tS,{className:`w-4 h-4 transition-transform duration-200 ${I?"transform rotate-180":""}`})}):!["name","surname"].includes(d.id)&&B.jsxs("div",{className:"relative",ref:G,children:[B.jsx("button",{onClick:$=>{$.stopPropagation(),q(Z===d.id?null:d.id)},className:`p-1 rounded transition-colors duration-200 ${Q[d.id]?"text-blue-600 hover:bg-blue-50":"text-gray-400 hover:bg-gray-50"}`,children:B.jsx(tS,{className:`w-4 h-4 transition-transform duration-200 ${Z===d.id?"transform rotate-180":""}`})}),Z===d.id&&B.jsx("div",{className:"absolute right-0 mt-1 w-48 bg-blue-50/30 border border-blue-100 rounded-lg shadow-sm p-2 z-20",children:B.jsx("div",{className:"max-h-48 overflow-y-auto",children:Y(d.id).map($=>B.jsx("button",{onClick:()=>K(d.id,$),className:`w-full text-left px-2 py-1 text-sm rounded ${Q[d.id]===$?"bg-blue-100 text-blue-600":"text-blue-500 hover:bg-blue-100/50"}`,children:$},$))})})]})]}),d.id==="weight"&&I&&B.jsxs("div",{className:"flex items-center gap-2 mt-1.5 bg-blue-50/30 p-1.5 rounded",ref:G,children:[B.jsx("input",{type:"number",step:"0.1",value:D.min||"",onChange:$=>j("min",$.target.value),className:"w-20 px-2 py-1 bg-white border border-gray-100 rounded text-sm text-gray-700 placeholder-gray-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500",placeholder:"Min"}),B.jsx("span",{className:"text-blue-500",children:"-"}),B.jsx("input",{type:"number",step:"0.1",value:D.max||"",onChange:$=>j("max",$.target.value),className:"w-20 px-2 py-1 bg-white border border-gray-100 rounded text-sm text-gray-700 placeholder-gray-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500",placeholder:"Max"}),B.jsx("button",{onClick:T,className:"text-xs text-blue-600 hover:text-blue-700",children:"Clear"})]})]})})},d.id)}),a&&B.jsx("th",{className:"w-12 p-1 font-bold text-gray-900 text-lg bg-white border-b border-r border-gray-100 text-center sticky top-0 z-20",children:A("players.delete")}),y.placeholder]})})})}),B.jsxs("tbody",{className:"bg-white/80 divide-y divide-gray-100",children:[E.map((y,d)=>B.jsxs("tr",{className:"hover:bg-blue-50/60 transition-all duration-200 rounded-xl shadow-md",children:[B.jsx("td",{className:"w-8 px-1 py-2 text-sm sm:text-base font-semibold text-gray-700 bg-white/80 border-r border-gray-100 text-center rounded-l-xl",children:d+1}),t.map(M=>{if(!M.visible)return null;const S=h();return B.jsx("td",{className:`px-3 py-2 whitespace-nowrap text-sm sm:text-base border-r border-gray-100 bg-white/70 ${S}`,onClick:()=>ue(y.id,M.id,y[M.id]),children:x(y,M)},M.id)}),a&&B.jsx("td",{className:"w-12 px-2 py-2 text-center border-r border-gray-100 bg-white/70 rounded-r-xl",children:B.jsx("button",{onClick:M=>{M.stopPropagation(),H(y.id)},className:"w-7 h-7 flex items-center justify-center text-red-500 hover:text-red-700 hover:bg-red-50 rounded-full transition-colors duration-200",title:"Delete player",children:"×"})})]},y.id)),s&&B.jsxs("tr",{className:"hover:bg-blue-50/60 transition-all duration-200 rounded-xl shadow",children:[B.jsx("td",{className:"w-8 px-1 py-2 text-sm sm:text-base font-semibold text-gray-400 bg-white/80 border-r border-gray-100 text-center rounded-l-xl",children:E.length+1}),t.map(y=>{if(!y.visible)return null;const d=h();return B.jsx("td",{className:`px-3 py-2 whitespace-nowrap text-sm sm:text-base border-r border-gray-100 bg-white/70 ${d}`,children:g(y)},y.id)}),a&&B.jsx("td",{className:"w-12 px-2 py-2 text-center border-r border-gray-100 bg-white/70 rounded-r-xl"})]})]})]})})},Gb=[{id:"name",name:"Name",visible:!0},{id:"surname",name:"Surname",visible:!0},{id:"weight",name:"Weight",visible:!0},{id:"gender",name:"Gender",visible:!0},{id:"handPreference",name:"Hand Preference",visible:!0},{id:"birthday",name:"Birthday",visible:!0}],hI=()=>{try{const r="__localStorage_test__";return localStorage.setItem(r,r),localStorage.removeItem(r),!0}catch{return!1}},Ho={savePlayers:r=>{if(hI())try{const e=JSON.stringify(r);localStorage.setItem("arm-wrestling-players",e)}catch{}},getPlayers:()=>{if(!hI())return[];try{const r=localStorage.getItem("arm-wrestling-players");return r?JSON.parse(r):[]}catch{return[]}},clearPlayers:()=>{hI()&&localStorage.removeItem("arm-wrestling-players")},saveColumns:r=>{try{localStorage.setItem("arm-wrestling-columns",JSON.stringify(r))}catch{}},getColumns:()=>{try{const r=localStorage.getItem("arm-wrestling-columns");return r?JSON.parse(r):Gb}catch{return Gb}},clearColumns:()=>{localStorage.removeItem("arm-wrestling-columns")},clearAllPlayersData:()=>{localStorage.removeItem("arm-wrestling-players"),localStorage.removeItem("arm-wrestling-columns")},addPlayer:(r,e)=>[...r,e],updatePlayer:(r,e)=>r.map(t=>t.id===e.id?e:t),deletePlayer:(r,e)=>r.filter(t=>t.id!==e),updatePlayers:r=>r,addColumn:(r,e)=>[...r,e],updateColumn:(r,e)=>r.map(t=>t.id===e.id?e:t),deleteColumn:(r,e)=>r.filter(t=>t.id!==e),updateColumns:r=>r,exportPlayersToJSON:r=>{try{const e=JSON.stringify(r,null,2),t=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(t),i=document.createElement("a");i.href=n,i.download="players.json",i.click(),URL.revokeObjectURL(n)}catch{}},importPlayersFromJSON:(r,e)=>{try{const t=JSON.parse(r);if(!Array.isArray(t))throw new Error("Geçersiz JSON formatı. Lütfen bu uygulamadan dışa aktardığınız dosyayı yükleyin.");if(!t.every(a=>a.id&&a.name&&a.surname&&typeof a.weight=="number"&&a.gender&&a.handPreference))throw new Error("Bazı oyuncu kayıtları eksik veya hatalı. Lütfen orijinal dosyayı yükleyin.");const i=new Map(e.map(a=>[a.id,a]));return t.forEach(a=>{i.set(a.id,{...i.get(a.id),...a})}),Array.from(i.values())}catch(t){throw t}},createTestPlayers:()=>{const r=["Ahmet","Mehmet","Ali","Hasan","Hüseyin","Mustafa","İbrahim","Ömer","Yusuf","Murat","Emre","Can","Burak","Serkan","Tolga","Deniz","Kemal","Cem","Onur","Erkan","Fatih","Serdar","Volkan","Mert","Kaan","Eren","Berk","Arda","Emir","Kaan","Ege","Doruk"],e=["Yılmaz","Kaya","Demir","Çelik","Şahin","Yıldız","Yıldırım","Özkan","Aydın","Özdemir","Arslan","Doğan","Kılıç","Aslan","Çetin","Erdoğan","Koç","Kurt","Özkan","Şen","Ergin","Güneş","Yalçın","Tekin","Bilgin","Aksoy","Korkmaz","Özer","Yavuz","Polat","Taş","Kara"],t=["İstanbul","Ankara","İzmir","Bursa","Antalya","Adana","Konya","Gaziantep","Kayseri","Mersin","Diyarbakır","Samsun","Denizli","Eskişehir","Trabzon","Erzurum","Van","Batman","Elazığ","Sivas","Malatya","Kırıkkale"],n=()=>{const i=new Date(1990,0,1),s=new Date(2005,11,31);return new Date(i.getTime()+Math.random()*(s.getTime()-i.getTime())).toISOString().split("T")[0]};return[{id:Di(),name:r[Math.floor(Math.random()*r.length)],surname:e[Math.floor(Math.random()*e.length)],weight:Math.round((Math.random()*40+60)*10)/10,gender:"male",handPreference:"left",birthday:n(),city:t[Math.floor(Math.random()*t.length)]},{id:Di(),name:r[Math.floor(Math.random()*r.length)],surname:e[Math.floor(Math.random()*e.length)],weight:Math.round((Math.random()*40+60)*10)/10,gender:"male",handPreference:"right",birthday:n(),city:t[Math.floor(Math.random()*t.length)]},{id:Di(),name:r[Math.floor(Math.random()*r.length)],surname:e[Math.floor(Math.random()*e.length)],weight:Math.round((Math.random()*40+60)*10)/10,gender:"male",handPreference:"both",birthday:n(),city:t[Math.floor(Math.random()*t.length)]},{id:Di(),name:r[Math.floor(Math.random()*r.length)],surname:e[Math.floor(Math.random()*e.length)],weight:Math.round((Math.random()*40+60)*10)/10,gender:"male",handPreference:"left",birthday:n(),city:t[Math.floor(Math.random()*t.length)]},{id:Di(),name:r[Math.floor(Math.random()*r.length)],surname:e[Math.floor(Math.random()*e.length)],weight:Math.round((Math.random()*40+60)*10)/10,gender:"male",handPreference:"right",birthday:n(),city:t[Math.floor(Math.random()*t.length)]}]}},Yi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),uS=[.001,0,0,.001,0,0],fI=1.35,Vs={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},lc={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},uP="pdfjs_internal_editor_",Et={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},Kt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},Fq={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Fi={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Iv={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},hn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},vf={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},yx={ERRORS:0,WARNINGS:1,INFOS:5},$b={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Ew={moveTo:0,lineTo:1,curveTo:2,closePath:3},Eq={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let wx=yx.WARNINGS;function Lq(r){Number.isInteger(r)&&(wx=r)}function Nq(){return wx}function vx(r){wx>=yx.INFOS&&console.log(`Info: ${r}`)}function Lt(r){wx>=yx.WARNINGS&&console.log(`Warning: ${r}`)}function pr(r){throw new Error(r)}function mn(r,e){r||pr(e)}function kq(r){switch(r==null?void 0:r.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function dP(r,e=null,t=null){if(!r)return null;if(t&&typeof r=="string"){if(t.addDefaultProtocol&&r.startsWith("www.")){const i=r.match(/\./g);(i==null?void 0:i.length)>=2&&(r=`http://${r}`)}if(t.tryConvertEncoding)try{r=Pq(r)}catch{}}const n=e?URL.parse(r,e):URL.parse(r);return kq(n)?n:null}function hP(r,e,t=!1){const n=URL.parse(r);return n?(n.hash=e,n.href):t&&dP(r,"http://example.com")?r.split("#",1)[0]+`${e?`#${e}`:""}`:""}function jt(r,e,t,n=!1){return Object.defineProperty(r,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const Fh=function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class gk extends Fh{constructor(e,t){super(e,"PasswordException"),this.code=t}}class pI extends Fh{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class dS extends Fh{constructor(e){super(e,"InvalidPDFException")}}class zb extends Fh{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class Mq extends Fh{constructor(e){super(e,"FormatError")}}class fu extends Fh{constructor(e){super(e,"AbortException")}}function fP(r){(typeof r!="object"||(r==null?void 0:r.length)===void 0)&&pr("Invalid argument for bytesToString");const e=r.length,t=8192;if(e<t)return String.fromCharCode.apply(null,r);const n=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),a=r.subarray(i,s);n.push(String.fromCharCode.apply(null,a))}return n.join("")}function oy(r){typeof r!="string"&&pr("Invalid argument for stringToBytes");const e=r.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=r.charCodeAt(n)&255;return t}function Dq(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function _q(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function Uq(){try{return new Function(""),!0}catch{return!1}}class gi{static get isLittleEndian(){return jt(this,"isLittleEndian",_q())}static get isEvalSupported(){return jt(this,"isEvalSupported",Uq())}static get isOffscreenCanvasSupported(){return jt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return jt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return jt(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return jt(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const gI=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));var SA,Cv,hS;class At{static makeHexColor(e,t,n){return`#${gI[e]}${gI[t]}${gI[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t,n=0){const i=e[n],s=e[n+1];e[n]=i*t[0]+s*t[2]+t[4],e[n+1]=i*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){const i=t[0],s=t[1],a=t[2],o=t[3],l=t[4],A=t[5];for(let c=0;c<6;c+=2){const u=e[n+c],f=e[n+c+1];e[n+c]=u*i+f*a+l,e[n+c+1]=u*s+f*o+A}}static applyInverseTransform(e,t){const n=e[0],i=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-n*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,n){const i=t[0],s=t[1],a=t[2],o=t[3],l=t[4],A=t[5],c=e[0],u=e[1],f=e[2],p=e[3];let I=i*c+l,F=I,D=i*f+l,C=D,k=o*u+A,U=k,Q=o*p+A,V=Q;if(s!==0||a!==0){const Z=s*c,q=s*f,G=a*u,Y=a*p;I+=G,C+=G,D+=Y,F+=Y,k+=Z,V+=Z,Q+=q,U+=q}n[0]=Math.min(n[0],I,D,F,C),n[1]=Math.min(n[1],k,Q,U,V),n[2]=Math.max(n[2],I,D,F,C),n[3]=Math.max(n[3],k,Q,U,V)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],i=e[1],s=e[2],a=e[3],o=n**2+i**2,l=n*s+i*a,A=s**2+a**2,c=(o+A)/2,u=Math.sqrt(c**2-(o*A-l**2));t[0]=Math.sqrt(c+u||1),t[1]=Math.sqrt(c-u||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[n,s,i,a]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,i,s){s[0]=Math.min(s[0],e,n),s[1]=Math.min(s[1],t,i),s[2]=Math.max(s[2],e,n),s[3]=Math.max(s[3],t,i)}static bezierBoundingBox(e,t,n,i,s,a,o,l,A){A[0]=Math.min(A[0],e,o),A[1]=Math.min(A[1],t,l),A[2]=Math.max(A[2],e,o),A[3]=Math.max(A[3],t,l),le(this,SA,hS).call(this,e,n,s,o,t,i,a,l,3*(-e+3*(n-s)+o),6*(e-2*n+s),3*(n-e),A),le(this,SA,hS).call(this,e,n,s,o,t,i,a,l,3*(-t+3*(i-a)+l),6*(t-2*i+a),3*(i-t),A)}}SA=new WeakSet,Cv=function(e,t,n,i,s,a,o,l,A,c){if(A<=0||A>=1)return;const u=1-A,f=A*A,p=f*A,I=u*(u*(u*e+3*A*t)+3*f*n)+p*i,F=u*(u*(u*s+3*A*a)+3*f*o)+p*l;c[0]=Math.min(c[0],I),c[1]=Math.min(c[1],F),c[2]=Math.max(c[2],I),c[3]=Math.max(c[3],F)},hS=function(e,t,n,i,s,a,o,l,A,c,u,f){if(Math.abs(A)<1e-12){Math.abs(c)>=1e-12&&le(this,SA,Cv).call(this,e,t,n,i,s,a,o,l,-u/c,f);return}const p=c**2-4*u*A;if(p<0)return;const I=Math.sqrt(p),F=2*A;le(this,SA,Cv).call(this,e,t,n,i,s,a,o,l,(-c+I)/F,f),le(this,SA,Cv).call(this,e,t,n,i,s,a,o,l,(-c-I)/F,f)},ae(At,SA);function Pq(r){return decodeURIComponent(escape(r))}let mI=null,mk=null;function Tq(r){return mI||(mI=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,mk=new Map([["ﬅ","ſt"]])),r.replaceAll(mI,(e,t,n)=>t?t.normalize("NFKC"):mk.get(n))}function pP(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const r=new Uint8Array(32);return crypto.getRandomValues(r),fP(r)}const WE="pdfjs_internal_id_";function Rq(r,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[n,i,...s]=t;if(!r(n)&&!Number.isInteger(n)||!e(i))return!1;const a=s.length;let o=!0;switch(i.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function Xi(r,e,t){return Math.min(Math.max(r,e),t)}function gP(r){return Uint8Array.prototype.toBase64?r.toBase64():btoa(fP(r))}function Qq(r){return Uint8Array.fromBase64?Uint8Array.fromBase64(r):oy(atob(r))}typeof Promise.try!="function"&&(Promise.try=function(r,...e){return new Promise(t=>{t(r(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(r){return r.reduce((e,t)=>e+t,0)});const Tl="http://www.w3.org/2000/svg",qu=class qu{};Oe(qu,"CSS",96),Oe(qu,"PDF",72),Oe(qu,"PDF_TO_CSS_UNITS",qu.CSS/qu.PDF);let pu=qu;async function ly(r,e="text"){if(Gm(r,document.baseURI)){const t=await fetch(r);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const i=new XMLHttpRequest;i.open("GET",r,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class Ay{constructor({viewBox:e,userUnit:t,scale:n,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=i,this.offsetX=s,this.offsetY=a,n*=t;const l=(e[2]+e[0])/2,A=(e[3]+e[1])/2;let c,u,f,p;switch(i%=360,i<0&&(i+=360),i){case 180:c=-1,u=0,f=0,p=1;break;case 90:c=0,u=1,f=1,p=0;break;case 270:c=0,u=-1,f=-1,p=0;break;case 0:c=1,u=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(f=-f,p=-p);let I,F,D,C;c===0?(I=Math.abs(A-e[1])*n+s,F=Math.abs(l-e[0])*n+a,D=(e[3]-e[1])*n,C=(e[2]-e[0])*n):(I=Math.abs(l-e[0])*n+s,F=Math.abs(A-e[1])*n+a,D=(e[2]-e[0])*n,C=(e[3]-e[1])*n),this.transform=[c*n,u*n,f*n,p*n,I-c*n*l-f*n*A,F-u*n*l-p*n*A],this.width=D,this.height=C}get rawDims(){const e=this.viewBox;return jt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new Ay({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){const n=[e,t];return At.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];At.applyTransform(t,this.transform);const n=[e[2],e[3]];return At.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return At.applyInverseTransform(n,this.transform),n}}class KE extends Fh{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function bx(r){const e=r.length;let t=0;for(;t<e&&r[t].trim()==="";)t++;return r.substring(t,t+5).toLowerCase()==="data:"}function GE(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function Oq(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function jq(r,e="document.pdf"){if(typeof r!="string")return e;if(bx(r))return Lt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(r);if(!n)return e;const i=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},s=/\.pdf$/i,a=n.pathname.split("/").at(-1);if(s.test(a))return i(a);if(n.searchParams.size>0){const o=Array.from(n.searchParams.values()).reverse();for(const A of o)if(s.test(A))return i(A);const l=Array.from(n.searchParams.keys()).reverse();for(const A of l)if(s.test(A))return i(A)}if(n.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(l)return i(l[0])}return e}class yk{constructor(){Oe(this,"started",Object.create(null));Oe(this,"times",[])}time(e){e in this.started&&Lt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Lt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:i,end:s}of this.times)e.push(`${n.padEnd(t)} ${s-i}ms
`);return e.join("")}}function Gm(r,e){const t=e?URL.parse(r,e):URL.parse(r);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function xo(r){r.preventDefault()}function fn(r){r.preventDefault(),r.stopPropagation()}function Hq(r){console.log("Deprecated API usage: "+r)}var h1;class $E{static toDateObject(e){if(!e||typeof e!="string")return null;m(this,h1)||ee(this,h1,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=m(this,h1).exec(e);if(!t)return null;const n=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const A=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let u=parseInt(t[9],10)||0;return u=u>=0&&u<=59?u:0,A==="-"?(a+=c,o+=u):A==="+"&&(a-=c,o-=u),new Date(Date.UTC(n,i,s,a,o,l))}}h1=new WeakMap,ae($E,h1);function Wq(r,{scale:e=1,rotation:t=0}){const{width:n,height:i}=r.attributes.style,s=[0,0,parseInt(n),parseInt(i)];return new Ay({viewBox:s,userUnit:1,scale:e,rotation:t})}function zE(r){if(r.startsWith("#")){const e=parseInt(r.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(e=>parseInt(e)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Lt(`Not a valid color format: "${r}"`),[0,0,0])}function Kq(r){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of r.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;r.set(t,zE(n))}e.remove()}function Qr(r){const{a:e,b:t,c:n,d:i,e:s,f:a}=r.getTransform();return[e,t,n,i,s,a]}function Qo(r){const{a:e,b:t,c:n,d:i,e:s,f:a}=r.getTransform().invertSelf();return[e,t,n,i,s,a]}function Bh(r,e,t=!1,n=!0){if(e instanceof Ay){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=r,o=gi.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,A=`var(--total-scale-factor) * ${s}px`,c=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,u=o?`round(down, ${A}, var(--scale-round-y))`:`calc(${A})`;!t||e.rotation%180===0?(a.width=c,a.height=u):(a.width=u,a.height=c)}n&&r.setAttribute("data-main-rotation",e.rotation)}class ml{constructor(){const{pixelRatio:e}=ml;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,i,s=-1){let a=1/0,o=1/0,l=1/0;n=ml.capPixels(n,s),n>0&&(a=Math.sqrt(n/(e*t))),i!==-1&&(o=i/e,l=i/t);const A=Math.min(a,o,l);return this.sx>A||this.sy>A?(this.sx=A,this.sy=A,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const fS=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var Ac,td,va,cc,f1,ap,p1,hB,mP,es,yP,wP,$m,Sv;const jl=class jl{constructor(e){ae(this,es);ae(this,Ac,null);ae(this,td,null);ae(this,va);ae(this,cc,null);ae(this,f1,null);ae(this,ap,null);ee(this,va,e),m(jl,p1)||ee(jl,p1,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=ee(this,Ac,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=m(this,va)._uiManager._signal;e.addEventListener("contextmenu",xo,{signal:t}),e.addEventListener("pointerdown",le(jl,hB,mP),{signal:t});const n=ee(this,cc,document.createElement("div"));n.className="buttons",e.append(n);const i=m(this,va).toolbarPosition;if(i){const{style:s}=e,a=m(this,va)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return m(this,Ac)}hide(){var e;m(this,Ac).classList.add("hidden"),(e=m(this,td))==null||e.hideDropdown()}show(){var e;m(this,Ac).classList.remove("hidden"),(e=m(this,f1))==null||e.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=m(this,va),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",m(jl,p1)[e]),le(this,es,$m).call(this,n),n.addEventListener("click",i=>{t.delete()},{signal:t._signal}),m(this,cc).append(n)}async addAltText(e){const t=await e.render();le(this,es,$m).call(this,t),m(this,cc).append(t,m(this,es,Sv)),ee(this,f1,e)}addColorPicker(e){ee(this,td,e);const t=e.renderButton();le(this,es,$m).call(this,t),m(this,cc).append(t,m(this,es,Sv))}async addEditSignatureButton(e){const t=ee(this,ap,await e.renderEditButton(m(this,va)));le(this,es,$m).call(this,t),m(this,cc).append(t,m(this,es,Sv))}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break}}updateEditSignatureButton(e){m(this,ap)&&(m(this,ap).title=e)}remove(){var e;m(this,Ac).remove(),(e=m(this,td))==null||e.destroy(),ee(this,td,null)}};Ac=new WeakMap,td=new WeakMap,va=new WeakMap,cc=new WeakMap,f1=new WeakMap,ap=new WeakMap,p1=new WeakMap,hB=new WeakSet,mP=function(e){e.stopPropagation()},es=new WeakSet,yP=function(e){m(this,va)._focusEventsAllowed=!1,fn(e)},wP=function(e){m(this,va)._focusEventsAllowed=!0,fn(e)},$m=function(e){const t=m(this,va)._uiManager._signal;e.addEventListener("focusin",le(this,es,yP).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",le(this,es,wP).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",xo,{signal:t})},Sv=function(){const e=document.createElement("div");return e.className="divider",e},ae(jl,hB),ae(jl,p1,null);let pS=jl;var g1,rd,nd,wu,vP,bP,BP;class Gq{constructor(e){ae(this,wu);ae(this,g1,null);ae(this,rd,null);ae(this,nd);ee(this,nd,e)}show(e,t,n){const[i,s]=le(this,wu,bP).call(this,t,n),{style:a}=m(this,rd)||ee(this,rd,le(this,wu,vP).call(this));e.append(m(this,rd)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){m(this,rd).remove()}}g1=new WeakMap,rd=new WeakMap,nd=new WeakMap,wu=new WeakSet,vP=function(){const e=ee(this,rd,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",xo,{signal:m(this,nd)._signal});const t=ee(this,g1,document.createElement("div"));return t.className="buttons",e.append(t),le(this,wu,BP).call(this),e},bP=function(e,t){let n=0,i=0;for(const s of e){const a=s.y+s.height;if(a<n)continue;const o=s.x+(t?s.width:0);if(a>n){i=o,n=a;continue}t?o>i&&(i=o):o<i&&(i=o)}return[t?1-i:i,n]},BP=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=m(this,nd)._signal;e.addEventListener("contextmenu",xo,{signal:n}),e.addEventListener("click",()=>{m(this,nd).highlightSelection("floating_button")},{signal:n}),m(this,g1).append(e)};function xP(r,e,t){for(const n of t)e.addEventListener(n,r[n].bind(r))}var fB;class $q{constructor(){ae(this,fB,0)}get id(){return`${uP}${Hi(this,fB)._++}`}}fB=new WeakMap;var op,m1,Li,lp,Fv;const cL=class cL{constructor(){ae(this,lp);ae(this,op,pP());ae(this,m1,0);ae(this,Li,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return jt(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:n,size:i,type:s}=e;return le(this,lp,Fv).call(this,`${t}_${n}_${i}_${s}`,e)}async getFromUrl(e){return le(this,lp,Fv).call(this,e,e)}async getFromBlob(e,t){const n=await t;return le(this,lp,Fv).call(this,e,n)}async getFromId(e){m(this,Li)||ee(this,Li,new Map);const t=m(this,Li).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){m(this,Li)||ee(this,Li,new Map);let n=m(this,Li).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${m(this,op)}_${Hi(this,m1)._++}`,refCounter:1,isSvg:!1},m(this,Li).set(e,n),m(this,Li).set(n.id,n),n}getSvgUrl(e){const t=m(this,Li).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;m(this,Li)||ee(this,Li,new Map);const t=m(this,Li).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(n.width,n.height);s.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=s.convertToBlob()}(i=n.close)==null||i.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${m(this,op)}_`)}};op=new WeakMap,m1=new WeakMap,Li=new WeakMap,lp=new WeakSet,Fv=async function(e,t){m(this,Li)||ee(this,Li,new Map);let n=m(this,Li).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${m(this,op)}_${Hi(this,m1)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(n.url=t,i=await ly(t,"blob")):t instanceof File?i=n.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const s=cL._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((A,c)=>{o.onload=()=>{n.bitmap=o,n.isSvg=!0,A()},a.onload=async()=>{const u=n.svgUrl=a.result;o.src=await s?`${u}#svgView(preserveAspectRatio(none))`:u},o.onerror=a.onerror=c});a.readAsDataURL(i),await l}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){Lt(i),n=null}return m(this,Li).set(e,n),n&&m(this,Li).set(n.id,n),n};let gS=cL;var Zr,uc,y1,Rr;class zq{constructor(e=128){ae(this,Zr,[]);ae(this,uc,!1);ae(this,y1);ae(this,Rr,-1);ee(this,y1,e)}add({cmd:e,undo:t,post:n,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),m(this,uc))return;const l={cmd:e,undo:t,post:n,type:s};if(m(this,Rr)===-1){m(this,Zr).length>0&&(m(this,Zr).length=0),ee(this,Rr,0),m(this,Zr).push(l);return}if(a&&m(this,Zr)[m(this,Rr)].type===s){o&&(l.undo=m(this,Zr)[m(this,Rr)].undo),m(this,Zr)[m(this,Rr)]=l;return}const A=m(this,Rr)+1;A===m(this,y1)?m(this,Zr).splice(0,1):(ee(this,Rr,A),A<m(this,Zr).length&&m(this,Zr).splice(A)),m(this,Zr).push(l)}undo(){if(m(this,Rr)===-1)return;ee(this,uc,!0);const{undo:e,post:t}=m(this,Zr)[m(this,Rr)];e(),t==null||t(),ee(this,uc,!1),ee(this,Rr,m(this,Rr)-1)}redo(){if(m(this,Rr)<m(this,Zr).length-1){ee(this,Rr,m(this,Rr)+1),ee(this,uc,!0);const{cmd:e,post:t}=m(this,Zr)[m(this,Rr)];e(),t==null||t(),ee(this,uc,!1)}}hasSomethingToUndo(){return m(this,Rr)!==-1}hasSomethingToRedo(){return m(this,Rr)<m(this,Zr).length-1}cleanType(e){if(m(this,Rr)!==-1){for(let t=m(this,Rr);t>=0;t--)if(m(this,Zr)[t].type!==e){m(this,Zr).splice(t+1,m(this,Rr)-t),ee(this,Rr,t);return}m(this,Zr).length=0,ee(this,Rr,-1)}}destroy(){ee(this,Zr,null)}}Zr=new WeakMap,uc=new WeakMap,y1=new WeakMap,Rr=new WeakMap;var pB,IP;class cy{constructor(e){ae(this,pB);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=gi.platform;for(const[n,i,s={}]of e)for(const a of n){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(le(this,pB,IP).call(this,t));if(!n)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:o=null}}=n;o&&!o(e,t)||(i.bind(e,...a,t)(),s||fn(t))}}pB=new WeakSet,IP=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const gB=class gB{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Kq(e),jt(this,"_colors",e)}convert(e){const t=zE(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,i]of this._colors)if(i.every((s,a)=>s===t[a]))return gB._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?At.makeHexColor(...t):e}};Oe(gB,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let mS=gB;var Ap,_s,In,ii,cp,Kl,up,ba,dc,hc,dp,id,zo,ro,sd,w1,v1,hp,b1,Vo,fc,fp,pc,qo,mB,gc,B1,mc,ad,od,yc,x1,Qn,lr,Gl,wc,ld,I1,C1,vc,Yo,$l,S1,F1,Ba,$e,Ev,yS,CP,SP,Lv,FP,EP,LP,wS,NP,vS,bS,kP,Ki,Rl,MP,DP,BS,_P,zm,xS;const $f=class $f{constructor(e,t,n,i,s,a,o,l,A,c,u,f,p,I,F){ae(this,$e);ae(this,Ap,new AbortController);ae(this,_s,null);ae(this,In,new Map);ae(this,ii,new Map);ae(this,cp,null);ae(this,Kl,null);ae(this,up,null);ae(this,ba,new zq);ae(this,dc,null);ae(this,hc,null);ae(this,dp,0);ae(this,id,new Set);ae(this,zo,null);ae(this,ro,null);ae(this,sd,new Set);Oe(this,"_editorUndoBar",null);ae(this,w1,!1);ae(this,v1,!1);ae(this,hp,!1);ae(this,b1,null);ae(this,Vo,null);ae(this,fc,null);ae(this,fp,null);ae(this,pc,!1);ae(this,qo,null);ae(this,mB,new $q);ae(this,gc,!1);ae(this,B1,!1);ae(this,mc,null);ae(this,ad,null);ae(this,od,null);ae(this,yc,null);ae(this,x1,null);ae(this,Qn,Et.NONE);ae(this,lr,new Set);ae(this,Gl,null);ae(this,wc,null);ae(this,ld,null);ae(this,I1,null);ae(this,C1,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});ae(this,vc,[0,0]);ae(this,Yo,null);ae(this,$l,null);ae(this,S1,null);ae(this,F1,null);ae(this,Ba,null);const D=this._signal=m(this,Ap).signal;ee(this,$l,e),ee(this,S1,t),ee(this,F1,n),ee(this,cp,i),ee(this,wc,s),this._eventBus=a,a._on("editingaction",this.onEditingAction.bind(this),{signal:D}),a._on("pagechanging",this.onPageChanging.bind(this),{signal:D}),a._on("scalechanging",this.onScaleChanging.bind(this),{signal:D}),a._on("rotationchanging",this.onRotationChanging.bind(this),{signal:D}),a._on("setpreference",this.onSetPreference.bind(this),{signal:D}),a._on("switchannotationeditorparams",C=>this.updateParams(C.type,C.value),{signal:D}),le(this,$e,FP).call(this),le(this,$e,kP).call(this),le(this,$e,wS).call(this),ee(this,Kl,o.annotationStorage),ee(this,b1,o.filterFactory),ee(this,ld,l),ee(this,fp,A||null),ee(this,w1,c),ee(this,v1,u),ee(this,hp,f),ee(this,x1,p||null),this.viewParameters={realScale:pu.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=I||null,this._supportsPinchToZoom=F!==!1}static get _keyboardManager(){const e=$f.prototype,t=a=>m(a,$l).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),n=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return jt(this,"_keyboardManager",new cy([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&m(a,$l).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&m(a,$l).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,n,i,s,a,o,l;(e=m(this,Ba))==null||e.resolve(),ee(this,Ba,null),(t=m(this,Ap))==null||t.abort(),ee(this,Ap,null),this._signal=null;for(const A of m(this,ii).values())A.destroy();m(this,ii).clear(),m(this,In).clear(),m(this,sd).clear(),(n=m(this,yc))==null||n.clear(),ee(this,_s,null),m(this,lr).clear(),m(this,ba).destroy(),(i=m(this,cp))==null||i.destroy(),(s=m(this,wc))==null||s.destroy(),(a=m(this,qo))==null||a.hide(),ee(this,qo,null),(o=m(this,od))==null||o.destroy(),ee(this,od,null),m(this,Vo)&&(clearTimeout(m(this,Vo)),ee(this,Vo,null)),m(this,Yo)&&(clearTimeout(m(this,Yo)),ee(this,Yo,null)),(l=this._editorUndoBar)==null||l.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return m(this,x1)}get useNewAltTextFlow(){return m(this,v1)}get useNewAltTextWhenAddingImage(){return m(this,hp)}get hcmFilter(){return jt(this,"hcmFilter",m(this,ld)?m(this,b1).addHCMFilter(m(this,ld).foreground,m(this,ld).background):"none")}get direction(){return jt(this,"direction",getComputedStyle(m(this,$l)).direction)}get highlightColors(){return jt(this,"highlightColors",m(this,fp)?new Map(m(this,fp).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColorNames(){return jt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),ee(this,hc,e)}setMainHighlightColorPicker(e){ee(this,od,e)}editAltText(e,t=!1){var n;(n=m(this,cp))==null||n.editAltText(this,e,t)}getSignature(e){var t;(t=m(this,wc))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return m(this,wc)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":ee(this,hp,t);break}}onPageChanging({pageNumber:e}){ee(this,dp,e-1)}focusMainContainer(){m(this,$l).focus()}findParent(e,t){for(const n of m(this,ii).values()){const{x:i,y:s,width:a,height:o}=n.div.getBoundingClientRect();if(e>=i&&e<=i+a&&t>=s&&t<=s+o)return n}return null}disableUserSelect(e=!1){m(this,S1).classList.toggle("noUserSelect",e)}addShouldRescale(e){m(this,sd).add(e)}removeShouldRescale(e){m(this,sd).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*pu.PDF_TO_CSS_UNITS;for(const n of m(this,sd))n.onScaleChanging();(t=m(this,hc))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:a}=t,o=t.toString(),A=le(this,$e,Ev).call(this,t).closest(".textLayer"),c=this.getSelectionBoxes(A);if(!c)return;t.empty();const u=le(this,$e,yS).call(this,A),f=m(this,Qn)===Et.NONE,p=()=>{u==null||u.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:c,anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:a,text:o}),f&&this.showAllEditors("highlight",!0,!0)};if(f){this.switchToMode(Et.HIGHLIGHT,p);return}p()}addToAnnotationStorage(e){!e.isEmpty()&&m(this,Kl)&&!m(this,Kl).has(e.id)&&m(this,Kl).setValue(e.id,e)}a11yAlert(e,t=null){const n=m(this,F1);n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,m(this,pc)&&(ee(this,pc,!1),le(this,$e,Lv).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of m(this,lr))if(t.div.contains(e)){ee(this,ad,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!m(this,ad))return;const[e,t]=m(this,ad);ee(this,ad,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){le(this,$e,wS).call(this),le(this,$e,vS).call(this)}removeEditListeners(){le(this,$e,NP).call(this),le(this,$e,bS).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of m(this,ro))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of m(this,ro))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=m(this,_s))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of m(this,lr)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of m(this,ro))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){Lt(`paste: "${s.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of n){const A=await i.deserialize(l);if(!A)return;s.push(A)}const a=()=>{for(const l of s)le(this,$e,BS).call(this,l);le(this,$e,xS).call(this,s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){Lt(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),m(this,Qn)!==Et.NONE&&!this.isEditorHandlingKeyboard&&$f._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,m(this,pc)&&(ee(this,pc,!1),le(this,$e,Lv).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(le(this,$e,EP).call(this),le(this,$e,vS).call(this),le(this,$e,Ki).call(this,{isEditing:m(this,Qn)!==Et.NONE,isEmpty:le(this,$e,zm).call(this),hasSomethingToUndo:m(this,ba).hasSomethingToUndo(),hasSomethingToRedo:m(this,ba).hasSomethingToRedo(),hasSelectedEditor:!1})):(le(this,$e,LP).call(this),le(this,$e,bS).call(this),le(this,$e,Ki).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!m(this,ro)){ee(this,ro,e);for(const t of m(this,ro))le(this,$e,Rl).call(this,t.defaultPropertiesToUpdate)}}getId(){return m(this,mB).id}get currentLayer(){return m(this,ii).get(m(this,dp))}getLayer(e){return m(this,ii).get(e)}get currentPageIndex(){return m(this,dp)}addLayer(e){m(this,ii).set(e.pageIndex,e),m(this,gc)?e.enable():e.disable()}removeLayer(e){m(this,ii).delete(e.pageIndex)}async updateMode(e,t=null,n=!1,i=!1){var s,a,o;if(m(this,Qn)!==e&&!(m(this,Ba)&&(await m(this,Ba).promise,!m(this,Ba)))){if(ee(this,Ba,Promise.withResolvers()),(s=m(this,hc))==null||s.commitOrRemove(),ee(this,Qn,e),e===Et.NONE){this.setEditingState(!1),le(this,$e,DP).call(this),(a=this._editorUndoBar)==null||a.hide(),m(this,Ba).resolve();return}e===Et.SIGNATURE&&await((o=m(this,wc))==null?void 0:o.loadSignatures()),this.setEditingState(!0),await le(this,$e,MP).call(this),this.unselectAll();for(const l of m(this,ii).values())l.updateMode(e);if(!t){n&&this.addNewEditorFromKeyboard(),m(this,Ba).resolve();return}for(const l of m(this,In).values())l.annotationElementId===t||l.id===t?(this.setSelected(l),i&&l.enterInEditMode()):l.unselect();m(this,Ba).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==m(this,Qn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){var n;if(m(this,ro)){switch(e){case Kt.CREATE:this.currentLayer.addNewEditor(t);return;case Kt.HIGHLIGHT_DEFAULT_COLOR:(n=m(this,od))==null||n.updateColor(t);break;case Kt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(m(this,I1)||ee(this,I1,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of m(this,lr))i.updateParams(e,t);for(const i of m(this,ro))i.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var s;for(const a of m(this,In).values())a.editorType===e&&a.show(t);(((s=m(this,I1))==null?void 0:s.get(Kt.HIGHLIGHT_SHOW_ALL))??!0)!==t&&le(this,$e,Rl).call(this,[[Kt.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(m(this,B1)!==e){ee(this,B1,e);for(const t of m(this,ii).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of m(this,In).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return m(this,In).get(e)}addEditor(e){m(this,In).set(e.id,e)}removeEditor(e){var t,n;e.div.contains(document.activeElement)&&(m(this,Vo)&&clearTimeout(m(this,Vo)),ee(this,Vo,setTimeout(()=>{this.focusMainContainer(),ee(this,Vo,null)},0))),m(this,In).delete(e.id),e.annotationElementId&&((t=m(this,yc))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!m(this,id).has(e.annotationElementId))&&((n=m(this,Kl))==null||n.remove(e.id))}addDeletedAnnotationElement(e){m(this,id).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return m(this,id).has(e)}removeDeletedAnnotationElement(e){m(this,id).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){m(this,_s)!==e&&(ee(this,_s,e),e&&le(this,$e,Rl).call(this,e.propertiesToUpdate))}updateUI(e){m(this,$e,_P)===e&&le(this,$e,Rl).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){le(this,$e,Rl).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(m(this,lr).has(e)){m(this,lr).delete(e),e.unselect(),le(this,$e,Ki).call(this,{hasSelectedEditor:this.hasSelection});return}m(this,lr).add(e),e.select(),le(this,$e,Rl).call(this,e.propertiesToUpdate),le(this,$e,Ki).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),(t=m(this,hc))==null||t.commitOrRemove();for(const n of m(this,lr))n!==e&&n.unselect();m(this,lr).clear(),m(this,lr).add(e),e.select(),le(this,$e,Rl).call(this,e.propertiesToUpdate),le(this,$e,Ki).call(this,{hasSelectedEditor:!0})}isSelected(e){return m(this,lr).has(e)}get firstSelectedEditor(){return m(this,lr).values().next().value}unselect(e){e.unselect(),m(this,lr).delete(e),le(this,$e,Ki).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return m(this,lr).size!==0}get isEnterHandled(){return m(this,lr).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;m(this,ba).undo(),le(this,$e,Ki).call(this,{hasSomethingToUndo:m(this,ba).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:le(this,$e,zm).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){m(this,ba).redo(),le(this,$e,Ki).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:m(this,ba).hasSomethingToRedo(),isEmpty:le(this,$e,zm).call(this)})}addCommands(e){m(this,ba).add(e),le(this,$e,Ki).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:le(this,$e,zm).call(this)})}cleanUndoStack(e){m(this,ba).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...m(this,lr)],n=()=>{var a;(a=this._editorUndoBar)==null||a.show(i,t.length===1?t[0].editorType:t.length);for(const o of t)o.remove()},i=()=>{for(const a of t)le(this,$e,BS).call(this,a)};this.addCommands({cmd:n,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=m(this,_s))==null||e.commitOrRemove()}hasSomethingToControl(){return m(this,_s)||this.hasSelection}selectAll(){for(const e of m(this,lr))e.commit();le(this,$e,xS).call(this,m(this,In).values())}unselectAll(){var e;if(!(m(this,_s)&&(m(this,_s).commitOrRemove(),m(this,Qn)!==Et.NONE))&&!((e=m(this,hc))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of m(this,lr))t.unselect();m(this,lr).clear(),le(this,$e,Ki).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;m(this,vc)[0]+=e,m(this,vc)[1]+=t;const[i,s]=m(this,vc),a=[...m(this,lr)],o=1e3;m(this,Yo)&&clearTimeout(m(this,Yo)),ee(this,Yo,setTimeout(()=>{ee(this,Yo,null),m(this,vc)[0]=m(this,vc)[1]=0,this.addCommands({cmd:()=>{for(const l of a)m(this,In).has(l.id)&&(l.translateInPage(i,s),l.translationDone())},undo:()=>{for(const l of a)m(this,In).has(l.id)&&(l.translateInPage(-i,-s),l.translationDone())},mustExec:!1})},o));for(const l of a)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),ee(this,zo,new Map);for(const e of m(this,lr))m(this,zo).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!m(this,zo))return!1;this.disableUserSelect(!1);const e=m(this,zo);ee(this,zo,null);let t=!1;for(const[{x:i,y:s,pageIndex:a},o]of e)o.newX=i,o.newY=s,o.newPageIndex=a,t||(t=i!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const n=(i,s,a,o)=>{if(m(this,In).has(i.id)){const l=m(this,ii).get(o);l?i._setParentAndPosition(l,s,a):(i.pageIndex=o,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:o}]of e)n(i,s,a,o)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:o}]of e)n(i,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(m(this,zo))for(const n of m(this,zo).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||m(this,lr).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return m(this,_s)===e}getActive(){return m(this,_s)}getMode(){return m(this,Qn)}get imageManager(){return jt(this,"imageManager",new gS)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let A=0,c=t.rangeCount;A<c;A++)if(!e.contains(t.getRangeAt(A).commonAncestorContainer))return null;const{x:n,y:i,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(A,c,u,f)=>({x:(c-i)/a,y:1-(A+u-n)/s,width:f/a,height:u/s});break;case"180":o=(A,c,u,f)=>({x:1-(A+u-n)/s,y:1-(c+f-i)/a,width:u/s,height:f/a});break;case"270":o=(A,c,u,f)=>({x:1-(c+f-i)/a,y:(A-n)/s,width:f/a,height:u/s});break;default:o=(A,c,u,f)=>({x:(A-n)/s,y:(c-i)/a,width:u/s,height:f/a});break}const l=[];for(let A=0,c=t.rangeCount;A<c;A++){const u=t.getRangeAt(A);if(!u.collapsed)for(const{x:f,y:p,width:I,height:F}of u.getClientRects())I===0||F===0||l.push(o(f,p,I,F))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(m(this,up)||ee(this,up,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=m(this,up))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=m(this,up))==null?void 0:i.get(e.data.id);if(!t)return;const n=m(this,Kl).getRawValue(t);n&&(m(this,Qn)===Et.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,t,n){var s;const i=(s=m(this,yc))==null?void 0:s.get(e);i&&(i.setCanvas(t,n),m(this,yc).delete(e))}addMissingCanvas(e,t){(m(this,yc)||ee(this,yc,new Map)).set(e,t)}};Ap=new WeakMap,_s=new WeakMap,In=new WeakMap,ii=new WeakMap,cp=new WeakMap,Kl=new WeakMap,up=new WeakMap,ba=new WeakMap,dc=new WeakMap,hc=new WeakMap,dp=new WeakMap,id=new WeakMap,zo=new WeakMap,ro=new WeakMap,sd=new WeakMap,w1=new WeakMap,v1=new WeakMap,hp=new WeakMap,b1=new WeakMap,Vo=new WeakMap,fc=new WeakMap,fp=new WeakMap,pc=new WeakMap,qo=new WeakMap,mB=new WeakMap,gc=new WeakMap,B1=new WeakMap,mc=new WeakMap,ad=new WeakMap,od=new WeakMap,yc=new WeakMap,x1=new WeakMap,Qn=new WeakMap,lr=new WeakMap,Gl=new WeakMap,wc=new WeakMap,ld=new WeakMap,I1=new WeakMap,C1=new WeakMap,vc=new WeakMap,Yo=new WeakMap,$l=new WeakMap,S1=new WeakMap,F1=new WeakMap,Ba=new WeakMap,$e=new WeakSet,Ev=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},yS=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of m(this,ii).values())if(n.hasTextLayer(e))return n;return null},CP=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=le(this,$e,Ev).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(m(this,qo)||ee(this,qo,new Gq(this)),m(this,qo).show(n,i,this.direction==="ltr"))},SP=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){m(this,Gl)&&((s=m(this,qo))==null||s.hide(),ee(this,Gl,null),le(this,$e,Ki).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===m(this,Gl))return;const i=le(this,$e,Ev).call(this,e).closest(".textLayer");if(!i){m(this,Gl)&&((a=m(this,qo))==null||a.hide(),ee(this,Gl,null),le(this,$e,Ki).call(this,{hasSelectedText:!1}));return}if((o=m(this,qo))==null||o.hide(),ee(this,Gl,t),le(this,$e,Ki).call(this,{hasSelectedText:!0}),!(m(this,Qn)!==Et.HIGHLIGHT&&m(this,Qn)!==Et.NONE)&&(m(this,Qn)===Et.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),ee(this,pc,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=m(this,Qn)===Et.HIGHLIGHT?le(this,$e,yS).call(this,i):null;l==null||l.toggleDrawing();const A=new AbortController,c=this.combinedSignal(A),u=f=>{f.type==="pointerup"&&f.button!==0||(A.abort(),l==null||l.toggleDrawing(!0),f.type==="pointerup"&&le(this,$e,Lv).call(this,"main_toolbar"))};window.addEventListener("pointerup",u,{signal:c}),window.addEventListener("blur",u,{signal:c})}},Lv=function(e=""){m(this,Qn)===Et.HIGHLIGHT?this.highlightSelection(e):m(this,w1)&&le(this,$e,CP).call(this)},FP=function(){document.addEventListener("selectionchange",le(this,$e,SP).bind(this),{signal:this._signal})},EP=function(){if(m(this,fc))return;ee(this,fc,new AbortController);const e=this.combinedSignal(m(this,fc));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},LP=function(){var e;(e=m(this,fc))==null||e.abort(),ee(this,fc,null)},wS=function(){if(m(this,mc))return;ee(this,mc,new AbortController);const e=this.combinedSignal(m(this,mc));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},NP=function(){var e;(e=m(this,mc))==null||e.abort(),ee(this,mc,null)},vS=function(){if(m(this,dc))return;ee(this,dc,new AbortController);const e=this.combinedSignal(m(this,dc));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},bS=function(){var e;(e=m(this,dc))==null||e.abort(),ee(this,dc,null)},kP=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Ki=function(e){Object.entries(e).some(([n,i])=>m(this,C1)[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(m(this,C1),e)}),m(this,Qn)===Et.HIGHLIGHT&&e.hasSelectedEditor===!1&&le(this,$e,Rl).call(this,[[Kt.HIGHLIGHT_FREE,!0]]))},Rl=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},MP=async function(){if(!m(this,gc)){ee(this,gc,!0);const e=[];for(const t of m(this,ii).values())e.push(t.enable());await Promise.all(e);for(const t of m(this,In).values())t.enable()}},DP=function(){if(this.unselectAll(),m(this,gc)){ee(this,gc,!1);for(const e of m(this,ii).values())e.disable();for(const e of m(this,In).values())e.disable()}},BS=function(e){const t=m(this,ii).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},_P=function(){let e=null;for(e of m(this,lr));return e},zm=function(){if(m(this,In).size===0)return!0;if(m(this,In).size===1)for(const e of m(this,In).values())return e.isEmpty();return!1},xS=function(e){for(const t of m(this,lr))t.unselect();m(this,lr).clear();for(const t of e)t.isEmpty()||(m(this,lr).add(t),t.select());le(this,$e,Ki).call(this,{hasSelectedEditor:this.hasSelection})},Oe($f,"TRANSLATE_SMALL",1),Oe($f,"TRANSLATE_BIG",10);let xh=$f;var On,Xo,no,pp,Jo,Us,gp,Zo,gs,zl,Ad,el,bc,yo,Vm,Nv;const Gi=class Gi{constructor(e){ae(this,yo);ae(this,On,null);ae(this,Xo,!1);ae(this,no,null);ae(this,pp,null);ae(this,Jo,null);ae(this,Us,null);ae(this,gp,!1);ae(this,Zo,null);ae(this,gs,null);ae(this,zl,null);ae(this,Ad,null);ae(this,el,!1);ee(this,gs,e),ee(this,el,e._uiManager.useNewAltTextFlow),m(Gi,bc)||ee(Gi,bc,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Gi._l10n??(Gi._l10n=e)}async render(){const e=ee(this,no,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=ee(this,pp,document.createElement("span"));e.append(t),m(this,el)?(e.classList.add("new"),e.setAttribute("data-l10n-id",m(Gi,bc).missing),t.setAttribute("data-l10n-id",m(Gi,bc)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=m(this,gs)._uiManager._signal;e.addEventListener("contextmenu",xo,{signal:n}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const i=s=>{s.preventDefault(),m(this,gs)._uiManager.editAltText(m(this,gs)),m(this,el)&&m(this,gs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:m(this,yo,Vm)}})};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(ee(this,gp,!0),i(s))},{signal:n}),await le(this,yo,Nv).call(this),e}finish(){m(this,no)&&(m(this,no).focus({focusVisible:m(this,gp)}),ee(this,gp,!1))}isEmpty(){return m(this,el)?m(this,On)===null:!m(this,On)&&!m(this,Xo)}hasData(){return m(this,el)?m(this,On)!==null||!!m(this,zl):this.isEmpty()}get guessedText(){return m(this,zl)}async setGuessedText(e){m(this,On)===null&&(ee(this,zl,e),ee(this,Ad,await Gi._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),le(this,yo,Nv).call(this))}toggleAltTextBadge(e=!1){var t;if(!m(this,el)||m(this,On)){(t=m(this,Zo))==null||t.remove(),ee(this,Zo,null);return}if(!m(this,Zo)){const n=ee(this,Zo,document.createElement("div"));n.className="noAltTextBadge",m(this,gs).div.append(n)}m(this,Zo).classList.toggle("hidden",!e)}serialize(e){let t=m(this,On);return!e&&m(this,zl)===t&&(t=m(this,Ad)),{altText:t,decorative:m(this,Xo),guessedText:m(this,zl),textWithDisclaimer:m(this,Ad)}}get data(){return{altText:m(this,On),decorative:m(this,Xo)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:i,cancel:s=!1}){n&&(ee(this,zl,n),ee(this,Ad,i)),!(m(this,On)===e&&m(this,Xo)===t)&&(s||(ee(this,On,e),ee(this,Xo,t)),le(this,yo,Nv).call(this))}toggle(e=!1){m(this,no)&&(!e&&m(this,Us)&&(clearTimeout(m(this,Us)),ee(this,Us,null)),m(this,no).disabled=!e)}shown(){m(this,gs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:m(this,yo,Vm)}})}destroy(){var e,t;(e=m(this,no))==null||e.remove(),ee(this,no,null),ee(this,pp,null),ee(this,Jo,null),(t=m(this,Zo))==null||t.remove(),ee(this,Zo,null)}};On=new WeakMap,Xo=new WeakMap,no=new WeakMap,pp=new WeakMap,Jo=new WeakMap,Us=new WeakMap,gp=new WeakMap,Zo=new WeakMap,gs=new WeakMap,zl=new WeakMap,Ad=new WeakMap,el=new WeakMap,bc=new WeakMap,yo=new WeakSet,Vm=function(){return m(this,On)&&"added"||m(this,On)===null&&this.guessedText&&"review"||"missing"},Nv=async function(){var i,s,a;const e=m(this,no);if(!e)return;if(m(this,el)){if(e.classList.toggle("done",!!m(this,On)),e.setAttribute("data-l10n-id",m(Gi,bc)[m(this,yo,Vm)]),(i=m(this,pp))==null||i.setAttribute("data-l10n-id",m(Gi,bc)[`${m(this,yo,Vm)}-label`]),!m(this,On)){(s=m(this,Jo))==null||s.remove();return}}else{if(!m(this,On)&&!m(this,Xo)){e.classList.remove("done"),(a=m(this,Jo))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=m(this,Jo);if(!t){ee(this,Jo,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${m(this,gs).id}`;const o=100,l=m(this,gs)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(m(this,Us)),ee(this,Us,null)},{once:!0}),e.addEventListener("mouseenter",()=>{ee(this,Us,setTimeout(()=>{ee(this,Us,null),m(this,Jo).classList.add("show"),m(this,gs)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var A;m(this,Us)&&(clearTimeout(m(this,Us)),ee(this,Us,null)),(A=m(this,Jo))==null||A.classList.remove("show")},{signal:l})}m(this,Xo)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=m(this,On)),t.parentNode||e.append(t);const n=m(this,gs).getElementForAltText();n==null||n.setAttribute("aria-describedby",t.id)},ae(Gi,bc,null),Oe(Gi,"_l10n",null);let Vb=Gi;var mp,cd,E1,L1,N1,k1,M1,Vl,ud,ql,dd,Yl,vu,UP,PP,TP;const uL=class uL{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){ae(this,vu);ae(this,mp);ae(this,cd,!1);ae(this,E1,null);ae(this,L1);ae(this,N1);ae(this,k1);ae(this,M1);ae(this,Vl,null);ae(this,ud);ae(this,ql,null);ae(this,dd);ae(this,Yl,null);ee(this,mp,e),ee(this,E1,n),ee(this,L1,t),ee(this,N1,i),ee(this,k1,s),ee(this,M1,a),ee(this,dd,new AbortController),ee(this,ud,AbortSignal.any([o,m(this,dd).signal])),e.addEventListener("touchstart",le(this,vu,UP).bind(this),{passive:!1,signal:m(this,ud)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/ml.pixelRatio}destroy(){var e,t;(e=m(this,dd))==null||e.abort(),ee(this,dd,null),(t=m(this,Vl))==null||t.abort(),ee(this,Vl,null)}};mp=new WeakMap,cd=new WeakMap,E1=new WeakMap,L1=new WeakMap,N1=new WeakMap,k1=new WeakMap,M1=new WeakMap,Vl=new WeakMap,ud=new WeakMap,ql=new WeakMap,dd=new WeakMap,Yl=new WeakMap,vu=new WeakSet,UP=function(e){var i,s,a;if((i=m(this,L1))!=null&&i.call(this))return;if(e.touches.length===1){if(m(this,Vl))return;const o=ee(this,Vl,new AbortController),l=AbortSignal.any([m(this,ud),o.signal]),A=m(this,mp),c={capture:!0,signal:l,passive:!1},u=f=>{var p;f.pointerType==="touch"&&((p=m(this,Vl))==null||p.abort(),ee(this,Vl,null))};A.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(fn(f),u(f))},c),A.addEventListener("pointerup",u,c),A.addEventListener("pointercancel",u,c);return}if(!m(this,Yl)){ee(this,Yl,new AbortController);const o=AbortSignal.any([m(this,ud),m(this,Yl).signal]),l=m(this,mp),A={signal:o,capture:!1,passive:!1};l.addEventListener("touchmove",le(this,vu,PP).bind(this),A);const c=le(this,vu,TP).bind(this);l.addEventListener("touchend",c,A),l.addEventListener("touchcancel",c,A),A.capture=!0,l.addEventListener("pointerdown",fn,A),l.addEventListener("pointermove",fn,A),l.addEventListener("pointercancel",fn,A),l.addEventListener("pointerup",fn,A),(s=m(this,N1))==null||s.call(this)}if(fn(e),e.touches.length!==2||(a=m(this,E1))!=null&&a.call(this)){ee(this,ql,null);return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),ee(this,ql,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY})},PP=function(e){var Q;if(!m(this,ql)||e.touches.length!==2)return;fn(e);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:i,screenY:s}=t,{screenX:a,screenY:o}=n,l=m(this,ql),{touch0X:A,touch0Y:c,touch1X:u,touch1Y:f}=l,p=u-A,I=f-c,F=a-i,D=o-s,C=Math.hypot(F,D)||1,k=Math.hypot(p,I)||1;if(!m(this,cd)&&Math.abs(k-C)<=uL.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=a,l.touch1Y=o,!m(this,cd)){ee(this,cd,!0);return}const U=[(i+a)/2,(s+o)/2];(Q=m(this,k1))==null||Q.call(this,U,k,C)},TP=function(e){var t;e.touches.length>=2||(m(this,Yl)&&(m(this,Yl).abort(),ee(this,Yl,null),(t=m(this,M1))==null||t.call(this)),m(this,ql)&&(fn(e),ee(this,ql,null),ee(this,cd,!1)))};let qb=uL;var hd,io,Dr,yp,Bc,D1,fd,si,pd,Xl,xc,_1,gd,Ps,U1,md,Jl,tl,wp,vp,xa,yd,P1,yB,mt,IS,T1,CS,kv,RP,QP,SS,Mv,FS,OP,jP,HP,ES,WP,LS,KP,GP,$P,NS,qm;const Pt=class Pt{constructor(e){ae(this,mt);ae(this,hd,null);ae(this,io,null);ae(this,Dr,null);ae(this,yp,!1);ae(this,Bc,null);ae(this,D1,"");ae(this,fd,!1);ae(this,si,null);ae(this,pd,null);ae(this,Xl,null);ae(this,xc,null);ae(this,_1,"");ae(this,gd,!1);ae(this,Ps,null);ae(this,U1,!1);ae(this,md,!1);ae(this,Jl,!1);ae(this,tl,null);ae(this,wp,0);ae(this,vp,0);ae(this,xa,null);ae(this,yd,null);Oe(this,"isSelected",!1);Oe(this,"_isCopy",!1);Oe(this,"_editToolbar",null);Oe(this,"_initialOptions",Object.create(null));Oe(this,"_initialData",null);Oe(this,"_isVisible",!0);Oe(this,"_uiManager",null);Oe(this,"_focusEventsAllowed",!0);ae(this,P1,!1);ae(this,yB,Pt._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Pt.prototype._resizeWithKeyboard,t=xh.TRANSLATE_SMALL,n=xh.TRANSLATE_BIG;return jt(this,"_resizerKeyboardManager",new cy([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Pt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return jt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Vq({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Pt._l10n??(Pt._l10n=e),Pt._l10nResizer||(Pt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Pt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Pt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){pr("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return m(this,P1)}set _isDraggable(e){var t;ee(this,P1,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=m(this,yB)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):le(this,mt,qm).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(m(this,gd)?ee(this,gd,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,i){const[s,a]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/s,this.y=(t+i)/a,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,i]=this.parentDimensions;this.setAt(e*n,t*i,this.width*n,this.height*i),this._onTranslated()}translate(e,t){le(this,mt,IS).call(this,this.parentDimensions,e,t)}translateInPage(e,t){m(this,Ps)||ee(this,Ps,[this.x,this.y,this.width,this.height]),le(this,mt,IS).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){m(this,Ps)||ee(this,Ps,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:u,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,u,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,A]=this.getBaseTranslation();a+=l,o+=A;const{style:c}=n;c.left=`${(100*a).toFixed(2)}%`,c.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!m(this,Ps)&&(m(this,Ps)[0]!==this.x||m(this,Ps)[1]!==this.y)}get _hasBeenResized(){return!!m(this,Ps)&&(m(this,Ps)[2]!==this.width||m(this,Ps)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=Pt,i=n/e,s=n/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,i]}=this;let{x:s,y:a,width:o,height:l}=this;if(o*=n,l*=i,s*=n,a*=i,this._mustFixPosition)switch(e){case 0:s=Xi(s,0,n-o),a=Xi(a,0,i-l);break;case 90:s=Xi(s,0,n-l),a=Xi(a,o,i);break;case 180:s=Xi(s,o,n),a=Xi(a,l,i);break;case 270:s=Xi(s,l,n),a=Xi(a,0,i-o);break}this.x=s/=n,this.y=a/=i;const[A,c]=this.getBaseTranslation();s+=A,a+=c,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return le(n=Pt,T1,CS).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return le(n=Pt,T1,CS).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,i]=this.parentDimensions,{style:s}=this.div;s.width=`${(100*e/n).toFixed(2)}%`,m(this,fd)||(s.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,i=n.endsWith("%"),s=!m(this,fd)&&t.endsWith("%");if(i&&s)return;const[a,o]=this.parentDimensions;i||(e.width=`${(100*parseFloat(n)/a).toFixed(2)}%`),!m(this,fd)&&!s&&(e.height=`${(100*parseFloat(t)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=m(this,Dr))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||m(this,md))return this._editToolbar;this._editToolbar=new pS(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=m(this,Dr))==null||e.destroy())}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return m(this,Dr)||(Vb.initialize(Pt._l10n),ee(this,Dr,new Vb(this)),m(this,hd)&&(m(this,Dr).data=m(this,hd),ee(this,hd,null))),m(this,Dr)}get altTextData(){var e;return(e=m(this,Dr))==null?void 0:e.data}set altTextData(e){m(this,Dr)&&(m(this,Dr).data=e)}get guessedAltText(){var e;return(e=m(this,Dr))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=m(this,Dr))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=m(this,Dr))==null?void 0:t.serialize(e)}hasAltText(){return!!m(this,Dr)&&!m(this,Dr).isEmpty()}hasAltTextData(){var e;return((e=m(this,Dr))==null?void 0:e.hasData())??!1}render(){var a;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=m(this,yp)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),le(this,mt,LS).call(this);const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),xP(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(m(this,yd)||ee(this,yd,new qb({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:le(this,mt,OP).bind(this),onPinching:le(this,mt,jP).bind(this),onPinchEnd:le(this,mt,HP).bind(this),signal:this._uiManager._signal}))),(a=this._uiManager._editorUndoBar)==null||a.hide(),e}pointerdown(e){const{isMac:t}=gi.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(ee(this,gd,!0),this._isDraggable){le(this,mt,WP).call(this,e);return}le(this,mt,ES).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){m(this,tl)&&clearTimeout(m(this,tl)),ee(this,tl,setTimeout(()=>{var e;ee(this,tl,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,A=e/i,c=t/i,u=this.x*s,f=this.y*a,p=this.width*s,I=this.height*a;switch(n){case 0:return[u+A+o,a-f-c-I+l,u+A+p+o,a-f-c+l];case 90:return[u+c+o,a-f+A+l,u+c+I+o,a-f+A+p+l];case 180:return[u-A-p+o,a-f+c+l,u-A+o,a-f+c+I+l];case 270:return[u-c-I+o,a-f-A-p+l,u-c+o,a-f-A+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,i,s,a]=e,o=s-n,l=a-i;switch(this.rotation){case 0:return[n,t-a,o,l];case 90:return[n,t-i,l,o];case 180:return[s,t-i,o,l];case 270:return[s,t-a,l,o];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),ee(this,md,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),ee(this,md,!1),!0):!1}isInEditMode(){return m(this,md)}shouldGetKeyboardEvents(){return m(this,Jl)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return t<a&&i>0&&e<s&&n>0}rebuild(){le(this,mt,LS).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){pr("An editor must be serializable")}static async deserialize(e,t,n){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId});i.rotation=e.rotation,ee(i,hd,e.accessibilityData),i._isCopy=e.isCopy||!1;const[s,a]=i.pageDimensions,[o,l,A,c]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/s,i.y=l/a,i.width=A/s,i.height=c/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=m(this,xc))==null||e.abort(),ee(this,xc,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),m(this,tl)&&(clearTimeout(m(this,tl)),ee(this,tl,null)),le(this,mt,qm).call(this),this.removeEditToolbar(),m(this,xa)){for(const n of m(this,xa).values())clearTimeout(n);ee(this,xa,null)}this.parent=null,(t=m(this,yd))==null||t.destroy(),ee(this,yd,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(le(this,mt,RP).call(this),m(this,si).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),ee(this,Xl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=m(this,si).children;if(!m(this,io)){ee(this,io,Array.from(t));const a=le(this,mt,KP).bind(this),o=le(this,mt,GP).bind(this),l=this._uiManager._signal;for(const A of m(this,io)){const c=A.getAttribute("data-resizer-name");A.setAttribute("role","spinbutton"),A.addEventListener("keydown",a,{signal:l}),A.addEventListener("blur",o,{signal:l}),A.addEventListener("focus",le(this,mt,$P).bind(this,c),{signal:l}),A.setAttribute("data-l10n-id",Pt._l10nResizer[c])}}const n=m(this,io)[0];let i=0;for(const a of t){if(a===n)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(m(this,io).length/4);if(s!==i){if(s<i)for(let o=0;o<i-s;o++)m(this,si).append(m(this,si).firstChild);else if(s>i)for(let o=0;o<s-i;o++)m(this,si).firstChild.before(m(this,si).lastChild);let a=0;for(const o of t){const A=m(this,io)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",Pt._l10nResizer[A])}}le(this,mt,NS).call(this,0),ee(this,Jl,!0),m(this,si).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){m(this,Jl)&&le(this,mt,FS).call(this,m(this,_1),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){le(this,mt,qm).call(this),this.div.focus()}select(){var e,t,n;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(n=m(this,Dr))==null||n.toggleAltTextBadge(!1)}}unselect(){var e,t,n,i,s;this.isSelected&&(this.isSelected=!1,(e=m(this,si))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=m(this,Dr))==null||s.toggleAltTextBadge(!0))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return m(this,U1)}set isEditing(e){ee(this,U1,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){ee(this,fd,!0);const n=e/t,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){m(this,xa)||ee(this,xa,new Map);const{action:n}=e;let i=m(this,xa).get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),m(this,xa).delete(n),m(this,xa).size===0&&ee(this,xa,null)},Pt._telemetryTimeout),m(this,xa).set(n,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),ee(this,yp,!1)}disable(){this.div&&(this.div.tabIndex=-1),ee(this,yp,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};hd=new WeakMap,io=new WeakMap,Dr=new WeakMap,yp=new WeakMap,Bc=new WeakMap,D1=new WeakMap,fd=new WeakMap,si=new WeakMap,pd=new WeakMap,Xl=new WeakMap,xc=new WeakMap,_1=new WeakMap,gd=new WeakMap,Ps=new WeakMap,U1=new WeakMap,md=new WeakMap,Jl=new WeakMap,tl=new WeakMap,wp=new WeakMap,vp=new WeakMap,xa=new WeakMap,yd=new WeakMap,P1=new WeakMap,yB=new WeakMap,mt=new WeakSet,IS=function([e,t],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},T1=new WeakSet,CS=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},kv=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},RP=function(){if(m(this,si))return;ee(this,si,document.createElement("div")),m(this,si).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const i=document.createElement("div");m(this,si).append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",le(this,mt,QP).bind(this,n),{signal:t}),i.addEventListener("contextmenu",xo,{signal:t}),i.tabIndex=-1}this.div.prepend(m(this,si))},QP=function(e,t){var c;t.preventDefault();const{isMac:n}=gi.platform;if(t.button!==0||t.ctrlKey&&n)return;(c=m(this,Dr))==null||c.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,ee(this,pd,[t.screenX,t.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",le(this,mt,FS).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",fn,{passive:!1,signal:a}),window.addEventListener("contextmenu",xo,{signal:a}),ee(this,Xl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const A=()=>{var u;s.abort(),this.parent.togglePointerEvents(!0),(u=m(this,Dr))==null||u.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,le(this,mt,Mv).call(this)};window.addEventListener("pointerup",A,{signal:a}),window.addEventListener("blur",A,{signal:a})},SS=function(e,t,n,i){this.width=n,this.height=i,this.x=e,this.y=t;const[s,a]=this.parentDimensions;this.setDims(s*n,a*i),this.fixAndSetPosition(),this._onResized()},Mv=function(){if(!m(this,Xl))return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:i}=m(this,Xl);ee(this,Xl,null);const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===t&&o===n&&l===i||this.addCommands({cmd:le(this,mt,SS).bind(this,s,a,o,l),undo:le(this,mt,SS).bind(this,e,t,n,i),mustExec:!0})},FS=function(e,t){const[n,i]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,A=Pt.MIN_SIZE/n,c=Pt.MIN_SIZE/i,u=le(this,mt,kv).call(this,this.rotation),f=(J,O)=>[u[0]*J+u[2]*O,u[1]*J+u[3]*O],p=le(this,mt,kv).call(this,360-this.rotation),I=(J,O)=>[p[0]*J+p[2]*O,p[1]*J+p[3]*O];let F,D,C=!1,k=!1;switch(e){case"topLeft":C=!0,F=(J,O)=>[0,0],D=(J,O)=>[J,O];break;case"topMiddle":F=(J,O)=>[J/2,0],D=(J,O)=>[J/2,O];break;case"topRight":C=!0,F=(J,O)=>[J,0],D=(J,O)=>[0,O];break;case"middleRight":k=!0,F=(J,O)=>[J,O/2],D=(J,O)=>[0,O/2];break;case"bottomRight":C=!0,F=(J,O)=>[J,O],D=(J,O)=>[0,0];break;case"bottomMiddle":F=(J,O)=>[J/2,O],D=(J,O)=>[J/2,0];break;case"bottomLeft":C=!0,F=(J,O)=>[0,O],D=(J,O)=>[J,0];break;case"middleLeft":k=!0,F=(J,O)=>[0,O/2],D=(J,O)=>[J,O/2];break}const U=F(o,l),Q=D(o,l);let V=f(...Q);const Z=Pt._round(s+V[0]),q=Pt._round(a+V[1]);let G=1,Y=1,K,H;if(t.fromKeyboard)({deltaX:K,deltaY:H}=t);else{const{screenX:J,screenY:O}=t,[j,T]=m(this,pd);[K,H]=this.screenToPageTranslation(J-j,O-T),m(this,pd)[0]=J,m(this,pd)[1]=O}if([K,H]=I(K/n,H/i),C){const J=Math.hypot(o,l);G=Y=Math.max(Math.min(Math.hypot(Q[0]-U[0]-K,Q[1]-U[1]-H)/J,1/o,1/l),A/o,c/l)}else k?G=Xi(Math.abs(Q[0]-U[0]-K),A,1)/o:Y=Xi(Math.abs(Q[1]-U[1]-H),c,1)/l;const te=Pt._round(o*G),ue=Pt._round(l*Y);V=f(...D(te,ue));const oe=Z-V[0],re=q-V[1];m(this,Ps)||ee(this,Ps,[this.x,this.y,this.width,this.height]),this.width=te,this.height=ue,this.x=oe,this.y=re,this.setDims(n*te,i*ue),this.fixAndSetPosition(),this._onResizing()},OP=function(){var e;ee(this,Xl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=m(this,Dr))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},jP=function(e,t,n){let s=.7*(n/t)+1-.7;if(s===1)return;const a=le(this,mt,kv).call(this,this.rotation),o=(Z,q)=>[a[0]*Z+a[2]*q,a[1]*Z+a[3]*q],[l,A]=this.parentDimensions,c=this.x,u=this.y,f=this.width,p=this.height,I=Pt.MIN_SIZE/l,F=Pt.MIN_SIZE/A;s=Math.max(Math.min(s,1/f,1/p),I/f,F/p);const D=Pt._round(f*s),C=Pt._round(p*s);if(D===f&&C===p)return;m(this,Ps)||ee(this,Ps,[c,u,f,p]);const k=o(f/2,p/2),U=Pt._round(c+k[0]),Q=Pt._round(u+k[1]),V=o(D/2,C/2);this.x=U-V[0],this.y=Q-V[1],this.width=D,this.height=C,this.setDims(l*D,A*C),this.fixAndSetPosition(),this._onResizing()},HP=function(){var e;(e=m(this,Dr))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),le(this,mt,Mv).call(this)},ES=function(e){const{isMac:t}=gi.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},WP=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:s},o=A=>{i.abort(),ee(this,Bc,null),ee(this,gd,!1),this._uiManager.endDragSession()||le(this,mt,ES).call(this,A),n&&this._onStopDragging()};t&&(ee(this,wp,e.clientX),ee(this,vp,e.clientY),ee(this,Bc,e.pointerId),ee(this,D1,e.pointerType),window.addEventListener("pointermove",A=>{n||(n=!0,this._onStartDragging());const{clientX:c,clientY:u,pointerId:f}=A;if(f!==m(this,Bc)){fn(A);return}const[p,I]=this.screenToPageTranslation(c-m(this,wp),u-m(this,vp));ee(this,wp,c),ee(this,vp,u),this._uiManager.dragSelectedEditors(p,I)},a),window.addEventListener("touchmove",fn,a),window.addEventListener("pointerdown",A=>{A.pointerType===m(this,D1)&&(m(this,yd)||A.isPrimary)&&o(A),fn(A)},a));const l=A=>{if(!m(this,Bc)||m(this,Bc)===A.pointerId){o(A);return}fn(A)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},LS=function(){if(m(this,xc)||!this.div)return;ee(this,xc,new AbortController);const e=this._uiManager.combinedSignal(m(this,xc));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},KP=function(e){Pt._resizerKeyboardManager.exec(this,e)},GP=function(e){var t;m(this,Jl)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==m(this,si)&&le(this,mt,qm).call(this)},$P=function(e){ee(this,_1,m(this,Jl)?e:"")},NS=function(e){if(m(this,io))for(const t of m(this,io))t.tabIndex=e},qm=function(){ee(this,Jl,!1),le(this,mt,NS).call(this,-1),le(this,mt,Mv).call(this)},ae(Pt,T1),Oe(Pt,"_l10n",null),Oe(Pt,"_l10nResizer",null),Oe(Pt,"_borderLineWidth",-1),Oe(Pt,"_colorManager",new mS),Oe(Pt,"_zIndex",1),Oe(Pt,"_telemetryTimeout",1e3);let Fr=Pt;class Vq extends Fr{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const wk=3285377520,ya=4294901760,Oo=65535;class zP{constructor(e){this.h1=e?e&4294967295:wk,this.h2=e?e&4294967295:wk}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let F=0,D=e.length;F<D;F++){const C=e.charCodeAt(F);C<=255?t[n++]=C:(t[n++]=C>>>8,t[n++]=C&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,s=n-i*4,a=new Uint32Array(t.buffer,0,i);let o=0,l=0,A=this.h1,c=this.h2;const u=3432918353,f=461845907,p=u&Oo,I=f&Oo;for(let F=0;F<i;F++)F&1?(o=a[F],o=o*u&ya|o*p&Oo,o=o<<15|o>>>17,o=o*f&ya|o*I&Oo,A^=o,A=A<<13|A>>>19,A=A*5+3864292196):(l=a[F],l=l*u&ya|l*p&Oo,l=l<<15|l>>>17,l=l*f&ya|l*I&Oo,c^=l,c=c<<13|c>>>19,c=c*5+3864292196);switch(o=0,s){case 3:o^=t[i*4+2]<<16;case 2:o^=t[i*4+1]<<8;case 1:o^=t[i*4],o=o*u&ya|o*p&Oo,o=o<<15|o>>>17,o=o*f&ya|o*I&Oo,i&1?A^=o:c^=o}this.h1=A,this.h2=c}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&ya|e*36045&Oo,t=t*4283543511&ya|((t<<16|e>>>16)*2950163797&ya)>>>16,e^=t>>>1,e=e*444984403&ya|e*60499&Oo,t=t*3301882366&ya|((t<<16|e>>>16)*3120437893&ya)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const kS=Object.freeze({map:null,hash:"",transfer:void 0});var wd,vd,ai,wB,VP;class VE{constructor(){ae(this,wB);ae(this,wd,!1);ae(this,vd,null);ae(this,ai,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=m(this,ai).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return m(this,ai).get(e)}remove(e){if(m(this,ai).delete(e),m(this,ai).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of m(this,ai).values())if(t instanceof Fr)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=m(this,ai).get(e);let i=!1;if(n!==void 0)for(const[s,a]of Object.entries(t))n[s]!==a&&(i=!0,n[s]=a);else i=!0,m(this,ai).set(e,t);i&&le(this,wB,VP).call(this),t instanceof Fr&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return m(this,ai).has(e)}get size(){return m(this,ai).size}resetModified(){m(this,wd)&&(ee(this,wd,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new qP(this)}get serializable(){if(m(this,ai).size===0)return kS;const e=new Map,t=new zP,n=[],i=Object.create(null);let s=!1;for(const[a,o]of m(this,ai)){const l=o instanceof Fr?o.serialize(!1,i):o;l&&(e.set(a,l),t.update(`${a}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const a of e.values())a.bitmap&&n.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:kS}get editorStats(){let e=null;const t=new Map;for(const n of m(this,ai).values()){if(!(n instanceof Fr))continue;const i=n.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const a=e[s]||(e[s]=new Map);for(const[o,l]of Object.entries(i)){if(o==="type")continue;let A=a.get(o);A||(A=new Map,a.set(o,A));const c=A.get(l)??0;A.set(l,c+1)}}for(const[n,i]of t)e[n]=i.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){ee(this,vd,null)}get modifiedIds(){if(m(this,vd))return m(this,vd);const e=[];for(const t of m(this,ai).values())!(t instanceof Fr)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return ee(this,vd,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return m(this,ai).entries()}}wd=new WeakMap,vd=new WeakMap,ai=new WeakMap,wB=new WeakSet,VP=function(){m(this,wd)||(ee(this,wd,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var R1;class qP extends VE{constructor(t){super();ae(this,R1);const{map:n,hash:i,transfer:s}=t.serializable,a=structuredClone(n,s?{transfer:s}:null);ee(this,R1,{map:a,hash:i,transfer:s})}get print(){pr("Should not call PrintAnnotationStorage.print")}get serializable(){return m(this,R1)}get modifiedIds(){return jt(this,"modifiedIds",{ids:new Set,hash:""})}}R1=new WeakMap;var bp;class qq{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){ae(this,bp,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),m(this,bp).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(!(!e||m(this,bp).has(e.loadedName))){if(mn(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:a}=e,o=new FontFace(i,s,a);this.addNativeFontFace(o);try{await o.load(),m(this,bp).add(i),n==null||n(e)}catch{Lt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}pr("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw Lt(`Failed to load font '${n.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return jt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return jt(this,"isSyncFontLoadingSupported",Yi||gi.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(mn(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const s=n.shift();setTimeout(s.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:t,callback:e};return n.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return jt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(Q,V){return Q.charCodeAt(V)<<24|Q.charCodeAt(V+1)<<16|Q.charCodeAt(V+2)<<8|Q.charCodeAt(V+3)&255}function i(Q,V,Z,q){const G=Q.substring(0,V),Y=Q.substring(V+Z);return G+q+Y}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let A=0;function c(Q,V){if(++A>30){Lt("Load test font never loaded."),V();return}if(l.font="30px "+Q,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){V();return}setTimeout(c.bind(null,Q,V))}const u=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=i(f,976,u.length,u);const I=16,F=1482184792;let D=n(f,I);for(s=0,a=u.length-3;s<a;s+=4)D=D-F+n(u,s)|0;s<u.length&&(D=D-F+n(u+"XXX",s)|0),f=i(f,I,4,Dq(D));const C=`url(data:font/opentype;base64,${btoa(f)});`,k=`@font-face {font-family:"${u}";src:${C}}`;this.insertRule(k);const U=this._document.createElement("div");U.style.visibility="hidden",U.style.width=U.style.height="10px",U.style.position="absolute",U.style.top=U.style.left="0px";for(const Q of[e.loadedName,u]){const V=this._document.createElement("span");V.textContent="Hi",V.style.fontFamily=Q,U.append(V)}this._document.body.append(U),c(u,()=>{U.remove(),t.complete()})}}bp=new WeakMap;class Yq{constructor(e,t=null){this.compiledGlyphs=Object.create(null);for(const n in e)this[n]=e[n];this._inspectFont=t}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${gP(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let i;try{i=e.get(n)}catch(a){Lt(`getPathGenerator - ignoring character: "${a}".`)}const s=new Path2D(i||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=s}}function Xq(r){if(r instanceof URL)return r.href;if(typeof r=="string"){if(Yi)return r;const e=URL.parse(r,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Jq(r){if(Yi&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return oy(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r==null?void 0:r.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Lw(r){if(typeof r!="string")return null;if(r.endsWith("/"))return r;throw new Error(`Invalid factory url: "${r}" must include trailing slash.`)}const MS=r=>typeof r=="object"&&Number.isInteger(r==null?void 0:r.num)&&r.num>=0&&Number.isInteger(r==null?void 0:r.gen)&&r.gen>=0,Zq=r=>typeof r=="object"&&typeof(r==null?void 0:r.name)=="string",eY=Rq.bind(null,MS,Zq);var Zl,vB;class tY{constructor(){ae(this,Zl,new Map);ae(this,vB,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};m(this,vB).then(()=>{for(const[i]of m(this,Zl))i.call(this,n)})}addEventListener(e,t,n=null){let i=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:s}=n;if(s.aborted){Lt("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}m(this,Zl).set(t,i)}removeEventListener(e,t){const n=m(this,Zl).get(t);n==null||n(),m(this,Zl).delete(t)}terminate(){for(const[,e]of m(this,Zl))e==null||e();m(this,Zl).clear()}}Zl=new WeakMap,vB=new WeakMap;const Nw={DATA:1,ERROR:2},dn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function vk(){}function fs(r){if(r instanceof fu||r instanceof dS||r instanceof gk||r instanceof zb||r instanceof pI)return r;switch(r instanceof Error||typeof r=="object"&&r!==null||pr('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new fu(r.message);case"InvalidPDFException":return new dS(r.message);case"PasswordException":return new gk(r.message,r.code);case"ResponseException":return new zb(r.message,r.status,r.missing);case"UnknownErrorException":return new pI(r.message,r.details)}return new pI(r.message,r.toString())}var Bp,Ta,YP,XP,JP,Dv;class Ym{constructor(e,t,n){ae(this,Ta);ae(this,Bp,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",le(this,Ta,YP).bind(this),{signal:m(this,Bp).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,n,i){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:A=>{const c=Promise.withResolvers();return this.streamControllers[s]={controller:A,startCall:c,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:t,desiredSize:A.desiredSize},i),c.promise},pull:A=>{const c=Promise.withResolvers();return this.streamControllers[s].pullCall=c,l.postMessage({sourceName:a,targetName:o,stream:dn.PULL,streamId:s,desiredSize:A.desiredSize}),c.promise},cancel:A=>{mn(A instanceof Error,"cancel must have a valid reason");const c=Promise.withResolvers();return this.streamControllers[s].cancelCall=c,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:dn.CANCEL,streamId:s,reason:fs(A)}),c.promise}},n)}destroy(){var e;(e=m(this,Bp))==null||e.abort(),ee(this,Bp,null)}}Bp=new WeakMap,Ta=new WeakSet,YP=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){le(this,Ta,JP).call(this,e);return}if(e.callback){const n=e.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===Nw.DATA)i.resolve(e.data);else if(e.callback===Nw.ERROR)i.reject(fs(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(a){s.postMessage({sourceName:n,targetName:i,callback:Nw.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:n,targetName:i,callback:Nw.ERROR,callbackId:e.callbackId,reason:fs(a)})});return}if(e.streamId){le(this,Ta,XP).call(this,e);return}t(e.data)},XP=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(A,c=1,u){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=c,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:i,stream:dn.ENQUEUE,streamId:t,chunk:A},u)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:dn.CLOSE,streamId:t}),delete a.streamSinks[t])},error(A){mn(A instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:dn.ERROR,streamId:t,reason:fs(A)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(o,e.data,l).then(function(){s.postMessage({sourceName:n,targetName:i,stream:dn.START_COMPLETE,streamId:t,success:!0})},function(A){s.postMessage({sourceName:n,targetName:i,stream:dn.START_COMPLETE,streamId:t,reason:fs(A)})})},JP=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case dn.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(fs(e.reason));break;case dn.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(fs(e.reason));break;case dn.PULL:if(!o){s.postMessage({sourceName:n,targetName:i,stream:dn.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||vk).then(function(){s.postMessage({sourceName:n,targetName:i,stream:dn.PULL_COMPLETE,streamId:t,success:!0})},function(A){s.postMessage({sourceName:n,targetName:i,stream:dn.PULL_COMPLETE,streamId:t,reason:fs(A)})});break;case dn.ENQUEUE:if(mn(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case dn.CLOSE:if(mn(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),le(this,Ta,Dv).call(this,a,t);break;case dn.ERROR:mn(a,"error should have stream controller"),a.controller.error(fs(e.reason)),le(this,Ta,Dv).call(this,a,t);break;case dn.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(fs(e.reason)),le(this,Ta,Dv).call(this,a,t);break;case dn.CANCEL:if(!o)break;const l=fs(e.reason);Promise.try(o.onCancel||vk,l).then(function(){s.postMessage({sourceName:n,targetName:i,stream:dn.CANCEL_COMPLETE,streamId:t,success:!0})},function(A){s.postMessage({sourceName:n,targetName:i,stream:dn.CANCEL_COMPLETE,streamId:t,reason:fs(A)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Dv=async function(e,t){var n,i,s;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var Q1;class ZP{constructor({enableHWA:e=!1}){ae(this,Q1,!1);ee(this,Q1,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!m(this,Q1)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){pr("Abstract method `_createCanvas` called.")}}Q1=new WeakMap;class rY extends ZP{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class eT{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){pr("Abstract method `_fetch` called.")}}class bk extends eT{async _fetch(e){const t=await ly(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):oy(t)}}class tT{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,i,s){return"none"}destroy(e=!1){}}var bd,xp,eA,tA,Ni,Bd,xd,tt,Ei,Xm,bf,_v,Bf,rT,DS,xf,Jm,Zm,_S,e0;class nY extends tT{constructor({docId:t,ownerDocument:n=globalThis.document}){super();ae(this,tt);ae(this,bd);ae(this,xp);ae(this,eA);ae(this,tA);ae(this,Ni);ae(this,Bd);ae(this,xd,0);ee(this,tA,t),ee(this,Ni,n)}addFilter(t){if(!t)return"none";let n=m(this,tt,Ei).get(t);if(n)return n;const[i,s,a]=le(this,tt,_v).call(this,t),o=t.length===1?i:`${i}${s}${a}`;if(n=m(this,tt,Ei).get(o),n)return m(this,tt,Ei).set(t,n),n;const l=`g_${m(this,tA)}_transfer_map_${Hi(this,xd)._++}`,A=le(this,tt,Bf).call(this,l);m(this,tt,Ei).set(t,A),m(this,tt,Ei).set(o,A);const c=le(this,tt,xf).call(this,l);return le(this,tt,Zm).call(this,i,s,a,c),A}addHCMFilter(t,n){var I;const i=`${t}-${n}`,s="base";let a=m(this,tt,Xm).get(s);if((a==null?void 0:a.key)===i||(a?((I=a.filter)==null||I.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},m(this,tt,Xm).set(s,a)),!t||!n))return a.url;const o=le(this,tt,e0).call(this,t);t=At.makeHexColor(...o);const l=le(this,tt,e0).call(this,n);if(n=At.makeHexColor(...l),m(this,tt,bf).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return a.url;const A=new Array(256);for(let F=0;F<=255;F++){const D=F/255;A[F]=D<=.03928?D/12.92:((D+.055)/1.055)**2.4}const c=A.join(","),u=`g_${m(this,tA)}_hcm_filter`,f=a.filter=le(this,tt,xf).call(this,u);le(this,tt,Zm).call(this,c,c,c,f),le(this,tt,DS).call(this,f);const p=(F,D)=>{const C=o[F]/255,k=l[F]/255,U=new Array(D+1);for(let Q=0;Q<=D;Q++)U[Q]=C+Q/D*(k-C);return U.join(",")};return le(this,tt,Zm).call(this,p(0,5),p(1,5),p(2,5),f),a.url=le(this,tt,Bf).call(this,u),a.url}addAlphaFilter(t){let n=m(this,tt,Ei).get(t);if(n)return n;const[i]=le(this,tt,_v).call(this,[t]),s=`alpha_${i}`;if(n=m(this,tt,Ei).get(s),n)return m(this,tt,Ei).set(t,n),n;const a=`g_${m(this,tA)}_alpha_map_${Hi(this,xd)._++}`,o=le(this,tt,Bf).call(this,a);m(this,tt,Ei).set(t,o),m(this,tt,Ei).set(s,o);const l=le(this,tt,xf).call(this,a);return le(this,tt,_S).call(this,i,l),o}addLuminosityFilter(t){let n=m(this,tt,Ei).get(t||"luminosity");if(n)return n;let i,s;if(t?([i]=le(this,tt,_v).call(this,[t]),s=`luminosity_${i}`):s="luminosity",n=m(this,tt,Ei).get(s),n)return m(this,tt,Ei).set(t,n),n;const a=`g_${m(this,tA)}_luminosity_map_${Hi(this,xd)._++}`,o=le(this,tt,Bf).call(this,a);m(this,tt,Ei).set(t,o),m(this,tt,Ei).set(s,o);const l=le(this,tt,xf).call(this,a);return le(this,tt,rT).call(this,l),t&&le(this,tt,_S).call(this,i,l),o}addHighlightHCMFilter(t,n,i,s,a){var k;const o=`${n}-${i}-${s}-${a}`;let l=m(this,tt,Xm).get(t);if((l==null?void 0:l.key)===o||(l?((k=l.filter)==null||k.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},m(this,tt,Xm).set(t,l)),!n||!i))return l.url;const[A,c]=[n,i].map(le(this,tt,e0).bind(this));let u=Math.round(.2126*A[0]+.7152*A[1]+.0722*A[2]),f=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[p,I]=[s,a].map(le(this,tt,e0).bind(this));f<u&&([u,f,p,I]=[f,u,I,p]),m(this,tt,bf).style.color="";const F=(U,Q,V)=>{const Z=new Array(256),q=(f-u)/V,G=U/255,Y=(Q-U)/(255*V);let K=0;for(let H=0;H<=V;H++){const te=Math.round(u+H*q),ue=G+H*Y;for(let oe=K;oe<=te;oe++)Z[oe]=ue;K=te+1}for(let H=K;H<256;H++)Z[H]=Z[K-1];return Z.join(",")},D=`g_${m(this,tA)}_hcm_${t}_filter`,C=l.filter=le(this,tt,xf).call(this,D);return le(this,tt,DS).call(this,C),le(this,tt,Zm).call(this,F(p[0],I[0],5),F(p[1],I[1],5),F(p[2],I[2],5),C),l.url=le(this,tt,Bf).call(this,D),l.url}destroy(t=!1){var n,i,s,a;t&&((n=m(this,Bd))!=null&&n.size)||((i=m(this,eA))==null||i.parentNode.parentNode.remove(),ee(this,eA,null),(s=m(this,xp))==null||s.clear(),ee(this,xp,null),(a=m(this,Bd))==null||a.clear(),ee(this,Bd,null),ee(this,xd,0))}}bd=new WeakMap,xp=new WeakMap,eA=new WeakMap,tA=new WeakMap,Ni=new WeakMap,Bd=new WeakMap,xd=new WeakMap,tt=new WeakSet,Ei=function(){return m(this,xp)||ee(this,xp,new Map)},Xm=function(){return m(this,Bd)||ee(this,Bd,new Map)},bf=function(){if(!m(this,eA)){const t=m(this,Ni).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=m(this,Ni).createElementNS(Tl,"svg");i.setAttribute("width",0),i.setAttribute("height",0),ee(this,eA,m(this,Ni).createElementNS(Tl,"defs")),t.append(i),i.append(m(this,eA)),m(this,Ni).body.append(t)}return m(this,eA)},_v=function(t){if(t.length===1){const A=t[0],c=new Array(256);for(let f=0;f<256;f++)c[f]=A[f]/255;const u=c.join(",");return[u,u,u]}const[n,i,s]=t,a=new Array(256),o=new Array(256),l=new Array(256);for(let A=0;A<256;A++)a[A]=n[A]/255,o[A]=i[A]/255,l[A]=s[A]/255;return[a.join(","),o.join(","),l.join(",")]},Bf=function(t){if(m(this,bd)===void 0){ee(this,bd,"");const n=m(this,Ni).URL;n!==m(this,Ni).baseURI&&(bx(n)?Lt('#createUrl: ignore "data:"-URL for performance reasons.'):ee(this,bd,hP(n,"")))}return`url(${m(this,bd)}#${t})`},rT=function(t){const n=m(this,Ni).createElementNS(Tl,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},DS=function(t){const n=m(this,Ni).createElementNS(Tl,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},xf=function(t){const n=m(this,Ni).createElementNS(Tl,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),m(this,tt,bf).append(n),n},Jm=function(t,n,i){const s=m(this,Ni).createElementNS(Tl,n);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},Zm=function(t,n,i,s){const a=m(this,Ni).createElementNS(Tl,"feComponentTransfer");s.append(a),le(this,tt,Jm).call(this,a,"feFuncR",t),le(this,tt,Jm).call(this,a,"feFuncG",n),le(this,tt,Jm).call(this,a,"feFuncB",i)},_S=function(t,n){const i=m(this,Ni).createElementNS(Tl,"feComponentTransfer");n.append(i),le(this,tt,Jm).call(this,i,"feFuncA",t)},e0=function(t){return m(this,tt,bf).style.color=t,zE(getComputedStyle(m(this,tt,bf)).getPropertyValue("color"))};class nT{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){pr("Abstract method `_fetch` called.")}}class Bk extends nT{async _fetch(e){const t=await ly(e,"arraybuffer");return new Uint8Array(t)}}class iT{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){pr("Abstract method `_fetch` called.")}}class xk extends iT{async _fetch(e){const t=await ly(e,"arraybuffer");return new Uint8Array(t)}}Yi&&Lt("Please use the `legacy` build in Node.js environments.");async function qE(r){const t=await process.getBuiltinModule("fs").promises.readFile(r);return new Uint8Array(t)}class iY extends tT{}class sY extends ZP{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class aY extends eT{async _fetch(e){return qE(e)}}class oY extends nT{async _fetch(e){return qE(e)}}class lY extends iT{async _fetch(e){return qE(e)}}const ui={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function US(r,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,n),r.clip(i)}class YE{isModifyingCurrentTransform(){return!1}getPattern(){pr("Abstract method `getPattern` called.")}}class AY extends YE{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,i){let s;if(i===ui.STROKE||i===ui.FILL){const a=t.current.getClippedPathBoundingBox(i,Qr(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,A=t.cachedCanvases.getCanvas("pattern",o,l),c=A.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-a[0],-a[1]),n=At.transform(n,[1,0,0,1,a[0],a[1]]),c.transform(...t.baseTransform),this.matrix&&c.transform(...this.matrix),US(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),s=e.createPattern(A.canvas,"no-repeat");const u=new DOMMatrix(n);s.setTransform(u)}else US(e,this._bbox),s=this._createGradient(e);return s}}function yI(r,e,t,n,i,s,a,o){const l=e.coords,A=e.colors,c=r.data,u=r.width*4;let f;l[t+1]>l[n+1]&&(f=t,t=n,n=f,f=s,s=a,a=f),l[n+1]>l[i+1]&&(f=n,n=i,i=f,f=a,a=o,o=f),l[t+1]>l[n+1]&&(f=t,t=n,n=f,f=s,s=a,a=f);const p=(l[t]+e.offsetX)*e.scaleX,I=(l[t+1]+e.offsetY)*e.scaleY,F=(l[n]+e.offsetX)*e.scaleX,D=(l[n+1]+e.offsetY)*e.scaleY,C=(l[i]+e.offsetX)*e.scaleX,k=(l[i+1]+e.offsetY)*e.scaleY;if(I>=k)return;const U=A[s],Q=A[s+1],V=A[s+2],Z=A[a],q=A[a+1],G=A[a+2],Y=A[o],K=A[o+1],H=A[o+2],te=Math.round(I),ue=Math.round(k);let oe,re,J,O,j,T,_,L;for(let v=te;v<=ue;v++){if(v<D){const h=v<I?0:(I-v)/(I-D);oe=p-(p-F)*h,re=U-(U-Z)*h,J=Q-(Q-q)*h,O=V-(V-G)*h}else{let h;v>k?h=1:D===k?h=0:h=(D-v)/(D-k),oe=F-(F-C)*h,re=Z-(Z-Y)*h,J=q-(q-K)*h,O=G-(G-H)*h}let E;v<I?E=0:v>k?E=1:E=(I-v)/(I-k),j=p-(p-C)*E,T=U-(U-Y)*E,_=Q-(Q-K)*E,L=V-(V-H)*E;const x=Math.round(Math.min(oe,j)),g=Math.round(Math.max(oe,j));let w=u*v+x*4;for(let h=x;h<=g;h++)E=(oe-h)/(oe-j),E<0?E=0:E>1&&(E=1),c[w++]=re-(re-T)*E|0,c[w++]=J-(J-_)*E|0,c[w++]=O-(O-L)*E|0,c[w++]=255}}function cY(r,e,t){const n=e.coords,i=e.colors;let s,a;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(n.length/o)-1,A=o-1;for(s=0;s<l;s++){let c=s*o;for(let u=0;u<A;u++,c++)yI(r,t,n[c],n[c+1],n[c+o],i[c],i[c+1],i[c+o]),yI(r,t,n[c+o+1],n[c+1],n[c+o],i[c+o+1],i[c+1],i[c+o])}break;case"triangles":for(s=0,a=n.length;s<a;s+=3)yI(r,t,n[s],n[s+1],n[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class uY extends YE{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),A=Math.ceil(this._bounds[2])-o,c=Math.ceil(this._bounds[3])-l,u=Math.min(Math.ceil(Math.abs(A*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(c*e[1]*1.1)),3e3),p=A/u,I=c/f,F={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/p,scaleY:1/I},D=u+2*2,C=f+2*2,k=n.getCanvas("mesh",D,C),U=k.context,Q=U.createImageData(u,f);if(t){const Z=Q.data;for(let q=0,G=Z.length;q<G;q+=4)Z[q]=t[0],Z[q+1]=t[1],Z[q+2]=t[2],Z[q+3]=255}for(const Z of this._figures)cY(Q,Z,F);return U.putImageData(Q,2,2),{canvas:k.canvas,offsetX:o-2*p,offsetY:l-2*I,scaleX:p,scaleY:I}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,i){US(e,this._bbox);const s=new Float32Array(2);if(i===ui.SHADING)At.singularValueDecompose2dScale(Qr(e),s);else if(this.matrix){At.singularValueDecompose2dScale(this.matrix,s);const[o,l]=s;At.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=o,s[1]*=l}else At.singularValueDecompose2dScale(t.baseTransform,s);const a=this._createMeshCanvas(s,i===ui.SHADING?null:this._background,t.cachedCanvases);return i!==ui.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class dY extends YE{getPattern(){return"hotpink"}}function hY(r){switch(r[0]){case"RadialAxial":return new AY(r);case"Mesh":return new uY(r);case"Dummy":return new dY}throw new Error(`Unknown IR type: ${r[0]}`)}const Ik={COLORED:1,UNCOLORED:2},bB=class bB{constructor(e,t,n,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=i}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:i,tilingType:s,color:a,canvasGraphicsFactory:o}=this;let{xstep:l,ystep:A}=this;l=Math.abs(l),A=Math.abs(A),vx("TilingType: "+s);const c=t[0],u=t[1],f=t[2],p=t[3],I=f-c,F=p-u,D=new Float32Array(2);At.singularValueDecompose2dScale(this.matrix,D);const[C,k]=D;At.singularValueDecompose2dScale(this.baseTransform,D);const U=C*D[0],Q=k*D[1];let V=I,Z=F,q=!1,G=!1;const Y=Math.ceil(l*U),K=Math.ceil(A*Q),H=Math.ceil(I*U),te=Math.ceil(F*Q);Y>=H?V=l:q=!0,K>=te?Z=A:G=!0;const ue=this.getSizeAndScale(V,this.ctx.canvas.width,U),oe=this.getSizeAndScale(Z,this.ctx.canvas.height,Q),re=e.cachedCanvases.getCanvas("pattern",ue.size,oe.size),J=re.context,O=o.createCanvasGraphics(J);if(O.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(O,i,a),J.translate(-ue.scale*c,-oe.scale*u),O.transform(ue.scale,0,0,oe.scale,0,0),J.save(),this.clipBbox(O,c,u,f,p),O.baseTransform=Qr(O.ctx),O.executeOperatorList(n),O.endDrawing(),J.restore(),q||G){const j=re.canvas;q&&(V=l),G&&(Z=A);const T=this.getSizeAndScale(V,this.ctx.canvas.width,U),_=this.getSizeAndScale(Z,this.ctx.canvas.height,Q),L=T.size,v=_.size,E=e.cachedCanvases.getCanvas("pattern-workaround",L,v),x=E.context,g=q?Math.floor(I/l):0,w=G?Math.floor(F/A):0;for(let h=0;h<=g;h++)for(let y=0;y<=w;y++)x.drawImage(j,L*h,v*y,L,v,0,0,L,v);return{canvas:E.canvas,scaleX:T.scale,scaleY:_.scale,offsetX:c,offsetY:u}}return{canvas:re.canvas,scaleX:ue.scale,scaleY:oe.scale,offsetX:c,offsetY:u}}getSizeAndScale(e,t,n){const i=Math.max(bB.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*n);return s>=i?s=i:n=s/e,{scale:n,size:s}}clipBbox(e,t,n,i,s){const a=i-t,o=s-n;e.ctx.rect(t,n,a,o),At.axialAlignedBoundingBox([t,n,i,s],Qr(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,s=e.current;switch(t){case Ik.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;i.fillStyle=s.fillColor=a,i.strokeStyle=s.strokeColor=o;break;case Ik.UNCOLORED:i.fillStyle=i.strokeStyle=n,s.fillColor=s.strokeColor=n;break;default:throw new Mq(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,i){let s=n;i!==ui.SHADING&&(s=At.transform(s,t.baseTransform),this.matrix&&(s=At.transform(s,this.matrix)));const a=this.createPatternCanvas(t);let o=new DOMMatrix(s);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const l=e.createPattern(a.canvas,"repeat");return l.setTransform(o),l}};Oe(bB,"MAX_PATTERN_SIZE",3e3);let PS=bB;function fY({src:r,srcPos:e=0,dest:t,width:n,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=gi.isLittleEndian?4278190080:255,[l,A]=a?[s,o]:[o,s],c=n>>3,u=n&7,f=r.length;t=new Uint32Array(t.buffer);let p=0;for(let I=0;I<i;I++){for(const D=e+c;e<D;e++){const C=e<f?r[e]:255;t[p++]=C&128?A:l,t[p++]=C&64?A:l,t[p++]=C&32?A:l,t[p++]=C&16?A:l,t[p++]=C&8?A:l,t[p++]=C&4?A:l,t[p++]=C&2?A:l,t[p++]=C&1?A:l}if(u===0)continue;const F=e<f?r[e++]:255;for(let D=0;D<u;D++)t[p++]=F&1<<7-D?A:l}return{srcPos:e,destPos:p}}const Ck=16,Sk=100,pY=15,Fk=10,ws=16,wI=new DOMMatrix,Ys=new Float32Array(2),Wf=new Float32Array([1/0,1/0,-1/0,-1/0]);function gY(r,e){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){e.save(),this.__originalSave()},r.restore=function(){e.restore(),this.__originalRestore()},r.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},r.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},r.transform=function(t,n,i,s,a,o){e.transform(t,n,i,s,a,o),this.__originalTransform(t,n,i,s,a,o)},r.setTransform=function(t,n,i,s,a,o){e.setTransform(t,n,i,s,a,o),this.__originalSetTransform(t,n,i,s,a,o)},r.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},r.rotate=function(t){e.rotate(t),this.__originalRotate(t)},r.clip=function(t){e.clip(t),this.__originalClip(t)},r.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},r.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},r.bezierCurveTo=function(t,n,i,s,a,o){e.bezierCurveTo(t,n,i,s,a,o),this.__originalBezierCurveTo(t,n,i,s,a,o)},r.rect=function(t,n,i,s){e.rect(t,n,i,s),this.__originalRect(t,n,i,s)},r.closePath=function(){e.closePath(),this.__originalClosePath()},r.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class mY{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,n)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function kw(r,e,t,n,i,s,a,o,l,A){const[c,u,f,p,I,F]=Qr(r);if(u===0&&f===0){const k=a*c+I,U=Math.round(k),Q=o*p+F,V=Math.round(Q),Z=(a+l)*c+I,q=Math.abs(Math.round(Z)-U)||1,G=(o+A)*p+F,Y=Math.abs(Math.round(G)-V)||1;return r.setTransform(Math.sign(c),0,0,Math.sign(p),U,V),r.drawImage(e,t,n,i,s,0,0,q,Y),r.setTransform(c,u,f,p,I,F),[q,Y]}if(c===0&&p===0){const k=o*f+I,U=Math.round(k),Q=a*u+F,V=Math.round(Q),Z=(o+A)*f+I,q=Math.abs(Math.round(Z)-U)||1,G=(a+l)*u+F,Y=Math.abs(Math.round(G)-V)||1;return r.setTransform(0,Math.sign(u),Math.sign(f),0,U,V),r.drawImage(e,t,n,i,s,0,0,Y,q),r.setTransform(c,u,f,p,I,F),[Y,q]}r.drawImage(e,t,n,i,s,a,o,l,A);const D=Math.hypot(c,u),C=Math.hypot(f,p);return[D*l,C*A]}class Ek{constructor(e,t){Oe(this,"alphaIsShape",!1);Oe(this,"fontSize",0);Oe(this,"fontSizeScale",1);Oe(this,"textMatrix",null);Oe(this,"textMatrixScale",1);Oe(this,"fontMatrix",uS);Oe(this,"leading",0);Oe(this,"x",0);Oe(this,"y",0);Oe(this,"lineX",0);Oe(this,"lineY",0);Oe(this,"charSpacing",0);Oe(this,"wordSpacing",0);Oe(this,"textHScale",1);Oe(this,"textRenderingMode",Fi.FILL);Oe(this,"textRise",0);Oe(this,"fillColor","#000000");Oe(this,"strokeColor","#000000");Oe(this,"patternFill",!1);Oe(this,"patternStroke",!1);Oe(this,"fillAlpha",1);Oe(this,"strokeAlpha",1);Oe(this,"lineWidth",1);Oe(this,"activeSMask",null);Oe(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Wf.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=ui.FILL,t=null){const n=this.minMax.slice();if(e===ui.STROKE){t||pr("Stroke bounding box must include transform."),At.singularValueDecompose2dScale(t,Ys);const i=Ys[0]*this.lineWidth/2,s=Ys[1]*this.lineWidth/2;n[0]-=i,n[1]-=s,n[2]+=i,n[3]+=s}return n}updateClipFromPath(){const e=At.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Wf,0)}getClippedPathBoundingBox(e=ui.FILL,t=null){return At.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function Lk(r,e){if(e instanceof ImageData){r.putImageData(e,0,0);return}const t=e.height,n=e.width,i=t%ws,s=(t-i)/ws,a=i===0?s:s+1,o=r.createImageData(n,ws);let l=0,A;const c=e.data,u=o.data;let f,p,I,F;if(e.kind===Iv.GRAYSCALE_1BPP){const D=c.byteLength,C=new Uint32Array(u.buffer,0,u.byteLength>>2),k=C.length,U=n+7>>3,Q=4294967295,V=gi.isLittleEndian?4278190080:255;for(f=0;f<a;f++){for(I=f<s?ws:i,A=0,p=0;p<I;p++){const Z=D-l;let q=0;const G=Z>U?n:Z*8-7,Y=G&-8;let K=0,H=0;for(;q<Y;q+=8)H=c[l++],C[A++]=H&128?Q:V,C[A++]=H&64?Q:V,C[A++]=H&32?Q:V,C[A++]=H&16?Q:V,C[A++]=H&8?Q:V,C[A++]=H&4?Q:V,C[A++]=H&2?Q:V,C[A++]=H&1?Q:V;for(;q<G;q++)K===0&&(H=c[l++],K=128),C[A++]=H&K?Q:V,K>>=1}for(;A<k;)C[A++]=0;r.putImageData(o,0,f*ws)}}else if(e.kind===Iv.RGBA_32BPP){for(p=0,F=n*ws*4,f=0;f<s;f++)u.set(c.subarray(l,l+F)),l+=F,r.putImageData(o,0,p),p+=ws;f<a&&(F=n*i*4,u.set(c.subarray(l,l+F)),r.putImageData(o,0,p))}else if(e.kind===Iv.RGB_24BPP)for(I=ws,F=n*I,f=0;f<a;f++){for(f>=s&&(I=i,F=n*I),A=0,p=F;p--;)u[A++]=c[l++],u[A++]=c[l++],u[A++]=c[l++],u[A++]=255;r.putImageData(o,0,f*ws)}else throw new Error(`bad image kind: ${e.kind}`)}function Nk(r,e){if(e.bitmap){r.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,i=t%ws,s=(t-i)/ws,a=i===0?s:s+1,o=r.createImageData(n,ws);let l=0;const A=e.data,c=o.data;for(let u=0;u<a;u++){const f=u<s?ws:i;({srcPos:l}=fY({src:A,srcPos:l,dest:c,width:n,height:f,nonBlackColor:0})),r.putImageData(o,0,u*ws)}}function vm(r,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)r[n]!==void 0&&(e[n]=r[n]);r.setLineDash!==void 0&&(e.setLineDash(r.getLineDash()),e.lineDashOffset=r.lineDashOffset)}function Mw(r){r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0);const{filter:e}=r;e!=="none"&&e!==""&&(r.filter="none")}function kk(r,e){if(e)return!0;At.singularValueDecompose2dScale(r,Ys);const t=Math.fround(ml.pixelRatio*pu.PDF_TO_CSS_UNITS);return Ys[0]<=t&&Ys[1]<=t}const yY=["butt","round","square"],wY=["miter","round","bevel"],vY={},Mk={};var Io,TS,RS,QS;const dL=class dL{constructor(e,t,n,i,s,{optionalContentConfig:a,markedContentStack:o=null},l,A){ae(this,Io);this.ctx=e,this.current=new Ek(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new mY(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=A,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,n){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Qr(this.compositeCtx))}this.ctx.save(),Mw(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Qr(this.ctx)}executeOperatorList(e,t,n,i){const s=e.argsArray,a=e.fnArray;let o=t||0;const l=s.length;if(l===o)return o;const A=l-o>Fk&&typeof n=="function",c=A?Date.now()+pY:0;let u=0;const f=this.commonObjs,p=this.objs;let I;for(;;){if(i!==void 0&&o===i.nextBreakPoint)return i.breakIt(o,n),o;if(I=a[o],I!==$b.dependency)this[I].apply(this,s[o]);else for(const F of s[o]){const D=F.startsWith("g_")?f:p;if(!D.has(F))return D.get(F,n),o}if(o++,o===l)return o;if(A&&++u>Fk){if(Date.now()>c)return n(),o;u=0}}}endDrawing(){le(this,Io,TS).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),le(this,Io,RS).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=n,l=i,A="prescale1",c,u;for(;s>2&&o>1||a>2&&l>1;){let f=o,p=l;s>2&&o>1&&(f=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/f),a>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/p),c=this.cachedCanvases.getCanvas(A,f,p),u=c.context,u.clearRect(0,0,f,p),u.drawImage(e,0,0,o,l,0,0,f,p),e=c.canvas,o=f,l=p,A=A==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:i}=e,s=this.current.fillColor,a=this.current.patternFill,o=Qr(t);let l,A,c,u;if((e.bitmap||e.data)&&e.count>1){const Y=e.bitmap||e.data.buffer;A=JSON.stringify(a?o:[o.slice(0,4),s]),l=this._cachedBitmapsMap.get(Y),l||(l=new Map,this._cachedBitmapsMap.set(Y,l));const K=l.get(A);if(K&&!a){const H=Math.round(Math.min(o[0],o[2])+o[4]),te=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:K,offsetX:H,offsetY:te}}c=K}c||(u=this.cachedCanvases.getCanvas("maskCanvas",n,i),Nk(u.context,e));let f=At.transform(o,[1/n,0,0,-1/i,0,0]);f=At.transform(f,[1,0,0,1,0,-i]);const p=Wf.slice();At.axialAlignedBoundingBox([0,0,n,i],f,p);const[I,F,D,C]=p,k=Math.round(D-I)||1,U=Math.round(C-F)||1,Q=this.cachedCanvases.getCanvas("fillCanvas",k,U),V=Q.context,Z=I,q=F;V.translate(-Z,-q),V.transform(...f),c||(c=this._scaleImage(u.canvas,Qo(V)),c=c.img,l&&a&&l.set(A,c)),V.imageSmoothingEnabled=kk(Qr(V),e.interpolate),kw(V,c,0,0,c.width,c.height,0,0,n,i),V.globalCompositeOperation="source-in";const G=At.transform(Qo(V),[1,0,0,1,-Z,-q]);return V.fillStyle=a?s.getPattern(t,this,G,ui.FILL):s,V.fillRect(0,0,n,i),l&&!a&&(this.cachedCanvases.delete("fillCanvas"),l.set(A,Q.canvas)),{canvas:Q.canvas,offsetX:Math.round(Z),offsetY:Math.round(q)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=yY[e]}setLineJoin(e){this.ctx.lineJoin=wY[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx;const s=this.ctx=i.context;s.setTransform(this.suspendedCtx.getTransform()),vm(this.suspendedCtx,s),gY(s,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),vm(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,i){const s=i[0],a=i[1],o=i[2]-s,l=i[3]-a;o===0||l===0||(this.genericComposeSMask(t.context,n,o,l,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,i,s,a,o,l,A,c,u){let f=e.canvas,p=l-c,I=A-u;if(a)if(p<0||I<0||p+n>f.width||I+i>f.height){const D=this.cachedCanvases.getCanvas("maskExtension",n,i),C=D.context;C.drawImage(f,-p,-I),C.globalCompositeOperation="destination-atop",C.fillStyle=a,C.fillRect(0,0,n,i),C.globalCompositeOperation="source-over",f=D.canvas,p=I=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const D=new Path2D;D.rect(p,I,n,i),e.clip(D),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(p,I,n,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const F=new Path2D;F.rect(l,A,n,i),t.clip(F),t.globalCompositeOperation="destination-in",t.drawImage(f,p,I,n,i,l,A,n,i),t.restore()}save(){this.inSMaskMode&&vm(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&vm(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,n,i,s,a){this.ctx.transform(e,t,n,i,s,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){let[i]=t;if(!n){i||(i=t[0]=new Path2D),this[e](i);return}if(!(i instanceof Path2D)){const s=t[0]=new Path2D;for(let a=0,o=i.length;a<o;)switch(i[a++]){case Ew.moveTo:s.moveTo(i[a++],i[a++]);break;case Ew.lineTo:s.lineTo(i[a++],i[a++]);break;case Ew.curveTo:s.bezierCurveTo(i[a++],i[a++],i[a++],i[a++],i[a++],i[a++]);break;case Ew.closePath:s.closePath();break;default:Lt(`Unrecognized drawing path operator: ${i[a-1]}`);break}i=s}At.axialAlignedBoundingBox(n,Qr(this.ctx),this.current.minMax),this[e](i)}closePath(){this.ctx.closePath()}stroke(e,t=!0){const n=this.ctx,i=this.current.strokeColor;if(n.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof i=="object"&&(i!=null&&i.getPattern)){const s=i.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.strokeStyle=i.getPattern(n,this,Qo(n),ui.STROKE),s){const a=new Path2D;a.addPath(e,n.getTransform().invertSelf().multiplySelf(s)),e=a}this.rescaleAndStroke(e,!1),n.restore()}else this.rescaleAndStroke(e,!0);t&&this.consumePath(e,this.current.getClippedPathBoundingBox(ui.STROKE,Qr(this.ctx))),n.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e,t=!0){const n=this.ctx,i=this.current.fillColor,s=this.current.patternFill;let a=!1;if(s){const l=i.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.fillStyle=i.getPattern(n,this,Qo(n),ui.FILL),l){const A=new Path2D;A.addPath(e,n.getTransform().invertSelf().multiplySelf(l)),e=A}a=!0}const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(n.fill(e,"evenodd"),this.pendingEOFill=!1):n.fill(e)),a&&n.restore(),t&&this.consumePath(e,o)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=vY}eoClip(){this.pendingClip=Mk}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0)return;const n=new Path2D,i=t.getTransform().invertSelf();for(const{transform:s,x:a,y:o,fontSize:l,path:A}of e)n.addPath(A,new DOMMatrix(s).preMultiplySelf(i).translate(a,o).scale(l,-l));t.clip(n),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var c;const n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=n.fontMatrix||uS,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&Lt("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const s=n.loadedName||"sans-serif",a=((c=n.systemFontInfo)==null?void 0:c.css)||`"${s}", ${n.fallbackName}`;let o="normal";n.black?o="900":n.bold&&(o="bold");const l=n.italic?"italic":"normal";let A=t;t<Ck?A=Ck:t>Sk&&(A=Sk),this.current.fontSizeScale=t/A,this.ctx.font=`${l} ${o} ${A}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e){const{current:t}=this;t.textMatrix=e,t.textMatrixScale=Math.hypot(e[0],e[1]),t.x=t.lineX=0,t.y=t.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,i,s){const a=this.ctx,o=this.current,l=o.font,A=o.textRenderingMode,c=o.fontSize/o.fontSizeScale,u=A&Fi.FILL_STROKE_MASK,f=!!(A&Fi.ADD_TO_PATH_FLAG),p=o.patternFill&&!l.missingFile,I=o.patternStroke&&!l.missingFile;let F;if((l.disableFontFace||f||p||I)&&(F=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||p||I){a.save(),a.translate(t,n),a.scale(c,-c);let D;if((u===Fi.FILL||u===Fi.FILL_STROKE)&&(i?(D=a.getTransform(),a.setTransform(...i),a.fill(le(this,Io,QS).call(this,F,D,i))):a.fill(F)),u===Fi.STROKE||u===Fi.FILL_STROKE)if(s){D||(D=a.getTransform()),a.setTransform(...s);const{a:C,b:k,c:U,d:Q}=D,V=At.inverseTransform(s),Z=At.transform([C,k,U,Q,0,0],V);At.singularValueDecompose2dScale(Z,Ys),a.lineWidth*=Math.max(Ys[0],Ys[1])/c,a.stroke(le(this,Io,QS).call(this,F,D,s))}else a.lineWidth/=c,a.stroke(F);a.restore()}else(u===Fi.FILL||u===Fi.FILL_STROKE)&&a.fillText(e,t,n),(u===Fi.STROKE||u===Fi.FILL_STROKE)&&a.strokeText(e,t,n);f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Qr(a),x:t,y:n,fontSize:c,path:F})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return jt(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const s=this.ctx,a=t.fontSizeScale,o=t.charSpacing,l=t.wordSpacing,A=t.fontDirection,c=t.textHScale*A,u=e.length,f=n.vertical,p=f?1:-1,I=n.defaultVMetrics,F=i*t.fontMatrix[0],D=t.textRenderingMode===Fi.FILL&&!n.disableFontFace&&!t.patternFill;s.save(),t.textMatrix&&s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),A>0?s.scale(c,-1):s.scale(c,1);let C,k;if(t.patternFill){s.save();const q=t.fillColor.getPattern(s,this,Qo(s),ui.FILL);C=Qr(s),s.restore(),s.fillStyle=q}if(t.patternStroke){s.save();const q=t.strokeColor.getPattern(s,this,Qo(s),ui.STROKE);k=Qr(s),s.restore(),s.strokeStyle=q}let U=t.lineWidth;const Q=t.textMatrixScale;if(Q===0||U===0){const q=t.textRenderingMode&Fi.FILL_STROKE_MASK;(q===Fi.STROKE||q===Fi.FILL_STROKE)&&(U=this.getSinglePixelWidth())}else U/=Q;if(a!==1&&(s.scale(a,a),U/=a),s.lineWidth=U,n.isInvalidPDFjsFont){const q=[];let G=0;for(const Y of e)q.push(Y.unicode),G+=Y.width;s.fillText(q.join(""),0,0),t.x+=G*F*c,s.restore(),this.compose();return}let V=0,Z;for(Z=0;Z<u;++Z){const q=e[Z];if(typeof q=="number"){V+=p*q*i/1e3;continue}let G=!1;const Y=(q.isSpace?l:0)+o,K=q.fontChar,H=q.accent;let te,ue,oe=q.width;if(f){const J=q.vmetric||I,O=-(q.vmetric?J[1]:oe*.5)*F,j=J[2]*F;oe=J?-J[0]:oe,te=O/a,ue=(V+j)/a}else te=V/a,ue=0;if(n.remeasure&&oe>0){const J=s.measureText(K).width*1e3/i*a;if(oe<J&&this.isFontSubpixelAAEnabled){const O=oe/J;G=!0,s.save(),s.scale(O,1),te/=O}else oe!==J&&(te+=(oe-J)/2e3*i/a)}if(this.contentVisible&&(q.isInFont||n.missingFile)){if(D&&!H)s.fillText(K,te,ue);else if(this.paintChar(K,te,ue,C,k),H){const J=te+i*H.offset.x/a,O=ue-i*H.offset.y/a;this.paintChar(H.fontChar,J,O,C,k)}}const re=f?oe*F-Y*A:oe*F+Y*A;V+=re,G&&s.restore()}f?t.y-=V:t.x+=V*c,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,i=n.font,s=n.fontSize,a=n.fontDirection,o=i.vertical?1:-1,l=n.charSpacing,A=n.wordSpacing,c=n.textHScale*a,u=n.fontMatrix||uS,f=e.length,p=n.textRenderingMode===Fi.INVISIBLE;let I,F,D,C;if(!(p||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),n.textMatrix&&t.transform(...n.textMatrix),t.translate(n.x,n.y+n.textRise),t.scale(c,a),I=0;I<f;++I){if(F=e[I],typeof F=="number"){C=o*F*s/1e3,this.ctx.translate(C,0),n.x+=C*c;continue}const k=(F.isSpace?A:0)+l,U=i.charProcOperatorList[F.operatorListId];U?this.contentVisible&&(this.save(),t.scale(s,s),t.transform(...u),this.executeOperatorList(U),this.restore()):Lt(`Type3 character "${F.operatorListId}" is not available.`);const Q=[F.width,0];At.applyTransform(Q,u),D=Q[0]*s+k,t.translate(D,0),n.x+=D*c}t.restore()}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,i,s,a){const o=new Path2D;o.rect(n,i,s-n,a-i),this.ctx.clip(o),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=this.baseTransform||Qr(this.ctx),i={createCanvasGraphics:s=>new dL(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new PS(e,this.ctx,i,n)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e){this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e){this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=hY(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,Qo(t),ui.SHADING);const i=Qo(t);if(i){const{width:s,height:a}=t.canvas,o=Wf.slice();At.axialAlignedBoundingBox([0,0,s,a],i,o);const[l,A,c,u]=o;this.ctx.fillRect(l,A,c-l,u-A)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){pr("Should not call beginInlineImage")}beginImageData(){pr("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Qr(this.ctx),t)){At.axialAlignedBoundingBox(t,this.baseTransform,this.current.minMax);const[n,i,s,a]=t,o=new Path2D;o.rect(n,i,s-n,a-i),this.ctx.clip(o),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||vx("TODO: Support non-isolated groups."),e.knockout&&Lt("Knockout groups not supported.");const n=Qr(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=Wf.slice();At.axialAlignedBoundingBox(e.bbox,Qr(t),i);const s=[0,0,t.canvas.width,t.canvas.height];i=At.intersect(i,s)||[0,0,0,0];const a=Math.floor(i[0]),o=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-a,1),A=Math.max(Math.ceil(i[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,A]);let c="groupAt"+this.groupLevel;e.smask&&(c+="_smask_"+this.smaskCounter++%2);const u=this.cachedCanvases.getCanvas(c,l,A),f=u.context;f.translate(-a,-o),f.transform(...n);let p=new Path2D;const[I,F,D,C]=e.bbox;if(p.rect(I,F,D-I,C-F),e.matrix){const k=new Path2D;k.addPath(p,new DOMMatrix(e.matrix)),p=k}f.clip(p),e.smask?this.smaskStack.push({canvas:u.canvas,context:f,offsetX:a,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,o),t.save()),vm(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Qr(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=Wf.slice();At.axialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i,s),this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,n,i,s){if(le(this,Io,TS).call(this),Mw(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const a=t[2]-t[0],o=t[3]-t[1];if(s&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=a,t[3]=o,At.singularValueDecompose2dScale(Qr(this.ctx),Ys);const{viewportScale:l}=this,A=Math.ceil(a*this.outputScaleX*l),c=Math.ceil(o*this.outputScaleY*l);this.annotationCanvas=this.canvasFactory.create(A,c);const{canvas:u,context:f}=this.annotationCanvas;this.annotationCanvasMap.set(e,u),this.annotationCanvas.savedCtx=this.ctx,this.ctx=f,this.ctx.save(),this.ctx.setTransform(Ys[0],0,0,-Ys[1],0,o*Ys[1]),Mw(this.ctx)}else{Mw(this.ctx),this.endPath();const l=new Path2D;l.rect(t[0],t[1],a,o),this.ctx.clip(l)}}this.current=new Ek(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),le(this,Io,RS).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,i=this._createMaskCanvas(e),s=i.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(s,i.offsetX,i.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,i=0,s,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const l=Qr(o);o.transform(t,n,i,s,0,0);const A=this._createMaskCanvas(e);o.setTransform(1,0,0,1,A.offsetX-l[4],A.offsetY-l[5]);for(let c=0,u=a.length;c<u;c+=2){const f=At.transform(l,[t,n,i,s,a[c],a[c+1]]);o.drawImage(A.canvas,f[4],f[5])}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:a,width:o,height:l,transform:A}=s,c=this.cachedCanvases.getCanvas("maskCanvas",o,l),u=c.context;u.save();const f=this.getObject(a,s);Nk(u,f),u.globalCompositeOperation="source-in",u.fillStyle=i?n.getPattern(u,this,Qo(t),ui.FILL):n,u.fillRect(0,0,o,l),u.restore(),t.save(),t.transform(...A),t.scale(1,-1),kw(t,c.canvas,0,0,o,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Lt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){Lt("Dependent image isn't ready yet");return}const a=s.width,o=s.height,l=[];for(let A=0,c=i.length;A<c;A+=2)l.push({transform:[t,0,0,n,i[A],i[A+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",n,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,i=this.ctx;this.save();const{filter:s}=i;s!=="none"&&s!==""&&(i.filter="none"),i.scale(1/t,-1/n);let a;if(e.bitmap)a=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)a=e;else{const A=this.cachedCanvases.getCanvas("inlineImage",t,n).context;Lk(A,e),a=this.applyTransferMapsToCanvas(A)}const o=this._scaleImage(a,Qo(i));i.imageSmoothingEnabled=kk(Qr(i),e.interpolate),kw(i,o.img,0,0,o.paintWidth,o.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,a=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,a).context;Lk(l,e),i=this.applyTransferMapsToCanvas(l)}for(const s of t)n.save(),n.transform(...s.transform),n.scale(1,-1),kw(n,i,s.x,s.y,s.w,s.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,t){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const i=this.ctx;this.pendingClip&&(n||(this.pendingClip===Mk?i.clip(e,"evenodd"):i.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Qr(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:i,d:s}=this.ctx.getTransform();let a,o;if(n===0&&i===0){const l=Math.abs(t),A=Math.abs(s);if(l===A)if(e===0)a=o=1/l;else{const c=l*e;a=o=c<1?1/c:1}else if(e===0)a=1/l,o=1/A;else{const c=l*e,u=A*e;a=c<1?1/c:1,o=u<1?1/u:1}}else{const l=Math.abs(t*s-n*i),A=Math.hypot(t,n),c=Math.hypot(i,s);if(e===0)a=c/l,o=A/l;else{const u=e*l;a=c>u?c/u:1,o=A>u?A/u:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:i}}=this,[s,a]=this.getScaleForStroking();if(s===a){n.lineWidth=(i||1)*s,n.stroke(e);return}const o=n.getLineDash();t&&n.save(),n.scale(s,a),wI.a=1/s,wI.d=1/a;const l=new Path2D;if(l.addPath(e,wI),o.length>0){const A=Math.max(s,a);n.setLineDash(o.map(c=>c/A)),n.lineDashOffset/=A}n.lineWidth=i||1,n.stroke(l),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Io=new WeakSet,TS=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},RS=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},QS=function(e,t,n){const i=new Path2D;return i.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),i};let ep=dL;for(const r in $b)ep.prototype[r]!==void 0&&(ep.prototype[$b[r]]=ep.prototype[r]);var O1,j1;class ul{static get workerPort(){return m(this,O1)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");ee(this,O1,e)}static get workerSrc(){return m(this,j1)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");ee(this,j1,e)}}O1=new WeakMap,j1=new WeakMap,ae(ul,O1,null),ae(ul,j1,"");var Ip,H1;class bY{constructor({parsedData:e,rawData:t}){ae(this,Ip);ae(this,H1);ee(this,Ip,e),ee(this,H1,t)}getRaw(){return m(this,H1)}get(e){return m(this,Ip).get(e)??null}[Symbol.iterator](){return m(this,Ip).entries()}}Ip=new WeakMap,H1=new WeakMap;const If=Symbol("INTERNAL");var W1,K1,G1,Cp;class BY{constructor(e,{name:t,intent:n,usage:i,rbGroups:s}){ae(this,W1,!1);ae(this,K1,!1);ae(this,G1,!1);ae(this,Cp,!0);ee(this,W1,!!(e&Vs.DISPLAY)),ee(this,K1,!!(e&Vs.PRINT)),this.name=t,this.intent=n,this.usage=i,this.rbGroups=s}get visible(){if(m(this,G1))return m(this,Cp);if(!m(this,Cp))return!1;const{print:e,view:t}=this.usage;return m(this,W1)?(t==null?void 0:t.viewState)!=="OFF":m(this,K1)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==If&&pr("Internal method `_setVisible` called."),ee(this,G1,n),ee(this,Cp,t)}}W1=new WeakMap,K1=new WeakMap,G1=new WeakMap,Cp=new WeakMap;var Ic,dr,Sp,Fp,$1,OS;class xY{constructor(e,t=Vs.DISPLAY){ae(this,$1);ae(this,Ic,null);ae(this,dr,new Map);ae(this,Sp,null);ae(this,Fp,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,ee(this,Fp,e.order);for(const n of e.groups)m(this,dr).set(n.id,new BY(t,n));if(e.baseState==="OFF")for(const n of m(this,dr).values())n._setVisible(If,!1);for(const n of e.on)m(this,dr).get(n)._setVisible(If,!0);for(const n of e.off)m(this,dr).get(n)._setVisible(If,!1);ee(this,Sp,this.getHash())}}isVisible(e){if(m(this,dr).size===0)return!0;if(!e)return vx("Optional content group not defined."),!0;if(e.type==="OCG")return m(this,dr).has(e.id)?m(this,dr).get(e.id).visible:(Lt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return le(this,$1,OS).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!m(this,dr).has(t))return Lt(`Optional content group not found: ${t}`),!0;if(m(this,dr).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!m(this,dr).has(t))return Lt(`Optional content group not found: ${t}`),!0;if(!m(this,dr).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!m(this,dr).has(t))return Lt(`Optional content group not found: ${t}`),!0;if(!m(this,dr).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!m(this,dr).has(t))return Lt(`Optional content group not found: ${t}`),!0;if(m(this,dr).get(t).visible)return!1}return!0}return Lt(`Unknown optional content policy ${e.policy}.`),!0}return Lt(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var s;const i=m(this,dr).get(e);if(!i){Lt(`Optional content group not found: ${e}`);return}if(n&&t&&i.rbGroups.length)for(const a of i.rbGroups)for(const o of a)o!==e&&((s=m(this,dr).get(o))==null||s._setVisible(If,!1,!0));i._setVisible(If,!!t,!0),ee(this,Ic,null)}setOCGState({state:e,preserveRB:t}){let n;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const s=m(this,dr).get(i);if(s)switch(n){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!s.visible,t);break}}ee(this,Ic,null)}get hasInitialVisibility(){return m(this,Sp)===null||this.getHash()===m(this,Sp)}getOrder(){return m(this,dr).size?m(this,Fp)?m(this,Fp).slice():[...m(this,dr).keys()]:null}getGroup(e){return m(this,dr).get(e)||null}getHash(){if(m(this,Ic)!==null)return m(this,Ic);const e=new zP;for(const[t,n]of m(this,dr))e.update(`${t}:${n.visible}`);return ee(this,Ic,e.hexdigest())}[Symbol.iterator](){return m(this,dr).entries()}}Ic=new WeakMap,dr=new WeakMap,Sp=new WeakMap,Fp=new WeakMap,$1=new WeakSet,OS=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const s=e[i];let a;if(Array.isArray(s))a=le(this,$1,OS).call(this,s);else if(m(this,dr).has(s))a=m(this,dr).get(s).visible;else return Lt(`Optional content group not found: ${s}`),!0;switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return n==="And"};class IY{constructor(e,{disableRange:t=!1,disableStream:n=!1}){mn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,A)=>{this._onReceiveData({begin:l,chunk:A})}),e.addProgressListener((l,A)=>{this._onProgress({loaded:l,total:A})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(n),!0)});mn(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,i,s;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){mn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new CY(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new SY(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class CY{constructor(e,t,n=!1,i=null){this._stream=e,this._done=n||!1,this._filename=GE(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class SY{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function FY(r){let e=!0,t=n("filename\\*","i").exec(r);if(t){t=t[1];let c=o(t);return c=unescape(c),c=l(c),c=A(c),s(c)}if(t=a(r),t){const c=A(t);return s(c)}if(t=n("filename","i").exec(r),t){t=t[1];let c=o(t);return c=A(c),s(c)}function n(c,u){return new RegExp("(?:^|;)\\s*"+c+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',u)}function i(c,u){if(c){if(!/^[\x00-\xFF]+$/.test(u))return u;try{const f=new TextDecoder(c,{fatal:!0}),p=oy(u);u=f.decode(p),e=!1}catch{}}return u}function s(c){return e&&/[\x80-\xff]/.test(c)&&(c=i("utf-8",c),e&&(c=i("iso-8859-1",c))),c}function a(c){const u=[];let f;const p=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(c))!==null;){let[,F,D,C]=f;if(F=parseInt(F,10),F in u){if(F===0)break;continue}u[F]=[D,C]}const I=[];for(let F=0;F<u.length&&F in u;++F){let[D,C]=u[F];C=o(C),D&&(C=unescape(C),F===0&&(C=l(C))),I.push(C)}return I.join("")}function o(c){if(c.startsWith('"')){const u=c.slice(1).split('\\"');for(let f=0;f<u.length;++f){const p=u[f].indexOf('"');p!==-1&&(u[f]=u[f].slice(0,p),u.length=f+1),u[f]=u[f].replaceAll(/\\(.)/g,"$1")}c=u.join('"')}return c}function l(c){const u=c.indexOf("'");if(u===-1)return c;const f=c.slice(0,u),I=c.slice(u+1).replace(/^[^']*'/,"");return i(f,I)}function A(c){return!c.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(c)?c:c.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(u,f,p,I){if(p==="q"||p==="Q")return I=I.replaceAll("_"," "),I=I.replaceAll(/=([0-9a-fA-F]{2})/g,function(F,D){return String.fromCharCode(parseInt(D,16))}),i(f,I);try{I=atob(I)}catch{}return i(f,I)})}return""}function sT(r,e){const t=new Headers;if(!r||!e||typeof e!="object")return t;for(const n in e){const i=e[n];i!==void 0&&t.append(n,i)}return t}function Bx(r){var e;return((e=URL.parse(r))==null?void 0:e.origin)??null}function aT({responseHeaders:r,isHttp:e,rangeChunkSize:t,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(r.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||n||!e||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function oT(r){const e=r.get("Content-Disposition");if(e){let t=FY(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(GE(t))return t}return null}function uy(r,e){return new zb(`Unexpected server response (${r}) while retrieving PDF "${e}".`,r,r===404||r===0&&e.startsWith("file:"))}function lT(r){return r===200||r===206}function AT(r,e,t){return{method:"GET",headers:r,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function cT(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(Lt(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class EY{constructor(e){Oe(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=sT(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return mn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new LY(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new NY(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class LY{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),i=t.url;fetch(i,AT(n,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=Bx(s.url),!lT(s.status))throw uy(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:l}=aT({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=oT(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new fu("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:cT(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class NY{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${n-1}`);const a=i.url;fetch(a,AT(s,this._withCredentials,this._abortController)).then(o=>{const l=Bx(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!lT(o.status))throw uy(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:cT(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const vI=200,bI=206;function kY(r){const e=r.response;return typeof e!="string"?e:oy(e).buffer}class MY{constructor({url:e,httpHeaders:t,withCredentials:n}){Oe(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=sT(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,a]of this.headers)t.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=bI):i.expectedStatus=vI,t.responseType="arraybuffer",mn(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var i;const n=this.pendingRequests[e];n&&((i=n.onProgress)==null||i.call(n,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){n.onError(i.status);return}const s=i.status||vI;if(!(s===vI&&n.expectedStatus===bI)&&s!==n.expectedStatus){n.onError(i.status);return}const o=kY(i);if(s===bI){const l=i.getResponseHeader("Content-Range"),A=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);A?n.onDone({begin:parseInt(A[1],10),chunk:o}):(Lt('Missing or invalid "Content-Range" header.'),n.onError(0))}else o?n.onDone({begin:0,chunk:o}):n.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class DY{constructor(e){this._source=e,this._manager=new MY(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return mn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new _Y(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new UY(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class _Y{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=Bx(t.responseURL);const n=t.getAllResponseHeaders(),i=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...A]=o.split(": ");return[l,A.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=aT({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=oT(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=uy(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class UY{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=Bx((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=uy(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const PY=/^[a-z][a-z0-9\-+.]+:/i;function TY(r){if(PY.test(r))return new URL(r);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(r))}class RY{constructor(e){this.source=e,this.url=TY(e.url),mn(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return mn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new QY(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new OY(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class QY{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=uy(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new fu("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class OY{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const bm=Symbol("INITIAL_DATA");var Ts,z1,jS;class uT{constructor(){ae(this,z1);ae(this,Ts,Object.create(null))}get(e,t=null){if(t){const i=le(this,z1,jS).call(this,e);return i.promise.then(()=>t(i.data)),null}const n=m(this,Ts)[e];if(!n||n.data===bm)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=m(this,Ts)[e];return!!t&&t.data!==bm}delete(e){const t=m(this,Ts)[e];return!t||t.data===bm?!1:(delete m(this,Ts)[e],!0)}resolve(e,t=null){const n=le(this,z1,jS).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in m(this,Ts)){const{data:n}=m(this,Ts)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}ee(this,Ts,Object.create(null))}*[Symbol.iterator](){for(const e in m(this,Ts)){const{data:t}=m(this,Ts)[e];t!==bm&&(yield[e,t])}}}Ts=new WeakMap,z1=new WeakSet,jS=function(e){var t;return(t=m(this,Ts))[e]||(t[e]={...Promise.withResolvers(),data:bm})};const jY=1e5,Dk=30;var l6,Cc,ms,V1,q1,Id,rA,Y1,X1,Cd,Ep,Lp,Sc,Np,J1,kp,Sd,Z1,e2,Mp,Fd,t2,Fc,Dp,_A,dT,hT,HS,ia,Uv,WS,fT,pT;const Bn=class Bn{constructor({textContentSource:e,container:t,viewport:n}){ae(this,_A);ae(this,Cc,Promise.withResolvers());ae(this,ms,null);ae(this,V1,!1);ae(this,q1,!!((l6=globalThis.FontInspector)!=null&&l6.enabled));ae(this,Id,null);ae(this,rA,null);ae(this,Y1,0);ae(this,X1,0);ae(this,Cd,null);ae(this,Ep,null);ae(this,Lp,0);ae(this,Sc,0);ae(this,Np,Object.create(null));ae(this,J1,[]);ae(this,kp,null);ae(this,Sd,[]);ae(this,Z1,new WeakMap);ae(this,e2,null);var l;if(e instanceof ReadableStream)ee(this,kp,e);else if(typeof e=="object")ee(this,kp,new ReadableStream({start(A){A.enqueue(e),A.close()}}));else throw new Error('No "textContentSource" parameter specified.');ee(this,ms,ee(this,Ep,t)),ee(this,Sc,n.scale*ml.pixelRatio),ee(this,Lp,n.rotation),ee(this,rA,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:a,pageY:o}=n.rawDims;ee(this,e2,[1,0,0,-1,-a,o+s]),ee(this,X1,i),ee(this,Y1,s),le(l=Bn,ia,fT).call(l),Bh(t,n),m(this,Cc).promise.finally(()=>{m(Bn,Dp).delete(this),ee(this,rA,null),ee(this,Np,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=gi.platform;return jt(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{m(this,Cd).read().then(({value:t,done:n})=>{if(n){m(this,Cc).resolve();return}m(this,Id)??ee(this,Id,t.lang),Object.assign(m(this,Np),t.styles),le(this,_A,dT).call(this,t.items),e()},m(this,Cc).reject)};return ee(this,Cd,m(this,kp).getReader()),m(Bn,Dp).add(this),e(),m(this,Cc).promise}update({viewport:e,onBefore:t=null}){var s;const n=e.scale*ml.pixelRatio,i=e.rotation;if(i!==m(this,Lp)&&(t==null||t(),ee(this,Lp,i),Bh(m(this,Ep),{rotation:i})),n!==m(this,Sc)){t==null||t(),ee(this,Sc,n);const a={div:null,properties:null,ctx:le(s=Bn,ia,Uv).call(s,m(this,Id))};for(const o of m(this,Sd))a.properties=m(this,Z1).get(o),a.div=o,le(this,_A,HS).call(this,a)}}cancel(){var t;const e=new fu("TextLayer task cancelled.");(t=m(this,Cd))==null||t.cancel(e).catch(()=>{}),ee(this,Cd,null),m(this,Cc).reject(e)}get textDivs(){return m(this,Sd)}get textContentItemsStr(){return m(this,J1)}static cleanup(){if(!(m(this,Dp).size>0)){m(this,Mp).clear();for(const{canvas:e}of m(this,Fd).values())e.remove();m(this,Fd).clear()}}};Cc=new WeakMap,ms=new WeakMap,V1=new WeakMap,q1=new WeakMap,Id=new WeakMap,rA=new WeakMap,Y1=new WeakMap,X1=new WeakMap,Cd=new WeakMap,Ep=new WeakMap,Lp=new WeakMap,Sc=new WeakMap,Np=new WeakMap,J1=new WeakMap,kp=new WeakMap,Sd=new WeakMap,Z1=new WeakMap,e2=new WeakMap,Mp=new WeakMap,Fd=new WeakMap,t2=new WeakMap,Fc=new WeakMap,Dp=new WeakMap,_A=new WeakSet,dT=function(e){var i,s;if(m(this,V1))return;(s=m(this,rA)).ctx??(s.ctx=le(i=Bn,ia,Uv).call(i,m(this,Id)));const t=m(this,Sd),n=m(this,J1);for(const a of e){if(t.length>jY){Lt("Ignoring additional textDivs for performance reasons."),ee(this,V1,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=m(this,ms);ee(this,ms,document.createElement("span")),m(this,ms).classList.add("markedContent"),a.id!==null&&m(this,ms).setAttribute("id",`${a.id}`),o.append(m(this,ms))}else a.type==="endMarkedContent"&&ee(this,ms,m(this,ms).parentNode);continue}n.push(a.str),le(this,_A,hT).call(this,a)}},hT=function(e){var F;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};m(this,Sd).push(t);const i=At.transform(m(this,e2),e.transform);let s=Math.atan2(i[1],i[0]);const a=m(this,Np)[e.fontName];a.vertical&&(s+=Math.PI/2);let o=m(this,q1)&&a.fontSubstitution||a.fontFamily;o=Bn.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),A=l*le(F=Bn,ia,pT).call(F,o,a,m(this,Id));let c,u;s===0?(c=i[4],u=i[5]-A):(c=i[4]+A*Math.sin(s),u=i[5]-A*Math.cos(s));const f="calc(var(--total-scale-factor) *",p=t.style;m(this,ms)===m(this,Ep)?(p.left=`${(100*c/m(this,X1)).toFixed(2)}%`,p.top=`${(100*u/m(this,Y1)).toFixed(2)}%`):(p.left=`${f}${c.toFixed(2)}px)`,p.top=`${f}${u.toFixed(2)}px)`),p.fontSize=`${f}${(m(Bn,Fc)*l).toFixed(2)}px)`,p.fontFamily=o,n.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,m(this,q1)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(n.angle=s*(180/Math.PI));let I=!1;if(e.str.length>1)I=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const D=Math.abs(e.transform[0]),C=Math.abs(e.transform[3]);D!==C&&Math.max(D,C)/Math.min(D,C)>1.5&&(I=!0)}if(I&&(n.canvasWidth=a.vertical?e.height:e.width),m(this,Z1).set(t,n),m(this,rA).div=t,m(this,rA).properties=n,le(this,_A,HS).call(this,m(this,rA)),n.hasText&&m(this,ms).append(t),n.hasEOL){const D=document.createElement("br");D.setAttribute("role","presentation"),m(this,ms).append(D)}},HS=function(e){var o;const{div:t,properties:n,ctx:i}=e,{style:s}=t;let a="";if(m(Bn,Fc)>1&&(a=`scale(${1/m(Bn,Fc)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:l}=s,{canvasWidth:A,fontSize:c}=n;le(o=Bn,ia,WS).call(o,i,c*m(this,Sc),l);const{width:u}=i.measureText(t.textContent);u>0&&(a=`scaleX(${A*m(this,Sc)/u}) ${a}`)}n.angle!==0&&(a=`rotate(${n.angle}deg) ${a}`),a.length>0&&(s.transform=a)},ia=new WeakSet,Uv=function(e=null){let t=m(this,Fd).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),m(this,Fd).set(e,t),m(this,t2).set(t,{size:0,family:""})}return t},WS=function(e,t,n){const i=m(this,t2).get(e);t===i.size&&n===i.family||(e.font=`${t}px ${n}`,i.size=t,i.family=n)},fT=function(){if(m(this,Fc)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),ee(this,Fc,e.getBoundingClientRect().height),e.remove()},pT=function(e,t,n){const i=m(this,Mp).get(e);if(i)return i;const s=le(this,ia,Uv).call(this,n);s.canvas.width=s.canvas.height=Dk,le(this,ia,WS).call(this,s,Dk,e);const a=s.measureText(""),o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let A=.8;return o?A=o/(o+l):(gi.platform.isFirefox&&Lt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?A=t.ascent:t.descent&&(A=1+t.descent)),m(this,Mp).set(e,A),A},ae(Bn,ia),ae(Bn,Mp,new Map),ae(Bn,Fd,new Map),ae(Bn,t2,new WeakMap),ae(Bn,Fc,null),ae(Bn,Dp,new Set);let a1=Bn;class o1{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function i(s){var l;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(o1.shouldBuildText(o))(l=s==null?void 0:s.attributes)!=null&&l.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const A of s.children)i(A)}return i(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const HY=100;function WY(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const e=new KS,{docId:t}=e,n=r.url?Xq(r.url):null,i=r.data?Jq(r.data):null,s=r.httpHeaders||null,a=r.withCredentials===!0,o=r.password??null,l=r.range instanceof gT?r.range:null,A=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:2**16;let c=r.worker instanceof l1?r.worker:null;const u=r.verbosity,f=typeof r.docBaseUrl=="string"&&!bx(r.docBaseUrl)?r.docBaseUrl:null,p=Lw(r.cMapUrl),I=r.cMapPacked!==!1,F=r.CMapReaderFactory||(Yi?aY:bk),D=Lw(r.iccUrl),C=Lw(r.standardFontDataUrl),k=r.StandardFontDataFactory||(Yi?oY:Bk),U=Lw(r.wasmUrl),Q=r.WasmFactory||(Yi?lY:xk),V=r.stopAtErrors!==!0,Z=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,q=r.isEvalSupported!==!1,G=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!Yi,Y=typeof r.isImageDecoderSupported=="boolean"?r.isImageDecoderSupported:!Yi&&(gi.platform.isFirefox||!globalThis.chrome),K=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,H=typeof r.disableFontFace=="boolean"?r.disableFontFace:Yi,te=r.fontExtraProperties===!0,ue=r.enableXfa===!0,oe=r.ownerDocument||globalThis.document,re=r.disableRange===!0,J=r.disableStream===!0,O=r.disableAutoFetch===!0,j=r.pdfBug===!0,T=r.CanvasFactory||(Yi?sY:rY),_=r.FilterFactory||(Yi?iY:nY),L=r.enableHWA===!0,v=r.useWasm!==!1,E=l?l.length:r.length??NaN,x=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!Yi&&!H,g=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:!!(F===bk&&k===Bk&&Q===xk&&p&&C&&U&&Gm(p,document.baseURI)&&Gm(C,document.baseURI)&&Gm(U,document.baseURI)),w=null;Lq(u);const h={canvasFactory:new T({ownerDocument:oe,enableHWA:L}),filterFactory:new _({docId:t,ownerDocument:oe}),cMapReaderFactory:g?null:new F({baseUrl:p,isCompressed:I}),standardFontDataFactory:g?null:new k({baseUrl:C}),wasmFactory:g?null:new Q({baseUrl:U})};c||(c=l1.create({verbosity:u,port:ul.workerPort}),e._worker=c);const y={docId:t,apiVersion:"5.3.93",data:i,password:o,disableAutoFetch:O,rangeChunkSize:A,length:E,docBaseUrl:f,enableXfa:ue,evaluatorOptions:{maxImageSize:Z,disableFontFace:H,ignoreErrors:V,isEvalSupported:q,isOffscreenCanvasSupported:G,isImageDecoderSupported:Y,canvasMaxAreaInBytes:K,fontExtraProperties:te,useSystemFonts:x,useWasm:v,useWorkerFetch:g,cMapUrl:p,iccUrl:D,standardFontDataUrl:C,wasmUrl:U}},d={ownerDocument:oe,pdfBug:j,styleElement:w,loadingParams:{disableAutoFetch:O,enableXfa:ue}};return c.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const M=c.messageHandler.sendWithPromise("GetDocRequest",y,i?[i.buffer]:null);let S;if(l)S=new IY(l,{disableRange:re,disableStream:J});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");const W=Gm(n)?EY:Yi?RY:DY;S=new W({url:n,length:E,httpHeaders:s,withCredentials:a,rangeChunkSize:A,disableRange:re,disableStream:J})}return M.then(W=>{if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const $=new Ym(t,W,c.port),se=new $Y($,e,S,d,h);e._transport=se,$.send("Ready",null)})}).catch(e._capability.reject),e}var BB;const xB=class xB{constructor(){Oe(this,"_capability",Promise.withResolvers());Oe(this,"_transport",null);Oe(this,"_worker",null);Oe(this,"docId",`d${Hi(xB,BB)._++}`);Oe(this,"destroyed",!1);Oe(this,"onPassword",null);Oe(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,n,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};BB=new WeakMap,ae(xB,BB,0);let KS=xB;var Ed,r2,n2,i2,s2;class gT{constructor(e,t,n=!1,i=null){ae(this,Ed,Promise.withResolvers());ae(this,r2,[]);ae(this,n2,[]);ae(this,i2,[]);ae(this,s2,[]);this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=i}addRangeListener(e){m(this,s2).push(e)}addProgressListener(e){m(this,i2).push(e)}addProgressiveReadListener(e){m(this,n2).push(e)}addProgressiveDoneListener(e){m(this,r2).push(e)}onDataRange(e,t){for(const n of m(this,s2))n(e,t)}onDataProgress(e,t){m(this,Ed).promise.then(()=>{for(const n of m(this,i2))n(e,t)})}onDataProgressiveRead(e){m(this,Ed).promise.then(()=>{for(const t of m(this,n2))t(e)})}onDataProgressiveDone(){m(this,Ed).promise.then(()=>{for(const e of m(this,r2))e()})}transportReady(){m(this,Ed).resolve()}requestDataRange(e,t){pr("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}Ed=new WeakMap,r2=new WeakMap,n2=new WeakMap,i2=new WeakMap,s2=new WeakMap;class KY{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return jt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var nA,Ld,t0;class GY{constructor(e,t,n,i=!1){ae(this,Ld);ae(this,nA,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=i?new yk:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new uT,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:s=!1}={}){return new Ay({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return jt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:i=lc.ENABLE,transform:s=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:A=null,printAnnotationStorage:c=null,isEditing:u=!1}){var Q,V;(Q=this._stats)==null||Q.time("Overall");const f=this._transport.getRenderingIntent(n,i,c,u),{renderingIntent:p,cacheKey:I}=f;ee(this,nA,!1),o||(o=this._transport.getOptionalContentConfig(p));let F=this._intentStates.get(I);F||(F=Object.create(null),this._intentStates.set(I,F)),F.streamReaderCancelTimeout&&(clearTimeout(F.streamReaderCancelTimeout),F.streamReaderCancelTimeout=null);const D=!!(p&Vs.PRINT);F.displayReadyCapability||(F.displayReadyCapability=Promise.withResolvers(),F.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(V=this._stats)==null||V.time("Page Request"),this._pumpOperatorList(f));const C=Z=>{var q;F.renderTasks.delete(k),D&&ee(this,nA,!0),le(this,Ld,t0).call(this),Z?(k.capability.reject(Z),this._abortOperatorList({intentState:F,reason:Z instanceof Error?Z:new Error(Z)})):k.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(q=globalThis.Stats)!=null&&q.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},k=new GS({callback:C,params:{canvasContext:e,viewport:t,transform:s,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:F.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!D,pdfBug:this._pdfBug,pageColors:A});(F.renderTasks||(F.renderTasks=new Set)).add(k);const U=k.task;return Promise.all([F.displayReadyCapability.promise,o]).then(([Z,q])=>{var G;if(this.destroyed){C();return}if((G=this._stats)==null||G.time("Rendering"),!(q.renderingIntent&p))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");k.initializeGraphics({transparency:Z,optionalContentConfig:q}),k.operatorListChanged()}).catch(C),U}getOperatorList({intent:e="display",annotationMode:t=lc.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){var A;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,t,n,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(A=this._stats)==null||A.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>o1.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,i){function s(){a.read().then(function({value:l,done:A}){if(A){n(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},i)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),ee(this,nA,!1),Promise.all(e)}cleanup(e=!1){ee(this,nA,!0);const t=le(this,Ld,t0).call(this);return e&&t&&this._stats&&(this._stats=new yk),t}_startRenderPage(e,t){var i,s;const n=this._intentStates.get(t);n&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=n.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&le(this,Ld,t0).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:i}){const{map:s,transfer:a}=n,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:i},a).getReader(),A=this._intentStates.get(t);A.streamReader=l;const c=()=>{l.read().then(({value:u,done:f})=>{if(f){A.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(u,A),c())},u=>{if(A.streamReader=null,!this._transport.destroyed){if(A.operatorList){A.operatorList.lastChunk=!0;for(const f of A.renderTasks)f.operatorListChanged();le(this,Ld,t0).call(this)}if(A.displayReadyCapability)A.displayReadyCapability.reject(u);else if(A.opListReadCapability)A.opListReadCapability.reject(u);else throw u}})};c()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof KE){let i=HY;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new fu(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}nA=new WeakMap,Ld=new WeakSet,t0=function(){if(!m(this,nA)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),ee(this,nA,!1),!0};var Ec,so,iA,Nd,IB,kd,Md,ts,Pv,mT,yT,r0,_p,Tv;const Mr=class Mr{constructor({name:e=null,port:t=null,verbosity:n=Nq()}={}){ae(this,ts);ae(this,Ec,Promise.withResolvers());ae(this,so,null);ae(this,iA,null);ae(this,Nd,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,t){if(m(Mr,Md).has(t))throw new Error("Cannot use more than one PDFWorker per port.");m(Mr,Md).set(t,this),le(this,ts,mT).call(this,t)}else le(this,ts,yT).call(this)}get promise(){return m(this,Ec).promise}get port(){return m(this,iA)}get messageHandler(){return m(this,so)}destroy(){var e,t;this.destroyed=!0,(e=m(this,Nd))==null||e.terminate(),ee(this,Nd,null),m(Mr,Md).delete(m(this,iA)),ee(this,iA,null),(t=m(this,so))==null||t.destroy(),ee(this,so,null)}static create(e){const t=m(this,Md).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Mr(e)}static get workerSrc(){if(ul.workerSrc)return ul.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return jt(this,"_setupFakeWorkerGlobal",(async()=>m(this,_p,Tv)?m(this,_p,Tv):(await import(this.workerSrc)).WorkerMessageHandler)())}};Ec=new WeakMap,so=new WeakMap,iA=new WeakMap,Nd=new WeakMap,IB=new WeakMap,kd=new WeakMap,Md=new WeakMap,ts=new WeakSet,Pv=function(){m(this,Ec).resolve(),m(this,so).send("configure",{verbosity:this.verbosity})},mT=function(e){ee(this,iA,e),ee(this,so,new Ym("main","worker",e)),m(this,so).on("ready",()=>{}),le(this,ts,Pv).call(this)},yT=function(){if(m(Mr,kd)||m(Mr,_p,Tv)){le(this,ts,r0).call(this);return}let{workerSrc:e}=Mr;try{Mr._isSameOrigin(window.location,e)||(e=Mr._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Ym("main","worker",t),i=()=>{s.abort(),n.destroy(),t.terminate(),this.destroyed?m(this,Ec).reject(new Error("Worker was destroyed")):le(this,ts,r0).call(this)},s=new AbortController;t.addEventListener("error",()=>{m(this,Nd)||i()},{signal:s.signal}),n.on("test",o=>{if(s.abort(),this.destroyed||!o){i();return}ee(this,so,n),ee(this,iA,t),ee(this,Nd,t),le(this,ts,Pv).call(this)}),n.on("ready",o=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{le(this,ts,r0).call(this)}});const a=()=>{const o=new Uint8Array;n.send("test",o,[o.buffer])};a();return}catch{vx("The worker has been disabled.")}le(this,ts,r0).call(this)},r0=function(){m(Mr,kd)||(Lt("Setting up fake worker."),ee(Mr,kd,!0)),Mr._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){m(this,Ec).reject(new Error("Worker was destroyed"));return}const t=new tY;ee(this,iA,t);const n=`fake${Hi(Mr,IB)._++}`,i=new Ym(n+"_worker",n,t);e.setup(i,t),ee(this,so,new Ym(n,n+"_worker",t)),le(this,ts,Pv).call(this)}).catch(e=>{m(this,Ec).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},_p=new WeakSet,Tv=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},ae(Mr,_p),ae(Mr,IB,0),ae(Mr,kd,!1),ae(Mr,Md,new WeakMap),Yi&&(ee(Mr,kd,!0),ul.workerSrc||(ul.workerSrc="./pdf.worker.mjs")),Mr._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(!(n!=null&&n.origin)||n.origin==="null")return!1;const i=new URL(t,n);return n.origin===i.origin},Mr._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},Mr.fromPort=e=>{if(Hq("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Mr.create(e)};let l1=Mr;var sA,rl,Up,Pp,aA,Dd,n0;class $Y{constructor(e,t,n,i,s){ae(this,Dd);ae(this,sA,new Map);ae(this,rl,new Map);ae(this,Up,new Map);ae(this,Pp,new Map);ae(this,aA,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new uT,this.fontLoader=new qq({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return jt(this,"annotationStorage",new VE)}getRenderingIntent(e,t=lc.ENABLE,n=null,i=!1,s=!1){let a=Vs.DISPLAY,o=kS;switch(e){case"any":a=Vs.ANY;break;case"display":break;case"print":a=Vs.PRINT;break;default:Lt(`getRenderingIntent - invalid intent: ${e}`)}const l=a&Vs.PRINT&&n instanceof qP?n:this.annotationStorage;switch(t){case lc.DISABLE:a+=Vs.ANNOTATIONS_DISABLE;break;case lc.ENABLE:break;case lc.ENABLE_FORMS:a+=Vs.ANNOTATIONS_FORMS;break;case lc.ENABLE_STORAGE:a+=Vs.ANNOTATIONS_STORAGE,o=l.serializable;break;default:Lt(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(a+=Vs.IS_EDITING),s&&(a+=Vs.OPLIST);const{ids:A,hash:c}=l.modifiedIds,u=[a,o.hash,c];return{renderingIntent:a,cacheKey:u.join("_"),annotationStorageSerializable:o,modifiedIds:A}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=m(this,aA))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of m(this,rl).values())e.push(i._destroy());m(this,rl).clear(),m(this,Up).clear(),m(this,Pp).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),m(this,sA).clear(),this.filterFactory.destroy(),a1.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new fu("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,i)=>{mn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}mn(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async n=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:a}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var A;(A=t.onProgress)==null||A.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(n,i)=>{mn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){i.close();return}mn(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new KY(n,this))}),e.on("DocException",n=>{t._capability.reject(fs(n))}),e.on("PasswordRequest",n=>{ee(this,aA,Promise.withResolvers());try{if(!t.onPassword)throw fs(n);const i=s=>{s instanceof Error?m(this,aA).reject(s):m(this,aA).resolve({password:s})};t.onPassword(i,n.code)}catch(i){m(this,aA).reject(i)}return m(this,aA).promise}),e.on("DataLoaded",n=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;m(this,rl).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,i,s])=>{var a;if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":if("error"in s){const c=s.error;Lt(`Error during font loading: ${c}`),this.commonObjs.resolve(n,c);break}const o=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(c,u)=>globalThis.FontInspector.fontAdded(c,u):null,l=new Yq(s,o);this.fontLoader.bind(l).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!l.fontExtraProperties&&l.data&&(l.data=null),this.commonObjs.resolve(n,l)});break;case"CopyLocalImage":const{imageRef:A}=s;mn(A,"The imageRef must be defined.");for(const c of m(this,rl).values())for(const[,u]of c.objs)if((u==null?void 0:u.ref)===A)return u.dataLen?(this.commonObjs.resolve(n,structuredClone(u)),u.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([n,i,s,a])=>{var l;if(this.destroyed)return;const o=m(this,rl).get(i);if(!o.objs.has(n)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(s){case"Image":case"Pattern":o.objs.resolve(n,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",n=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[n.type];if(!i)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Lt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=m(this,Up).get(t);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&m(this,Pp).set(s.refStr,e);const a=new GY(t,s,this,this._params.pdfBug);return m(this,rl).set(t,a),a});return m(this,Up).set(t,i),i}getPageIndex(e){return MS(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return le(this,Dd,n0).call(this,"GetFieldObjects")}hasJSActions(){return le(this,Dd,n0).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return le(this,Dd,n0).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return le(this,Dd,n0).call(this,"GetOptionalContentConfig").then(t=>new xY(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=m(this,sA).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,a;return{info:i[0],metadata:i[1]?new bY(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return m(this,sA).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of m(this,rl).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),m(this,sA).clear(),this.filterFactory.destroy(!0),a1.cleanup()}}cachedPageNumber(e){if(!MS(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return m(this,Pp).get(t)??null}}sA=new WeakMap,rl=new WeakMap,Up=new WeakMap,Pp=new WeakMap,aA=new WeakMap,Dd=new WeakSet,n0=function(e,t=null){const n=m(this,sA).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,t);return m(this,sA).set(e,i),i};var Lc;class zY{constructor(e){ae(this,Lc,null);Oe(this,"onContinue",null);Oe(this,"onError",null);ee(this,Lc,e)}get promise(){return m(this,Lc).capability.promise}cancel(e=0){m(this,Lc).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=m(this,Lc).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=m(this,Lc);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Lc=new WeakMap;var Nc,_d;const Yu=class Yu{constructor({callback:e,params:t,objs:n,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:A,useRequestAnimationFrame:c=!1,pdfBug:u=!1,pageColors:f=null}){ae(this,Nc,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=A,this._pdfBug=u,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=c===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new zY(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var o,l;if(this.cancelled)return;if(this._canvas){if(m(Yu,_d).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");m(Yu,_d).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:i,transform:s,background:a}=this.params;this.gfx=new ep(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var n,i,s;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),m(this,Nc)&&(window.cancelAnimationFrame(m(this,Nc)),ee(this,Nc,null)),m(Yu,_d).delete(this._canvas),e||(e=new KE(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(s=(i=this.task).onError)==null||s.call(i,e)}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?ee(this,Nc,window.requestAnimationFrame(()=>{ee(this,Nc,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),m(Yu,_d).delete(this._canvas),this.callback())))}};Nc=new WeakMap,_d=new WeakMap,ae(Yu,_d,new WeakSet);let GS=Yu;const wT="5.3.93",VY="cbeef3233";function _k(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function Bm(r){return Math.max(0,Math.min(255,255*r))}class Uk{static CMYK_G([e,t,n,i]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Bm(e),[e,e,e]}static G_HTML([e]){const t=_k(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(Bm)}static RGB_HTML(e){return`#${e.map(_k).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,n+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,n,i]){return[Bm(1-Math.min(1,e+i)),Bm(1-Math.min(1,n+i)),Bm(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const i=1-e,s=1-t,a=1-n,o=Math.min(i,s,a);return["CMYK",i,s,a,o]}}class qY{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){pr("Abstract method `_createSVG` called.")}}class Yb extends qY{_createSVG(e){return document.createElementNS(Tl,e)}}class vT{static setupStorage(e,t,n,i,s){const a=i.getValue(t,{value:null});switch(n.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{i.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of n.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,A=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:A})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:i,linkService:s}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,A]of Object.entries(a))if(A!=null)switch(l){case"class":A.length&&e.setAttribute(l,A.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",A);break;case"style":Object.assign(e.style,A);break;case"textContent":e.textContent=A;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,A)}o&&s.addLinkAttributes(e,a.href,a.newWindow),n&&a.dataId&&this.setupStorage(e,a.dataId,t,n)}static render(e){var u,f;const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:n});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}o&&l.setAttribute("class","xfaLayer xfaFont");const A=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);a.append(p),o&&o1.shouldBuildText(i.name)&&A.push(p)}return{textDivs:A}}const c=[[i,-1,a]];for(;c.length>0;){const[p,I,F]=c.at(-1);if(I+1===p.children.length){c.pop();continue}const D=p.children[++c.at(-1)[1]];if(D===null)continue;const{name:C}=D;if(C==="#text"){const U=document.createTextNode(D.value);A.push(U),F.append(U);continue}const k=(u=D==null?void 0:D.attributes)!=null&&u.xmlns?document.createElementNS(D.attributes.xmlns,C):document.createElement(C);if(F.append(k),D.attributes&&this.setAttributes({html:k,element:D,storage:t,intent:s,linkService:n}),((f=D.children)==null?void 0:f.length)>0)c.push([D,-1,k]);else if(D.value){const U=document.createTextNode(D.value);o&&o1.shouldBuildText(C)&&A.push(U),k.append(U)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:A}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const YY=9,Ih=new WeakSet;class Pk{static create(e){switch(e.data.annotationType){case hn.LINK:return new bT(e);case hn.TEXT:return new XY(e);case hn.WIDGET:switch(e.data.fieldType){case"Tx":return new JY(e);case"Btn":return e.data.radioButton?new IT(e):e.data.checkBox?new eX(e):new tX(e);case"Ch":return new rX(e);case"Sig":return new ZY(e)}return new Eh(e);case hn.POPUP:return new zS(e);case hn.FREETEXT:return new LT(e);case hn.LINE:return new iX(e);case hn.SQUARE:return new sX(e);case hn.CIRCLE:return new aX(e);case hn.POLYLINE:return new NT(e);case hn.CARET:return new lX(e);case hn.INK:return new XE(e);case hn.POLYGON:return new oX(e);case hn.HIGHLIGHT:return new kT(e);case hn.UNDERLINE:return new AX(e);case hn.SQUIGGLY:return new cX(e);case hn.STRIKEOUT:return new uX(e);case hn.STAMP:return new MT(e);case hn.FILEATTACHMENT:return new dX(e);default:return new on(e)}}}var Ud,Tp,Rp,a2,$S;const hL=class hL{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){ae(this,a2);ae(this,Ud,null);ae(this,Tp,!1);ae(this,Rp,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return hL._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;m(this,Ud)||ee(this,Ud,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&le(this,a2,$S).call(this,t),(n=m(this,Rp))==null||n.popup.updateEdited(e)}resetEdited(){var e;m(this,Ud)&&(le(this,a2,$S).call(this,m(this,Ud).rect),(e=m(this,Rp))==null||e.popup.resetEdited(),ee(this,Ud,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof Eh||(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex++,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof zS){const{rotation:F}=t;return!t.hasOwnCanvas&&F!==0&&this.setRotation(F,s),s}const{width:o,height:l}=this;if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const F=t.borderStyle.horizontalCornerRadius,D=t.borderStyle.verticalCornerRadius;if(F>0||D>0){const k=`calc(${F}px * var(--total-scale-factor)) / calc(${D}px * var(--total-scale-factor))`;a.borderRadius=k}else if(this instanceof IT){const k=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=k}switch(t.borderStyle.style){case vf.SOLID:a.borderStyle="solid";break;case vf.DASHED:a.borderStyle="dashed";break;case vf.BEVELED:Lt("Unimplemented border style: beveled");break;case vf.INSET:Lt("Unimplemented border style: inset");break;case vf.UNDERLINE:a.borderBottomStyle="solid";break}const C=t.borderColor||null;C?(ee(this,Tp,!0),a.borderColor=At.makeHexColor(C[0]|0,C[1]|0,C[2]|0)):a.borderWidth=0}const A=At.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:c,pageHeight:u,pageX:f,pageY:p}=i.rawDims;a.left=`${100*(A[0]-f)/c}%`,a.top=`${100*(A[1]-p)/u}%`;const{rotation:I}=t;return t.hasOwnCanvas||I===0?(a.width=`${100*o/c}%`,a.height=`${100*l/u}%`):this.setRotation(I,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),t.style.width=`${100*s/n}%`,t.style.height=`${100*a/i}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,i)=>{const s=i.detail[t],a=s[0],o=s.slice(1);i.target.style[n]=Uk[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[n]:Uk[`${a}_rgb`](o)})};return jt(this,"_commonActions",{display:t=>{const{display:n}=t.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||n[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[i,s]of Object.entries(t)){const a=n[i];if(a){const o={detail:{[i]:s},target:e};a(o),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,i,s]=this.data.rect.map(F=>Math.fround(F));if(e.length===8){const[F,D,C,k]=e.subarray(2,6);if(i===F&&s===D&&t===C&&n===k)return}const{style:a}=this.container;let o;if(m(this,Tp)){const{borderColor:F,borderWidth:D}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${F}" stroke-width="${D}">`],this.container.classList.add("hasBorder")}const l=i-t,A=s-n,{svgFactory:c}=this,u=c.createElement("svg");u.classList.add("quadrilateralsContainer"),u.setAttribute("width",0),u.setAttribute("height",0),u.role="none";const f=c.createElement("defs");u.append(f);const p=c.createElement("clipPath"),I=`clippath_${this.data.id}`;p.setAttribute("id",I),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let F=2,D=e.length;F<D;F+=8){const C=e[F],k=e[F+1],U=e[F+2],Q=e[F+3],V=c.createElement("rect"),Z=(U-t)/l,q=(s-k)/A,G=(C-U)/l,Y=(k-Q)/A;V.setAttribute("x",Z),V.setAttribute("y",q),V.setAttribute("width",G),V.setAttribute("height",Y),p.append(V),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${Z}" y="${q}" width="${G}" height="${Y}"/>`)}m(this,Tp)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(u),this.container.style.clipPath=`url(#${I})`}_createPopup(){const{data:e}=this,t=ee(this,Rp,new zS({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){pr("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:o}of i){if(s===-1||a===t)continue;const l=typeof o=="string"?o:null,A=document.querySelector(`[data-element-id="${a}"]`);if(A&&!Ih.has(A)){Lt(`_getElementsByName - element not allowed: ${a}`);continue}n.push({id:a,exportValue:l,domElement:A})}return n}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==t&&Ih.has(i)&&n.push({id:a,exportValue:s,domElement:i})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Ud=new WeakMap,Tp=new WeakMap,Rp=new WeakMap,a2=new WeakSet,$S=function(e){const{container:{style:t},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;n==null||n.splice(0,4,...e),t.left=`${100*(e[0]-o)/s}%`,t.top=`${100*(a-e[3]+l)/a}%`,i===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(i)};let on=hL;var Xs,Wu,BT,xT;class bT extends on{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});ae(this,Xs);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(n.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action),s=!0):t.attachment?(le(this,Xs,BT).call(this,i,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(le(this,Xs,xT).call(this,i,t.setOCGState),s=!0):t.dest?(this._bindLink(i,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&le(this,Xs,Wu).call(this)}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),le(this,Xs,Wu).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(n.actions)){const a=i.get(s);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),le(this,Xs,Wu).call(this)}_bindResetFormAction(t,n){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),le(this,Xs,Wu).call(this),!this._fieldObjects){Lt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var u;i==null||i();const{fields:s,refs:a,include:o}=n,l=[];if(s.length!==0||a.length!==0){const f=new Set(a);for(const p of s){const I=this._fieldObjects[p]||[];for(const{id:F}of I)f.add(F)}for(const p of Object.values(this._fieldObjects))for(const I of p)f.has(I.id)===o&&l.push(I)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const A=this.annotationStorage,c=[];for(const f of l){const{id:p}=f;switch(c.push(p),f.type){case"text":{const F=f.defaultValue||"";A.setValue(p,{value:F});break}case"checkbox":case"radiobutton":{const F=f.defaultValue===f.exportValues;A.setValue(p,{value:F});break}case"combobox":case"listbox":{const F=f.defaultValue||"";A.setValue(p,{value:F});break}default:continue}const I=document.querySelector(`[data-element-id="${p}"]`);if(I){if(!Ih.has(I)){Lt(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;I.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}})),!1}}}Xs=new WeakSet,Wu=function(){this.container.setAttribute("data-internal-link","")},BT=function(t,n,i=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(n.content,n.filename,i),!1},le(this,Xs,Wu).call(this)},xT=function(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),le(this,Xs,Wu).call(this)};class XY extends on{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Eh extends on{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return gi.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,i,s){n.includes("mouse")?e.addEventListener(n,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(n,a=>{var o;if(n==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}}))})}_setEventListeners(e,t,n,i){var s,a,o;for(const[l,A]of n)(A==="Action"||(s=this.data.actions)!=null&&s[A])&&((A==="Focus"||A==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,A,i),A==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):A==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":At.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||YY,s=e.style;let a;const o=2,l=A=>Math.round(10*A)/10;if(this.data.multiLine){const A=Math.abs(this.data.rect[3]-this.data.rect[1]-o),c=Math.round(A/(fI*i))||1,u=A/c;a=Math.min(i,l(u/fI))}else{const A=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,l(A/fI))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=At.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class JY extends Eh{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=n),s.setValue(a.id,{[i]:n})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let A=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;A&&this.data.comb&&(A=A.replaceAll(/\s+/g,""));const c={userValue:o,formattedValue:A,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=A??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",A??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Ih.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const u=this.data.dateFormat||this.data.timeFormat;u&&(n.title=u),this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",p=>{e.setValue(t,{value:p.target.value}),this.setPropertyOnSiblings(n,"value",p.target.value,"value"),c.formattedValue=null}),n.addEventListener("resetform",p=>{const I=this.data.defaultFieldValue??"";n.value=c.userValue=I,c.formattedValue=null});let f=p=>{const{formattedValue:I}=c;I!=null&&(p.target.value=I),p.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",I=>{var D;if(c.focused)return;const{target:F}=I;c.userValue&&(F.value=c.userValue),c.lastCommittedValue=F.value,c.commitKey=1,(D=this.data.actions)!=null&&D.Focus||(c.focused=!0)}),n.addEventListener("updatefromsandbox",I=>{this.showElementAndHideCanvas(I.target);const F={value(D){c.userValue=D.detail.value??"",e.setValue(t,{value:c.userValue.toString()}),D.target.value=c.userValue},formattedValue(D){const{formattedValue:C}=D.detail;c.formattedValue=C,C!=null&&D.target!==document.activeElement&&(D.target.value=C),e.setValue(t,{formattedValue:C})},selRange(D){D.target.setSelectionRange(...D.detail.selRange)},charLimit:D=>{var Q;const{charLimit:C}=D.detail,{target:k}=D;if(C===0){k.removeAttribute("maxLength");return}k.setAttribute("maxLength",C);let U=c.userValue;!U||U.length<=C||(U=U.slice(0,C),k.value=c.userValue=U,e.setValue(t,{value:U}),(Q=this.linkService.eventBus)==null||Q.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:U,willCommit:!0,commitKey:1,selStart:k.selectionStart,selEnd:k.selectionEnd}}))}};this._dispatchEventFromSandbox(F,I)}),n.addEventListener("keydown",I=>{var C;c.commitKey=1;let F=-1;if(I.key==="Escape"?F=0:I.key==="Enter"&&!this.data.multiLine?F=2:I.key==="Tab"&&(c.commitKey=3),F===-1)return;const{value:D}=I.target;c.lastCommittedValue!==D&&(c.lastCommittedValue=D,c.userValue=D,(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:D,willCommit:!0,commitKey:F,selStart:I.target.selectionStart,selEnd:I.target.selectionEnd}}))});const p=f;f=null,n.addEventListener("blur",I=>{var D,C;if(!c.focused||!I.relatedTarget)return;(D=this.data.actions)!=null&&D.Blur||(c.focused=!1);const{value:F}=I.target;c.userValue=F,c.lastCommittedValue!==F&&((C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:F,willCommit:!0,commitKey:c.commitKey,selStart:I.target.selectionStart,selEnd:I.target.selectionEnd}})),p(I)}),(s=this.data.actions)!=null&&s.Keystroke&&n.addEventListener("beforeinput",I=>{var Z;c.lastCommittedValue=null;const{data:F,target:D}=I,{value:C,selectionStart:k,selectionEnd:U}=D;let Q=k,V=U;switch(I.inputType){case"deleteWordBackward":{const q=C.substring(0,k).match(/\w*[^\w]*$/);q&&(Q-=q[0].length);break}case"deleteWordForward":{const q=C.substring(k).match(/^[^\w]*\w*/);q&&(V+=q[0].length);break}case"deleteContentBackward":k===U&&(Q-=1);break;case"deleteContentForward":k===U&&(V+=1);break}I.preventDefault(),(Z=this.linkService.eventBus)==null||Z.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:C,change:F||"",willCommit:!1,selStart:Q,selEnd:V}})}),this._setEventListeners(n,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],I=>I.target.value)}if(f&&n.addEventListener("blur",f),this.data.comb){const I=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${I}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class ZY extends Eh{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class eX extends Eh{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Ih.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const A of this._getElementsByName(o,n)){const c=l&&A.exportValue===t.exportValue;A.domElement&&(A.domElement.checked=c),e.setValue(A.id,{value:c})}e.setValue(n,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(n,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class IT extends Eh{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(n,{value:i})),i)for(const a of this._getElementsByName(t.fieldName,n))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(Ih.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const A of this._getElementsByName(o,n))e.setValue(A.id,{value:!1});e.setValue(n,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:A=>{const c=a===A.detail.value;for(const u of this._getElementsByName(A.target.name)){const f=c&&u.id===n;u.domElement&&(u.domElement.checked=f),e.setValue(u.id,{value:f})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class tX extends bT{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class rX extends Eh{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");Ih.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",c=>{const u=this.data.defaultFieldValue;for(const f of i.options)f.selected=f.value===u});for(const c of this.data.options){const u=document.createElement("option");u.textContent=c.displayValue,u.value=c.exportValue,n.value.includes(c.exportValue)&&(u.setAttribute("selected",!0),s=!1),i.append(u)}let a=null;if(s){const c=document.createElement("option");c.value=" ",c.setAttribute("hidden",!0),c.setAttribute("selected",!0),i.prepend(c),a=()=>{c.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=c=>{const u=c?"value":"textContent",{options:f,multiple:p}=i;return p?Array.prototype.filter.call(f,I=>I.selected).map(I=>I[u]):f.selectedIndex===-1?null:f[f.selectedIndex][u]};let l=o(!1);const A=c=>{const u=c.target.options;return Array.prototype.map.call(u,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",c=>{const u={value(f){a==null||a();const p=f.detail.value,I=new Set(Array.isArray(p)?p:[p]);for(const F of i.options)F.selected=I.has(F.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(f){i.multiple=!0},remove(f){const p=i.options,I=f.detail.remove;p[I].selected=!1,i.remove(I),p.length>0&&Array.prototype.findIndex.call(p,D=>D.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:o(!0),items:A(f)}),l=o(!1)},clear(f){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(f){const{index:p,displayValue:I,exportValue:F}=f.detail.insert,D=i.children[p],C=document.createElement("option");C.textContent=I,C.value=F,D?D.before(C):i.append(C),e.setValue(t,{value:o(!0),items:A(f)}),l=o(!1)},items(f){const{items:p}=f.detail;for(;i.length!==0;)i.remove(0);for(const I of p){const{displayValue:F,exportValue:D}=I,C=document.createElement("option");C.textContent=F,C.value=D,i.append(C)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:o(!0),items:A(f)}),l=o(!1)},indices(f){const p=new Set(f.detail.indices);for(const I of f.target.options)I.selected=p.has(I.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(u,c)}),i.addEventListener("input",c=>{var p;const u=o(!0),f=o(!1);e.setValue(t,{value:u}),c.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:f,changeEx:u,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],c=>c.target.value)):i.addEventListener("input",function(c){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class zS extends on{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:on._hasPopupData(t)}),this.elements=n,this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=new nX({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",n.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(i=>`${WE}${i}`).join(",")),this.container}}var Qp,CB,SB,Op,jp,$r,oA,Pd,o2,l2,Hp,lA,ao,AA,A2,cA,c2,Td,Rd,gr,Rv,VS,CT,ST,FT,ET,Qv,Ov,qS;class nX{constructor({container:e,color:t,elements:n,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:A,parentRect:c,open:u}){ae(this,gr);ae(this,Qp,le(this,gr,FT).bind(this));ae(this,CB,le(this,gr,qS).bind(this));ae(this,SB,le(this,gr,Ov).bind(this));ae(this,Op,le(this,gr,Qv).bind(this));ae(this,jp,null);ae(this,$r,null);ae(this,oA,null);ae(this,Pd,null);ae(this,o2,null);ae(this,l2,null);ae(this,Hp,null);ae(this,lA,!1);ae(this,ao,null);ae(this,AA,null);ae(this,A2,null);ae(this,cA,null);ae(this,c2,null);ae(this,Td,null);ae(this,Rd,!1);var f;ee(this,$r,e),ee(this,c2,i),ee(this,oA,a),ee(this,cA,o),ee(this,l2,l),ee(this,jp,t),ee(this,A2,A),ee(this,Hp,c),ee(this,o2,n),ee(this,Pd,$E.toDateObject(s)),this.trigger=n.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",m(this,Op)),p.addEventListener("mouseenter",m(this,SB)),p.addEventListener("mouseleave",m(this,CB)),p.classList.add("popupTriggerArea");for(const p of n)(f=p.container)==null||f.addEventListener("keydown",m(this,Qp));m(this,$r).hidden=!0,u&&le(this,gr,Qv).call(this)}render(){if(m(this,ao))return;const e=ee(this,ao,document.createElement("div"));if(e.className="popup",m(this,jp)){const s=e.style.outlineColor=At.makeHexColor(...m(this,jp));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=m(this,c2),e.append(t),m(this,Pd)){const s=document.createElement("time");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:m(this,Pd).valueOf()})),s.dateTime=m(this,Pd).toISOString(),t.append(s)}const i=m(this,gr,Rv);if(i)vT.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(m(this,oA));e.append(s)}m(this,$r).append(e)}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,a=i.length;s<a;++s){const o=i[s];n.append(document.createTextNode(o)),s<a-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:t}){var n;m(this,Td)||ee(this,Td,{contentsObj:m(this,oA),richText:m(this,cA)}),e&&ee(this,AA,null),t&&(ee(this,cA,le(this,gr,ST).call(this,t)),ee(this,oA,null)),(n=m(this,ao))==null||n.remove(),ee(this,ao,null)}resetEdited(){var e;m(this,Td)&&({contentsObj:Hi(this,oA)._,richText:Hi(this,cA)._}=m(this,Td),ee(this,Td,null),(e=m(this,ao))==null||e.remove(),ee(this,ao,null),ee(this,AA,null))}forceHide(){ee(this,Rd,this.isVisible),m(this,Rd)&&(m(this,$r).hidden=!0)}maybeShow(){m(this,Rd)&&(m(this,ao)||le(this,gr,Ov).call(this),ee(this,Rd,!1),m(this,$r).hidden=!1)}get isVisible(){return m(this,$r).hidden===!1}}Qp=new WeakMap,CB=new WeakMap,SB=new WeakMap,Op=new WeakMap,jp=new WeakMap,$r=new WeakMap,oA=new WeakMap,Pd=new WeakMap,o2=new WeakMap,l2=new WeakMap,Hp=new WeakMap,lA=new WeakMap,ao=new WeakMap,AA=new WeakMap,A2=new WeakMap,cA=new WeakMap,c2=new WeakMap,Td=new WeakMap,Rd=new WeakMap,gr=new WeakSet,Rv=function(){const e=m(this,cA),t=m(this,oA);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&m(this,cA).html||null},VS=function(){var e,t,n;return((n=(t=(e=m(this,gr,Rv))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},CT=function(){var e,t,n;return((n=(t=(e=m(this,gr,Rv))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},ST=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:m(this,gr,CT),fontSize:m(this,gr,VS)?`calc(${m(this,gr,VS)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return n},FT=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&m(this,lA))&&le(this,gr,Qv).call(this)},ET=function(){if(m(this,AA)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:s}}}=m(this,l2);let a=!!m(this,Hp),o=a?m(this,Hp):m(this,A2);for(const I of m(this,o2))if(!o||At.intersect(I.data.rect,o)!==null){o=I.data.rect,a=!0;break}const l=At.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),c=a?o[2]-o[0]+5:0,u=l[0]+c,f=l[1];ee(this,AA,[100*(u-i)/t,100*(f-s)/n]);const{style:p}=m(this,$r);p.left=`${m(this,AA)[0]}%`,p.top=`${m(this,AA)[1]}%`},Qv=function(){ee(this,lA,!m(this,lA)),m(this,lA)?(le(this,gr,Ov).call(this),m(this,$r).addEventListener("click",m(this,Op)),m(this,$r).addEventListener("keydown",m(this,Qp))):(le(this,gr,qS).call(this),m(this,$r).removeEventListener("click",m(this,Op)),m(this,$r).removeEventListener("keydown",m(this,Qp)))},Ov=function(){m(this,ao)||this.render(),this.isVisible?m(this,lA)&&m(this,$r).classList.add("focused"):(le(this,gr,ET).call(this),m(this,$r).hidden=!1,m(this,$r).style.zIndex=parseInt(m(this,$r).style.zIndex)+1e3)},qS=function(){m(this,$r).classList.remove("focused"),!(m(this,lA)||!this.isVisible)&&(m(this,$r).hidden=!0,m(this,$r).style.zIndex=parseInt(m(this,$r).style.zIndex)-1e3)};class LT extends on{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Et.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var u2;class iX extends on{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ae(this,u2,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:n,height:i}=this,s=this.svgFactory.create(n,i,!0),a=ee(this,u2,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,u2)}addHighlightArea(){this.container.classList.add("highlightArea")}}u2=new WeakMap;var d2;class sX extends on{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ae(this,d2,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:n,height:i}=this,s=this.svgFactory.create(n,i,!0),a=t.borderStyle.width,o=ee(this,d2,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",n-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,d2)}addHighlightArea(){this.container.classList.add("highlightArea")}}d2=new WeakMap;var h2;class aX extends on{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ae(this,h2,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:n,height:i}=this,s=this.svgFactory.create(n,i,!0),a=t.borderStyle.width,o=ee(this,h2,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",n/2),o.setAttribute("cy",i/2),o.setAttribute("rx",n/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,h2)}addHighlightArea(){this.container.classList.add("highlightArea")}}h2=new WeakMap;var f2;class NT extends on{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ae(this,f2,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:i,popupRef:s},width:a,height:o}=this;if(!n)return this.container;const l=this.svgFactory.create(a,o,!0);let A=[];for(let u=0,f=n.length;u<f;u+=2){const p=n[u]-t[0],I=t[3]-n[u+1];A.push(`${p},${I}`)}A=A.join(" ");const c=ee(this,f2,this.svgFactory.createElement(this.svgElementName));return c.setAttribute("points",A),c.setAttribute("stroke-width",i.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,f2)}addHighlightArea(){this.container.classList.add("highlightArea")}}f2=new WeakMap;class oX extends NT{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class lX extends on{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var p2,Qd,g2,YS;class XE extends on{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ae(this,g2);ae(this,p2,null);ae(this,Qd,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Et.HIGHLIGHT:Et.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:n,inkLists:i,borderStyle:s,popupRef:a}}=this,{transform:o,width:l,height:A}=le(this,g2,YS).call(this,n,t),c=this.svgFactory.create(l,A,!0),u=ee(this,p2,this.svgFactory.createElement("svg:g"));c.append(u),u.setAttribute("stroke-width",s.width||1),u.setAttribute("stroke-linecap","round"),u.setAttribute("stroke-linejoin","round"),u.setAttribute("stroke-miterlimit",10),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),u.setAttribute("transform",o);for(let f=0,p=i.length;f<p;f++){const I=this.svgFactory.createElement(this.svgElementName);m(this,Qd).push(I),I.setAttribute("points",i[f].join(",")),u.append(I)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(c),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:n,points:i,rect:s}=t,a=m(this,p2);if(n>=0&&a.setAttribute("stroke-width",n||1),i)for(let o=0,l=m(this,Qd).length;o<l;o++)m(this,Qd)[o].setAttribute("points",i[o].join(","));if(s){const{transform:o,width:l,height:A}=le(this,g2,YS).call(this,this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${A}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return m(this,Qd)}addHighlightArea(){this.container.classList.add("highlightArea")}}p2=new WeakMap,Qd=new WeakMap,g2=new WeakSet,YS=function(t,n){switch(t){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};class kT extends on{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Et.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class AX extends on{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class cX extends on{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class uX extends on{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class MT extends on{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Et.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var m2,y2,XS;class dX extends on{constructor(t){var i;super(t,{isRenderable:!0});ae(this,y2);ae(this,m2,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",le(this,y2,XS).bind(this)),ee(this,m2,i);const{isMac:s}=gi.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&le(this,y2,XS).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return m(this,m2)}addHighlightArea(){this.container.classList.add("highlightArea")}}m2=new WeakMap,y2=new WeakSet,XS=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var w2,Od,kc,v2,bu,ZS,e4;const fL=class fL{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:o}){ae(this,bu);ae(this,w2,null);ae(this,Od,null);ae(this,kc,new Map);ae(this,v2,null);this.div=e,ee(this,w2,t),ee(this,Od,n),ee(this,v2,o||null),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return m(this,kc).size>0}async render(e){var a;const{annotations:t}=e,n=this.div;Bh(n,this.viewport);const i=new Map,s={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Yb,annotationStorage:e.annotationStorage||new VE,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of t){if(o.noHTML)continue;const l=o.annotationType===hn.POPUP;if(l){const u=i.get(o.id);if(!u)continue;s.elements=u}else if(o.rect[2]===o.rect[0]||o.rect[3]===o.rect[1])continue;s.data=o;const A=Pk.create(s);if(!A.isRenderable)continue;if(!l&&o.popupRef){const u=i.get(o.popupRef);u?u.push(A):i.set(o.popupRef,[A])}const c=A.render();o.hidden&&(c.style.visibility="hidden"),await le(this,bu,ZS).call(this,c,o.id,s.elements),A._isEditable&&(m(this,kc).set(A.data.id,A),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(A))}le(this,bu,e4).call(this)}async addLinkAnnotations(e,t){const n={data:null,layer:this.div,linkService:t,svgFactory:new Yb,parent:this};for(const i of e){i.borderStyle||(i.borderStyle=fL._defaultBorderStyle),n.data=i;const s=Pk.create(n);if(!s.isRenderable)continue;const a=s.render();await le(this,bu,ZS).call(this,a,i.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,Bh(t,{rotation:e.rotation}),le(this,bu,e4).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(m(this,kc).values())}getEditableAnnotation(e){return m(this,kc).get(e)}static get _defaultBorderStyle(){return jt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:vf.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};w2=new WeakMap,Od=new WeakMap,kc=new WeakMap,v2=new WeakMap,bu=new WeakSet,ZS=async function(e,t,n){var o,l;const i=e.firstChild||e,s=i.id=`${WE}${t}`,a=await((o=m(this,v2))==null?void 0:o.getAriaAttributes(s));if(a)for(const[A,c]of a)i.setAttribute(A,c);n?n.at(-1).container.after(e):(this.div.append(e),(l=m(this,w2))==null||l.moveElementInDOM(this.div,e,i,!1))},e4=function(){var t;if(!m(this,Od))return;const e=this.div;for(const[n,i]of m(this,Od)){const s=e.querySelector(`[data-annotation-id="${n}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(i):a.classList.contains("annotationContent")?a.after(i):a.before(i):s.append(i);const o=m(this,kc).get(n);o&&(o._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(n,s.id,i),o._hasNoCanvas=!1):o.canvas=i)}m(this,Od).clear()};let JS=fL;const Dw=/\r\n?|\n/g;var oo,Rs,b2,jd,Qs,wn,DT,_T,UT,jv,FA,Hv,Wv,PT,r4,TT;const Ir=class Ir extends Fr{constructor(t){super({...t,name:"freeTextEditor"});ae(this,wn);ae(this,oo);ae(this,Rs,"");ae(this,b2,`${this.id}-editor`);ae(this,jd,null);ae(this,Qs);ee(this,oo,t.color||Ir._defaultColor||Fr._defaultLineColor),ee(this,Qs,t.fontSize||Ir._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const t=Ir.prototype,n=a=>a.isEmpty(),i=xh.TRANSLATE_SMALL,s=xh.TRANSLATE_BIG;return jt(this,"_keyboardManager",new cy([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:n}]]))}static initialize(t,n){Fr.initialize(t,n);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case Kt.FREETEXT_SIZE:Ir._defaultFontSize=n;break;case Kt.FREETEXT_COLOR:Ir._defaultColor=n;break}}updateParams(t,n){switch(t){case Kt.FREETEXT_SIZE:le(this,wn,DT).call(this,n);break;case Kt.FREETEXT_COLOR:le(this,wn,_T).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Kt.FREETEXT_SIZE,Ir._defaultFontSize],[Kt.FREETEXT_COLOR,Ir._defaultColor||Fr._defaultLineColor]]}get propertiesToUpdate(){return[[Kt.FREETEXT_SIZE,m(this,Qs)],[Kt.FREETEXT_COLOR,m(this,oo)]]}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-Ir._internalPadding*t,-(Ir._internalPadding+m(this,Qs))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),ee(this,jd,new AbortController);const t=this._uiManager.combinedSignal(m(this,jd));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",m(this,b2)),this._isDraggable=!0,(t=m(this,jd))==null||t.abort(),ee(this,jd,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var n;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=m(this,Rs),n=ee(this,Rs,le(this,wn,UT).call(this).trimEnd());if(t===n)return;const i=s=>{if(ee(this,Rs,s),!s){this.remove();return}le(this,wn,Wv).call(this),this._uiManager.rebuild(this),le(this,wn,jv).call(this)};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(t)},mustExec:!1}),le(this,wn,jv).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Ir._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,n;(this._isCopy||this.annotationElementId)&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",m(this,b2)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${m(this,Qs)}px * var(--total-scale-factor))`,i.color=m(this,oo),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,A]=this.getInitialTranslation();[l,A]=this.pageTranslationToScreen(l,A);const[c,u]=this.pageDimensions,[f,p]=this.pageTranslation;let I,F;switch(this.rotation){case 0:I=t+(o[0]-f)/c,F=n+this.height-(o[1]-p)/u;break;case 90:I=t+(o[0]-f)/c,F=n-(o[1]-p)/u,[l,A]=[A,-l];break;case 180:I=t-this.width+(o[0]-f)/c,F=n-(o[1]-p)/u,[l,A]=[-l,-A];break;case 270:I=t+(o[0]-f-this.height*u)/c,F=n+(o[1]-p-this.width*c)/u,[l,A]=[-A,l];break}this.setAt(I*s,F*a,l,A)}else this._moveAfterPaste(t,n);le(this,wn,Wv).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var I,F,D;const n=t.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=le(I=Ir,FA,r4).call(I,n.getData("text")||"").replaceAll(Dw,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:A}=o,c=[],u=[];if(l.nodeType===Node.TEXT_NODE){const C=l.parentElement;if(u.push(l.nodeValue.slice(A).replaceAll(Dw,"")),C!==this.editorDiv){let k=c;for(const U of this.editorDiv.childNodes){if(U===C){k=u;continue}k.push(le(F=Ir,FA,Hv).call(F,U))}}c.push(l.nodeValue.slice(0,A).replaceAll(Dw,""))}else if(l===this.editorDiv){let C=c,k=0;for(const U of this.editorDiv.childNodes)k++===A&&(C=u),C.push(le(D=Ir,FA,Hv).call(D,U))}ee(this,Rs,`${c.join(`
`)}${s}${u.join(`
`)}`),le(this,wn,Wv).call(this);const f=new Range;let p=Math.sumPrecise(c.map(C=>C.length));for(const{firstChild:C}of this.editorDiv.childNodes)if(C.nodeType===Node.TEXT_NODE){const k=C.nodeValue.length;if(p<=k){f.setStart(C,p),f.setEnd(C,p);break}p-=k}a.removeAllRanges(),a.addRange(f)}get contentDiv(){return this.editorDiv}static async deserialize(t,n,i){var o;let s=null;if(t instanceof LT){const{data:{defaultAppearanceData:{fontSize:l,fontColor:A},rect:c,rotation:u,id:f,popupRef:p},textContent:I,textPosition:F,parent:{page:{pageNumber:D}}}=t;if(!I||I.length===0)return null;s=t={annotationType:Et.FREETEXT,color:Array.from(A),fontSize:l,value:I.join(`
`),position:F,pageIndex:D-1,rect:c.slice(0),rotation:u,annotationElementId:f,id:f,deleted:!1,popupRef:p}}const a=await super.deserialize(t,n,i);return ee(a,Qs,t.fontSize),ee(a,oo,At.makeHexColor(...t.color)),ee(a,Rs,le(o=Ir,FA,r4).call(o,t.value)),a._initialData=s,a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Ir._internalPadding*this.parentScale,i=this.getRect(n,n),s=Fr._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:m(this,oo)),a={annotationType:Et.FREETEXT,color:s,fontSize:m(this,Qs),value:le(this,wn,PT).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(a.isCopy=!0,a):this.annotationElementId&&!le(this,wn,TT).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:i}=n;i.fontSize=`calc(${m(this,Qs)}px * var(--total-scale-factor))`,i.color=m(this,oo),n.replaceChildren();for(const a of m(this,Rs).split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),n.append(o)}const s=Ir._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:m(this,Rs)}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};oo=new WeakMap,Rs=new WeakMap,b2=new WeakMap,jd=new WeakMap,Qs=new WeakMap,wn=new WeakSet,DT=function(t){const n=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-m(this,Qs))*this.parentScale),ee(this,Qs,s),le(this,wn,jv).call(this)},i=m(this,Qs);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Kt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},_T=function(t){const n=s=>{ee(this,oo,this.editorDiv.style.color=s)},i=m(this,oo);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Kt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},UT=function(){var i;const t=[];this.editorDiv.normalize();let n=null;for(const s of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(le(i=Ir,FA,Hv).call(i,s)),n=s);return t.join(`
`)},jv=function(){const[t,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/n):(this.width=i.height/t,this.height=i.width/n),this.fixAndSetPosition()},FA=new WeakSet,Hv=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Dw,"")},Wv=function(){if(this.editorDiv.replaceChildren(),!!m(this,Rs))for(const t of m(this,Rs).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},PT=function(){return m(this,Rs).replaceAll(" "," ")},r4=function(t){return t.replaceAll(" "," ")},TT=function(t){const{value:n,fontSize:i,color:s,pageIndex:a}=this._initialData;return this._hasBeenMoved||t.value!==n||t.fontSize!==i||t.color.some((o,l)=>o!==s[l])||t.pageIndex!==a},ae(Ir,FA),Oe(Ir,"_freeTextDefaultContent",""),Oe(Ir,"_internalPadding",0),Oe(Ir,"_defaultColor",null),Oe(Ir,"_defaultFontSize",10),Oe(Ir,"_type","freetext"),Oe(Ir,"_editorType",Et.FREETEXT);let t4=Ir;class rt{toSVGPath(){pr("Abstract method `toSVGPath` must be implemented.")}get box(){pr("Abstract getter `box` must be implemented.")}serialize(e,t){pr("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o]*i,a[o+1]=n+e[o+1]*s;return a}static _rescaleAndSwap(e,t,n,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o+1]*i,a[o+1]=n+e[o]*s;return a}static _translate(e,t,n,i){i||(i=new Float32Array(e.length));for(let s=0,a=e.length;s<a;s+=2)i[s]=t+e[s],i[s+1]=n+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,i,s){switch(s){case 90:return[1-t/n,e/i];case 180:return[1-e/n,1-t/i];case 270:return[t/n,1-e/i];default:return[e/n,t/i]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,i,s,a){return[(e+5*n)/6,(t+5*i)/6,(5*n+s)/6,(5*i+a)/6,(n+s)/2,(i+a)/2]}}Oe(rt,"PRECISION",1e-4);var Os,lo,Wp,Kp,nl,Tt,Hd,Wd,B2,x2,Gp,$p,Mc,I2,FB,EB,Ln,i0,RT,QT,OT,jT,HT,WT;const Hl=class Hl{constructor({x:e,y:t},n,i,s,a,o=0){ae(this,Ln);ae(this,Os);ae(this,lo,[]);ae(this,Wp);ae(this,Kp);ae(this,nl,[]);ae(this,Tt,new Float32Array(18));ae(this,Hd);ae(this,Wd);ae(this,B2);ae(this,x2);ae(this,Gp);ae(this,$p);ae(this,Mc,[]);ee(this,Os,n),ee(this,$p,s*i),ee(this,Kp,a),m(this,Tt).set([NaN,NaN,NaN,NaN,e,t],6),ee(this,Wp,o),ee(this,x2,m(Hl,I2)*i),ee(this,B2,m(Hl,EB)*i),ee(this,Gp,i),m(this,Mc).push(e,t)}isEmpty(){return isNaN(m(this,Tt)[8])}add({x:e,y:t}){var Y;ee(this,Hd,e),ee(this,Wd,t);const[n,i,s,a]=m(this,Os);let[o,l,A,c]=m(this,Tt).subarray(8,12);const u=e-A,f=t-c,p=Math.hypot(u,f);if(p<m(this,B2))return!1;const I=p-m(this,x2),F=I/p,D=F*u,C=F*f;let k=o,U=l;o=A,l=c,A+=D,c+=C,(Y=m(this,Mc))==null||Y.push(e,t);const Q=-C/I,V=D/I,Z=Q*m(this,$p),q=V*m(this,$p);return m(this,Tt).set(m(this,Tt).subarray(2,8),0),m(this,Tt).set([A+Z,c+q],4),m(this,Tt).set(m(this,Tt).subarray(14,18),12),m(this,Tt).set([A-Z,c-q],16),isNaN(m(this,Tt)[6])?(m(this,nl).length===0&&(m(this,Tt).set([o+Z,l+q],2),m(this,nl).push(NaN,NaN,NaN,NaN,(o+Z-n)/s,(l+q-i)/a),m(this,Tt).set([o-Z,l-q],14),m(this,lo).push(NaN,NaN,NaN,NaN,(o-Z-n)/s,(l-q-i)/a)),m(this,Tt).set([k,U,o,l,A,c],6),!this.isEmpty()):(m(this,Tt).set([k,U,o,l,A,c],6),Math.abs(Math.atan2(U-l,k-o)-Math.atan2(C,D))<Math.PI/2?([o,l,A,c]=m(this,Tt).subarray(2,6),m(this,nl).push(NaN,NaN,NaN,NaN,((o+A)/2-n)/s,((l+c)/2-i)/a),[o,l,k,U]=m(this,Tt).subarray(14,18),m(this,lo).push(NaN,NaN,NaN,NaN,((k+o)/2-n)/s,((U+l)/2-i)/a),!0):([k,U,o,l,A,c]=m(this,Tt).subarray(0,6),m(this,nl).push(((k+5*o)/6-n)/s,((U+5*l)/6-i)/a,((5*o+A)/6-n)/s,((5*l+c)/6-i)/a,((o+A)/2-n)/s,((l+c)/2-i)/a),[A,c,o,l,k,U]=m(this,Tt).subarray(12,18),m(this,lo).push(((k+5*o)/6-n)/s,((U+5*l)/6-i)/a,((5*o+A)/6-n)/s,((5*l+c)/6-i)/a,((o+A)/2-n)/s,((l+c)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=m(this,nl),t=m(this,lo);if(isNaN(m(this,Tt)[6])&&!this.isEmpty())return le(this,Ln,RT).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);le(this,Ln,OT).call(this,n);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?n.push(`L${t[i+4]} ${t[i+5]}`):n.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return le(this,Ln,QT).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,i,s,a){return new KT(e,t,n,i,s,a)}getOutlines(){var u;const e=m(this,nl),t=m(this,lo),n=m(this,Tt),[i,s,a,o]=m(this,Os),l=new Float32Array((((u=m(this,Mc))==null?void 0:u.length)??0)+2);for(let f=0,p=l.length-2;f<p;f+=2)l[f]=(m(this,Mc)[f]-i)/a,l[f+1]=(m(this,Mc)[f+1]-s)/o;if(l[l.length-2]=(m(this,Hd)-i)/a,l[l.length-1]=(m(this,Wd)-s)/o,isNaN(n[6])&&!this.isEmpty())return le(this,Ln,jT).call(this,l);const A=new Float32Array(m(this,nl).length+24+m(this,lo).length);let c=e.length;for(let f=0;f<c;f+=2){if(isNaN(e[f])){A[f]=A[f+1]=NaN;continue}A[f]=e[f],A[f+1]=e[f+1]}c=le(this,Ln,WT).call(this,A,c);for(let f=t.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(t[f+p])){A[c]=A[c+1]=NaN,c+=2;continue}A[c]=t[f+p],A[c+1]=t[f+p+1],c+=2}return le(this,Ln,HT).call(this,A,c),this.newFreeDrawOutline(A,l,m(this,Os),m(this,Gp),m(this,Wp),m(this,Kp))}};Os=new WeakMap,lo=new WeakMap,Wp=new WeakMap,Kp=new WeakMap,nl=new WeakMap,Tt=new WeakMap,Hd=new WeakMap,Wd=new WeakMap,B2=new WeakMap,x2=new WeakMap,Gp=new WeakMap,$p=new WeakMap,Mc=new WeakMap,I2=new WeakMap,FB=new WeakMap,EB=new WeakMap,Ln=new WeakSet,i0=function(){const e=m(this,Tt).subarray(4,6),t=m(this,Tt).subarray(16,18),[n,i,s,a]=m(this,Os);return[(m(this,Hd)+(e[0]-t[0])/2-n)/s,(m(this,Wd)+(e[1]-t[1])/2-i)/a,(m(this,Hd)+(t[0]-e[0])/2-n)/s,(m(this,Wd)+(t[1]-e[1])/2-i)/a]},RT=function(){const[e,t,n,i]=m(this,Os),[s,a,o,l]=le(this,Ln,i0).call(this);return`M${(m(this,Tt)[2]-e)/n} ${(m(this,Tt)[3]-t)/i} L${(m(this,Tt)[4]-e)/n} ${(m(this,Tt)[5]-t)/i} L${s} ${a} L${o} ${l} L${(m(this,Tt)[16]-e)/n} ${(m(this,Tt)[17]-t)/i} L${(m(this,Tt)[14]-e)/n} ${(m(this,Tt)[15]-t)/i} Z`},QT=function(e){const t=m(this,lo);e.push(`L${t[4]} ${t[5]} Z`)},OT=function(e){const[t,n,i,s]=m(this,Os),a=m(this,Tt).subarray(4,6),o=m(this,Tt).subarray(16,18),[l,A,c,u]=le(this,Ln,i0).call(this);e.push(`L${(a[0]-t)/i} ${(a[1]-n)/s} L${l} ${A} L${c} ${u} L${(o[0]-t)/i} ${(o[1]-n)/s}`)},jT=function(e){const t=m(this,Tt),[n,i,s,a]=m(this,Os),[o,l,A,c]=le(this,Ln,i0).call(this),u=new Float32Array(36);return u.set([NaN,NaN,NaN,NaN,(t[2]-n)/s,(t[3]-i)/a,NaN,NaN,NaN,NaN,(t[4]-n)/s,(t[5]-i)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,A,c,NaN,NaN,NaN,NaN,(t[16]-n)/s,(t[17]-i)/a,NaN,NaN,NaN,NaN,(t[14]-n)/s,(t[15]-i)/a],0),this.newFreeDrawOutline(u,e,m(this,Os),m(this,Gp),m(this,Wp),m(this,Kp))},HT=function(e,t){const n=m(this,lo);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},WT=function(e,t){const n=m(this,Tt).subarray(4,6),i=m(this,Tt).subarray(16,18),[s,a,o,l]=m(this,Os),[A,c,u,f]=le(this,Ln,i0).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-s)/o,(n[1]-a)/l,NaN,NaN,NaN,NaN,A,c,NaN,NaN,NaN,NaN,u,f,NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/l],t),t+=24},ae(Hl,I2,8),ae(Hl,FB,2),ae(Hl,EB,m(Hl,I2)+m(Hl,FB));let Xb=Hl;var zp,Kd,uA,C2,js,S2,en,LB,GT;class KT extends rt{constructor(t,n,i,s,a,o){super();ae(this,LB);ae(this,zp);ae(this,Kd,new Float32Array(4));ae(this,uA);ae(this,C2);ae(this,js);ae(this,S2);ae(this,en);ee(this,en,t),ee(this,js,n),ee(this,zp,i),ee(this,S2,s),ee(this,uA,a),ee(this,C2,o),this.lastPoint=[NaN,NaN],le(this,LB,GT).call(this,o);const[l,A,c,u]=m(this,Kd);for(let f=0,p=t.length;f<p;f+=2)t[f]=(t[f]-l)/c,t[f+1]=(t[f+1]-A)/u;for(let f=0,p=n.length;f<p;f+=2)n[f]=(n[f]-l)/c,n[f+1]=(n[f+1]-A)/u}toSVGPath(){const t=[`M${m(this,en)[4]} ${m(this,en)[5]}`];for(let n=6,i=m(this,en).length;n<i;n+=6){if(isNaN(m(this,en)[n])){t.push(`L${m(this,en)[n+4]} ${m(this,en)[n+5]}`);continue}t.push(`C${m(this,en)[n]} ${m(this,en)[n+1]} ${m(this,en)[n+2]} ${m(this,en)[n+3]} ${m(this,en)[n+4]} ${m(this,en)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,i,s],a){const o=i-t,l=s-n;let A,c;switch(a){case 0:A=rt._rescale(m(this,en),t,s,o,-l),c=rt._rescale(m(this,js),t,s,o,-l);break;case 90:A=rt._rescaleAndSwap(m(this,en),t,n,o,l),c=rt._rescaleAndSwap(m(this,js),t,n,o,l);break;case 180:A=rt._rescale(m(this,en),i,n,-o,l),c=rt._rescale(m(this,js),i,n,-o,l);break;case 270:A=rt._rescaleAndSwap(m(this,en),i,s,-o,-l),c=rt._rescaleAndSwap(m(this,js),i,s,-o,-l);break}return{outline:Array.from(A),points:[Array.from(c)]}}get box(){return m(this,Kd)}newOutliner(t,n,i,s,a,o=0){return new Xb(t,n,i,s,a,o)}getNewOutline(t,n){const[i,s,a,o]=m(this,Kd),[l,A,c,u]=m(this,zp),f=a*c,p=o*u,I=i*c+l,F=s*u+A,D=this.newOutliner({x:m(this,js)[0]*f+I,y:m(this,js)[1]*p+F},m(this,zp),m(this,S2),t,m(this,C2),n??m(this,uA));for(let C=2;C<m(this,js).length;C+=2)D.add({x:m(this,js)[C]*f+I,y:m(this,js)[C+1]*p+F});return D.getOutlines()}}zp=new WeakMap,Kd=new WeakMap,uA=new WeakMap,C2=new WeakMap,js=new WeakMap,S2=new WeakMap,en=new WeakMap,LB=new WeakSet,GT=function(t){const n=m(this,en);let i=n[4],s=n[5];const a=[i,s,i,s];let o=i,l=s;const A=t?Math.max:Math.min;for(let u=6,f=n.length;u<f;u+=6){const p=n[u+4],I=n[u+5];if(isNaN(n[u]))At.pointBoundingBox(p,I,a),l<I?(o=p,l=I):l===I&&(o=A(o,p));else{const F=[1/0,1/0,-1/0,-1/0];At.bezierBoundingBox(i,s,...n.slice(u,u+6),F),At.rectBoundingBox(...F,a),l<F[3]?(o=F[2],l=F[3]):l===F[3]&&(o=A(o,F[2]))}i=p,s=I}const c=m(this,Kd);c[0]=a[0]-m(this,uA),c[1]=a[1]-m(this,uA),c[2]=a[2]-a[0]+2*m(this,uA),c[3]=a[3]-a[1]+2*m(this,uA),this.lastPoint=[o,l]};var F2,E2,Dc,Ao,ns,$T,Kv,zT,VT,i4;class n4{constructor(e,t=0,n=0,i=!0){ae(this,ns);ae(this,F2);ae(this,E2);ae(this,Dc,[]);ae(this,Ao,[]);const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:p,y:I,width:F,height:D}of e){const C=Math.floor((p-t)/a)*a,k=Math.ceil((p+F+t)/a)*a,U=Math.floor((I-t)/a)*a,Q=Math.ceil((I+D+t)/a)*a,V=[C,U,Q,!0],Z=[k,U,Q,!1];m(this,Dc).push(V,Z),At.rectBoundingBox(C,U,k,Q,s)}const o=s[2]-s[0]+2*n,l=s[3]-s[1]+2*n,A=s[0]-n,c=s[1]-n,u=m(this,Dc).at(i?-1:-2),f=[u[0],u[2]];for(const p of m(this,Dc)){const[I,F,D]=p;p[0]=(I-A)/o,p[1]=(F-c)/l,p[2]=(D-c)/l}ee(this,F2,new Float32Array([A,c,o,l])),ee(this,E2,f)}getOutlines(){m(this,Dc).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of m(this,Dc))t[3]?(e.push(...le(this,ns,i4).call(this,t)),le(this,ns,zT).call(this,t)):(le(this,ns,VT).call(this,t),e.push(...le(this,ns,i4).call(this,t)));return le(this,ns,$T).call(this,e)}}F2=new WeakMap,E2=new WeakMap,Dc=new WeakMap,Ao=new WeakMap,ns=new WeakSet,$T=function(e){const t=[],n=new Set;for(const a of e){const[o,l,A]=a;t.push([o,l,a],[o,A,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const l=t[a][2],A=t[a+1][2];l.push(A),A.push(l),n.add(l),n.add(A)}const i=[];let s;for(;n.size>0;){const a=n.values().next().value;let[o,l,A,c,u]=a;n.delete(a);let f=o,p=l;for(s=[o,A],i.push(s);;){let I;if(n.has(c))I=c;else if(n.has(u))I=u;else break;n.delete(I),[o,l,A,c,u]=I,f!==o&&(s.push(f,p,o,p===l?l:A),f=o),p=p===l?A:l}s.push(f,p)}return new hX(i,m(this,F2),m(this,E2))},Kv=function(e){const t=m(this,Ao);let n=0,i=t.length-1;for(;n<=i;){const s=n+i>>1,a=t[s][0];if(a===e)return s;a<e?n=s+1:i=s-1}return i+1},zT=function([,e,t]){const n=le(this,ns,Kv).call(this,e);m(this,Ao).splice(n,0,[e,t])},VT=function([,e,t]){const n=le(this,ns,Kv).call(this,e);for(let i=n;i<m(this,Ao).length;i++){const[s,a]=m(this,Ao)[i];if(s!==e)break;if(s===e&&a===t){m(this,Ao).splice(i,1);return}}for(let i=n-1;i>=0;i--){const[s,a]=m(this,Ao)[i];if(s!==e)break;if(s===e&&a===t){m(this,Ao).splice(i,1);return}}},i4=function(e){const[t,n,i]=e,s=[[t,n,i]],a=le(this,ns,Kv).call(this,i);for(let o=0;o<a;o++){const[l,A]=m(this,Ao)[o];for(let c=0,u=s.length;c<u;c++){const[,f,p]=s[c];if(!(A<=f||p<=l)){if(f>=l){if(p>A)s[c][1]=A;else{if(u===1)return[];s.splice(c,1),c--,u--}continue}s[c][2]=l,p>A&&s.push([t,A,p])}}}return s};var L2,Vp;class hX extends rt{constructor(t,n,i){super();ae(this,L2);ae(this,Vp);ee(this,Vp,t),ee(this,L2,n),this.lastPoint=i}toSVGPath(){const t=[];for(const n of m(this,Vp)){let[i,s]=n;t.push(`M${i} ${s}`);for(let a=2;a<n.length;a+=2){const o=n[a],l=n[a+1];o===i?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${o}`),i=o)}t.push("Z")}return t.join(" ")}serialize([t,n,i,s],a){const o=[],l=i-t,A=s-n;for(const c of m(this,Vp)){const u=new Array(c.length);for(let f=0;f<c.length;f+=2)u[f]=t+c[f]*l,u[f+1]=s-c[f+1]*A;o.push(u)}return o}get box(){return m(this,L2)}get classNamesForOutlining(){return["highlightOutline"]}}L2=new WeakMap,Vp=new WeakMap;class s4 extends Xb{newFreeDrawOutline(e,t,n,i,s,a){return new fX(e,t,n,i,s,a)}}class fX extends KT{newOutliner(e,t,n,i,s,a=0){return new s4(e,t,n,i,s,a)}}var Hs,Gd,qp,Cn,N2,Yp,dA,k2,_c,co,Xp,M2,hr,a4,o4,l4,Ku,qT,ec;const ps=class ps{constructor({editor:e=null,uiManager:t=null}){ae(this,hr);ae(this,Hs,null);ae(this,Gd,null);ae(this,qp);ae(this,Cn,null);ae(this,N2,!1);ae(this,Yp,!1);ae(this,dA,null);ae(this,k2);ae(this,_c,null);ae(this,co,null);ae(this,Xp);var n,i;e?(ee(this,Yp,!1),ee(this,Xp,Kt.HIGHLIGHT_COLOR),ee(this,dA,e)):(ee(this,Yp,!0),ee(this,Xp,Kt.HIGHLIGHT_DEFAULT_COLOR)),ee(this,co,(e==null?void 0:e._uiManager)||t),ee(this,k2,m(this,co)._eventBus),ee(this,qp,((n=e==null?void 0:e.color)==null?void 0:n.toUpperCase())||((i=m(this,co))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),m(ps,M2)||ee(ps,M2,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return jt(this,"_keyboardManager",new cy([[["Escape","mac+Escape"],ps.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ps.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ps.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ps.prototype._moveToPrevious],[["Home","mac+Home"],ps.prototype._moveToBeginning],[["End","mac+End"],ps.prototype._moveToEnd]]))}renderButton(){const e=ee(this,Hs,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",m(this,dA)&&(e.ariaControls=`${m(this,dA).id}_colorpicker_dropdown`);const t=m(this,co)._signal;e.addEventListener("click",le(this,hr,Ku).bind(this),{signal:t}),e.addEventListener("keydown",le(this,hr,l4).bind(this),{signal:t});const n=ee(this,Gd,document.createElement("span"));return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=m(this,qp),e.append(n),e}renderMainDropdown(){const e=ee(this,Cn,le(this,hr,a4).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===m(this,Hs)){le(this,hr,Ku).call(this,e);return}const t=e.target.getAttribute("data-color");t&&le(this,hr,o4).call(this,t,e)}_moveToNext(e){var t,n;if(!m(this,hr,ec)){le(this,hr,Ku).call(this,e);return}if(e.target===m(this,Hs)){(t=m(this,Cn).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=m(this,Cn))==null?void 0:t.firstChild)||e.target===m(this,Hs)){m(this,hr,ec)&&this._hideDropdownFromKeyboard();return}m(this,hr,ec)||le(this,hr,Ku).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!m(this,hr,ec)){le(this,hr,Ku).call(this,e);return}(t=m(this,Cn).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!m(this,hr,ec)){le(this,hr,Ku).call(this,e);return}(t=m(this,Cn).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=m(this,Cn))==null||e.classList.add("hidden"),m(this,Hs).ariaExpanded="false",(t=m(this,_c))==null||t.abort(),ee(this,_c,null)}_hideDropdownFromKeyboard(){var e;if(!m(this,Yp)){if(!m(this,hr,ec)){(e=m(this,dA))==null||e.unselect();return}this.hideDropdown(),m(this,Hs).focus({preventScroll:!0,focusVisible:m(this,N2)})}}updateColor(e){if(m(this,Gd)&&(m(this,Gd).style.backgroundColor=e),!m(this,Cn))return;const t=m(this,co).highlightColors.values();for(const n of m(this,Cn).children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=m(this,Hs))==null||e.remove(),ee(this,Hs,null),ee(this,Gd,null),(t=m(this,Cn))==null||t.remove(),ee(this,Cn,null)}};Hs=new WeakMap,Gd=new WeakMap,qp=new WeakMap,Cn=new WeakMap,N2=new WeakMap,Yp=new WeakMap,dA=new WeakMap,k2=new WeakMap,_c=new WeakMap,co=new WeakMap,Xp=new WeakMap,M2=new WeakMap,hr=new WeakSet,a4=function(){const e=document.createElement("div"),t=m(this,co)._signal;e.addEventListener("contextmenu",xo,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),m(this,dA)&&(e.id=`${m(this,dA).id}_colorpicker_dropdown`);for(const[n,i]of m(this,co).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=n,s.setAttribute("data-l10n-id",m(ps,M2)[n]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.ariaSelected=i===m(this,qp),s.addEventListener("click",le(this,hr,o4).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",le(this,hr,l4).bind(this),{signal:t}),e},o4=function(e,t){t.stopPropagation(),m(this,k2).dispatch("switchannotationeditorparams",{source:this,type:m(this,Xp),value:e})},l4=function(e){ps._keyboardManager.exec(this,e)},Ku=function(e){if(m(this,hr,ec)){this.hideDropdown();return}if(ee(this,N2,e.detail===0),m(this,_c)||(ee(this,_c,new AbortController),window.addEventListener("pointerdown",le(this,hr,qT).bind(this),{signal:m(this,co).combinedSignal(m(this,_c))})),m(this,Hs).ariaExpanded="true",m(this,Cn)){m(this,Cn).classList.remove("hidden");return}const t=ee(this,Cn,le(this,hr,a4).call(this));m(this,Hs).append(t)},qT=function(e){var t;(t=m(this,Cn))!=null&&t.contains(e.target)||this.hideDropdown()},ec=function(){return m(this,Cn)&&!m(this,Cn).classList.contains("hidden")},ae(ps,M2,null);let Jb=ps;var Jp,D2,hA,$d,_2,ys,U2,P2,zd,Ia,Ws,oi,Zp,fA,ki,eg,Ca,T2,Dt,A4,Gv,YT,XT,JT,c4,Gu,Na,Cf,ZT,$v,s0,eR,tR,rR,nR,iR;const er=class er extends Fr{constructor(t){super({...t,name:"highlightEditor"});ae(this,Dt);ae(this,Jp,null);ae(this,D2,0);ae(this,hA);ae(this,$d,null);ae(this,_2,null);ae(this,ys,null);ae(this,U2,null);ae(this,P2,0);ae(this,zd,null);ae(this,Ia,null);ae(this,Ws,null);ae(this,oi,!1);ae(this,Zp,null);ae(this,fA);ae(this,ki,null);ae(this,eg,"");ae(this,Ca);ae(this,T2,"");this.color=t.color||er._defaultColor,ee(this,Ca,t.thickness||er._defaultThickness),ee(this,fA,t.opacity||er._defaultOpacity),ee(this,hA,t.boxes||null),ee(this,T2,t.methodOfCreation||""),ee(this,eg,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(ee(this,oi,!0),le(this,Dt,Gv).call(this,t),le(this,Dt,Gu).call(this)):m(this,hA)&&(ee(this,Jp,t.anchorNode),ee(this,D2,t.anchorOffset),ee(this,U2,t.focusNode),ee(this,P2,t.focusOffset),le(this,Dt,A4).call(this),le(this,Dt,Gu).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=er.prototype;return jt(this,"_keyboardManager",new cy([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:m(this,oi)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:m(this,Ca),methodOfCreation:m(this,T2)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var i;Fr.initialize(t,n),er._defaultColor||(er._defaultColor=((i=n.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case Kt.HIGHLIGHT_DEFAULT_COLOR:er._defaultColor=n;break;case Kt.HIGHLIGHT_THICKNESS:er._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return m(this,Zp)}updateParams(t,n){switch(t){case Kt.HIGHLIGHT_COLOR:le(this,Dt,YT).call(this,n);break;case Kt.HIGHLIGHT_THICKNESS:le(this,Dt,XT).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Kt.HIGHLIGHT_DEFAULT_COLOR,er._defaultColor],[Kt.HIGHLIGHT_THICKNESS,er._defaultThickness]]}get propertiesToUpdate(){return[[Kt.HIGHLIGHT_COLOR,this.color||er._defaultColor],[Kt.HIGHLIGHT_THICKNESS,m(this,Ca)||er._defaultThickness],[Kt.HIGHLIGHT_FREE,m(this,oi)]]}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",ee(this,_2,new Jb({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(le(this,Dt,s0).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,le(this,Dt,s0).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){le(this,Dt,c4).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(le(this,Dt,Gu).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let n=!1;this.parent&&!t?le(this,Dt,c4).call(this):t&&(le(this,Dt,Gu).call(this,t),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var s,a,o;const{drawLayer:n}=this.parent;let i;m(this,oi)?(t=(t-this.rotation+360)%360,i=le(s=er,Na,Cf).call(s,m(this,Ia).box,t)):i=le(a=er,Na,Cf).call(a,[this.x,this.y,this.width,this.height],t),n.updateProperties(m(this,Ws),{bbox:i,root:{"data-main-rotation":t}}),n.updateProperties(m(this,ki),{bbox:le(o=er,Na,Cf).call(o,m(this,ys).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();m(this,eg)&&(t.setAttribute("aria-label",m(this,eg)),t.setAttribute("role","mark")),m(this,oi)?t.classList.add("free"):this.div.addEventListener("keydown",le(this,Dt,ZT).bind(this),{signal:this._uiManager._signal});const n=ee(this,zd,document.createElement("div"));t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=m(this,$d);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),xP(this,m(this,zd),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(m(this,ki),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(m(this,ki),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:le(this,Dt,$v).call(this,!0);break;case 1:case 3:le(this,Dt,$v).call(this,!1);break}}select(){var t;super.select(),m(this,ki)&&((t=this.parent)==null||t.drawLayer.updateProperties(m(this,ki),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),m(this,ki)&&((t=this.parent)==null||t.drawLayer.updateProperties(m(this,ki),{rootClass:{selected:!1}}),m(this,oi)||le(this,Dt,$v).call(this,!1))}get _mustFixPosition(){return!m(this,oi)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(m(this,Ws),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(m(this,ki),{rootClass:{hidden:!t}}))}static startHighlighting(t,n,{target:i,x:s,y:a}){const{x:o,y:l,width:A,height:c}=i.getBoundingClientRect(),u=new AbortController,f=t.combinedSignal(u),p=I=>{u.abort(),le(this,Na,nR).call(this,t,I)};window.addEventListener("blur",p,{signal:f}),window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("pointerdown",fn,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",xo,{signal:f}),i.addEventListener("pointermove",le(this,Na,rR).bind(this,t),{signal:f}),this._freeHighlight=new s4({x:s,y:a},[o,l,A,c],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,n,i){var F,D,C,k;let s=null;if(t instanceof kT){const{data:{quadPoints:U,rect:Q,rotation:V,id:Z,color:q,opacity:G,popupRef:Y},parent:{page:{pageNumber:K}}}=t;s=t={annotationType:Et.HIGHLIGHT,color:Array.from(q),opacity:G,quadPoints:U,boxes:null,pageIndex:K-1,rect:Q.slice(0),rotation:V,annotationElementId:Z,id:Z,deleted:!1,popupRef:Y}}else if(t instanceof XE){const{data:{inkLists:U,rect:Q,rotation:V,id:Z,color:q,borderStyle:{rawWidth:G},popupRef:Y},parent:{page:{pageNumber:K}}}=t;s=t={annotationType:Et.HIGHLIGHT,color:Array.from(q),thickness:G,inkLists:U,boxes:null,pageIndex:K-1,rect:Q.slice(0),rotation:V,annotationElementId:Z,id:Z,deleted:!1,popupRef:Y}}const{color:a,quadPoints:o,inkLists:l,opacity:A}=t,c=await super.deserialize(t,n,i);c.color=At.makeHexColor(...a),ee(c,fA,A||1),l&&ee(c,Ca,t.thickness),c._initialData=s;const[u,f]=c.pageDimensions,[p,I]=c.pageTranslation;if(o){const U=ee(c,hA,[]);for(let Q=0;Q<o.length;Q+=8)U.push({x:(o[Q]-p)/u,y:1-(o[Q+1]-I)/f,width:(o[Q+2]-o[Q])/u,height:(o[Q+1]-o[Q+5])/f});le(F=c,Dt,A4).call(F),le(D=c,Dt,Gu).call(D),c.rotate(c.rotation)}else if(l){ee(c,oi,!0);const U=l[0],Q={x:U[0]-p,y:f-(U[1]-I)},V=new s4(Q,[0,0,u,f],1,m(c,Ca)/2,!0,.001);for(let G=0,Y=U.length;G<Y;G+=2)Q.x=U[G]-p,Q.y=f-(U[G+1]-I),V.add(Q);const{id:Z,clipPathId:q}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:c.color,"fill-opacity":c._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:V.toSVGPath()}},!0,!0);le(C=c,Dt,Gv).call(C,{highlightOutlines:V.getOutlines(),highlightId:Z,clipPathId:q}),le(k=c,Dt,Gu).call(k),c.rotate(c.parentRotation)}return c}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),i=Fr._colorManager.convert(this.color),s={annotationType:Et.HIGHLIGHT,color:i,opacity:m(this,fA),thickness:m(this,Ca),quadPoints:le(this,Dt,eR).call(this),outlines:le(this,Dt,tR).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:le(this,Dt,s0).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!le(this,Dt,iR).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Jp=new WeakMap,D2=new WeakMap,hA=new WeakMap,$d=new WeakMap,_2=new WeakMap,ys=new WeakMap,U2=new WeakMap,P2=new WeakMap,zd=new WeakMap,Ia=new WeakMap,Ws=new WeakMap,oi=new WeakMap,Zp=new WeakMap,fA=new WeakMap,ki=new WeakMap,eg=new WeakMap,Ca=new WeakMap,T2=new WeakMap,Dt=new WeakSet,A4=function(){const t=new n4(m(this,hA),.001);ee(this,Ia,t.getOutlines()),[this.x,this.y,this.width,this.height]=m(this,Ia).box;const n=new n4(m(this,hA),.0025,.001,this._uiManager.direction==="ltr");ee(this,ys,n.getOutlines());const{lastPoint:i}=m(this,ys);ee(this,Zp,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},Gv=function({highlightOutlines:t,highlightId:n,clipPathId:i}){var u,f;if(ee(this,Ia,t),ee(this,ys,t.getNewOutline(m(this,Ca)/2+1.5,.0025)),n>=0)ee(this,Ws,n),ee(this,$d,i),this.parent.drawLayer.finalizeDraw(n,{bbox:t.box,path:{d:t.toSVGPath()}}),ee(this,ki,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:m(this,ys).box,path:{d:m(this,ys).toSVGPath()}},!0));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(m(this,Ws),{bbox:le(u=er,Na,Cf).call(u,m(this,Ia).box,(p-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(m(this,ki),{bbox:le(f=er,Na,Cf).call(f,m(this,ys).box,p),path:{d:m(this,ys).toSVGPath()}})}const[a,o,l,A]=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=A;break;case 90:{const[p,I]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*I/p,this.height=A*p/I;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=A;break;case 270:{const[p,I]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*I/p,this.height=A*p/I;break}}const{lastPoint:c}=m(this,ys);ee(this,Zp,[(c[0]-a)/l,(c[1]-o)/A])},YT=function(t){const n=(a,o)=>{var l,A;this.color=a,ee(this,fA,o),(l=this.parent)==null||l.drawLayer.updateProperties(m(this,Ws),{root:{fill:a,"fill-opacity":o}}),(A=m(this,_2))==null||A.updateColor(a)},i=this.color,s=m(this,fA);this.addCommands({cmd:n.bind(this,t,er._defaultOpacity),undo:n.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Kt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},XT=function(t){const n=m(this,Ca),i=s=>{ee(this,Ca,s),le(this,Dt,JT).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Kt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},JT=function(t){if(!m(this,oi))return;le(this,Dt,Gv).call(this,{highlightOutlines:m(this,Ia).getNewOutline(t/2)}),this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)},c4=function(){m(this,Ws)===null||!this.parent||(this.parent.drawLayer.remove(m(this,Ws)),ee(this,Ws,null),this.parent.drawLayer.remove(m(this,ki)),ee(this,ki,null))},Gu=function(t=this.parent){m(this,Ws)===null&&({id:Hi(this,Ws)._,clipPathId:Hi(this,$d)._}=t.drawLayer.draw({bbox:m(this,Ia).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":m(this,fA)},rootClass:{highlight:!0,free:m(this,oi)},path:{d:m(this,Ia).toSVGPath()}},!1,!0),ee(this,ki,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:m(this,oi)},bbox:m(this,ys).box,path:{d:m(this,ys).toSVGPath()}},m(this,oi))),m(this,zd)&&(m(this,zd).style.clipPath=m(this,$d)))},Na=new WeakSet,Cf=function([t,n,i,s],a){switch(a){case 90:return[1-n-s,t,s,i];case 180:return[1-t-i,1-n-s,i,s];case 270:return[n,1-t-i,s,i]}return[t,n,i,s]},ZT=function(t){er._keyboardManager.exec(this,t)},$v=function(t){if(!m(this,Jp))return;const n=window.getSelection();t?n.setPosition(m(this,Jp),m(this,D2)):n.setPosition(m(this,U2),m(this,P2))},s0=function(){return m(this,oi)?this.rotation:0},eR=function(){if(m(this,oi))return null;const[t,n]=this.pageDimensions,[i,s]=this.pageTranslation,a=m(this,hA),o=new Float32Array(a.length*8);let l=0;for(const{x:A,y:c,width:u,height:f}of a){const p=A*t+i,I=(1-c)*n+s;o[l]=o[l+4]=p,o[l+1]=o[l+3]=I,o[l+2]=o[l+6]=p+u*t,o[l+5]=o[l+7]=I-f*n,l+=8}return o},tR=function(t){return m(this,Ia).serialize(t,le(this,Dt,s0).call(this))},rR=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},nR=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},iR=function(t){const{color:n}=this._initialData;return t.color.some((i,s)=>i!==n[s])},ae(er,Na),Oe(er,"_defaultColor",null),Oe(er,"_defaultOpacity",1),Oe(er,"_defaultThickness",12),Oe(er,"_type","highlight"),Oe(er,"_editorType",Et.HIGHLIGHT),Oe(er,"_freeHighlightId",-1),Oe(er,"_freeHighlight",null),Oe(er,"_freeHighlightClipId","");let Zb=er;var Vd;class sR{constructor(){ae(this,Vd,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){m(this,Vd)[e]=t}toSVGProperties(){const e=m(this,Vd);return ee(this,Vd,Object.create(null)),{root:e}}reset(){ee(this,Vd,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){pr("Not implemented")}}Vd=new WeakMap;var Ks,tg,jn,qd,Yd,Uc,Pc,Tc,Xd,Yt,u4,d4,h4,a0,aR,zv,o0,Sf;const it=class it extends Fr{constructor(t){super(t);ae(this,Yt);ae(this,Ks,null);ae(this,tg);Oe(this,"_drawId",null);ee(this,tg,t.mustBeCommitted||!1),this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(le(this,Yt,u4).call(this,t),le(this,Yt,a0).call(this))}static _mergeSVGProperties(t,n){const i=new Set(Object.keys(t));for(const[s,a]of Object.entries(n))i.has(s)?Object.assign(t[s],a):t[s]=a;return t}static getDefaultDrawingOptions(t){pr("Not implemented")}static get typesMap(){pr("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,n){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,n),this._currentParent&&(m(it,jn).updateProperty(i,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,n){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,n)}static get defaultPropertiesToUpdate(){const t=[],n=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)t.push([i,n[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:n}=this;for(const[i,s]of this.constructor.typesMap)t.push([i,n[s]]);return t}_updateProperty(t,n,i){const s=this._drawingOptions,a=s[n],o=l=>{var c;s.updateProperty(n,l);const A=m(this,Ks).updateProperty(n,l);A&&le(this,Yt,o0).call(this,A),(c=this.parent)==null||c.drawLayer.updateProperties(this._drawId,s.toSVGProperties())};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,it._mergeSVGProperties(m(this,Ks).getPathResizingSVGProperties(le(this,Yt,zv).call(this)),{bbox:le(this,Yt,Sf).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,it._mergeSVGProperties(m(this,Ks).getPathResizedSVGProperties(le(this,Yt,zv).call(this)),{bbox:le(this,Yt,Sf).call(this)}))}_onTranslating(t,n){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:le(this,Yt,Sf).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,it._mergeSVGProperties(m(this,Ks).getPathTranslatedSVGProperties(le(this,Yt,zv).call(this),this.parentDimensions),{bbox:le(this,Yt,Sf).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,m(this,tg)&&(ee(this,tg,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){le(this,Yt,h4).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(le(this,Yt,a0).call(this),le(this,Yt,o0).call(this,m(this,Ks).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let n=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),le(this,Yt,h4).call(this)):t&&(this._uiManager.addShouldRescale(this),le(this,Yt,a0).call(this,t),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,it._mergeSVGProperties({bbox:le(this,Yt,Sf).call(this)},m(this,Ks).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&le(this,Yt,o0).call(this,m(this,Ks).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,n;this._isCopy&&(t=this.x,n=this.y);const i=super.render();i.classList.add("draw");const s=document.createElement("div");i.append(s),s.setAttribute("aria-hidden","true"),s.className="internal";const[a,o]=this.parentDimensions;return this.setDims(this.width*a,this.height*o),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,n),i}static createDrawerInstance(t,n,i,s,a){pr("Not implemented")}static startDrawing(t,n,i,s){var D;const{target:a,offsetX:o,offsetY:l,pointerId:A,pointerType:c}=s;if(m(it,Pc)&&m(it,Pc)!==c)return;const{viewport:{rotation:u}}=t,{width:f,height:p}=a.getBoundingClientRect(),I=ee(it,qd,new AbortController),F=t.combinedSignal(I);if(m(it,Uc)||ee(it,Uc,A),m(it,Pc)??ee(it,Pc,c),window.addEventListener("pointerup",C=>{var k;m(it,Uc)===C.pointerId?this._endDraw(C):(k=m(it,Tc))==null||k.delete(C.pointerId)},{signal:F}),window.addEventListener("pointercancel",C=>{var k;m(it,Uc)===C.pointerId?this._currentParent.endDrawingSession():(k=m(it,Tc))==null||k.delete(C.pointerId)},{signal:F}),window.addEventListener("pointerdown",C=>{m(it,Pc)===C.pointerType&&((m(it,Tc)||ee(it,Tc,new Set)).add(C.pointerId),m(it,jn).isCancellable()&&(m(it,jn).removeLastElement(),m(it,jn).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:F}),window.addEventListener("contextmenu",xo,{signal:F}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:F}),a.addEventListener("touchmove",C=>{C.timeStamp===m(it,Xd)&&fn(C)},{signal:F}),t.toggleDrawing(),(D=n._editorUndoBar)==null||D.hide(),m(it,jn)){t.drawLayer.updateProperties(this._currentDrawId,m(it,jn).startNew(o,l,f,p,u));return}n.updateUIForDefaultProperties(this),ee(it,jn,this.createDrawerInstance(o,l,f,p,u)),ee(it,Yd,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(m(it,Yd).toSVGProperties(),m(it,jn).defaultSVGProperties),!0,!1)}static _drawMove(t){var a;if(ee(it,Xd,-1),!m(it,jn))return;const{offsetX:n,offsetY:i,pointerId:s}=t;if(m(it,Uc)===s){if(((a=m(it,Tc))==null?void 0:a.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,m(it,jn).add(n,i)),ee(it,Xd,t.timeStamp),fn(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,ee(it,jn,null),ee(it,Yd,null),ee(it,Pc,null),ee(it,Xd,NaN)),m(it,qd)&&(m(it,qd).abort(),ee(it,qd,null),ee(it,Uc,NaN),ee(it,Tc,null))}static _endDraw(t){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===n.div&&n.drawLayer.updateProperties(this._currentDrawId,m(it,jn).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=m(it,jn),s=this._currentDrawId,a=i.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(s,i.setLastElement(a))},undo:()=>{n.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:Kt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(Kt.DRAW_STEP),!m(it,jn).isEmpty()){const{pageDimensions:[i,s],scale:a}=n,o=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:m(it,jn).getOutlines(i*a,s*a,a,this._INNER_MARGIN),drawingOptions:m(it,Yd),mustBeCommitted:!t});return this._cleanup(!0),o}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,n,i,s,a,o){pr("Not implemented")}static async deserialize(t,n,i){var u,f;const{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}=n.viewport,A=this.deserializeDraw(o,l,s,a,this._INNER_MARGIN,t),c=await super.deserialize(t,n,i);return c.createDrawingOptions(t),le(u=c,Yt,u4).call(u,{drawOutlines:A}),le(f=c,Yt,a0).call(f),c.onScaleChanging(),c.rotate(),c}serializeDraw(t){const[n,i]=this.pageTranslation,[s,a]=this.pageDimensions;return m(this,Ks).serialize([n,i,s,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Ks=new WeakMap,tg=new WeakMap,jn=new WeakMap,qd=new WeakMap,Yd=new WeakMap,Uc=new WeakMap,Pc=new WeakMap,Tc=new WeakMap,Xd=new WeakMap,Yt=new WeakSet,u4=function({drawOutlines:t,drawId:n,drawingOptions:i}){ee(this,Ks,t),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,t.defaultProperties)):this._drawId=le(this,Yt,d4).call(this,t,this.parent),le(this,Yt,o0).call(this,t.box)},d4=function(t,n){const{id:i}=n.drawLayer.draw(it._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i},h4=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},a0=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=le(this,Yt,d4).call(this,m(this,Ks),t)}},aR=function([t,n,i,s]){const{parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[n,1-t,i*(o/a),s*(a/o)];case 180:return[1-t,1-n,i,s];case 270:return[1-n,t,i*(o/a),s*(a/o)];default:return[t,n,i,s]}},zv=function(){const{x:t,y:n,width:i,height:s,parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[1-n,t,i*(a/o),s*(o/a)];case 180:return[1-t,1-n,i,s];case 270:return[n,1-t,i*(a/o),s*(o/a)];default:return[t,n,i,s]}},o0=function(t){if([this.x,this.y,this.width,this.height]=le(this,Yt,aR).call(this,t),this.div){this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)}this._onResized()},Sf=function(){const{x:t,y:n,width:i,height:s,rotation:a,parentRotation:o,parentDimensions:[l,A]}=this;switch((a*4+o)/90){case 1:return[1-n-s,t,s,i];case 2:return[1-t-i,1-n-s,i,s];case 3:return[n,1-t-i,s,i];case 4:return[t,n-i*(l/A),s*(A/l),i*(l/A)];case 5:return[1-n,t,i*(l/A),s*(A/l)];case 6:return[1-t-s*(A/l),1-n,s*(A/l),i*(l/A)];case 7:return[n-i*(l/A),1-t-s*(A/l),i*(l/A),s*(A/l)];case 8:return[t-i,n-s,i,s];case 9:return[1-n,t-i,s,i];case 10:return[1-t,1-n,i,s];case 11:return[n-s,1-t,s,i];case 12:return[t-s*(A/l),n,s*(A/l),i*(l/A)];case 13:return[1-n-i*(l/A),t-s*(A/l),i*(l/A),s*(A/l)];case 14:return[1-t,1-n-i*(l/A),s*(A/l),i*(l/A)];case 15:return[n,1-t,i*(l/A),s*(A/l)];default:return[t,n,i,s]}},Oe(it,"_currentDrawId",-1),Oe(it,"_currentParent",null),ae(it,jn,null),ae(it,qd,null),ae(it,Yd,null),ae(it,Uc,NaN),ae(it,Pc,null),ae(it,Tc,null),ae(it,Xd,NaN),Oe(it,"_INNER_MARGIN",3);let eB=it;var il,Hn,Wn,Jd,rg,$i,li,Sa,Zd,eh,th,ng,Vv;class pX{constructor(e,t,n,i,s,a){ae(this,ng);ae(this,il,new Float64Array(6));ae(this,Hn);ae(this,Wn);ae(this,Jd);ae(this,rg);ae(this,$i);ae(this,li,"");ae(this,Sa,0);ae(this,Zd,new dy);ae(this,eh);ae(this,th);ee(this,eh,n),ee(this,th,i),ee(this,Jd,s),ee(this,rg,a),[e,t]=le(this,ng,Vv).call(this,e,t);const o=ee(this,Hn,[NaN,NaN,NaN,NaN,e,t]);ee(this,$i,[e,t]),ee(this,Wn,[{line:o,points:m(this,$i)}]),m(this,il).set(o,0)}updateProperty(e,t){e==="stroke-width"&&ee(this,rg,t)}isEmpty(){return!m(this,Wn)||m(this,Wn).length===0}isCancellable(){return m(this,$i).length<=10}add(e,t){[e,t]=le(this,ng,Vv).call(this,e,t);const[n,i,s,a]=m(this,il).subarray(2,6),o=e-s,l=t-a;return Math.hypot(m(this,eh)*o,m(this,th)*l)<=2?null:(m(this,$i).push(e,t),isNaN(n)?(m(this,il).set([s,a,e,t],2),m(this,Hn).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(m(this,il)[0])&&m(this,Hn).splice(6,6),m(this,il).set([n,i,s,a,e,t],0),m(this,Hn).push(...rt.createBezierPoints(n,i,s,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(m(this,$i).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,i,s){ee(this,eh,n),ee(this,th,i),ee(this,Jd,s),[e,t]=le(this,ng,Vv).call(this,e,t);const a=ee(this,Hn,[NaN,NaN,NaN,NaN,e,t]);ee(this,$i,[e,t]);const o=m(this,Wn).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),m(this,Wn).push({line:a,points:m(this,$i)}),m(this,il).set(a,0),ee(this,Sa,0),this.toSVGPath(),null}getLastElement(){return m(this,Wn).at(-1)}setLastElement(e){return m(this,Wn)?(m(this,Wn).push(e),ee(this,Hn,e.line),ee(this,$i,e.points),ee(this,Sa,0),{path:{d:this.toSVGPath()}}):m(this,Zd).setLastElement(e)}removeLastElement(){if(!m(this,Wn))return m(this,Zd).removeLastElement();m(this,Wn).pop(),ee(this,li,"");for(let e=0,t=m(this,Wn).length;e<t;e++){const{line:n,points:i}=m(this,Wn)[e];ee(this,Hn,n),ee(this,$i,i),ee(this,Sa,0),this.toSVGPath()}return{path:{d:m(this,li)}}}toSVGPath(){const e=rt.svgRound(m(this,Hn)[4]),t=rt.svgRound(m(this,Hn)[5]);if(m(this,$i).length===2)return ee(this,li,`${m(this,li)} M ${e} ${t} Z`),m(this,li);if(m(this,$i).length<=6){const i=m(this,li).lastIndexOf("M");ee(this,li,`${m(this,li).slice(0,i)} M ${e} ${t}`),ee(this,Sa,6)}if(m(this,$i).length===4){const i=rt.svgRound(m(this,Hn)[10]),s=rt.svgRound(m(this,Hn)[11]);return ee(this,li,`${m(this,li)} L ${i} ${s}`),ee(this,Sa,12),m(this,li)}const n=[];m(this,Sa)===0&&(n.push(`M ${e} ${t}`),ee(this,Sa,6));for(let i=m(this,Sa),s=m(this,Hn).length;i<s;i+=6){const[a,o,l,A,c,u]=m(this,Hn).slice(i,i+6).map(rt.svgRound);n.push(`C${a} ${o} ${l} ${A} ${c} ${u}`)}return ee(this,li,m(this,li)+n.join(" ")),ee(this,Sa,m(this,Hn).length),m(this,li)}getOutlines(e,t,n,i){const s=m(this,Wn).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),m(this,Zd).build(m(this,Wn),e,t,n,m(this,Jd),m(this,rg),i),ee(this,il,null),ee(this,Hn,null),ee(this,Wn,null),ee(this,li,null),m(this,Zd)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}il=new WeakMap,Hn=new WeakMap,Wn=new WeakMap,Jd=new WeakMap,rg=new WeakMap,$i=new WeakMap,li=new WeakMap,Sa=new WeakMap,Zd=new WeakMap,eh=new WeakMap,th=new WeakMap,ng=new WeakSet,Vv=function(e,t){return rt._normalizePoint(e,t,m(this,eh),m(this,th),m(this,Jd))};var zi,R2,Q2,Gs,sl,al,ig,sg,rh,di,Ql,oR,lR,AR;class dy extends rt{constructor(){super(...arguments);ae(this,di);ae(this,zi);ae(this,R2,0);ae(this,Q2);ae(this,Gs);ae(this,sl);ae(this,al);ae(this,ig);ae(this,sg);ae(this,rh)}build(t,n,i,s,a,o,l){ee(this,sl,n),ee(this,al,i),ee(this,ig,s),ee(this,sg,a),ee(this,rh,o),ee(this,Q2,l??0),ee(this,Gs,t),le(this,di,lR).call(this)}get thickness(){return m(this,rh)}setLastElement(t){return m(this,Gs).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return m(this,Gs).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:n}of m(this,Gs)){if(t.push(`M${rt.svgRound(n[4])} ${rt.svgRound(n[5])}`),n.length===6){t.push("Z");continue}if(n.length===12&&isNaN(n[6])){t.push(`L${rt.svgRound(n[10])} ${rt.svgRound(n[11])}`);continue}for(let i=6,s=n.length;i<s;i+=6){const[a,o,l,A,c,u]=n.subarray(i,i+6).map(rt.svgRound);t.push(`C${a} ${o} ${l} ${A} ${c} ${u}`)}}return t.join("")}serialize([t,n,i,s],a){const o=[],l=[],[A,c,u,f]=le(this,di,oR).call(this);let p,I,F,D,C,k,U,Q,V;switch(m(this,sg)){case 0:V=rt._rescale,p=t,I=n+s,F=i,D=-s,C=t+A*i,k=n+(1-c-f)*s,U=t+(A+u)*i,Q=n+(1-c)*s;break;case 90:V=rt._rescaleAndSwap,p=t,I=n,F=i,D=s,C=t+c*i,k=n+A*s,U=t+(c+f)*i,Q=n+(A+u)*s;break;case 180:V=rt._rescale,p=t+i,I=n,F=-i,D=s,C=t+(1-A-u)*i,k=n+c*s,U=t+(1-A)*i,Q=n+(c+f)*s;break;case 270:V=rt._rescaleAndSwap,p=t+i,I=n+s,F=-i,D=-s,C=t+(1-c-f)*i,k=n+(1-A-u)*s,U=t+(1-c)*i,Q=n+(1-A)*s;break}for(const{line:Z,points:q}of m(this,Gs))o.push(V(Z,p,I,F,D,a?new Array(Z.length):null)),l.push(V(q,p,I,F,D,a?new Array(q.length):null));return{lines:o,points:l,rect:[C,k,U,Q]}}static deserialize(t,n,i,s,a,{paths:{lines:o,points:l},rotation:A,thickness:c}){const u=[];let f,p,I,F,D;switch(A){case 0:D=rt._rescale,f=-t/i,p=n/s+1,I=1/i,F=-1/s;break;case 90:D=rt._rescaleAndSwap,f=-n/s,p=-t/i,I=1/s,F=1/i;break;case 180:D=rt._rescale,f=t/i+1,p=-n/s,I=-1/i,F=1/s;break;case 270:D=rt._rescaleAndSwap,f=n/s+1,p=t/i+1,I=-1/s,F=-1/i;break}if(!o){o=[];for(const k of l){const U=k.length;if(U===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,k[0],k[1]]));continue}if(U===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,k[0],k[1],NaN,NaN,NaN,NaN,k[2],k[3]]));continue}const Q=new Float32Array(3*(U-2));o.push(Q);let[V,Z,q,G]=k.subarray(0,4);Q.set([NaN,NaN,NaN,NaN,V,Z],0);for(let Y=4;Y<U;Y+=2){const K=k[Y],H=k[Y+1];Q.set(rt.createBezierPoints(V,Z,q,G,K,H),(Y-2)*3),[V,Z,q,G]=[q,G,K,H]}}}for(let k=0,U=o.length;k<U;k++)u.push({line:D(o[k].map(Q=>Q??NaN),f,p,I,F),points:D(l[k].map(Q=>Q??NaN),f,p,I,F)});const C=new this.prototype.constructor;return C.build(u,i,s,1,A,c,a),C}get box(){return m(this,zi)}updateProperty(t,n){return t==="stroke-width"?le(this,di,AR).call(this,n):null}updateParentDimensions([t,n],i){const[s,a]=le(this,di,Ql).call(this);ee(this,sl,t),ee(this,al,n),ee(this,ig,i);const[o,l]=le(this,di,Ql).call(this),A=o-s,c=l-a,u=m(this,zi);return u[0]-=A,u[1]-=c,u[2]+=2*A,u[3]+=2*c,u}updateRotation(t){return ee(this,R2,t),{path:{transform:this.rotationTransform}}}get viewBox(){return m(this,zi).map(rt.svgRound).join(" ")}get defaultProperties(){const[t,n]=m(this,zi);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${rt.svgRound(t)} ${rt.svgRound(n)}`}}}get rotationTransform(){const[,,t,n]=m(this,zi);let i=0,s=0,a=0,o=0,l=0,A=0;switch(m(this,R2)){case 90:s=n/t,a=-t/n,l=t;break;case 180:i=-1,o=-1,l=t,A=n;break;case 270:s=-n/t,a=t/n,A=n;break;default:return""}return`matrix(${i} ${s} ${a} ${o} ${rt.svgRound(l)} ${rt.svgRound(A)})`}getPathResizingSVGProperties([t,n,i,s]){const[a,o]=le(this,di,Ql).call(this),[l,A,c,u]=m(this,zi);if(Math.abs(c-a)<=rt.PRECISION||Math.abs(u-o)<=rt.PRECISION){const D=t+i/2-(l+c/2),C=n+s/2-(A+u/2);return{path:{"transform-origin":`${rt.svgRound(t)} ${rt.svgRound(n)}`,transform:`${this.rotationTransform} translate(${D} ${C})`}}}const f=(i-2*a)/(c-2*a),p=(s-2*o)/(u-2*o),I=c/i,F=u/s;return{path:{"transform-origin":`${rt.svgRound(l)} ${rt.svgRound(A)}`,transform:`${this.rotationTransform} scale(${I} ${F}) translate(${rt.svgRound(a)} ${rt.svgRound(o)}) scale(${f} ${p}) translate(${rt.svgRound(-a)} ${rt.svgRound(-o)})`}}}getPathResizedSVGProperties([t,n,i,s]){const[a,o]=le(this,di,Ql).call(this),l=m(this,zi),[A,c,u,f]=l;if(l[0]=t,l[1]=n,l[2]=i,l[3]=s,Math.abs(u-a)<=rt.PRECISION||Math.abs(f-o)<=rt.PRECISION){const C=t+i/2-(A+u/2),k=n+s/2-(c+f/2);for(const{line:U,points:Q}of m(this,Gs))rt._translate(U,C,k,U),rt._translate(Q,C,k,Q);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${rt.svgRound(t)} ${rt.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(i-2*a)/(u-2*a),I=(s-2*o)/(f-2*o),F=-p*(A+a)+t+a,D=-I*(c+o)+n+o;if(p!==1||I!==1||F!==0||D!==0)for(const{line:C,points:k}of m(this,Gs))rt._rescale(C,F,D,p,I,C),rt._rescale(k,F,D,p,I,k);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${rt.svgRound(t)} ${rt.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,n],i){const[s,a]=i,o=m(this,zi),l=t-o[0],A=n-o[1];if(m(this,sl)===s&&m(this,al)===a)for(const{line:c,points:u}of m(this,Gs))rt._translate(c,l,A,c),rt._translate(u,l,A,u);else{const c=m(this,sl)/s,u=m(this,al)/a;ee(this,sl,s),ee(this,al,a);for(const{line:f,points:p}of m(this,Gs))rt._rescale(f,l,A,c,u,f),rt._rescale(p,l,A,c,u,p);o[2]*=c,o[3]*=u}return o[0]=t,o[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${rt.svgRound(t)} ${rt.svgRound(n)}`}}}get defaultSVGProperties(){const t=m(this,zi);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${rt.svgRound(t[0])} ${rt.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}zi=new WeakMap,R2=new WeakMap,Q2=new WeakMap,Gs=new WeakMap,sl=new WeakMap,al=new WeakMap,ig=new WeakMap,sg=new WeakMap,rh=new WeakMap,di=new WeakSet,Ql=function(t=m(this,rh)){const n=m(this,Q2)+t/2*m(this,ig);return m(this,sg)%180===0?[n/m(this,sl),n/m(this,al)]:[n/m(this,al),n/m(this,sl)]},oR=function(){const[t,n,i,s]=m(this,zi),[a,o]=le(this,di,Ql).call(this,0);return[t+a,n+o,i-2*a,s-2*o]},lR=function(){const t=ee(this,zi,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of m(this,Gs)){if(s.length<=12){for(let l=4,A=s.length;l<A;l+=6)At.pointBoundingBox(s[l],s[l+1],t);continue}let a=s[4],o=s[5];for(let l=6,A=s.length;l<A;l+=6){const[c,u,f,p,I,F]=s.subarray(l,l+6);At.bezierBoundingBox(a,o,c,u,f,p,I,F,t),a=I,o=F}}const[n,i]=le(this,di,Ql).call(this);t[0]=Xi(t[0]-n,0,1),t[1]=Xi(t[1]-i,0,1),t[2]=Xi(t[2]+n,0,1),t[3]=Xi(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]},AR=function(t){const[n,i]=le(this,di,Ql).call(this);ee(this,rh,t);const[s,a]=le(this,di,Ql).call(this),[o,l]=[s-n,a-i],A=m(this,zi);return A[0]-=o,A[1]-=l,A[2]+=2*o,A[3]+=2*l,A};class xx extends sR{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Fr._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new xx(this._viewParameters);return e.updateAll(this),e}}var NB,cR;const zf=class zf extends eB{constructor(t){super({...t,name:"inkEditor"});ae(this,NB);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,n){Fr.initialize(t,n),this._defaultDrawingOptions=new xx(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return jt(this,"typesMap",new Map([[Kt.INK_THICKNESS,"stroke-width"],[Kt.INK_COLOR,"stroke"],[Kt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,n,i,s,a){return new pX(t,n,i,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,n,i,s,a,o){return dy.deserialize(t,n,i,s,a,o)}static async deserialize(t,n,i){let s=null;if(t instanceof XE){const{data:{inkLists:o,rect:l,rotation:A,id:c,color:u,opacity:f,borderStyle:{rawWidth:p},popupRef:I},parent:{page:{pageNumber:F}}}=t;s=t={annotationType:Et.INK,color:Array.from(u),thickness:p,opacity:f,paths:{points:o},boxes:null,pageIndex:F-1,rect:l.slice(0),rotation:A,annotationElementId:c,id:c,deleted:!1,popupRef:I}}const a=await super.deserialize(t,n,i);return a._initialData=s,a}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:n,parent:i}=this;n.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:n,opacity:i}){this._drawingOptions=zf.getDefaultDrawingOptions({stroke:At.makeHexColor(...t),"stroke-width":n,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:i,rect:s}=this.serializeDraw(t),{_drawingOptions:{stroke:a,"stroke-opacity":o,"stroke-width":l}}=this,A={annotationType:Et.INK,color:Fr._colorManager.convert(a),opacity:o,thickness:l,paths:{lines:n,points:i},pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(A.isCopy=!0,A):this.annotationElementId&&!le(this,NB,cR).call(this,A)?null:(A.id=this.annotationElementId,A)}renderAnnotationElement(t){const{points:n,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:n}),null}};NB=new WeakSet,cR=function(t){const{color:n,thickness:i,opacity:s,pageIndex:a}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((o,l)=>o!==n[l])||t.thickness!==i||t.opacity!==s||t.pageIndex!==a},Oe(zf,"_type","ink"),Oe(zf,"_editorType",Et.INK),Oe(zf,"_defaultDrawingOptions",null);let f4=zf;class p4 extends dy{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const _w=8,xm=3;var nh,ir,g4,uo,uR,dR,m4,qv,hR,fR,pR,y4,w4,gR;class vA{static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:i},s,a,o,l){let A=new OffscreenCanvas(1,1),c=A.getContext("2d",{alpha:!1});const u=200,f=c.font=`${n} ${i} ${u}px ${t}`,{actualBoundingBoxLeft:p,actualBoundingBoxRight:I,actualBoundingBoxAscent:F,actualBoundingBoxDescent:D,fontBoundingBoxAscent:C,fontBoundingBoxDescent:k,width:U}=c.measureText(e),Q=1.5,V=Math.ceil(Math.max(Math.abs(p)+Math.abs(I)||0,U)*Q),Z=Math.ceil(Math.max(Math.abs(F)+Math.abs(D)||u,Math.abs(C)+Math.abs(k)||u)*Q);A=new OffscreenCanvas(V,Z),c=A.getContext("2d",{alpha:!0,willReadFrequently:!0}),c.font=f,c.filter="grayscale(1)",c.fillStyle="white",c.fillRect(0,0,V,Z),c.fillStyle="black",c.fillText(e,V*(Q-1)/2,Z*(3-Q)/2);const q=le(this,ir,y4).call(this,c.getImageData(0,0,V,Z).data),G=le(this,ir,pR).call(this,q),Y=le(this,ir,w4).call(this,G),K=le(this,ir,m4).call(this,q,V,Z,Y);return this.processDrawnLines({lines:{curves:K,width:V,height:Z},pageWidth:s,pageHeight:a,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,n,i,s){const[a,o,l]=le(this,ir,gR).call(this,e),[A,c]=le(this,ir,fR).call(this,a,o,l,Math.hypot(o,l)*m(this,nh).sigmaSFactor,m(this,nh).sigmaR,m(this,nh).kernelSize),u=le(this,ir,w4).call(this,c),f=le(this,ir,m4).call(this,A,o,l,u);return this.processDrawnLines({lines:{curves:f,width:o,height:l},pageWidth:t,pageHeight:n,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:i,innerMargin:s,mustSmooth:a,areContours:o}){i%180!==0&&([t,n]=[n,t]);const{curves:l,width:A,height:c}=e,u=e.thickness??0,f=[],p=Math.min(t/A,n/c),I=p/t,F=p/n,D=[];for(const{points:k}of l){const U=a?le(this,ir,hR).call(this,k):k;if(!U)continue;D.push(U);const Q=U.length,V=new Float32Array(Q),Z=new Float32Array(3*(Q===2?2:Q-2));if(f.push({line:Z,points:V}),Q===2){V[0]=U[0]*I,V[1]=U[1]*F,Z.set([NaN,NaN,NaN,NaN,V[0],V[1]],0);continue}let[q,G,Y,K]=U;q*=I,G*=F,Y*=I,K*=F,V.set([q,G,Y,K],0),Z.set([NaN,NaN,NaN,NaN,q,G],0);for(let H=4;H<Q;H+=2){const te=V[H]=U[H]*I,ue=V[H+1]=U[H+1]*F;Z.set(rt.createBezierPoints(q,G,Y,K,te,ue),(H-2)*3),[q,G,Y,K]=[Y,K,te,ue]}}if(f.length===0)return null;const C=o?new p4:new dy;return C.build(f,t,n,1,i,o?0:u,s),{outline:C,newCurves:D,areContours:o,thickness:u,width:A,height:c}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:i,height:s}){let a=1/0,o=-1/0,l=0;for(const U of e){l+=U.length;for(let Q=2,V=U.length;Q<V;Q++){const Z=U[Q]-U[Q-2];a=Math.min(a,Z),o=Math.max(o,Z)}}let A;a>=-128&&o<=127?A=Int8Array:a>=-32768&&o<=32767?A=Int16Array:A=Int32Array;const c=e.length,u=_w+xm*c,f=new Uint32Array(u);let p=0;f[p++]=u*Uint32Array.BYTES_PER_ELEMENT+(l-2*c)*A.BYTES_PER_ELEMENT,f[p++]=0,f[p++]=i,f[p++]=s,f[p++]=t?0:1,f[p++]=Math.max(0,Math.floor(n??0)),f[p++]=c,f[p++]=A.BYTES_PER_ELEMENT;for(const U of e)f[p++]=U.length-2,f[p++]=U[0],f[p++]=U[1];const I=new CompressionStream("deflate-raw"),F=I.writable.getWriter();await F.ready,F.write(f);const D=A.prototype.constructor;for(const U of e){const Q=new D(U.length-2);for(let V=2,Z=U.length;V<Z;V++)Q[V-2]=U[V]-U[V-2];F.write(Q)}F.close();const C=await new Response(I.readable).arrayBuffer(),k=new Uint8Array(C);return gP(k)}static async decompressSignature(e){try{const t=Qq(e),{readable:n,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,o=0;for await(const U of n)a||(a=new Uint8Array(new Uint32Array(U.buffer,0,4)[0])),a.set(U,o),o+=U.length;const l=new Uint32Array(a.buffer,0,a.length>>2),A=l[1];if(A!==0)throw new Error(`Invalid version: ${A}`);const c=l[2],u=l[3],f=l[4]===0,p=l[5],I=l[6],F=l[7],D=[],C=(_w+xm*I)*Uint32Array.BYTES_PER_ELEMENT;let k;switch(F){case Int8Array.BYTES_PER_ELEMENT:k=new Int8Array(a.buffer,C);break;case Int16Array.BYTES_PER_ELEMENT:k=new Int16Array(a.buffer,C);break;case Int32Array.BYTES_PER_ELEMENT:k=new Int32Array(a.buffer,C);break}o=0;for(let U=0;U<I;U++){const Q=l[xm*U+_w],V=new Float32Array(Q+2);D.push(V);for(let Z=0;Z<xm-1;Z++)V[Z]=l[xm*U+_w+Z+1];for(let Z=0;Z<Q;Z++)V[Z+2]=V[Z]+k[o++]}return{areContours:f,thickness:p,outlines:D,width:c,height:u}}catch(t){return Lt(`decompressSignature: ${t}`),null}}}nh=new WeakMap,ir=new WeakSet,g4=function(e,t,n,i){return n-=e,i-=t,n===0?i>0?0:4:n===1?i+6:2-i},uo=new WeakMap,uR=function(e,t,n,i,s,a,o){const l=le(this,ir,g4).call(this,n,i,s,a);for(let A=0;A<8;A++){const c=(-A+l-o+16)%8,u=m(this,uo)[2*c],f=m(this,uo)[2*c+1];if(e[(n+u)*t+(i+f)]!==0)return c}return-1},dR=function(e,t,n,i,s,a,o){const l=le(this,ir,g4).call(this,n,i,s,a);for(let A=0;A<8;A++){const c=(A+l+o+16)%8,u=m(this,uo)[2*c],f=m(this,uo)[2*c+1];if(e[(n+u)*t+(i+f)]!==0)return c}return-1},m4=function(e,t,n,i){const s=e.length,a=new Int32Array(s);for(let c=0;c<s;c++)a[c]=e[c]<=i?1:0;for(let c=1;c<n-1;c++)a[c*t]=a[c*t+t-1]=0;for(let c=0;c<t;c++)a[c]=a[t*n-1-c]=0;let o=1,l;const A=[];for(let c=1;c<n-1;c++){l=1;for(let u=1;u<t-1;u++){const f=c*t+u,p=a[f];if(p===0)continue;let I=c,F=u;if(p===1&&a[f-1]===0)o+=1,F-=1;else if(p>=1&&a[f+1]===0)o+=1,F+=1,p>1&&(l=p);else{p!==1&&(l=Math.abs(p));continue}const D=[u,c],C=F===u+1,k={isHole:C,points:D,id:o,parent:0};A.push(k);let U;for(const H of A)if(H.id===l){U=H;break}U?U.isHole?k.parent=C?U.parent:l:k.parent=C?l:U.parent:k.parent=C?l:0;const Q=le(this,ir,uR).call(this,a,t,c,u,I,F,0);if(Q===-1){a[f]=-o,a[f]!==1&&(l=Math.abs(a[f]));continue}let V=m(this,uo)[2*Q],Z=m(this,uo)[2*Q+1];const q=c+V,G=u+Z;I=q,F=G;let Y=c,K=u;for(;;){const H=le(this,ir,dR).call(this,a,t,Y,K,I,F,1);V=m(this,uo)[2*H],Z=m(this,uo)[2*H+1];const te=Y+V,ue=K+Z;D.push(ue,te);const oe=Y*t+K;if(a[oe+1]===0?a[oe]=-o:a[oe]===1&&(a[oe]=o),te===c&&ue===u&&Y===q&&K===G){a[f]!==1&&(l=Math.abs(a[f]));break}else I=Y,F=K,Y=te,K=ue}}}return A},qv=function(e,t,n,i){if(n-t<=4){for(let q=t;q<n-2;q+=2)i.push(e[q],e[q+1]);return}const s=e[t],a=e[t+1],o=e[n-4]-s,l=e[n-3]-a,A=Math.hypot(o,l),c=o/A,u=l/A,f=c*a-u*s,p=l/o,I=1/A,F=Math.atan(p),D=Math.cos(F),C=Math.sin(F),k=I*(Math.abs(D)+Math.abs(C)),U=I*(1-k+k**2),Q=Math.max(Math.atan(Math.abs(C+D)*U),Math.atan(Math.abs(C-D)*U));let V=0,Z=t;for(let q=t+2;q<n-2;q+=2){const G=Math.abs(f-c*e[q+1]+u*e[q]);G>V&&(Z=q,V=G)}V>(A*Q)**2?(le(this,ir,qv).call(this,e,t,Z+2,i),le(this,ir,qv).call(this,e,Z,n,i)):i.push(s,a)},hR=function(e){const t=[],n=e.length;return le(this,ir,qv).call(this,e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t},fR=function(e,t,n,i,s,a){const o=new Float32Array(a**2),l=-2*i**2,A=a>>1;for(let F=0;F<a;F++){const D=(F-A)**2;for(let C=0;C<a;C++)o[F*a+C]=Math.exp((D+(C-A)**2)/l)}const c=new Float32Array(256),u=-2*s**2;for(let F=0;F<256;F++)c[F]=Math.exp(F**2/u);const f=e.length,p=new Uint8Array(f),I=new Uint32Array(256);for(let F=0;F<n;F++)for(let D=0;D<t;D++){const C=F*t+D,k=e[C];let U=0,Q=0;for(let Z=0;Z<a;Z++){const q=F+Z-A;if(!(q<0||q>=n))for(let G=0;G<a;G++){const Y=D+G-A;if(Y<0||Y>=t)continue;const K=e[q*t+Y],H=o[Z*a+G]*c[Math.abs(K-k)];U+=K*H,Q+=H}}const V=p[C]=Math.round(U/Q);I[V]++}return[p,I]},pR=function(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t},y4=function(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let i=-1/0,s=1/0;for(let o=0,l=n.length;o<l;o++){if(e[(o<<2)+3]===0){i=n[o]=255;continue}const c=n[o]=e[o<<2];c>i&&(i=c),c<s&&(s=c)}const a=255/(i-s);for(let o=0;o<t;o++)n[o]=(n[o]-s)*a;return n},w4=function(e){let t,n=-1/0,i=-1/0;const s=e.findIndex(l=>l!==0);let a=s,o=s;for(t=s;t<256;t++){const l=e[t];l>n&&(t-a>i&&(i=t-a,o=t-1),n=l,a=t)}for(t=o-1;t>=0&&!(e[t]>e[t+1]);t--);return t},gR=function(e){const t=e,{width:n,height:i}=e,{maxDim:s}=m(this,nh);let a=n,o=i;if(n>s||i>s){let f=n,p=i,I=Math.log2(Math.max(n,i)/s);const F=Math.floor(I);I=I===F?F-1:F;for(let C=0;C<I;C++){a=Math.ceil(f/2),o=Math.ceil(p/2);const k=new OffscreenCanvas(a,o);k.getContext("2d").drawImage(e,0,0,f,p,0,0,a,o),f=a,p=o,e!==t&&e.close(),e=k.transferToImageBitmap()}const D=Math.min(s/a,s/o);a=Math.round(a*D),o=Math.round(o*D)}const A=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});A.filter="grayscale(1)",A.drawImage(e,0,0,e.width,e.height,0,0,a,o);const c=A.getImageData(0,0,a,o).data;return[le(this,ir,y4).call(this,c),a,o]},ae(vA,ir),ae(vA,nh,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),ae(vA,uo,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class JE extends sR{constructor(){super(),super.updateProperties({fill:Fr._defaultLineColor,"stroke-width":0})}clone(){const e=new JE;return e.updateAll(this),e}}class ZE extends xx{constructor(e){super(e),super.updateProperties({stroke:Fr._defaultLineColor,"stroke-width":1})}clone(){const e=new ZE(this._viewParameters);return e.updateAll(this),e}}var Rc,ol,Qc,ih;const Ds=class Ds extends eB{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});ae(this,Rc,!1);ae(this,ol,null);ae(this,Qc,null);ae(this,ih,null);this._willKeepAspectRatio=!0,ee(this,Qc,t.signatureData||null),ee(this,ol,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,n){Fr.initialize(t,n),this._defaultDrawingOptions=new JE,this._defaultDrawnSignatureOptions=new ZE(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return jt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!m(this,ol)}}static computeTelemetryFinalData(t){const n=t.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,n;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,n=this.y),super.render(),this._drawId===null)if(m(this,Qc)){const{lines:s,mustSmooth:a,areContours:o,description:l,uuid:A,heightInPage:c}=m(this,Qc),{rawDims:{pageWidth:u,pageHeight:f},rotation:p}=this.parent.viewport,I=vA.processDrawnLines({lines:s,pageWidth:u,pageHeight:f,rotation:p,innerMargin:Ds._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(I,c,l,A)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return i&&(this._isCopy=!0,this._moveAfterPaste(t,n)),this.div}setUuid(t){ee(this,ih,t),this.addEditToolbar()}getUuid(){return m(this,ih)}get description(){return m(this,ol)}set description(t){ee(this,ol,t),super.addEditToolbar().then(n=>{n==null||n.updateEditSignatureButton(t)})}getSignaturePreview(){const{newCurves:t,areContours:n,thickness:i,width:s,height:a}=m(this,Qc),o=Math.max(s,a),l=vA.processDrawnLines({lines:{curves:t.map(A=>({points:A})),thickness:i,width:s,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,n,i,s){const{x:a,y:o}=this,{outline:l}=ee(this,Qc,t);ee(this,Rc,l instanceof p4),this.description=i,this.div.setAttribute("data-l10n-args",JSON.stringify({description:i}));let A;m(this,Rc)?A=Ds.getDefaultDrawingOptions():(A=Ds._defaultDrawnSignatureOptions.clone(),A.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:A});const[c,u]=this.parentDimensions,[,f]=this.pageDimensions;let p=n/f;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(c*this.width,u*this.height),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:n,pageHeight:i},rotation:s}=this.parent.viewport;return vA.process(t,n,i,s,Ds._INNER_MARGIN)}getFromText(t,n){const{rawDims:{pageWidth:i,pageHeight:s},rotation:a}=this.parent.viewport;return vA.extractContoursFromText(t,n,i,s,a,Ds._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:n,pageHeight:i},rotation:s}=this.parent.viewport;return vA.processDrawnLines({lines:t,pageWidth:n,pageHeight:i,rotation:s,innerMargin:Ds._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:n}){t?this._drawingOptions=Ds.getDefaultDrawingOptions():(this._drawingOptions=Ds._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:n,points:i,rect:s}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":a}}=this,o={annotationType:Et.SIGNATURE,isSignature:!0,areContours:m(this,Rc),color:[0,0,0],thickness:m(this,Rc)?0:a,pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(o.paths={lines:n,points:i},o.uuid=m(this,ih),o.isCopy=!0):o.lines=n,m(this,ol)&&(o.accessibilityData={type:"Figure",alt:m(this,ol)}),o}static deserializeDraw(t,n,i,s,a,o){return o.areContours?p4.deserialize(t,n,i,s,a,o):dy.deserialize(t,n,i,s,a,o)}static async deserialize(t,n,i){var a;const s=await super.deserialize(t,n,i);return ee(s,Rc,t.areContours),ee(s,ol,((a=t.accessibilityData)==null?void 0:a.alt)||""),ee(s,ih,t.uuid),s}};Rc=new WeakMap,ol=new WeakMap,Qc=new WeakMap,ih=new WeakMap,Oe(Ds,"_type","signature"),Oe(Ds,"_editorType",Et.SIGNATURE),Oe(Ds,"_defaultDrawingOptions",null);let v4=Ds;var _r,Kn,Oc,pA,jc,ag,gA,sh,ll,$s,og,Xt,l0,A0,Yv,Xv,Jv,B4,Zv,mR;class b4 extends Fr{constructor(t){super({...t,name:"stampEditor"});ae(this,Xt);ae(this,_r,null);ae(this,Kn,null);ae(this,Oc,null);ae(this,pA,null);ae(this,jc,null);ae(this,ag,"");ae(this,gA,null);ae(this,sh,!1);ae(this,ll,null);ae(this,$s,!1);ae(this,og,!1);ee(this,pA,t.bitmapUrl),ee(this,jc,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,n){Fr.initialize(t,n)}static isHandlingMimeForPasting(t){return fS.includes(t)}static paste(t,n){n.pasteEditor({mode:Et.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=t||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const A=l.output;return await this.setGuessedAltText(A),n&&!this.hasAltTextData()&&(this.altTextData={alt:A,decorative:!1}),A}remove(){var t;m(this,Kn)&&(ee(this,_r,null),this._uiManager.imageManager.deleteId(m(this,Kn)),(t=m(this,gA))==null||t.remove(),ee(this,gA,null),m(this,ll)&&(clearTimeout(m(this,ll)),ee(this,ll,null))),super.remove()}rebuild(){if(!this.parent){m(this,Kn)&&le(this,Xt,Yv).call(this);return}super.rebuild(),this.div!==null&&(m(this,Kn)&&m(this,gA)===null&&le(this,Xt,Yv).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(m(this,Oc)||m(this,_r)||m(this,pA)||m(this,jc)||m(this,Kn)||m(this,sh))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;return this._isCopy&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),m(this,sh)||(m(this,_r)?le(this,Xt,Xv).call(this):le(this,Xt,Yv).call(this)),this._isCopy&&this._moveAfterPaste(t,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,n){const{id:i,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,n);n.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(ee(this,Kn,i),s&&ee(this,_r,s),ee(this,sh,!1),le(this,Xt,Xv).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;m(this,ll)!==null&&clearTimeout(m(this,ll)),ee(this,ll,setTimeout(()=>{ee(this,ll,null),le(this,Xt,B4).call(this)},200))}copyCanvas(t,n,i=!1){var p;t||(t=224);const{width:s,height:a}=m(this,_r),o=new ml;let l=m(this,_r),A=s,c=a,u=null;if(n){if(s>n||a>n){const G=Math.min(n/s,n/a);A=Math.floor(s*G),c=Math.floor(a*G)}u=document.createElement("canvas");const I=u.width=Math.ceil(A*o.sx),F=u.height=Math.ceil(c*o.sy);m(this,$s)||(l=le(this,Xt,Jv).call(this,I,F));const D=u.getContext("2d");D.filter=this._uiManager.hcmFilter;let C="white",k="#cfcfd8";this._uiManager.hcmFilter!=="none"?k="black":(p=window.matchMedia)!=null&&p.call(window,"(prefers-color-scheme: dark)").matches&&(C="#8f8f9d",k="#42414d");const U=15,Q=U*o.sx,V=U*o.sy,Z=new OffscreenCanvas(Q*2,V*2),q=Z.getContext("2d");q.fillStyle=C,q.fillRect(0,0,Q*2,V*2),q.fillStyle=k,q.fillRect(0,0,Q,V),q.fillRect(Q,V,Q,V),D.fillStyle=D.createPattern(Z,"repeat"),D.fillRect(0,0,I,F),D.drawImage(l,0,0,l.width,l.height,0,0,I,F)}let f=null;if(i){let I,F;if(o.symmetric&&l.width<t&&l.height<t)I=l.width,F=l.height;else if(l=m(this,_r),s>t||a>t){const k=Math.min(t/s,t/a);I=Math.floor(s*k),F=Math.floor(a*k),m(this,$s)||(l=le(this,Xt,Jv).call(this,I,F))}const C=new OffscreenCanvas(I,F).getContext("2d",{willReadFrequently:!0});C.drawImage(l,0,0,l.width,l.height,0,0,I,F),f={width:I,height:F,data:C.getImageData(0,0,I,F).data}}return{canvas:u,width:A,height:c,imageData:f}}static async deserialize(t,n,i){var D;let s=null,a=!1;if(t instanceof MT){const{data:{rect:C,rotation:k,id:U,structParent:Q,popupRef:V},container:Z,parent:{page:{pageNumber:q}},canvas:G}=t;let Y,K;G?(delete t.canvas,{id:Y,bitmap:K}=i.imageManager.getFromCanvas(Z.id,G),G.remove()):(a=!0,t._hasNoCanvas=!0);const H=((D=await n._structTree.getAriaAttributes(`${WE}${U}`))==null?void 0:D.get("aria-label"))||"";s=t={annotationType:Et.STAMP,bitmapId:Y,bitmap:K,pageIndex:q-1,rect:C.slice(0),rotation:k,annotationElementId:U,id:U,deleted:!1,accessibilityData:{decorative:!1,altText:H},isSvg:!1,structParent:Q,popupRef:V}}const o=await super.deserialize(t,n,i),{rect:l,bitmap:A,bitmapUrl:c,bitmapId:u,isSvg:f,accessibilityData:p}=t;a?(i.addMissingCanvas(t.id,o),ee(o,sh,!0)):u&&i.imageManager.isValidId(u)?(ee(o,Kn,u),A&&ee(o,_r,A)):ee(o,pA,c),ee(o,$s,f);const[I,F]=o.pageDimensions;return o.width=(l[2]-l[0])/I,o.height=(l[3]-l[1])/F,p&&(o.altTextData=p),o._initialData=s,ee(o,og,!!s),o}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:Et.STAMP,bitmapId:m(this,Kn),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:m(this,$s),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=le(this,Xt,Zv).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=le(this,Xt,mR).call(this,i);if(l.isSame)return null;l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,n===null)return i;n.stamps||(n.stamps=new Map);const o=m(this,$s)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(m(this,Kn)))n.stamps.set(m(this,Kn),{area:o,serialized:i}),i.bitmap=le(this,Xt,Zv).call(this,!1);else if(m(this,$s)){const l=n.stamps.get(m(this,Kn));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=le(this,Xt,Zv).call(this,!1))}return i}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}_r=new WeakMap,Kn=new WeakMap,Oc=new WeakMap,pA=new WeakMap,jc=new WeakMap,ag=new WeakMap,gA=new WeakMap,sh=new WeakMap,ll=new WeakMap,$s=new WeakMap,og=new WeakMap,Xt=new WeakSet,l0=function(t,n=!1){if(!t){this.remove();return}ee(this,_r,t.bitmap),n||(ee(this,Kn,t.id),ee(this,$s,t.isSvg)),t.file&&ee(this,ag,t.file.name),le(this,Xt,Xv).call(this)},A0=function(){if(ee(this,Oc,null),this._uiManager.enableWaiting(!1),!!m(this,gA)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&m(this,_r)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&m(this,_r)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Yv=function(){if(m(this,Kn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(m(this,Kn)).then(i=>le(this,Xt,l0).call(this,i,!0)).finally(()=>le(this,Xt,A0).call(this));return}if(m(this,pA)){const i=m(this,pA);ee(this,pA,null),this._uiManager.enableWaiting(!0),ee(this,Oc,this._uiManager.imageManager.getFromUrl(i).then(s=>le(this,Xt,l0).call(this,s)).finally(()=>le(this,Xt,A0).call(this)));return}if(m(this,jc)){const i=m(this,jc);ee(this,jc,null),this._uiManager.enableWaiting(!0),ee(this,Oc,this._uiManager.imageManager.getFromFile(i).then(s=>le(this,Xt,l0).call(this,s)).finally(()=>le(this,Xt,A0).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=fS.join(",");const n=this._uiManager._signal;ee(this,Oc,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),le(this,Xt,l0).call(this,s)}i()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>le(this,Xt,A0).call(this))),t.click()},Xv=function(){var u;const{div:t}=this;let{width:n,height:i}=m(this,_r);const[s,a]=this.pageDimensions,o=.75;if(this.width)n=this.width*s,i=this.height*a;else if(n>o*s||i>o*a){const f=Math.min(o*s/n,o*a/i);n*=f,i*=f}const[l,A]=this.parentDimensions;this.setDims(n*l/s,i*A/a),this._uiManager.enableWaiting(!1);const c=ee(this,gA,document.createElement("canvas"));c.setAttribute("role","img"),this.addContainer(c),this.width=n/s,this.height=i/a,(u=this._initialOptions)!=null&&u.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),le(this,Xt,B4).call(this),m(this,og)||(this.parent.addUndoableEditor(this),ee(this,og,!0)),this._reportTelemetry({action:"inserted_image"}),m(this,ag)&&this.div.setAttribute("aria-description",m(this,ag)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},Jv=function(t,n){const{width:i,height:s}=m(this,_r);let a=i,o=s,l=m(this,_r);for(;a>2*t||o>2*n;){const A=a,c=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const u=new OffscreenCanvas(a,o);u.getContext("2d").drawImage(l,0,0,A,c,0,0,a,o),l=u.transferToImageBitmap()}return l},B4=function(){const[t,n]=this.parentDimensions,{width:i,height:s}=this,a=new ml,o=Math.ceil(i*t*a.sx),l=Math.ceil(s*n*a.sy),A=m(this,gA);if(!A||A.width===o&&A.height===l)return;A.width=o,A.height=l;const c=m(this,$s)?m(this,_r):le(this,Xt,Jv).call(this,o,l),u=A.getContext("2d");u.filter=this._uiManager.hcmFilter,u.drawImage(c,0,0,c.width,c.height,0,0,o,l)},Zv=function(t){if(t){if(m(this,$s)){const s=this._uiManager.imageManager.getSvgUrl(m(this,Kn));if(s)return s}const n=document.createElement("canvas");return{width:n.width,height:n.height}=m(this,_r),n.getContext("2d").drawImage(m(this,_r),0,0),n.toDataURL()}if(m(this,$s)){const[n,i]=this.pageDimensions,s=Math.round(this.width*n*pu.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*pu.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(m(this,_r),0,0,m(this,_r).width,m(this,_r).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(m(this,_r))},mR=function(t){var o;const{pageIndex:n,accessibilityData:{altText:i}}=this._initialData,s=t.pageIndex===n,a=(((o=t.accessibilityData)==null?void 0:o.alt)||"")===i;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}},Oe(b4,"_type","stamp"),Oe(b4,"_editorType",Et.STAMP);var ah,lg,Al,Hc,mA,zs,Wc,Ag,oh,ho,yA,Gn,wA,Kc,cg,ot,Gc,Ur,yR,Wo,I4,C4,eb;const Za=class Za{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:A,l10n:c}){ae(this,Ur);ae(this,ah);ae(this,lg,!1);ae(this,Al,null);ae(this,Hc,null);ae(this,mA,null);ae(this,zs,new Map);ae(this,Wc,!1);ae(this,Ag,!1);ae(this,oh,!1);ae(this,ho,null);ae(this,yA,null);ae(this,Gn,null);ae(this,wA,null);ae(this,Kc,null);ae(this,cg,-1);ae(this,ot);const u=[...m(Za,Gc).values()];if(!Za._initialized){Za._initialized=!0;for(const f of u)f.initialize(c,e)}e.registerEditorTypes(u),ee(this,ot,e),this.pageIndex=t,this.div=n,ee(this,ah,s),ee(this,Al,a),this.viewport=A,ee(this,Gn,l),this.drawLayer=o,this._structTree=i,m(this,ot).addLayer(this)}get isEmpty(){return m(this,zs).size===0}get isInvisible(){return this.isEmpty&&m(this,ot).getMode()===Et.NONE}updateToolbar(e){m(this,ot).updateToolbar(e)}updateMode(e=m(this,ot).getMode()){switch(le(this,Ur,eb).call(this),e){case Et.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Et.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Et.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of m(Za,Gc).values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=m(this,Gn))==null?void 0:t.div)}setEditingState(e){m(this,ot).setEditingState(e)}addCommands(e){m(this,ot).addCommands(e)}cleanUndoStack(e){m(this,ot).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=m(this,Al))==null||t.div.classList.toggle("disabled",!e)}async enable(){var n;ee(this,oh,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),(n=m(this,Kc))==null||n.abort(),ee(this,Kc,null);const e=new Set;for(const i of m(this,zs).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(m(this,ot).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));if(!m(this,Al)){ee(this,oh,!1);return}const t=m(this,Al).getEditableAnnotations();for(const i of t){if(i.hide(),m(this,ot).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}ee(this,oh,!1)}disable(){var i;if(ee(this,Ag,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),m(this,Gn)&&!m(this,Kc)){ee(this,Kc,new AbortController);const s=m(this,ot).combinedSignal(m(this,Kc));m(this,Gn).div.addEventListener("pointerdown",a=>{const{clientX:l,clientY:A,timeStamp:c}=a,u=m(this,cg);if(c-u>500){ee(this,cg,c);return}ee(this,cg,-1);const{classList:f}=this.div;f.toggle("getElements",!0);const p=document.elementsFromPoint(l,A);if(f.toggle("getElements",!1),!this.div.contains(p[0]))return;let I;const F=new RegExp(`^${uP}[0-9]+$`);for(const C of p)if(F.test(C.id)){I=C.id;break}if(!I)return;const D=m(this,zs).get(I);(D==null?void 0:D.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),D.dblclick())},{signal:s,capture:!0})}const e=new Map,t=new Map;for(const s of m(this,zs).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(m(this,Al)){const s=m(this,Al).getEditableAnnotations();for(const a of s){const{id:o}=a.data;if(m(this,ot).isDeletedAnnotationElement(o))continue;let l=t.get(o);if(l){l.resetAnnotationElement(a),l.show(!1),a.show();continue}l=e.get(o),l&&(m(this,ot).addChangedExistingAnnotation(l),l.renderAnnotationElement(a)&&l.show(!1)),a.show()}}le(this,Ur,eb).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const s of m(Za,Gc).values())n.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),ee(this,Ag,!1)}getEditableAnnotation(e){var t;return((t=m(this,Al))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){m(this,ot).getActive()!==e&&m(this,ot).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=m(this,Gn))!=null&&e.div&&!m(this,wA)){ee(this,wA,new AbortController);const t=m(this,ot).combinedSignal(m(this,wA));m(this,Gn).div.addEventListener("pointerdown",le(this,Ur,yR).bind(this),{signal:t}),m(this,Gn).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=m(this,Gn))!=null&&e.div&&m(this,wA)&&(m(this,wA).abort(),ee(this,wA,null),m(this,Gn).div.classList.remove("highlighting"))}enableClick(){if(m(this,Hc))return;ee(this,Hc,new AbortController);const e=m(this,ot).combinedSignal(m(this,Hc));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=m(this,Hc))==null||e.abort(),ee(this,Hc,null)}attach(e){m(this,zs).set(e.id,e);const{annotationElementId:t}=e;t&&m(this,ot).isDeletedAnnotationElement(t)&&m(this,ot).removeDeletedAnnotationElement(e)}detach(e){var t;m(this,zs).delete(e.id),(t=m(this,ah))==null||t.removePointerInTextLayer(e.contentDiv),!m(this,Ag)&&e.annotationElementId&&m(this,ot).addDeletedAnnotationElement(e)}remove(e){this.detach(e),m(this,ot).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(m(this,ot).addDeletedAnnotationElement(e.annotationElementId),Fr.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),m(this,ot).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!m(this,oh)),m(this,ot).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!m(this,mA)&&(e._focusEventsAllowed=!1,ee(this,mA,setTimeout(()=>{ee(this,mA,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:m(this,ot)._signal}),t.focus())},0))),e._structTreeParentId=(n=m(this,ah))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return m(this,ot).getId()}combinedSignal(e){return m(this,ot).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=m(this,Ur,Wo))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await m(this,ot).updateMode(e.mode);const{offsetX:n,offsetY:i}=le(this,Ur,C4).call(this),s=this.getNextId(),a=le(this,Ur,I4).call(this,{parent:this,id:s,x:n,y:i,uiManager:m(this,ot),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=m(Za,Gc).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,m(this,ot)))||null}createAndAddNewEditor(e,t,n={}){const i=this.getNextId(),s=le(this,Ur,I4).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:m(this,ot),isCentered:t,...n});return s&&this.add(s),s}addNewEditor(e={}){this.createAndAddNewEditor(le(this,Ur,C4).call(this),!0,e)}setSelected(e){m(this,ot).setSelected(e)}toggleSelected(e){m(this,ot).toggleSelected(e)}unselect(e){m(this,ot).unselect(e)}pointerup(e){var i;const{isMac:t}=gi.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!m(this,Wc)||(ee(this,Wc,!1),(i=m(this,Ur,Wo))!=null&&i.isDrawer&&m(this,Ur,Wo).supportMultipleDrawings))return;if(!m(this,lg)){ee(this,lg,!0);return}const n=m(this,ot).getMode();if(n===Et.STAMP||n===Et.SIGNATURE){m(this,ot).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(m(this,ot).getMode()===Et.HIGHLIGHT&&this.enableTextSelection(),m(this,Wc)){ee(this,Wc,!1);return}const{isMac:t}=gi.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(ee(this,Wc,!0),(i=m(this,Ur,Wo))!=null&&i.isDrawer){this.startDrawingSession(e);return}const n=m(this,ot).getActive();ee(this,lg,!n||n.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),m(this,ho)){m(this,Ur,Wo).startDrawing(this,m(this,ot),!1,e);return}m(this,ot).setCurrentDrawingSession(this),ee(this,ho,new AbortController);const t=m(this,ot).combinedSignal(m(this,ho));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(ee(this,yA,null),this.commitOrRemove())},{signal:t}),m(this,Ur,Wo).startDrawing(this,m(this,ot),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&ee(this,yA,t);return}m(this,yA)&&setTimeout(()=>{var t;(t=m(this,yA))==null||t.focus(),ee(this,yA,null)},0)}endDrawingSession(e=!1){return m(this,ho)?(m(this,ot).setCurrentDrawingSession(null),m(this,ho).abort(),ee(this,ho,null),ee(this,yA,null),m(this,Ur,Wo).endDrawing(e)):null}findNewParent(e,t,n){const i=m(this,ot).findParent(t,n);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return m(this,ho)?(this.endDrawingSession(),!0):!1}onScaleChanging(){m(this,ho)&&m(this,Ur,Wo).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=m(this,ot).getActive())==null?void 0:e.parent)===this&&(m(this,ot).commitOrRemove(),m(this,ot).setActiveEditor(null)),m(this,mA)&&(clearTimeout(m(this,mA)),ee(this,mA,null));for(const n of m(this,zs).values())(t=m(this,ah))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,m(this,zs).clear(),m(this,ot).removeLayer(this)}render({viewport:e}){this.viewport=e,Bh(this.div,e);for(const t of m(this,ot).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){m(this,ot).commitOrRemove(),le(this,Ur,eb).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,Bh(this.div,{rotation:n}),t!==n)for(const i of m(this,zs).values())i.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return m(this,ot).viewParameters.realScale}};ah=new WeakMap,lg=new WeakMap,Al=new WeakMap,Hc=new WeakMap,mA=new WeakMap,zs=new WeakMap,Wc=new WeakMap,Ag=new WeakMap,oh=new WeakMap,ho=new WeakMap,yA=new WeakMap,Gn=new WeakMap,wA=new WeakMap,Kc=new WeakMap,cg=new WeakMap,ot=new WeakMap,Gc=new WeakMap,Ur=new WeakSet,yR=function(e){m(this,ot).unselectAll();const{target:t}=e;if(t===m(this,Gn).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&m(this,Gn).div.contains(t)){const{isMac:n}=gi.platform;if(e.button!==0||e.ctrlKey&&n)return;m(this,ot).showAllEditors("highlight",!0,!0),m(this,Gn).div.classList.add("free"),this.toggleDrawing(),Zb.startHighlighting(this,m(this,ot).direction==="ltr",{target:m(this,Gn).div,x:e.x,y:e.y}),m(this,Gn).div.addEventListener("pointerup",()=>{m(this,Gn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:m(this,ot)._signal}),e.preventDefault()}},Wo=function(){return m(Za,Gc).get(m(this,ot).getMode())},I4=function(e){const t=m(this,Ur,Wo);return t?new t.prototype.constructor(e):null},C4=function(){const{x:e,y:t,width:n,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+n),l=Math.min(window.innerHeight,t+i),A=(s+o)/2-e,c=(a+l)/2-t,[u,f]=this.viewport.rotation%180===0?[A,c]:[c,A];return{offsetX:u,offsetY:f}},eb=function(){for(const e of m(this,zs).values())e.isEmpty()&&e.remove()},Oe(Za,"_initialized",!1),ae(Za,Gc,new Map([t4,f4,b4,Zb,v4].map(e=>[e._editorType,e])));let x4=Za;var fo,Vi,lh,O2,kB,wR,yl,F4,vR,E4;const xn=class xn{constructor({pageIndex:e}){ae(this,yl);ae(this,fo,null);ae(this,Vi,new Map);ae(this,lh,new Map);this.pageIndex=e}setParent(e){if(!m(this,fo)){ee(this,fo,e);return}if(m(this,fo)!==e){if(m(this,Vi).size>0)for(const t of m(this,Vi).values())t.remove(),e.append(t);ee(this,fo,e)}}static get _svgFactory(){return jt(this,"_svgFactory",new Yb)}draw(e,t=!1,n=!1){const i=Hi(xn,O2)._++,s=le(this,yl,F4).call(this),a=xn._svgFactory.createElement("defs");s.append(a);const o=xn._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),t&&m(this,lh).set(i,o);const A=n?le(this,yl,vR).call(this,a,l):null,c=xn._svgFactory.createElement("use");return s.append(c),c.setAttribute("href",`#${l}`),this.updateProperties(s,e),m(this,Vi).set(i,s),{id:i,clipPathId:`url(#${A})`}}drawOutline(e,t){const n=Hi(xn,O2)._++,i=le(this,yl,F4).call(this),s=xn._svgFactory.createElement("defs");i.append(s);const a=xn._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${n}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const u=xn._svgFactory.createElement("mask");s.append(u),l=`mask_p${this.pageIndex}_${n}`,u.setAttribute("id",l),u.setAttribute("maskUnits","objectBoundingBox");const f=xn._svgFactory.createElement("rect");u.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=xn._svgFactory.createElement("use");u.append(p),p.setAttribute("href",`#${o}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const A=xn._svgFactory.createElement("use");i.append(A),A.setAttribute("href",`#${o}`),l&&A.setAttribute("mask",`url(#${l})`);const c=A.cloneNode();return i.append(c),A.classList.add("mainOutline"),c.classList.add("secondaryOutline"),this.updateProperties(i,e),m(this,Vi).set(n,i),n}finalizeDraw(e,t){m(this,lh).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var l;if(!t)return;const{root:n,bbox:i,rootClass:s,path:a}=t,o=typeof e=="number"?m(this,Vi).get(e):e;if(o){if(n&&le(this,yl,E4).call(this,o,n),i&&le(l=xn,kB,wR).call(l,o,i),s){const{classList:A}=o;for(const[c,u]of Object.entries(s))A.toggle(c,u)}if(a){const c=o.firstChild.firstChild;le(this,yl,E4).call(this,c,a)}}}updateParent(e,t){if(t===this)return;const n=m(this,Vi).get(e);n&&(m(t,fo).append(n),m(this,Vi).delete(e),m(t,Vi).set(e,n))}remove(e){m(this,lh).delete(e),m(this,fo)!==null&&(m(this,Vi).get(e).remove(),m(this,Vi).delete(e))}destroy(){ee(this,fo,null);for(const e of m(this,Vi).values())e.remove();m(this,Vi).clear(),m(this,lh).clear()}};fo=new WeakMap,Vi=new WeakMap,lh=new WeakMap,O2=new WeakMap,kB=new WeakSet,wR=function(e,[t,n,i,s]){const{style:a}=e;a.top=`${100*n}%`,a.left=`${100*t}%`,a.width=`${100*i}%`,a.height=`${100*s}%`},yl=new WeakSet,F4=function(){const e=xn._svgFactory.create(1,1,!0);return m(this,fo).append(e),e.setAttribute("aria-hidden",!0),e},vR=function(e,t){const n=xn._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${t}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const s=xn._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},E4=function(e,t){for(const[n,i]of Object.entries(t))i===null?e.removeAttribute(n):e.setAttribute(n,i)},ae(xn,kB),ae(xn,O2,0);let S4=xn;globalThis._pdfjsTestingUtils={HighlightOutliner:n4};globalThis.pdfjsLib={AbortException:fu,AnnotationEditorLayer:x4,AnnotationEditorParamsType:Kt,AnnotationEditorType:Et,AnnotationEditorUIManager:xh,AnnotationLayer:JS,AnnotationMode:lc,AnnotationType:hn,build:VY,ColorPicker:Jb,createValidAbsoluteUrl:dP,DOMSVGFactory:Yb,DrawLayer:S4,FeatureTest:gi,fetchData:ly,getDocument:WY,getFilenameFromUrl:Oq,getPdfFilenameFromUrl:jq,getUuid:pP,getXfaPageViewport:Wq,GlobalWorkerOptions:ul,ImageKind:Iv,InvalidPDFException:dS,isDataScheme:bx,isPdfFile:GE,isValidExplicitDest:eY,MathClamp:Xi,noContextMenu:xo,normalizeUnicode:Tq,OPS:$b,OutputScale:ml,PasswordResponses:Eq,PDFDataRangeTransport:gT,PDFDateString:$E,PDFWorker:l1,PermissionFlag:Fq,PixelsPerInch:pu,RenderingCancelledException:KE,ResponseException:zb,setLayerDimensions:Bh,shadow:jt,SignatureExtractor:vA,stopEvent:fn,SupportedImageMimeTypes:fS,TextLayer:a1,TouchManager:qb,updateUrlHash:hP,Util:At,VerbosityLevel:yx,version:wT,XfaLayer:vT};ul.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${wT}/pdf.worker.js`;const gX=()=>{const{t:r}=Xn(),[e,t]=z.useState(Gb),[n,i]=z.useState([]),[s,a]=z.useState(""),[o,l]=z.useState(!1),[A,c]=z.useState(""),[u,f]=z.useState(!0),p=z.useRef(null);z.useEffect(()=>{const U=Ho.getPlayers();i(U);const Q=Ho.getColumns();t(Q),setTimeout(()=>{f(!1)},100)},[]),z.useEffect(()=>{u||Ho.savePlayers(n)},[n,u]),z.useEffect(()=>{u||Ho.saveColumns(e)},[e,u]);const I=()=>{if(A.trim()){const U={id:A.toLowerCase().replace(/\s+/g,"_"),name:A.trim(),visible:!0},Q=Ho.addColumn(e,U);t(Q),c(""),l(!1)}},F=()=>{const U=Ho.createTestPlayers(),Q=[...n,...U];i(Q)},D=()=>{window.confirm(r("players.clearAllDataConfirm"))&&(Ho.clearAllPlayersData(),i([]),t(Gb),a(""))},C=()=>{Ho.exportPlayersToJSON(n)},k=U=>{var Z;const Q=(Z=U.target.files)==null?void 0:Z[0];if(!Q)return;const V=new FileReader;V.onload=q=>{var G;try{const Y=(G=q.target)==null?void 0:G.result,K=Ho.importPlayersFromJSON(Y,n);i(K),alert(r("players.importSuccess"))}catch(Y){alert(r("players.importError",{error:Y.message}))}U.target&&(U.target.value="")},V.readAsText(Q)};return B.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-blue-50 via-white to-purple-50 flex flex-col items-center justify-start py-8 px-2",children:[B.jsxs("div",{className:"w-full max-w-7xl px-2 sm:px-6 lg:px-8",children:[B.jsxs("div",{className:"backdrop-blur-md bg-white/80 rounded-2xl border border-gray-200 shadow-2xl p-2 sm:p-6 transition-all duration-300",children:[B.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 p-6 border-b border-gray-200",children:[B.jsxs("div",{children:[B.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight drop-shadow-sm",children:r("players.title")}),B.jsxs("p",{className:"text-base text-gray-500 mt-1",children:[r("players.totalPlayers"),": ",n.length]})]}),B.jsxs("div",{className:"flex flex-wrap gap-2",children:[B.jsxs("div",{className:"relative shadow-md rounded-lg w-full sm:w-auto",children:[B.jsx("input",{type:"text",placeholder:r("players.searchPlayers"),value:s,onChange:U=>a(U.target.value),className:"w-full sm:w-64 px-4 py-2 pl-10 bg-white/80 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-sm sm:text-base text-gray-700 placeholder-gray-400 transition-all duration-200 shadow-sm"}),B.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:B.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),B.jsxs("button",{onClick:F,className:"inline-flex items-center gap-2 px-3 sm:px-4 py-2 bg-gradient-to-r from-green-400 to-green-600 text-white rounded-lg shadow hover:from-green-500 hover:to-green-700 transition-all duration-200 text-sm sm:text-base font-semibold",children:[B.jsx(U9,{className:"w-5 h-5"}),r("players.addTestPlayers")]}),B.jsx("button",{onClick:D,className:"inline-flex items-center gap-2 px-3 sm:px-4 py-2 bg-gradient-to-r from-red-400 to-red-600 text-white rounded-lg shadow hover:from-red-500 hover:to-red-700 transition-all duration-200 text-sm sm:text-base font-semibold",children:r("players.clearAllData")}),B.jsxs("button",{onClick:()=>l(!0),className:"inline-flex items-center gap-2 px-3 sm:px-4 py-2 bg-gradient-to-r from-blue-400 to-blue-600 text-white rounded-lg shadow hover:from-blue-500 hover:to-blue-700 transition-all duration-200 text-sm sm:text-base font-semibold",children:[B.jsx(S9,{className:"w-5 h-5"}),r("players.addColumn")]}),B.jsx("button",{onClick:C,className:"inline-flex items-center gap-2 px-3 sm:px-4 py-2 bg-gradient-to-r from-purple-400 to-purple-600 text-white rounded-lg shadow hover:from-purple-500 hover:to-purple-700 transition-all duration-200 text-sm sm:text-base font-semibold",children:r("players.exportJSON")}),B.jsx("button",{onClick:()=>{var U;return(U=p.current)==null?void 0:U.click()},className:"inline-flex items-center gap-2 px-3 sm:px-4 py-2 bg-gradient-to-r from-yellow-400 to-yellow-500 text-white rounded-lg shadow hover:from-yellow-500 hover:to-yellow-600 transition-all duration-200 text-sm sm:text-base font-semibold",children:r("players.importJSON")}),B.jsx("input",{ref:p,type:"file",accept:"application/json",style:{display:"none"},onChange:k})]})]}),B.jsx(cS,{players:n,onPlayersChange:i,columns:e,onColumnsChange:t,searchTerm:s,onSearchChange:a,showAddRow:!0,showDeleteColumn:!0})]}),B.jsx("div",{className:"mt-6 flex justify-start",children:B.jsx("button",{onClick:()=>{const U={id:Di(),name:"",surname:"",weight:0,gender:"male",handPreference:"right",birthday:"",city:""};i([...n,U])},className:"inline-flex items-center justify-center w-12 h-12 bg-gradient-to-br from-blue-400 to-blue-600 text-white rounded-full hover:from-blue-500 hover:to-blue-700 transition-all duration-200 shadow-lg font-bold text-2xl",title:r("players.addRow"),children:B.jsx("span",{className:"",children:"+"})})})]}),o&&B.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:B.jsxs("div",{className:"backdrop-blur-lg bg-white/90 p-8 rounded-2xl w-full max-w-sm mx-4 shadow-2xl border border-gray-200",children:[B.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900",children:r("players.addNewColumn")}),B.jsx("input",{type:"text",value:A,onChange:U=>c(U.target.value),placeholder:r("players.columnName"),className:"w-full px-4 py-3 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-base text-gray-700 placeholder-gray-400 transition-all duration-200 mb-4 shadow"}),B.jsxs("div",{className:"flex justify-end gap-3",children:[B.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors duration-200 text-base font-semibold rounded-lg",children:r("common.cancel")}),B.jsx("button",{onClick:I,className:"px-4 py-2 bg-gradient-to-r from-blue-400 to-blue-600 text-white rounded-lg shadow hover:from-blue-500 hover:to-blue-700 transition-all duration-200 text-base font-semibold",children:r("common.add")})]})]})})]})},$o={PLAYERS:"arm-wrestling-players",TOURNAMENTS:"arm-wrestling-tournaments",ACTIVE_FIXTURES:"arm-wrestling-active-fixtures",CURRENT_TOURNAMENT:"current-tournament",TOURNAMENT_RESULTS:"tournament-results",DOUBLE_ELIMINATION:"double-elimination"},L4={getTournamentResults:(r,e)=>{try{const t=`${$o.TOURNAMENT_RESULTS}-${r}-${e}`,n=localStorage.getItem(t);return n?JSON.parse(n):[]}catch{return[]}},saveTournamentResults:(r,e,t)=>{try{const n=`${$o.TOURNAMENT_RESULTS}-${r}-${e}`;localStorage.setItem(n,JSON.stringify(t))}catch{}},addTournamentResult:(r,e,t)=>{const n=L4.getTournamentResults(r,e);n.push(t),L4.saveTournamentResults(r,e,n)},clearTournamentResults:(r,e)=>{const t=`${$o.TOURNAMENT_RESULTS}-${r}-${e}`;localStorage.removeItem(t)}},Pe={getDoubleEliminationState:(r,e,t)=>{try{const n=t?`${$o.DOUBLE_ELIMINATION}-fixture-${t}`:`${$o.DOUBLE_ELIMINATION}-${r}-${e}`,i=localStorage.getItem(n);return i?JSON.parse(i):null}catch{return null}},saveDoubleEliminationState:(r,e,t,n)=>{try{const i=n?`${$o.DOUBLE_ELIMINATION}-fixture-${n}`:`${$o.DOUBLE_ELIMINATION}-${r}-${e}`;localStorage.setItem(i,JSON.stringify(t))}catch{}},clearDoubleEliminationState:(r,e,t)=>{const n=t?`${$o.DOUBLE_ELIMINATION}-fixture-${t}`:`${$o.DOUBLE_ELIMINATION}-${r}-${e}`;localStorage.removeItem(n)},clearAllDoubleEliminationStates:r=>{const e=Object.keys(localStorage),t=new RegExp(`^${$o.DOUBLE_ELIMINATION}-\\d+-${r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}$`);e.forEach(n=>{t.test(n)&&localStorage.removeItem(n)})}},Ye={saveMatchesData:r=>{try{localStorage.setItem("arm-wrestling-matches",JSON.stringify(r))}catch{}},getMatchesData:()=>{try{const r=localStorage.getItem("arm-wrestling-matches");return r?JSON.parse(r):{fixtures:[],lastUpdated:new Date().toISOString()}}catch{return{fixtures:[],lastUpdated:new Date().toISOString()}}},addFixture:r=>{const e=Ye.getMatchesData();e.fixtures.push(r),e.lastUpdated=new Date().toISOString(),Ye.saveMatchesData(e)},updateFixture:(r,e)=>{const t=Ye.getMatchesData(),n=t.fixtures.findIndex(i=>i.id===r);n!==-1&&(t.fixtures[n]={...t.fixtures[n],...e,lastUpdated:new Date().toISOString()},t.lastUpdated=new Date().toISOString(),Ye.saveMatchesData(t))},deleteFixture:r=>{const e=Ye.getMatchesData(),t=e.fixtures.find(n=>n.id===r);e.fixtures=e.fixtures.filter(n=>n.id!==r),e.lastUpdated=new Date().toISOString(),Ye.saveMatchesData(e);try{Object.keys(localStorage).forEach(i=>{i.includes(`double-elimination-fixture-${r}`)&&localStorage.removeItem(i)})}catch{}if(t)try{L4.clearTournamentResults(t.tournamentId,t.weightRangeId)}catch{}},setActiveFixture:r=>{const e=Ye.getMatchesData();e.activeFixtureId=r||void 0,e.lastUpdated=new Date().toISOString(),Ye.saveMatchesData(e)},getActiveFixture:()=>{const r=Ye.getMatchesData();return r.activeFixtureId&&r.fixtures.find(e=>e.id===r.activeFixtureId)||null},getAllFixtures:()=>Ye.getMatchesData().fixtures,getFixtureById:r=>Ye.getMatchesData().fixtures.find(t=>t.id===r)||null,addMatchResult:(r,e)=>{const t=Ye.getMatchesData(),n=t.fixtures.find(i=>i.id===r);n&&(n.results.push(e),n.lastUpdated=new Date().toISOString(),t.lastUpdated=new Date().toISOString(),Ye.saveMatchesData(t))},updateTournamentState:(r,e)=>{const t=Ye.getMatchesData(),n=t.fixtures.find(i=>i.id===r);n&&(e.matches&&(n.matches=e.matches),e.rankings&&(n.rankings=e.rankings),e.tournamentComplete!==void 0&&(n.tournamentComplete=e.tournamentComplete),e.playerWins&&(n.playerWins=e.playerWins),n.lastUpdated=new Date().toISOString(),t.lastUpdated=new Date().toISOString(),Ye.saveMatchesData(t))},saveRankings:(r,e)=>{const t=Ye.getMatchesData(),n=t.fixtures.find(i=>i.id===r);n&&(n.rankings=e,n.status="completed",n.completedAt=new Date().toISOString(),n.lastUpdated=new Date().toISOString(),t.lastUpdated=new Date().toISOString(),Ye.saveMatchesData(t))},updateFixtureActiveTab:(r,e)=>{const t=Ye.getMatchesData(),n=t.fixtures.find(i=>i.id===r);n&&(n.activeTab=e,n.lastUpdated=new Date().toISOString(),t.lastUpdated=new Date().toISOString(),Ye.saveMatchesData(t))},getFixtureActiveTab:r=>{const t=Ye.getMatchesData().fixtures.find(n=>n.id===r);return(t==null?void 0:t.activeTab)||"active"},completeFixtureWithRankings:(r,e)=>{const t=Ye.getMatchesData(),n=t.fixtures.find(i=>i.id===r);n&&(n.status="completed",n.rankings=e,n.completedAt=new Date().toISOString(),n.lastUpdated=new Date().toISOString(),t.lastUpdated=new Date().toISOString(),Ye.saveMatchesData(t))},completeFixture:r=>{const e=Ye.getMatchesData(),t=e.fixtures.find(n=>n.id===r);t&&(t.status="completed",t.completedAt=new Date().toISOString(),t.lastUpdated=new Date().toISOString(),e.lastUpdated=new Date().toISOString(),Ye.saveMatchesData(e))},pauseFixture:r=>{const e=Ye.getMatchesData(),t=e.fixtures.find(n=>n.id===r);t&&(t.status="paused",t.lastUpdated=new Date().toISOString(),e.lastUpdated=new Date().toISOString(),Ye.saveMatchesData(e))},activateFixture:r=>{const e=Ye.getMatchesData(),t=e.fixtures.find(n=>n.id===r);t&&(t.status="active",t.lastUpdated=new Date().toISOString(),e.lastUpdated=new Date().toISOString(),Ye.saveMatchesData(e))},clearAllMatchesData:()=>{localStorage.removeItem("arm-wrestling-matches")},createTestFixture:()=>({id:"test-fixture-1",name:"Test Tournament - 70-80 kg",tournamentId:"test-tournament-1",tournamentName:"Test Tournament",weightRangeId:"test-weight-1",weightRangeName:"70-80 kg",weightRange:{min:70,max:80},players:[],playerCount:0,status:"active",createdAt:new Date().toISOString(),lastUpdated:new Date().toISOString(),results:[],tournamentComplete:!1,playerWins:{},matches:[],activeTab:"active"}),generateFixtureName:(r,e)=>`${r} - ${e}`,createNewFixture:(r,e,t)=>{const s=Ye.getAllFixtures().filter(o=>o.tournamentId===r.id).length+1,a=e.name||`${e.min}-${e.max} kg`;return{id:`${r.id}-${e.id}-${s}`,name:Ye.generateFixtureName(r.name,a),tournamentId:r.id,tournamentName:r.name,weightRangeId:e.id,weightRangeName:a,weightRange:{min:e.min,max:e.max},players:t,playerCount:t.length,status:"active",createdAt:new Date().toISOString(),lastUpdated:new Date().toISOString(),results:[],tournamentComplete:!1,playerWins:{},matches:[],activeTab:"active"}},getAllMatchStatuses:()=>{try{const r=localStorage.getItem("arm-wrestling-match-statuses");return r?JSON.parse(r):{}}catch{return{}}},getMatchStatus:(r,e)=>{const t=Ye.getAllMatchStatuses(),n=`${r}::${e}`;return t[n]||"waiting"},setMatchStatus:(r,e,t)=>{const n=Ye.getAllMatchStatuses(),i=`${r}::${e}`;n[i]=t;try{localStorage.setItem("arm-wrestling-match-statuses",JSON.stringify(n))}catch{}},clearMatchStatus:(r,e)=>{const t=Ye.getAllMatchStatuses(),n=`${r}::${e}`;if(n in t){delete t[n];try{localStorage.setItem("arm-wrestling-match-statuses",JSON.stringify(t))}catch{}}}},mX=({tournament:r,players:e,onToggle:t,onEdit:n,onDelete:i,onSelectWeightRange:s,onStartTournament:a,onExcludePlayer:o,onIncludePlayer:l,getAvailablePlayersCount:A,selectedWeightRange:c,selectedTournament:u,className:f="",onShowPDFColumnModal:p})=>{var G,Y,K;const{t:I}=Xn();z.useState({gender:null,handPreference:null,weightMin:null,weightMax:null});const[F,D]=z.useState(!1),C=H=>e.filter(te=>{var j;const ue=te.weight>=H.min&&te.weight<=H.max,oe=!r.genderFilter||te.gender===r.genderFilter,re=!r.handPreferenceFilter||te.handPreference===r.handPreferenceFilter||te.handPreference==="both";let J=!0;if(r.birthYearMin||r.birthYearMax){const T=te.birthday?new Date(te.birthday).getFullYear():null;T&&(r.birthYearMin&&T<r.birthYearMin&&(J=!1),r.birthYearMax&&T>r.birthYearMax&&(J=!1))}const O=!((j=H.excludedPlayerIds)!=null&&j.includes(te.id));return ue&&oe&&re&&J&&O}),k=H=>e.filter(te=>{var j;const ue=te.weight>=H.min&&te.weight<=H.max,oe=!r.genderFilter||te.gender===r.genderFilter,re=!r.handPreferenceFilter||te.handPreference===r.handPreferenceFilter||te.handPreference==="both";let J=!0;if(r.birthYearMin||r.birthYearMax){const T=te.birthday?new Date(te.birthday).getFullYear():null;T&&(r.birthYearMin&&T<r.birthYearMin&&(J=!1),r.birthYearMax&&T>r.birthYearMax&&(J=!1))}const O=(j=H.excludedPlayerIds)==null?void 0:j.includes(te.id);return ue&&oe&&re&&J&&O}),U=H=>{c&&o(r.id,c,H)},Q=H=>{c&&l(r.id,c,H)},V=H=>{F&&c===H?(D(!1),s(r.id,"")):(D(!0),s(r.id,H))},Z=()=>{if(r.weightRanges.length===1){const H=r.weightRanges[0];(!F||c!==H.id)&&(D(!0),s(r.id,H.id))}t(r.id)},q=()=>{D(!1),s(r.id,"")};return B.jsxs("div",{className:`bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-200/50 min-h-[200px] ${f}`,children:[B.jsxs("div",{className:"p-4 sm:p-6 cursor-pointer flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 hover:bg-gradient-to-r hover:from-blue-50/50 hover:to-purple-50/50 transition-all duration-200 rounded-t-2xl min-h-[80px]",onClick:Z,children:[B.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[B.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:B.jsx(D9,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),B.jsxs("div",{children:[B.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 tracking-tight",children:r.name}),B.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:[r.weightRanges.length," ",r.weightRanges.length===1?I("tournamentCard.weightCategory"):I("tournamentCard.weightCategories")]})]})]}),B.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[B.jsx("button",{onClick:H=>{H.stopPropagation(),n(r)},className:"p-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-all duration-200 group",title:I("tournamentCard.editTournament"),children:B.jsx(B9,{className:"w-4 h-4 sm:w-5 sm:h-5 group-hover:scale-110 transition-transform duration-200"})}),B.jsx("button",{onClick:H=>{H.stopPropagation(),window.confirm(I("tournamentCard.confirmDeleteTournament",{name:r.name}))&&i(r.id)},className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-all duration-200 group",title:I("tournamentCard.deleteTournament"),children:B.jsx(N9,{className:"w-4 h-4 sm:w-5 sm:h-5 group-hover:scale-110 transition-transform duration-200"})}),B.jsx("div",{className:"text-gray-400 transition-transform duration-200",children:r.isExpanded?B.jsx(tS,{className:"w-5 h-5 sm:w-6 sm:h-6"}):B.jsx(v9,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})]}),r.isExpanded&&B.jsxs("div",{className:"border-t border-gray-200/50 p-4 sm:p-6 bg-gradient-to-br from-gray-50/50 to-white/50",children:[B.jsx("div",{className:"-mx-4 px-4",children:B.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2 snap-x snap-mandatory scroll-smooth",children:r.weightRanges.map(H=>B.jsx("div",{className:"shrink-0 w-80 lg:w-96 snap-start",children:B.jsx(yX,{weightRange:H,tournament:r,onSelectWeightRange:s,onStartTournament:a,getAvailablePlayersCount:A,isSelected:c===H.id&&u===r.id,onManagePlayers:V})},H.id))})}),F&&c&&u===r.id&&B.jsx("div",{className:"mt-6 sm:mt-8 pt-6 sm:pt-8 border-t border-gray-200/50",children:B.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 shadow-lg p-4 sm:p-6 min-h-[500px] flex flex-col",children:[B.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 mb-6 flex-shrink-0",children:[B.jsxs("div",{children:[B.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:I("tournamentCard.managingPlayersFor",{name:(G=r.weightRanges.find(H=>H.id===c))==null?void 0:G.name})}),B.jsxs("p",{className:"text-sm sm:text-base text-gray-600 mt-2",children:[I("tournamentCard.weightRange"),": ",(Y=r.weightRanges.find(H=>H.id===c))==null?void 0:Y.min," - ",(K=r.weightRanges.find(H=>H.id===c))==null?void 0:K.max," kg"]})]}),B.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 mt-2 sm:mt-0",children:[B.jsx("button",{onClick:()=>{var J;const H=C(r.weightRanges.find(O=>O.id===c)),te=JSON.stringify(H,null,2),ue=new Blob([te],{type:"application/json"}),oe=URL.createObjectURL(ue),re=document.createElement("a");re.href=oe,re.download=`tournament_${r.name}_${(J=r.weightRanges.find(O=>O.id===c))==null?void 0:J.name}_players.json`,re.click(),URL.revokeObjectURL(oe)},className:"inline-flex items-center gap-2 px-3 sm:px-4 py-2 bg-gradient-to-r from-purple-400 to-purple-600 text-white rounded-lg shadow hover:from-purple-500 hover:to-purple-700 transition-all duration-200 text-xs sm:text-sm font-semibold",children:I("tournamentCard.exportJSON")}),B.jsx("button",{onClick:()=>{if(p){const H=r.weightRanges.find(te=>te.id===c);H&&p(r,H)}},className:"inline-flex items-center gap-2 px-3 sm:px-4 py-2 bg-gradient-to-r from-red-400 to-red-600 text-white rounded-lg shadow hover:from-red-500 hover:to-red-700 transition-all duration-200 text-xs sm:text-sm font-semibold",children:I("tournamentCard.createPDF")}),B.jsx("button",{onClick:q,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-50 rounded-lg transition-all duration-200",title:I("tournamentCard.closePlayerManagement"),children:B.jsx(rS,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})]}),B.jsxs("div",{className:"mb-8 flex-1 min-h-0",children:[B.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:I("tournamentCard.availablePlayers",{count:C(r.weightRanges.find(H=>H.id===c)).length})}),B.jsx("div",{className:"h-96 overflow-y-auto",children:B.jsx(cS,{players:C(r.weightRanges.find(H=>H.id===c)),onPlayersChange:()=>{},columns:[{id:"name",name:"Name",visible:!0},{id:"surname",name:"Surname",visible:!0},{id:"weight",name:"Weight",visible:!0},{id:"gender",name:"Gender",visible:!0},{id:"handPreference",name:"Hand Preference",visible:!0},{id:"birthday",name:"Birthday",visible:!0}],onColumnsChange:()=>{},searchTerm:"",onSearchChange:()=>{},showAddRow:!1,showDeleteColumn:!0,onDeletePlayer:U,className:"bg-white/50 rounded-xl"})})]}),k(r.weightRanges.find(H=>H.id===c)).length>0&&B.jsxs("div",{className:"flex-shrink-0",children:[B.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:I("tournamentCard.excludedPlayers",{count:k(r.weightRanges.find(H=>H.id===c)).length})}),B.jsxs("div",{className:"bg-gray-50/50 rounded-xl p-4",children:[B.jsx("p",{className:"text-sm text-gray-600 mb-4",children:I("tournamentCard.excludedPlayersDescription")}),B.jsx("div",{className:"h-32 overflow-y-auto",children:B.jsx(cS,{players:k(r.weightRanges.find(H=>H.id===c)),onPlayersChange:()=>{},columns:[{id:"name",name:"Name",visible:!0},{id:"surname",name:"Surname",visible:!0},{id:"weight",name:"Weight",visible:!0},{id:"gender",name:"Gender",visible:!0},{id:"handPreference",name:"Hand Preference",visible:!0},{id:"birthday",name:"Birthday",visible:!0}],onColumnsChange:()=>{},searchTerm:"",onSearchChange:()=>{},showAddRow:!1,showDeleteColumn:!0,onDeletePlayer:Q,className:"opacity-60"})})]})]})]})})]})]})},yX=({weightRange:r,tournament:e,onStartTournament:t,getAvailablePlayersCount:n,isSelected:i,onManagePlayers:s})=>{const{t:a}=Xn(),o=n(r,e),l=Ye.getAllFixtures().find(A=>A.tournamentId===e.id&&A.weightRangeId===r.id);return B.jsxs("div",{className:`relative bg-white/80 backdrop-blur-sm rounded-xl p-6 pb-8 border-2 transition-all duration-300 hover:shadow-lg cursor-pointer h-[300px] flex flex-col ${i?"border-blue-500 shadow-lg bg-blue-50/30":"border-gray-200/50 hover:border-blue-300/50"}`,onClick:()=>s(r.id),children:[B.jsxs("div",{className:"flex-shrink-0 mb-4",children:[B.jsxs("div",{className:"flex items-center justify-between mb-2",children:[B.jsx("h3",{className:"text-xl font-bold text-gray-900 truncate",children:r.name}),B.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-green-400 to-green-600 rounded-full flex items-center justify-center flex-shrink-0",children:B.jsx("span",{className:"text-white text-xs font-bold",children:o})})]}),B.jsx("div",{className:"flex items-center gap-2",children:B.jsx("div",{className:"px-3 py-1 bg-gradient-to-r from-orange-100 to-yellow-100 rounded-full",children:B.jsxs("span",{className:"text-sm font-semibold text-orange-800",children:[r.min," - ",r.max," kg"]})})})]}),B.jsx("div",{className:"flex-shrink-0 mb-6",children:B.jsxs("p",{className:"text-sm text-gray-600",children:[B.jsx("span",{className:"font-semibold text-blue-600",children:o})," ",a("tournamentCard.playersAvailable")]})}),B.jsxs("div",{className:"flex flex-col gap-3 flex-1 justify-end mb-4",children:[B.jsx("button",{onClick:A=>{A.stopPropagation(),s(r.id)},className:`w-full px-4 py-3 rounded-lg font-semibold transition-all duration-200 ${i?"bg-blue-600 text-white hover:bg-blue-700 shadow-lg":"bg-blue-50 text-blue-700 hover:bg-blue-100 border border-blue-200"}`,children:a("tournamentCard.managePlayers",{count:o})}),l?(l==null?void 0:l.status)==="completed"?B.jsxs("button",{onClick:A=>{A.stopPropagation(),window.location.href=`/matches?tab=rankings&fixture=${l==null?void 0:l.id}`},className:"w-full px-4 py-3 rounded-lg font-semibold transition-all duration-200 flex items-center justify-center gap-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white hover:from-purple-600 hover:to-purple-700 shadow-lg hover:shadow-xl",children:[B.jsx(q2,{className:"w-5 h-5"}),a("tournamentCard.showResults")]}):B.jsxs("button",{onClick:A=>{A.stopPropagation(),window.location.href=`/matches?tab=active&fixture=${l==null?void 0:l.id}`},className:"w-full px-4 py-3 rounded-lg font-semibold transition-all duration-200 flex items-center justify-center gap-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white hover:from-blue-600 hover:to-blue-700 shadow-lg hover:shadow-xl",children:[B.jsx(CN,{className:"w-5 h-5"}),a("tournamentCard.continueTournament")]}):B.jsxs("button",{onClick:A=>{A.stopPropagation(),t(e.id,r.id)},disabled:o===0,className:`w-full px-4 py-3 rounded-lg font-semibold transition-all duration-200 flex items-center justify-center gap-2 ${o===0?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-green-500 to-green-600 text-white hover:from-green-600 hover:to-green-700 shadow-lg hover:shadow-xl"}`,children:[B.jsx(CN,{className:"w-5 h-5"}),a("tournamentCard.startTournament")]})]}),o===0&&B.jsx("div",{className:"absolute top-4 right-4",children:B.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"})})]})},ds={saveTournaments:r=>{try{localStorage.setItem("arm-wrestling-tournaments",JSON.stringify(r))}catch{}},getTournaments:()=>{try{const r=localStorage.getItem("arm-wrestling-tournaments");return r?JSON.parse(r):[]}catch{return[]}},clearTournaments:()=>{localStorage.removeItem("arm-wrestling-tournaments")},saveSelectedTournament:r=>{try{r?localStorage.setItem("selected-tournament",r):localStorage.removeItem("selected-tournament")}catch{}},getSelectedTournament:()=>{try{return localStorage.getItem("selected-tournament")}catch{return null}},clearSelectedTournament:()=>{localStorage.removeItem("selected-tournament")},saveSelectedWeightRange:r=>{try{r?localStorage.setItem("selected-weight-range",r):localStorage.removeItem("selected-weight-range")}catch{}},getSelectedWeightRange:()=>{try{return localStorage.getItem("selected-weight-range")}catch{return null}},clearSelectedWeightRange:()=>{localStorage.removeItem("selected-weight-range")},savePlayerFilters:r=>{try{localStorage.setItem("tournament-player-filters",JSON.stringify(r))}catch{}},getPlayerFilters:()=>{try{const r=localStorage.getItem("tournament-player-filters");return r?JSON.parse(r):{gender:null,handPreference:null,weightMin:null,weightMax:null}}catch{return{gender:null,handPreference:null,weightMin:null,weightMax:null}}},clearPlayerFilters:()=>{localStorage.removeItem("tournament-player-filters")},saveCurrentTournament:r=>{try{localStorage.setItem("current-tournament",JSON.stringify(r))}catch{}},getCurrentTournament:()=>{try{const r=localStorage.getItem("current-tournament");return r?JSON.parse(r):null}catch{return null}},clearCurrentTournament:()=>{localStorage.removeItem("current-tournament")},clearAllTournamentData:()=>{localStorage.removeItem("arm-wrestling-tournaments"),localStorage.removeItem("selected-tournament"),localStorage.removeItem("selected-weight-range"),localStorage.removeItem("tournament-player-filters"),localStorage.removeItem("current-tournament")},updateTournament:(r,e)=>r.map(t=>t.id===e.id?e:t),deleteTournament:(r,e)=>r.filter(t=>t.id!==e),addWeightRangeToTournament:(r,e,t)=>r.map(n=>n.id===e?{...n,weightRanges:[...n.weightRanges,t]}:n),excludePlayerFromWeightRange:(r,e,t,n)=>r.map(i=>i.id===e?{...i,weightRanges:i.weightRanges.map(s=>s.id===t?{...s,excludedPlayerIds:[...s.excludedPlayerIds||[],n]}:s)}:i),includePlayerInWeightRange:(r,e,t,n)=>r.map(i=>i.id===e?{...i,weightRanges:i.weightRanges.map(s=>s.id===t?{...s,excludedPlayerIds:(s.excludedPlayerIds||[]).filter(a=>a!==n)}:s)}:i)},wX="modulepreload",vX=function(r){return"/Armrestling-website/"+r},Tk={},N4=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(t.map(l=>{if(l=vX(l),l in Tk)return;Tk[l]=!0;const A=l.endsWith(".css"),c=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const u=document.createElement("link");if(u.rel=A?"stylesheet":wX,A||(u.as="script"),u.crossOrigin="",u.href=l,o&&u.setAttribute("nonce",o),document.head.appendChild(u),A)return new Promise((f,p)=>{u.addEventListener("load",f),u.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};var Pi=Uint8Array,ea=Uint16Array,eL=Int32Array,Ix=new Pi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Cx=new Pi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),k4=new Pi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),bR=function(r,e){for(var t=new ea(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var i=new eL(t[30]),n=1;n<30;++n)for(var s=t[n];s<t[n+1];++s)i[s]=s-t[n]<<5|n;return{b:t,r:i}},BR=bR(Ix,2),xR=BR.b,M4=BR.r;xR[28]=258,M4[258]=28;var IR=bR(Cx,0),bX=IR.b,Rk=IR.r,D4=new ea(32768);for(var Lr=0;Lr<32768;++Lr){var JA=(Lr&43690)>>1|(Lr&21845)<<1;JA=(JA&52428)>>2|(JA&13107)<<2,JA=(JA&61680)>>4|(JA&3855)<<4,D4[Lr]=((JA&65280)>>8|(JA&255)<<8)>>1}var gl=function(r,e,t){for(var n=r.length,i=0,s=new ea(e);i<n;++i)r[i]&&++s[r[i]-1];var a=new ea(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(t){o=new ea(1<<e);var l=15-e;for(i=0;i<n;++i)if(r[i])for(var A=i<<4|r[i],c=e-r[i],u=a[r[i]-1]++<<c,f=u|(1<<c)-1;u<=f;++u)o[D4[u]>>l]=A}else for(o=new ea(n),i=0;i<n;++i)r[i]&&(o[i]=D4[a[r[i]-1]++]>>15-r[i]);return o},gu=new Pi(288);for(var Lr=0;Lr<144;++Lr)gu[Lr]=8;for(var Lr=144;Lr<256;++Lr)gu[Lr]=9;for(var Lr=256;Lr<280;++Lr)gu[Lr]=7;for(var Lr=280;Lr<288;++Lr)gu[Lr]=8;var A1=new Pi(32);for(var Lr=0;Lr<32;++Lr)A1[Lr]=5;var BX=gl(gu,9,0),xX=gl(gu,9,1),IX=gl(A1,5,0),CX=gl(A1,5,1),BI=function(r){for(var e=r[0],t=1;t<r.length;++t)r[t]>e&&(e=r[t]);return e},Ya=function(r,e,t){var n=e/8|0;return(r[n]|r[n+1]<<8)>>(e&7)&t},xI=function(r,e){var t=e/8|0;return(r[t]|r[t+1]<<8|r[t+2]<<16)>>(e&7)},tL=function(r){return(r+7)/8|0},CR=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new Pi(r.subarray(e,t))},SX=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],to=function(r,e,t){var n=new Error(e||SX[r]);if(n.code=r,Error.captureStackTrace&&Error.captureStackTrace(n,to),!t)throw n;return n},FX=function(r,e,t,n){var i=r.length,s=0;if(!i||e.f&&!e.l)return t||new Pi(0);var a=!t,o=a||e.i!=2,l=e.i;a&&(t=new Pi(i*3));var A=function(S){var W=t.length;if(S>W){var $=new Pi(Math.max(W*2,S));$.set(t),t=$}},c=e.f||0,u=e.p||0,f=e.b||0,p=e.l,I=e.d,F=e.m,D=e.n,C=i*8;do{if(!p){c=Ya(r,u,1);var k=Ya(r,u+1,3);if(u+=3,k)if(k==1)p=xX,I=CX,F=9,D=5;else if(k==2){var Z=Ya(r,u,31)+257,q=Ya(r,u+10,15)+4,G=Z+Ya(r,u+5,31)+1;u+=14;for(var Y=new Pi(G),K=new Pi(19),H=0;H<q;++H)K[k4[H]]=Ya(r,u+H*3,7);u+=q*3;for(var te=BI(K),ue=(1<<te)-1,oe=gl(K,te,1),H=0;H<G;){var re=oe[Ya(r,u,ue)];u+=re&15;var U=re>>4;if(U<16)Y[H++]=U;else{var J=0,O=0;for(U==16?(O=3+Ya(r,u,3),u+=2,J=Y[H-1]):U==17?(O=3+Ya(r,u,7),u+=3):U==18&&(O=11+Ya(r,u,127),u+=7);O--;)Y[H++]=J}}var j=Y.subarray(0,Z),T=Y.subarray(Z);F=BI(j),D=BI(T),p=gl(j,F,1),I=gl(T,D,1)}else to(1);else{var U=tL(u)+4,Q=r[U-4]|r[U-3]<<8,V=U+Q;if(V>i){l&&to(0);break}o&&A(f+Q),t.set(r.subarray(U,V),f),e.b=f+=Q,e.p=u=V*8,e.f=c;continue}if(u>C){l&&to(0);break}}o&&A(f+131072);for(var _=(1<<F)-1,L=(1<<D)-1,v=u;;v=u){var J=p[xI(r,u)&_],E=J>>4;if(u+=J&15,u>C){l&&to(0);break}if(J||to(2),E<256)t[f++]=E;else if(E==256){v=u,p=null;break}else{var x=E-254;if(E>264){var H=E-257,g=Ix[H];x=Ya(r,u,(1<<g)-1)+xR[H],u+=g}var w=I[xI(r,u)&L],h=w>>4;w||to(3),u+=w&15;var T=bX[h];if(h>3){var g=Cx[h];T+=xI(r,u)&(1<<g)-1,u+=g}if(u>C){l&&to(0);break}o&&A(f+131072);var y=f+x;if(f<T){var d=s-T,M=Math.min(T,y);for(d+f<0&&to(3);f<M;++f)t[f]=n[d+f]}for(;f<y;++f)t[f]=t[f-T]}}e.l=p,e.p=v,e.b=f,e.f=c,p&&(c=1,e.m=F,e.d=I,e.n=D)}while(!c);return f!=t.length&&a?CR(t,0,f):t.subarray(0,f)},_l=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},Im=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},II=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var i=t.length,s=t.slice();if(!i)return{t:FR,l:0};if(i==1){var a=new Pi(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(V,Z){return V.f-Z.f}),t.push({s:-1,f:25001});var o=t[0],l=t[1],A=0,c=1,u=2;for(t[0]={s:-1,f:o.f+l.f,l:o,r:l};c!=i-1;)o=t[t[A].f<t[u].f?A++:u++],l=t[A!=c&&t[A].f<t[u].f?A++:u++],t[c++]={s:-1,f:o.f+l.f,l:o,r:l};for(var f=s[0].s,n=1;n<i;++n)s[n].s>f&&(f=s[n].s);var p=new ea(f+1),I=_4(t[c-1],p,0);if(I>e){var n=0,F=0,D=I-e,C=1<<D;for(s.sort(function(Z,q){return p[q.s]-p[Z.s]||Z.f-q.f});n<i;++n){var k=s[n].s;if(p[k]>e)F+=C-(1<<I-p[k]),p[k]=e;else break}for(F>>=D;F>0;){var U=s[n].s;p[U]<e?F-=1<<e-p[U]++-1:++n}for(;n>=0&&F;--n){var Q=s[n].s;p[Q]==e&&(--p[Q],++F)}I=e}return{t:new Pi(p),l:I}},_4=function(r,e,t){return r.s==-1?Math.max(_4(r.l,e,t+1),_4(r.r,e,t+1)):e[r.s]=t},Qk=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new ea(++e),n=0,i=r[0],s=1,a=function(l){t[n++]=l},o=1;o<=e;++o)if(r[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=r[o]}return{c:t.subarray(0,n),n:e}},Cm=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},SR=function(r,e,t){var n=t.length,i=tL(e+2);r[i]=n&255,r[i+1]=n>>8,r[i+2]=r[i]^255,r[i+3]=r[i+1]^255;for(var s=0;s<n;++s)r[i+s+4]=t[s];return(i+4+n)*8},Ok=function(r,e,t,n,i,s,a,o,l,A,c){_l(e,c++,t),++i[256];for(var u=II(i,15),f=u.t,p=u.l,I=II(s,15),F=I.t,D=I.l,C=Qk(f),k=C.c,U=C.n,Q=Qk(F),V=Q.c,Z=Q.n,q=new ea(19),G=0;G<k.length;++G)++q[k[G]&31];for(var G=0;G<V.length;++G)++q[V[G]&31];for(var Y=II(q,7),K=Y.t,H=Y.l,te=19;te>4&&!K[k4[te-1]];--te);var ue=A+5<<3,oe=Cm(i,gu)+Cm(s,A1)+a,re=Cm(i,f)+Cm(s,F)+a+14+3*te+Cm(q,K)+2*q[16]+3*q[17]+7*q[18];if(l>=0&&ue<=oe&&ue<=re)return SR(e,c,r.subarray(l,l+A));var J,O,j,T;if(_l(e,c,1+(re<oe)),c+=2,re<oe){J=gl(f,p,0),O=f,j=gl(F,D,0),T=F;var _=gl(K,H,0);_l(e,c,U-257),_l(e,c+5,Z-1),_l(e,c+10,te-4),c+=14;for(var G=0;G<te;++G)_l(e,c+3*G,K[k4[G]]);c+=3*te;for(var L=[k,V],v=0;v<2;++v)for(var E=L[v],G=0;G<E.length;++G){var x=E[G]&31;_l(e,c,_[x]),c+=K[x],x>15&&(_l(e,c,E[G]>>5&127),c+=E[G]>>12)}}else J=BX,O=gu,j=IX,T=A1;for(var G=0;G<o;++G){var g=n[G];if(g>255){var x=g>>18&31;Im(e,c,J[x+257]),c+=O[x+257],x>7&&(_l(e,c,g>>23&31),c+=Ix[x]);var w=g&31;Im(e,c,j[w]),c+=T[w],w>3&&(Im(e,c,g>>5&8191),c+=Cx[w])}else Im(e,c,J[g]),c+=O[g]}return Im(e,c,J[256]),c+O[256]},EX=new eL([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),FR=new Pi(0),LX=function(r,e,t,n,i,s){var a=s.z||r.length,o=new Pi(n+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(n,o.length-i),A=s.l,c=(s.r||0)&7;if(e){c&&(l[0]=s.r>>3);for(var u=EX[e-1],f=u>>13,p=u&8191,I=(1<<t)-1,F=s.p||new ea(32768),D=s.h||new ea(I+1),C=Math.ceil(t/3),k=2*C,U=function(se){return(r[se]^r[se+1]<<C^r[se+2]<<k)&I},Q=new eL(25e3),V=new ea(288),Z=new ea(32),q=0,G=0,Y=s.i||0,K=0,H=s.w||0,te=0;Y+2<a;++Y){var ue=U(Y),oe=Y&32767,re=D[ue];if(F[oe]=re,D[ue]=oe,H<=Y){var J=a-Y;if((q>7e3||K>24576)&&(J>423||!A)){c=Ok(r,l,0,Q,V,Z,G,K,te,Y-te,c),K=q=G=0,te=Y;for(var O=0;O<286;++O)V[O]=0;for(var O=0;O<30;++O)Z[O]=0}var j=2,T=0,_=p,L=oe-re&32767;if(J>2&&ue==U(Y-L))for(var v=Math.min(f,J)-1,E=Math.min(32767,Y),x=Math.min(258,J);L<=E&&--_&&oe!=re;){if(r[Y+j]==r[Y+j-L]){for(var g=0;g<x&&r[Y+g]==r[Y+g-L];++g);if(g>j){if(j=g,T=L,g>v)break;for(var w=Math.min(L,g-2),h=0,O=0;O<w;++O){var y=Y-L+O&32767,d=F[y],M=y-d&32767;M>h&&(h=M,re=y)}}}oe=re,re=F[oe],L+=oe-re&32767}if(T){Q[K++]=268435456|M4[j]<<18|Rk[T];var S=M4[j]&31,W=Rk[T]&31;G+=Ix[S]+Cx[W],++V[257+S],++Z[W],H=Y+j,++q}else Q[K++]=r[Y],++V[r[Y]]}}for(Y=Math.max(Y,H);Y<a;++Y)Q[K++]=r[Y],++V[r[Y]];c=Ok(r,l,A,Q,V,Z,G,K,te,Y-te,c),A||(s.r=c&7|l[c/8|0]<<3,c-=7,s.h=D,s.p=F,s.i=Y,s.w=H)}else{for(var Y=s.w||0;Y<a+A;Y+=65535){var $=Y+65535;$>=a&&(l[c/8|0]=A,$=a),c=SR(l,c+1,r.subarray(Y,$))}s.i=a}return CR(o,0,n+tL(c)+i)},ER=function(){var r=1,e=0;return{p:function(t){for(var n=r,i=e,s=t.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=t[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}r=n,e=i},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},NX=function(r,e,t,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Pi(s.length+r.length);a.set(s),a.set(r,s.length),r=a,i.w=s.length}return LX(r,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,i)},LR=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},kX=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var i=ER();i.p(e.dictionary),LR(r,2,i.d())}},MX=function(r,e){return((r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31)&&to(6,"invalid zlib data"),(r[1]>>5&1)==1&&to(6,"invalid zlib data: "+(r[1]&32?"need":"unexpected")+" dictionary"),(r[1]>>3&4)+2};function U4(r,e){e||(e={});var t=ER();t.p(r);var n=NX(r,e,e.dictionary?6:2,4);return kX(n,e),LR(n,n.length-4,t.d()),n}function DX(r,e){return FX(r.subarray(MX(r),-4),{i:2},e,e)}var _X=typeof TextDecoder<"u"&&new TextDecoder,UX=0;try{_X.decode(FR,{stream:!0}),UX=1}catch{}var bt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function CI(){bt.console&&typeof bt.console.log=="function"&&bt.console.log.apply(bt.console,arguments)}var yr={log:CI,warn:function(r){bt.console&&(typeof bt.console.warn=="function"?bt.console.warn.apply(bt.console,arguments):CI.call(null,arguments))},error:function(r){bt.console&&(typeof bt.console.error=="function"?bt.console.error.apply(bt.console,arguments):CI(r))}};function SI(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){$u(n.response,e,t)},n.onerror=function(){yr.error("could not download file")},n.send()}function jk(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Uw(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var L0,P4,$u=bt.saveAs||((typeof window>"u"?"undefined":Jt(window))!=="object"||window!==bt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=bt.URL||bt.webkitURL,i=document.createElement("a");e=e||r.name||"download",i.download=e,i.rel="noopener",typeof r=="string"?(i.href=r,i.origin!==location.origin?jk(i.href)?SI(r,e,t):Uw(i,i.target="_blank"):Uw(i)):(i.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Uw(i)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(jk(r))SI(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){Uw(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Jt(s)!=="object"&&(yr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return SI(r,e,t);var i=r.type==="application/octet-stream",s=/constructor/i.test(bt.HTMLElement)||bt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Jt(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var c=o.result;c=a?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=c:location=c,n=null},o.readAsDataURL(r)}else{var l=bt.URL||bt.webkitURL,A=l.createObjectURL(r);n?n.location=A:location.href=A,n=null,setTimeout(function(){l.revokeObjectURL(A)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function NR(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<t.length;n++){var i=t[n].re,s=t[n].process,a=i.exec(r);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),A=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),A.length==1&&(A="0"+A),"#"+o+l+A}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function FI(r,e){var t=r[0],n=r[1],i=r[2],s=r[3];t=xi(t,n,i,s,e[0],7,-680876936),s=xi(s,t,n,i,e[1],12,-389564586),i=xi(i,s,t,n,e[2],17,606105819),n=xi(n,i,s,t,e[3],22,-1044525330),t=xi(t,n,i,s,e[4],7,-176418897),s=xi(s,t,n,i,e[5],12,1200080426),i=xi(i,s,t,n,e[6],17,-1473231341),n=xi(n,i,s,t,e[7],22,-45705983),t=xi(t,n,i,s,e[8],7,1770035416),s=xi(s,t,n,i,e[9],12,-1958414417),i=xi(i,s,t,n,e[10],17,-42063),n=xi(n,i,s,t,e[11],22,-1990404162),t=xi(t,n,i,s,e[12],7,1804603682),s=xi(s,t,n,i,e[13],12,-40341101),i=xi(i,s,t,n,e[14],17,-1502002290),t=Ii(t,n=xi(n,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Ii(s,t,n,i,e[6],9,-1069501632),i=Ii(i,s,t,n,e[11],14,643717713),n=Ii(n,i,s,t,e[0],20,-373897302),t=Ii(t,n,i,s,e[5],5,-701558691),s=Ii(s,t,n,i,e[10],9,38016083),i=Ii(i,s,t,n,e[15],14,-660478335),n=Ii(n,i,s,t,e[4],20,-405537848),t=Ii(t,n,i,s,e[9],5,568446438),s=Ii(s,t,n,i,e[14],9,-1019803690),i=Ii(i,s,t,n,e[3],14,-187363961),n=Ii(n,i,s,t,e[8],20,1163531501),t=Ii(t,n,i,s,e[13],5,-1444681467),s=Ii(s,t,n,i,e[2],9,-51403784),i=Ii(i,s,t,n,e[7],14,1735328473),t=Ci(t,n=Ii(n,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Ci(s,t,n,i,e[8],11,-2022574463),i=Ci(i,s,t,n,e[11],16,1839030562),n=Ci(n,i,s,t,e[14],23,-35309556),t=Ci(t,n,i,s,e[1],4,-1530992060),s=Ci(s,t,n,i,e[4],11,1272893353),i=Ci(i,s,t,n,e[7],16,-155497632),n=Ci(n,i,s,t,e[10],23,-1094730640),t=Ci(t,n,i,s,e[13],4,681279174),s=Ci(s,t,n,i,e[0],11,-358537222),i=Ci(i,s,t,n,e[3],16,-722521979),n=Ci(n,i,s,t,e[6],23,76029189),t=Ci(t,n,i,s,e[9],4,-640364487),s=Ci(s,t,n,i,e[12],11,-421815835),i=Ci(i,s,t,n,e[15],16,530742520),t=Si(t,n=Ci(n,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Si(s,t,n,i,e[7],10,1126891415),i=Si(i,s,t,n,e[14],15,-1416354905),n=Si(n,i,s,t,e[5],21,-57434055),t=Si(t,n,i,s,e[12],6,1700485571),s=Si(s,t,n,i,e[3],10,-1894986606),i=Si(i,s,t,n,e[10],15,-1051523),n=Si(n,i,s,t,e[1],21,-2054922799),t=Si(t,n,i,s,e[8],6,1873313359),s=Si(s,t,n,i,e[15],10,-30611744),i=Si(i,s,t,n,e[6],15,-1560198380),n=Si(n,i,s,t,e[13],21,1309151649),t=Si(t,n,i,s,e[4],6,-145523070),s=Si(s,t,n,i,e[11],10,-1120210379),i=Si(i,s,t,n,e[2],15,718787259),n=Si(n,i,s,t,e[9],21,-343485551),r[0]=Vc(t,r[0]),r[1]=Vc(n,r[1]),r[2]=Vc(i,r[2]),r[3]=Vc(s,r[3])}function Sx(r,e,t,n,i,s){return e=Vc(Vc(e,r),Vc(n,s)),Vc(e<<i|e>>>32-i,t)}function xi(r,e,t,n,i,s,a){return Sx(e&t|~e&n,r,e,i,s,a)}function Ii(r,e,t,n,i,s,a){return Sx(e&n|t&~n,r,e,i,s,a)}function Ci(r,e,t,n,i,s,a){return Sx(e^t^n,r,e,i,s,a)}function Si(r,e,t,n,i,s,a){return Sx(t^(e|~n),r,e,i,s,a)}function kR(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)FI(n,PX(r.substring(e-64,e)));r=r.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)i[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(FI(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,FI(n,i),n}function PX(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}L0=bt.atob.bind(bt),P4=bt.btoa.bind(bt);var Hk="0123456789abcdef".split("");function TX(r){for(var e="",t=0;t<4;t++)e+=Hk[r>>8*t+4&15]+Hk[r>>8*t&15];return e}function RX(r){return String.fromCharCode((255&r)>>0,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function T4(r){return kR(r).map(RX).join("")}var QX=function(r){for(var e=0;e<r.length;e++)r[e]=TX(r[e]);return r.join("")}(kR("hello"))!="5d41402abc4b2a76b9719d911017c592";function Vc(r,e){if(QX){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function R4(r,e){var t,n,i,s;if(r!==t){for(var a=(i=r,s=1+(256/r.length>>0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var A=0;for(l=0;l<256;l++){var c=o[l];A=(A+c+a.charCodeAt(l))%256,o[l]=o[A],o[A]=c}t=r,n=o}else o=n;var u=e.length,f=0,p=0,I="";for(l=0;l<u;l++)p=(p+(c=o[f=(f+1)%256]))%256,o[f]=o[p],o[p]=c,a=o[(o[f]+o[p])%256],I+=String.fromCharCode(e.charCodeAt(l)^a);return I}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Wk={print:4,modify:8,copy:16,"annot-forms":32};function Ff(r,e,t,n){this.v=1,this.r=2;var i=192;r.forEach(function(o){if(Wk.perm!==void 0)throw new Error("Invalid permission: "+o);i+=Wk[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=T4(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=R4(this.encryptionKey,this.padding)}function Ef(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var i=r.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=r[n]}return e}function Kk(r){if(Jt(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,i){if(i=i||!1,typeof t!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[n,!!i],s},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var a=e[t][s];try{a[0].apply(r,n)}catch(o){bt.console&&yr.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function tB(r){if(!(this instanceof tB))return new tB(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function MR(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function zu(r,e,t,n,i){if(!(this instanceof zu))return new zu(r,e,t,n,i);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,MR.call(this,n,i)}function Kf(r,e,t,n,i){if(!(this instanceof Kf))return new Kf(r,e,t,n,i);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,MR.call(this,n,i)}function wt(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,A="S",c=null;Jt(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,i=r.format||i,s=r.compress||r.compressPdf||s,(c=r.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),o=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(l=r.floatPrecision),A=r.defaultPathOperation||"S"),a=r.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",t=(""+(t||"P")).toLowerCase();var u=r.putOnlyUsedFonts||!1,f={},p={internal:{},__private__:{}};p.__private__.PubSub=Kk;var I="1.3",F=p.__private__.getPdfVersion=function(){return I};p.__private__.setPdfVersion=function(P){I=P};var D={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return D};var C=p.__private__.getPageFormat=function(P){return D[P]};i=i||"a4";var k={COMPAT:"compat",ADVANCED:"advanced"},U=k.COMPAT;function Q(){this.saveGraphicsState(),pe(new yt(Ve,0,0,-Ve,0,QA()*Ve).toString()+" cm"),this.setFontSize(this.getFontSize()/Ve),A="n",U=k.ADVANCED}function V(){this.restoreGraphicsState(),A="S",U=k.COMPAT}var Z=p.__private__.combineFontStyleAndFontWeight=function(P,ie){if(P=="bold"&&ie=="normal"||P=="bold"&&ie==400||P=="normal"&&ie=="italic"||P=="bold"&&ie=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ie&&(P=ie==400||ie==="normal"?P==="italic"?"italic":"normal":ie!=700&&ie!=="bold"||P!=="normal"?(ie==700?"bold":ie)+""+P:"bold"),P};p.advancedAPI=function(P){var ie=U===k.COMPAT;return ie&&Q.call(this),typeof P!="function"||(P(this),ie&&V.call(this)),this},p.compatAPI=function(P){var ie=U===k.ADVANCED;return ie&&V.call(this),typeof P!="function"||(P(this),ie&&Q.call(this)),this},p.isAdvancedAPI=function(){return U===k.ADVANCED};var q,G=function(P){if(U!==k.ADVANCED)throw new Error(P+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Y=p.roundToPrecision=p.__private__.roundToPrecision=function(P,ie){var ye=e||ie;if(isNaN(P)||isNaN(ye))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return P.toFixed(ye).replace(/0+$/,"")};q=p.hpf=p.__private__.hpf=typeof l=="number"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(P,l)}:l==="smart"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(P,P>-1&&P<1?16:5)}:function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(P,16)};var K=p.f2=p.__private__.f2=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f2");return Y(P,2)},H=p.__private__.f3=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f3");return Y(P,3)},te=p.scale=p.__private__.scale=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.scale");return U===k.COMPAT?P*Ve:U===k.ADVANCED?P:void 0},ue=function(P){return U===k.COMPAT?QA()-P:U===k.ADVANCED?P:void 0},oe=function(P){return te(ue(P))};p.__private__.setPrecision=p.setPrecision=function(P){typeof parseInt(P,10)=="number"&&(e=parseInt(P,10))};var re,J="00000000000000000000000000000000",O=p.__private__.getFileId=function(){return J},j=p.__private__.setFileId=function(P){return J=P!==void 0&&/^[a-fA-F0-9]{32}$/.test(P)?P.toUpperCase():J.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(wi=new Ff(c.userPermissions,c.userPassword,c.ownerPassword,J)),J};p.setFileId=function(P){return j(P),this},p.getFileId=function(){return O()};var T=p.__private__.convertDateToPDFDate=function(P){var ie=P.getTimezoneOffset(),ye=ie<0?"+":"-",we=Math.floor(Math.abs(ie/60)),Ie=Math.abs(ie%60),Ee=[ye,x(we),"'",x(Ie),"'"].join("");return["D:",P.getFullYear(),x(P.getMonth()+1),x(P.getDate()),x(P.getHours()),x(P.getMinutes()),x(P.getSeconds()),Ee].join("")},_=p.__private__.convertPDFDateToDate=function(P){var ie=parseInt(P.substr(2,4),10),ye=parseInt(P.substr(6,2),10)-1,we=parseInt(P.substr(8,2),10),Ie=parseInt(P.substr(10,2),10),Ee=parseInt(P.substr(12,2),10),Ue=parseInt(P.substr(14,2),10);return new Date(ie,ye,we,Ie,Ee,Ue,0)},L=p.__private__.setCreationDate=function(P){var ie;if(P===void 0&&(P=new Date),P instanceof Date)ie=T(P);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(P))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ie=P}return re=ie},v=p.__private__.getCreationDate=function(P){var ie=re;return P==="jsDate"&&(ie=_(re)),ie};p.setCreationDate=function(P){return L(P),this},p.getCreationDate=function(P){return v(P)};var E,x=p.__private__.padd2=function(P){return("0"+parseInt(P)).slice(-2)},g=p.__private__.padd2Hex=function(P){return("00"+(P=P.toString())).substr(P.length)},w=0,h=[],y=[],d=0,M=[],S=[],W=!1,$=y,se=function(){w=0,d=0,y=[],h=[],M=[],Il=ln(),ja=ln()};p.__private__.setCustomOutputDestination=function(P){W=!0,$=P};var me=function(P){W||($=P)};p.__private__.resetCustomOutputDestination=function(){W=!1,$=y};var pe=p.__private__.out=function(P){return P=P.toString(),d+=P.length+1,$.push(P),$},at=p.__private__.write=function(P){return pe(arguments.length===1?P.toString():Array.prototype.join.call(arguments," "))},Te=p.__private__.getArrayBuffer=function(P){for(var ie=P.length,ye=new ArrayBuffer(ie),we=new Uint8Array(ye);ie--;)we[ie]=P.charCodeAt(ie);return ye},De=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return De};var je=r.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(P){return je=U===k.ADVANCED?P/Ve:P,this};var qe,Ge=p.__private__.getFontSize=p.getFontSize=function(){return U===k.COMPAT?je:je*Ve},lt=r.R2L||!1;p.__private__.setR2L=p.setR2L=function(P){return lt=P,this},p.__private__.getR2L=p.getR2L=function(){return lt};var Bt,Nt=p.__private__.setZoomMode=function(P){var ie=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(P))qe=P;else if(isNaN(P)){if(ie.indexOf(P)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+P+'" is not recognized.');qe=P}else qe=parseInt(P,10)};p.__private__.getZoomMode=function(){return qe};var _t,Ht=p.__private__.setPageMode=function(P){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+P+'" is not recognized.');Bt=P};p.__private__.getPageMode=function(){return Bt};var tr=p.__private__.setLayoutMode=function(P){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(P)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+P+'" is not recognized.');_t=P};p.__private__.getLayoutMode=function(){return _t},p.__private__.setDisplayMode=p.setDisplayMode=function(P,ie,ye){return Nt(P),tr(ie),Ht(ye),this};var vt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(P){if(Object.keys(vt).indexOf(P)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return vt[P]},p.__private__.getDocumentProperties=function(){return vt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(P){for(var ie in vt)vt.hasOwnProperty(ie)&&P[ie]&&(vt[ie]=P[ie]);return this},p.__private__.setDocumentProperty=function(P,ie){if(Object.keys(vt).indexOf(P)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return vt[P]=ie};var Ut,Ve,Dn,Wt,Le,Re={},He={},ht=[],ft={},_n={},sr={},yi={},Ri=null,br=0,Ct=[],rr=new Kk(p),Su=r.hotfixes||[],Zn={},Lo={},No=[],yt=function P(ie,ye,we,Ie,Ee,Ue){if(!(this instanceof P))return new P(ie,ye,we,Ie,Ee,Ue);isNaN(ie)&&(ie=1),isNaN(ye)&&(ye=0),isNaN(we)&&(we=0),isNaN(Ie)&&(Ie=1),isNaN(Ee)&&(Ee=0),isNaN(Ue)&&(Ue=0),this._matrix=[ie,ye,we,Ie,Ee,Ue]};Object.defineProperty(yt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(yt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(yt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(yt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(yt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(yt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(yt.prototype,"a",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(yt.prototype,"b",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(yt.prototype,"c",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(yt.prototype,"d",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(yt.prototype,"e",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(yt.prototype,"f",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(yt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(yt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(yt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(yt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),yt.prototype.join=function(P){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(q).join(P)},yt.prototype.multiply=function(P){var ie=P.sx*this.sx+P.shy*this.shx,ye=P.sx*this.shy+P.shy*this.sy,we=P.shx*this.sx+P.sy*this.shx,Ie=P.shx*this.shy+P.sy*this.sy,Ee=P.tx*this.sx+P.ty*this.shx+this.tx,Ue=P.tx*this.shy+P.ty*this.sy+this.ty;return new yt(ie,ye,we,Ie,Ee,Ue)},yt.prototype.decompose=function(){var P=this.sx,ie=this.shy,ye=this.shx,we=this.sy,Ie=this.tx,Ee=this.ty,Ue=Math.sqrt(P*P+ie*ie),Je=(P/=Ue)*ye+(ie/=Ue)*we;ye-=P*Je,we-=ie*Je;var ut=Math.sqrt(ye*ye+we*we);return Je/=ut,P*(we/=ut)<ie*(ye/=ut)&&(P=-P,ie=-ie,Je=-Je,Ue=-Ue),{scale:new yt(Ue,0,0,ut,0,0),translate:new yt(1,0,0,1,Ie,Ee),rotate:new yt(P,ie,-ie,P,0,0),skew:new yt(1,0,Je,1,0,0)}},yt.prototype.toString=function(P){return this.join(" ")},yt.prototype.inversed=function(){var P=this.sx,ie=this.shy,ye=this.shx,we=this.sy,Ie=this.tx,Ee=this.ty,Ue=1/(P*we-ie*ye),Je=we*Ue,ut=-ie*Ue,kt=-ye*Ue,St=P*Ue;return new yt(Je,ut,kt,St,-Je*Ie-kt*Ee,-ut*Ie-St*Ee)},yt.prototype.applyToPoint=function(P){var ie=P.x*this.sx+P.y*this.shx+this.tx,ye=P.x*this.shy+P.y*this.sy+this.ty;return new Wh(ie,ye)},yt.prototype.applyToRectangle=function(P){var ie=this.applyToPoint(P),ye=this.applyToPoint(new Wh(P.x+P.w,P.y+P.h));return new jg(ie.x,ie.y,ye.x-ie.x,ye.y-ie.y)},yt.prototype.clone=function(){var P=this.sx,ie=this.shy,ye=this.shx,we=this.sy,Ie=this.tx,Ee=this.ty;return new yt(P,ie,ye,we,Ie,Ee)},p.Matrix=yt;var Oa=p.matrixMult=function(P,ie){return ie.multiply(P)},ko=new yt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=ko;var as=function(P,ie){if(!_n[P]){var ye=(ie instanceof zu?"Sh":"P")+(Object.keys(ft).length+1).toString(10);ie.id=ye,_n[P]=ye,ft[ye]=ie,rr.publish("addPattern",ie)}};p.ShadingPattern=zu,p.TilingPattern=Kf,p.addShadingPattern=function(P,ie){return G("addShadingPattern()"),as(P,ie),this},p.beginTilingPattern=function(P){G("beginTilingPattern()"),Dy(P.boundingBox[0],P.boundingBox[1],P.boundingBox[2]-P.boundingBox[0],P.boundingBox[3]-P.boundingBox[1],P.matrix)},p.endTilingPattern=function(P,ie){G("endTilingPattern()"),ie.stream=S[E].join(`
`),as(P,ie),rr.publish("endTilingPattern",ie),No.pop().restore()};var vn=p.__private__.newObject=function(){var P=ln();return Fs(P,!0),P},ln=p.__private__.newObjectDeferred=function(){return w++,h[w]=function(){return d},w},Fs=function(P,ie){return ie=typeof ie=="boolean"&&ie,h[P]=d,ie&&pe(P+" 0 obj"),P},Nh=p.__private__.newAdditionalObject=function(){var P={objId:ln(),content:""};return M.push(P),P},Il=ln(),ja=ln(),Ha=p.__private__.decodeColorString=function(P){var ie=P.split(" ");if(ie.length!==2||ie[1]!=="g"&&ie[1]!=="G")ie.length===5&&(ie[4]==="k"||ie[4]==="K")&&(ie=[(1-ie[0])*(1-ie[3]),(1-ie[1])*(1-ie[3]),(1-ie[2])*(1-ie[3]),"r"]);else{var ye=parseFloat(ie[0]);ie=[ye,ye,ye,"r"]}for(var we="#",Ie=0;Ie<3;Ie++)we+=("0"+Math.floor(255*parseFloat(ie[Ie])).toString(16)).slice(-2);return we},Wa=p.__private__.encodeColorString=function(P){var ie;typeof P=="string"&&(P={ch1:P});var ye=P.ch1,we=P.ch2,Ie=P.ch3,Ee=P.ch4,Ue=P.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ye=="string"&&ye.charAt(0)!=="#"){var Je=new NR(ye);if(Je.ok)ye=Je.toHex();else if(!/^\d*\.?\d*$/.test(ye))throw new Error('Invalid color "'+ye+'" passed to jsPDF.encodeColorString.')}if(typeof ye=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ye)&&(ye="#"+ye[1]+ye[1]+ye[2]+ye[2]+ye[3]+ye[3]),typeof ye=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ye)){var ut=parseInt(ye.substr(1),16);ye=ut>>16&255,we=ut>>8&255,Ie=255&ut}if(we===void 0||Ee===void 0&&ye===we&&we===Ie)if(typeof ye=="string")ie=ye+" "+Ue[0];else switch(P.precision){case 2:ie=K(ye/255)+" "+Ue[0];break;case 3:default:ie=H(ye/255)+" "+Ue[0]}else if(Ee===void 0||Jt(Ee)==="object"){if(Ee&&!isNaN(Ee.a)&&Ee.a===0)return ie=["1.","1.","1.",Ue[1]].join(" ");if(typeof ye=="string")ie=[ye,we,Ie,Ue[1]].join(" ");else switch(P.precision){case 2:ie=[K(ye/255),K(we/255),K(Ie/255),Ue[1]].join(" ");break;default:case 3:ie=[H(ye/255),H(we/255),H(Ie/255),Ue[1]].join(" ")}}else if(typeof ye=="string")ie=[ye,we,Ie,Ee,Ue[2]].join(" ");else switch(P.precision){case 2:ie=[K(ye),K(we),K(Ie),K(Ee),Ue[2]].join(" ");break;case 3:default:ie=[H(ye),H(we),H(Ie),H(Ee),Ue[2]].join(" ")}return ie},Mo=p.__private__.getFilters=function(){return a},Aa=p.__private__.putStream=function(P){var ie=(P=P||{}).data||"",ye=P.filters||Mo(),we=P.alreadyAppliedFilters||[],Ie=P.addLength1||!1,Ee=ie.length,Ue=P.objectId,Je=function(vi){return vi};if(c!==null&&Ue===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(Je=wi.encryptor(Ue,0));var ut={};ye===!0&&(ye=["FlateEncode"]);var kt=P.additionalKeyValues||[],St=(ut=wt.API.processDataByFilters!==void 0?wt.API.processDataByFilters(ie,ye):{data:ie,reverseChain:[]}).reverseChain+(Array.isArray(we)?we.join(" "):we.toString());if(ut.data.length!==0&&(kt.push({key:"Length",value:ut.data.length}),Ie===!0&&kt.push({key:"Length1",value:Ee})),St.length!=0)if(St.split("/").length-1==1)kt.push({key:"Filter",value:St});else{kt.push({key:"Filter",value:"["+St+"]"});for(var Gt=0;Gt<kt.length;Gt+=1)if(kt[Gt].key==="DecodeParms"){for(var Tr=[],Kr=0;Kr<ut.reverseChain.split("/").length-1;Kr+=1)Tr.push("null");Tr.push(kt[Gt].value),kt[Gt].value="["+Tr.join(" ")+"]"}}pe("<<");for(var An=0;An<kt.length;An++)pe("/"+kt[An].key+" "+kt[An].value);pe(">>"),ut.data.length!==0&&(pe("stream"),pe(Je(ut.data)),pe("endstream"))},Do=p.__private__.putPage=function(P){var ie=P.number,ye=P.data,we=P.objId,Ie=P.contentsObjId;Fs(we,!0),pe("<</Type /Page"),pe("/Parent "+P.rootDictionaryObjId+" 0 R"),pe("/Resources "+P.resourceDictionaryObjId+" 0 R"),pe("/MediaBox ["+parseFloat(q(P.mediaBox.bottomLeftX))+" "+parseFloat(q(P.mediaBox.bottomLeftY))+" "+q(P.mediaBox.topRightX)+" "+q(P.mediaBox.topRightY)+"]"),P.cropBox!==null&&pe("/CropBox ["+q(P.cropBox.bottomLeftX)+" "+q(P.cropBox.bottomLeftY)+" "+q(P.cropBox.topRightX)+" "+q(P.cropBox.topRightY)+"]"),P.bleedBox!==null&&pe("/BleedBox ["+q(P.bleedBox.bottomLeftX)+" "+q(P.bleedBox.bottomLeftY)+" "+q(P.bleedBox.topRightX)+" "+q(P.bleedBox.topRightY)+"]"),P.trimBox!==null&&pe("/TrimBox ["+q(P.trimBox.bottomLeftX)+" "+q(P.trimBox.bottomLeftY)+" "+q(P.trimBox.topRightX)+" "+q(P.trimBox.topRightY)+"]"),P.artBox!==null&&pe("/ArtBox ["+q(P.artBox.bottomLeftX)+" "+q(P.artBox.bottomLeftY)+" "+q(P.artBox.topRightX)+" "+q(P.artBox.topRightY)+"]"),typeof P.userUnit=="number"&&P.userUnit!==1&&pe("/UserUnit "+P.userUnit),rr.publish("putPage",{objId:we,pageContext:Ct[ie],pageNumber:ie,page:ye}),pe("/Contents "+Ie+" 0 R"),pe(">>"),pe("endobj");var Ee=ye.join(`
`);return U===k.ADVANCED&&(Ee+=`
Q`),Fs(Ie,!0),Aa({data:Ee,filters:Mo(),objectId:Ie}),pe("endobj"),we},Fu=p.__private__.putPages=function(){var P,ie,ye=[];for(P=1;P<=br;P++)Ct[P].objId=ln(),Ct[P].contentsObjId=ln();for(P=1;P<=br;P++)ye.push(Do({number:P,data:S[P],objId:Ct[P].objId,contentsObjId:Ct[P].contentsObjId,mediaBox:Ct[P].mediaBox,cropBox:Ct[P].cropBox,bleedBox:Ct[P].bleedBox,trimBox:Ct[P].trimBox,artBox:Ct[P].artBox,userUnit:Ct[P].userUnit,rootDictionaryObjId:Il,resourceDictionaryObjId:ja}));Fs(Il,!0),pe("<</Type /Pages");var we="/Kids [";for(ie=0;ie<br;ie++)we+=ye[ie]+" 0 R ";pe(we+"]"),pe("/Count "+br),pe(">>"),pe("endobj"),rr.publish("postPutPages")},kh=function(P){rr.publish("putFont",{font:P,out:pe,newObject:vn,putStream:Aa}),P.isAlreadyPutted!==!0&&(P.objectNumber=vn(),pe("<<"),pe("/Type /Font"),pe("/BaseFont /"+Ef(P.postScriptName)),pe("/Subtype /Type1"),typeof P.encoding=="string"&&pe("/Encoding /"+P.encoding),pe("/FirstChar 32"),pe("/LastChar 255"),pe(">>"),pe("endobj"))},Mh=function(){for(var P in Re)Re.hasOwnProperty(P)&&(u===!1||u===!0&&f.hasOwnProperty(P))&&kh(Re[P])},Dh=function(P){P.objectNumber=vn();var ie=[];ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Form"}),ie.push({key:"BBox",value:"["+[q(P.x),q(P.y),q(P.x+P.width),q(P.y+P.height)].join(" ")+"]"}),ie.push({key:"Matrix",value:"["+P.matrix.toString()+"]"});var ye=P.pages[1].join(`
`);Aa({data:ye,additionalKeyValues:ie,objectId:P.objectNumber}),pe("endobj")},_h=function(){for(var P in Zn)Zn.hasOwnProperty(P)&&Dh(Zn[P])},py=function(P,ie){var ye,we=[],Ie=1/(ie-1);for(ye=0;ye<1;ye+=Ie)we.push(ye);if(we.push(1),P[0].offset!=0){var Ee={offset:0,color:P[0].color};P.unshift(Ee)}if(P[P.length-1].offset!=1){var Ue={offset:1,color:P[P.length-1].color};P.push(Ue)}for(var Je="",ut=0,kt=0;kt<we.length;kt++){for(ye=we[kt];ye>P[ut+1].offset;)ut++;var St=P[ut].offset,Gt=(ye-St)/(P[ut+1].offset-St),Tr=P[ut].color,Kr=P[ut+1].color;Je+=g(Math.round((1-Gt)*Tr[0]+Gt*Kr[0]).toString(16))+g(Math.round((1-Gt)*Tr[1]+Gt*Kr[1]).toString(16))+g(Math.round((1-Gt)*Tr[2]+Gt*Kr[2]).toString(16))}return Je.trim()},Tx=function(P,ie){ie||(ie=21);var ye=vn(),we=py(P.colors,ie),Ie=[];Ie.push({key:"FunctionType",value:"0"}),Ie.push({key:"Domain",value:"[0.0 1.0]"}),Ie.push({key:"Size",value:"["+ie+"]"}),Ie.push({key:"BitsPerSample",value:"8"}),Ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Aa({data:we,additionalKeyValues:Ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ye}),pe("endobj"),P.objectNumber=vn(),pe("<< /ShadingType "+P.type),pe("/ColorSpace /DeviceRGB");var Ee="/Coords ["+q(parseFloat(P.coords[0]))+" "+q(parseFloat(P.coords[1]))+" ";P.type===2?Ee+=q(parseFloat(P.coords[2]))+" "+q(parseFloat(P.coords[3])):Ee+=q(parseFloat(P.coords[2]))+" "+q(parseFloat(P.coords[3]))+" "+q(parseFloat(P.coords[4]))+" "+q(parseFloat(P.coords[5])),pe(Ee+="]"),P.matrix&&pe("/Matrix ["+P.matrix.toString()+"]"),pe("/Function "+ye+" 0 R"),pe("/Extend [true true]"),pe(">>"),pe("endobj")},Rx=function(P,ie){var ye=ln(),we=vn();ie.push({resourcesOid:ye,objectOid:we}),P.objectNumber=we;var Ie=[];Ie.push({key:"Type",value:"/Pattern"}),Ie.push({key:"PatternType",value:"1"}),Ie.push({key:"PaintType",value:"1"}),Ie.push({key:"TilingType",value:"1"}),Ie.push({key:"BBox",value:"["+P.boundingBox.map(q).join(" ")+"]"}),Ie.push({key:"XStep",value:q(P.xStep)}),Ie.push({key:"YStep",value:q(P.yStep)}),Ie.push({key:"Resources",value:ye+" 0 R"}),P.matrix&&Ie.push({key:"Matrix",value:"["+P.matrix.toString()+"]"}),Aa({data:P.stream,additionalKeyValues:Ie,objectId:P.objectNumber}),pe("endobj")},Uh=function(P){var ie;for(ie in ft)ft.hasOwnProperty(ie)&&(ft[ie]instanceof zu?Tx(ft[ie]):ft[ie]instanceof Kf&&Rx(ft[ie],P))},gy=function(P){for(var ie in P.objectNumber=vn(),pe("<<"),P)switch(ie){case"opacity":pe("/ca "+K(P[ie]));break;case"stroke-opacity":pe("/CA "+K(P[ie]))}pe(">>"),pe("endobj")},Qx=function(){var P;for(P in sr)sr.hasOwnProperty(P)&&gy(sr[P])},kg=function(){for(var P in pe("/XObject <<"),Zn)Zn.hasOwnProperty(P)&&Zn[P].objectNumber>=0&&pe("/"+P+" "+Zn[P].objectNumber+" 0 R");rr.publish("putXobjectDict"),pe(">>")},Ox=function(){wi.oid=vn(),pe("<<"),pe("/Filter /Standard"),pe("/V "+wi.v),pe("/R "+wi.r),pe("/U <"+wi.toHexString(wi.U)+">"),pe("/O <"+wi.toHexString(wi.O)+">"),pe("/P "+wi.P),pe(">>"),pe("endobj")},my=function(){for(var P in pe("/Font <<"),Re)Re.hasOwnProperty(P)&&(u===!1||u===!0&&f.hasOwnProperty(P))&&pe("/"+P+" "+Re[P].objectNumber+" 0 R");pe(">>")},jx=function(){if(Object.keys(ft).length>0){for(var P in pe("/Shading <<"),ft)ft.hasOwnProperty(P)&&ft[P]instanceof zu&&ft[P].objectNumber>=0&&pe("/"+P+" "+ft[P].objectNumber+" 0 R");rr.publish("putShadingPatternDict"),pe(">>")}},Ph=function(P){if(Object.keys(ft).length>0){for(var ie in pe("/Pattern <<"),ft)ft.hasOwnProperty(ie)&&ft[ie]instanceof p.TilingPattern&&ft[ie].objectNumber>=0&&ft[ie].objectNumber<P&&pe("/"+ie+" "+ft[ie].objectNumber+" 0 R");rr.publish("putTilingPatternDict"),pe(">>")}},Hx=function(){if(Object.keys(sr).length>0){var P;for(P in pe("/ExtGState <<"),sr)sr.hasOwnProperty(P)&&sr[P].objectNumber>=0&&pe("/"+P+" "+sr[P].objectNumber+" 0 R");rr.publish("putGStateDict"),pe(">>")}},qr=function(P){Fs(P.resourcesOid,!0),pe("<<"),pe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),my(),jx(),Ph(P.objectOid),Hx(),kg(),pe(">>"),pe("endobj")},yy=function(){var P=[];Mh(),Qx(),_h(),Uh(P),rr.publish("putResources"),P.forEach(qr),qr({resourcesOid:ja,objectOid:Number.MAX_SAFE_INTEGER}),rr.publish("postPutResources")},wy=function(){rr.publish("putAdditionalObjects");for(var P=0;P<M.length;P++){var ie=M[P];Fs(ie.objId,!0),pe(ie.content),pe("endobj")}rr.publish("postPutAdditionalObjects")},vy=function(P){He[P.fontName]=He[P.fontName]||{},He[P.fontName][P.fontStyle]=P.id},Mg=function(P,ie,ye,we,Ie){var Ee={id:"F"+(Object.keys(Re).length+1).toString(10),postScriptName:P,fontName:ie,fontStyle:ye,encoding:we,isStandardFont:Ie||!1,metadata:{}};return rr.publish("addFont",{font:Ee,instance:this}),Re[Ee.id]=Ee,vy(Ee),Ee.id},Wx=function(P){for(var ie=0,ye=De.length;ie<ye;ie++){var we=Mg.call(this,P[ie][0],P[ie][1],P[ie][2],De[ie][3],!0);u===!1&&(f[we]=!0);var Ie=P[ie][0].split("-");vy({id:we,fontName:Ie[0],fontStyle:Ie[1]||""})}rr.publish("addFonts",{fonts:Re,dictionary:He})},Ka=function(P){return P.foo=function(){try{return P.apply(this,arguments)}catch(we){var ie=we.stack||"";~ie.indexOf(" at ")&&(ie=ie.split(" at ")[1]);var ye="Error in function "+ie.split(`
`)[0].split("<")[0]+": "+we.message;if(!bt.console)throw new Error(ye);bt.console.error(ye,we),bt.alert&&alert(ye)}},P.foo.bar=P,P.foo},Th=function(P,ie){var ye,we,Ie,Ee,Ue,Je,ut,kt,St;if(Ie=(ie=ie||{}).sourceEncoding||"Unicode",Ue=ie.outputEncoding,(ie.autoencode||Ue)&&Re[Ut].metadata&&Re[Ut].metadata[Ie]&&Re[Ut].metadata[Ie].encoding&&(Ee=Re[Ut].metadata[Ie].encoding,!Ue&&Re[Ut].encoding&&(Ue=Re[Ut].encoding),!Ue&&Ee.codePages&&(Ue=Ee.codePages[0]),typeof Ue=="string"&&(Ue=Ee[Ue]),Ue)){for(ut=!1,Je=[],ye=0,we=P.length;ye<we;ye++)(kt=Ue[P.charCodeAt(ye)])?Je.push(String.fromCharCode(kt)):Je.push(P[ye]),Je[ye].charCodeAt(0)>>8&&(ut=!0);P=Je.join("")}for(ye=P.length;ut===void 0&&ye!==0;)P.charCodeAt(ye-1)>>8&&(ut=!0),ye--;if(!ut)return P;for(Je=ie.noBOM?[]:[254,255],ye=0,we=P.length;ye<we;ye++){if((St=(kt=P.charCodeAt(ye))>>8)>>8)throw new Error("Character at position "+ye+" of string '"+P+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Je.push(St),Je.push(kt-(St<<8))}return String.fromCharCode.apply(void 0,Je)},os=p.__private__.pdfEscape=p.pdfEscape=function(P,ie){return Th(P,ie).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Dg=p.__private__.beginPage=function(P){S[++br]=[],Ct[br]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(P[0]),topRightY:Number(P[1])}},By(br),me(S[E])},by=function(P,ie){var ye,we,Ie;switch(t=ie||t,typeof P=="string"&&(ye=C(P.toLowerCase()),Array.isArray(ye)&&(we=ye[0],Ie=ye[1])),Array.isArray(P)&&(we=P[0]*Ve,Ie=P[1]*Ve),isNaN(we)&&(we=i[0],Ie=i[1]),(we>14400||Ie>14400)&&(yr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),we=Math.min(14400,we),Ie=Math.min(14400,Ie)),i=[we,Ie],t.substr(0,1)){case"l":Ie>we&&(i=[Ie,we]);break;case"p":we>Ie&&(i=[Ie,we])}Dg(i),Ey(Tg),pe(Ga),Qg!==0&&pe(Qg+" J"),Og!==0&&pe(Og+" j"),rr.publish("addPage",{pageNumber:br})},Kx=function(P){P>0&&P<=br&&(S.splice(P,1),Ct.splice(P,1),br--,E>br&&(E=br),this.setPage(E))},By=function(P){P>0&&P<=br&&(E=P)},Gx=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return S.length-1},xy=function(P,ie,ye){var we,Ie=void 0;return ye=ye||{},P=P!==void 0?P:Re[Ut].fontName,ie=ie!==void 0?ie:Re[Ut].fontStyle,we=P.toLowerCase(),He[we]!==void 0&&He[we][ie]!==void 0?Ie=He[we][ie]:He[P]!==void 0&&He[P][ie]!==void 0?Ie=He[P][ie]:ye.disableWarning===!1&&yr.warn("Unable to look up font label for font '"+P+"', '"+ie+"'. Refer to getFontList() for available fonts."),Ie||ye.noFallback||(Ie=He.times[ie])==null&&(Ie=He.times.normal),Ie},$x=p.__private__.putInfo=function(){var P=vn(),ie=function(we){return we};for(var ye in c!==null&&(ie=wi.encryptor(P,0)),pe("<<"),pe("/Producer ("+os(ie("jsPDF "+wt.version))+")"),vt)vt.hasOwnProperty(ye)&&vt[ye]&&pe("/"+ye.substr(0,1).toUpperCase()+ye.substr(1)+" ("+os(ie(vt[ye]))+")");pe("/CreationDate ("+os(ie(re))+")"),pe(">>"),pe("endobj")},_g=p.__private__.putCatalog=function(P){var ie=(P=P||{}).rootDictionaryObjId||Il;switch(vn(),pe("<<"),pe("/Type /Catalog"),pe("/Pages "+ie+" 0 R"),qe||(qe="fullwidth"),qe){case"fullwidth":pe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":pe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":pe("/OpenAction [3 0 R /Fit]");break;case"original":pe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ye=""+qe;ye.substr(ye.length-1)==="%"&&(qe=parseInt(qe)/100),typeof qe=="number"&&pe("/OpenAction [3 0 R /XYZ null null "+K(qe)+"]")}switch(_t||(_t="continuous"),_t){case"continuous":pe("/PageLayout /OneColumn");break;case"single":pe("/PageLayout /SinglePage");break;case"two":case"twoleft":pe("/PageLayout /TwoColumnLeft");break;case"tworight":pe("/PageLayout /TwoColumnRight")}Bt&&pe("/PageMode /"+Bt),rr.publish("putCatalog"),pe(">>"),pe("endobj")},zx=p.__private__.putTrailer=function(){pe("trailer"),pe("<<"),pe("/Size "+(w+1)),pe("/Root "+w+" 0 R"),pe("/Info "+(w-1)+" 0 R"),c!==null&&pe("/Encrypt "+wi.oid+" 0 R"),pe("/ID [ <"+J+"> <"+J+"> ]"),pe(">>")},Vx=p.__private__.putHeader=function(){pe("%PDF-"+I),pe("%ºß¬à")},qx=p.__private__.putXRef=function(){var P="0000000000";pe("xref"),pe("0 "+(w+1)),pe("0000000000 65535 f ");for(var ie=1;ie<=w;ie++)typeof h[ie]=="function"?pe((P+h[ie]()).slice(-10)+" 00000 n "):h[ie]!==void 0?pe((P+h[ie]).slice(-10)+" 00000 n "):pe("0000000000 00000 n ")},Cl=p.__private__.buildDocument=function(){se(),me(y),rr.publish("buildDocument"),Vx(),Fu(),wy(),yy(),c!==null&&Ox(),$x(),_g();var P=d;return qx(),zx(),pe("startxref"),pe(""+P),pe("%%EOF"),me(S[E]),y.join(`
`)},Rh=p.__private__.getBlob=function(P){return new Blob([Te(P)],{type:"application/pdf"})},Qh=p.output=p.__private__.output=Ka(function(P,ie){switch(typeof(ie=ie||{})=="string"?ie={filename:ie}:ie.filename=ie.filename||"generated.pdf",P){case void 0:return Cl();case"save":p.save(ie.filename);break;case"arraybuffer":return Te(Cl());case"blob":return Rh(Cl());case"bloburi":case"bloburl":if(bt.URL!==void 0&&typeof bt.URL.createObjectURL=="function")return bt.URL&&bt.URL.createObjectURL(Rh(Cl()))||void 0;yr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ye="",we=Cl();try{ye=P4(we)}catch{ye=P4(unescape(encodeURIComponent(we)))}return"data:application/pdf;filename="+ie.filename+";base64,"+ye;case"pdfobjectnewwindow":if(Object.prototype.toString.call(bt)==="[object Window]"){var Ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ee=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ie.pdfObjectUrl&&(Ie=ie.pdfObjectUrl,Ee="");var Ue='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ie+'"'+Ee+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ie)+");<\/script></body></html>",Je=bt.open();return Je!==null&&Je.document.write(Ue),Je}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(bt)==="[object Window]"){var ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ie.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ie.filename+'" width="500px" height="400px" /></body></html>',kt=bt.open();if(kt!==null){kt.document.write(ut);var St=this;kt.document.documentElement.querySelector("#pdfViewer").onload=function(){kt.document.title=ie.filename,kt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(St.output("bloburl"))}}return kt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(bt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ie)+'"></iframe></body></html>',Tr=bt.open();if(Tr!==null&&(Tr.document.write(Gt),Tr.document.title=ie.filename),Tr||typeof safari>"u")return Tr;break;case"datauri":case"dataurl":return bt.document.location.href=this.output("datauristring",ie);default:return null}}),Iy=function(P){return Array.isArray(Su)===!0&&Su.indexOf(P)>-1};switch(n){case"pt":Ve=1;break;case"mm":Ve=72/25.4;break;case"cm":Ve=72/2.54;break;case"in":Ve=72;break;case"px":Ve=Iy("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ve=12;break;case"ex":Ve=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ve=n}var wi=null;L(),j();var Yx=function(P){return c!==null?wi.encryptor(P,0):function(ie){return ie}},Cy=p.__private__.getPageInfo=p.getPageInfo=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ct[P].objId,pageNumber:P,pageContext:Ct[P]}},It=p.__private__.getPageInfoByObjId=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ie in Ct)if(Ct[ie].objId===P)break;return Cy(ie)},Xx=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Ct[E].objId,pageNumber:E,pageContext:Ct[E]}};p.addPage=function(){return by.apply(this,arguments),this},p.setPage=function(){return By.apply(this,arguments),me.call(this,S[E]),this},p.insertPage=function(P){return this.addPage(),this.movePage(E,P),this},p.movePage=function(P,ie){var ye,we;if(P>ie){ye=S[P],we=Ct[P];for(var Ie=P;Ie>ie;Ie--)S[Ie]=S[Ie-1],Ct[Ie]=Ct[Ie-1];S[ie]=ye,Ct[ie]=we,this.setPage(ie)}else if(P<ie){ye=S[P],we=Ct[P];for(var Ee=P;Ee<ie;Ee++)S[Ee]=S[Ee+1],Ct[Ee]=Ct[Ee+1];S[ie]=ye,Ct[ie]=we,this.setPage(ie)}return this},p.deletePage=function(){return Kx.apply(this,arguments),this},p.__private__.text=p.text=function(P,ie,ye,we,Ie){var Ee,Ue,Je,ut,kt,St,Gt,Tr,Kr,An=(we=we||{}).scope||this;if(typeof P=="number"&&typeof ie=="number"&&(typeof ye=="string"||Array.isArray(ye))){var vi=ye;ye=ie,ie=P,P=vi}if(arguments[3]instanceof yt?(G("The transform parameter of text() with a Matrix value"),Kr=Ie):(Je=arguments[4],ut=arguments[5],Jt(Gt=arguments[3])==="object"&&Gt!==null||(typeof Je=="string"&&(ut=Je,Je=null),typeof Gt=="string"&&(ut=Gt,Gt=null),typeof Gt=="number"&&(Je=Gt,Gt=null),we={flags:Gt,angle:Je,align:ut})),isNaN(ie)||isNaN(ye)||P==null)throw new Error("Invalid arguments passed to jsPDF.text");if(P.length===0)return An;var Un="",$a=!1,Es=typeof we.lineHeightFactor=="number"?we.lineHeightFactor:Lu,Po=An.internal.scaleFactor;function _y(Br){return Br=Br.split("	").join(Array(we.TabLen||9).join(" ")),os(Br,Gt)}function Gg(Br){for(var xr,Xr=Br.concat(),bn=[],Nl=Xr.length;Nl--;)typeof(xr=Xr.shift())=="string"?bn.push(xr):Array.isArray(Br)&&(xr.length===1||xr[1]===void 0&&xr[2]===void 0)?bn.push(xr[0]):bn.push([xr[0],xr[1],xr[2]]);return bn}function $g(Br,xr){var Xr;if(typeof Br=="string")Xr=xr(Br)[0];else if(Array.isArray(Br)){for(var bn,Nl,em=Br.concat(),ef=[],Qy=em.length;Qy--;)typeof(bn=em.shift())=="string"?ef.push(xr(bn)[0]):Array.isArray(bn)&&typeof bn[0]=="string"&&(Nl=xr(bn[0],bn[1],bn[2]),ef.push([Nl[0],Nl[1],Nl[2]]));Xr=ef}return Xr}var Gh=!1,zg=!0;if(typeof P=="string")Gh=!0;else if(Array.isArray(P)){var Vg=P.concat();Ue=[];for(var $h,ei=Vg.length;ei--;)(typeof($h=Vg.shift())!="string"||Array.isArray($h)&&typeof $h[0]!="string")&&(zg=!1);Gh=zg}if(Gh===!1)throw new Error('Type of text must be string or Array. "'+P+'" is not recognized.');typeof P=="string"&&(P=P.match(/[\r?\n]/)?P.split(/\r\n|\r|\n/g):[P]);var zh=je/An.internal.scaleFactor,Vh=zh*(Es-1);switch(we.baseline){case"bottom":ye-=Vh;break;case"top":ye+=zh-Vh;break;case"hanging":ye+=zh-2*Vh;break;case"middle":ye+=zh/2-Vh}if((St=we.maxWidth||0)>0&&(typeof P=="string"?P=An.splitTextToSize(P,St):Object.prototype.toString.call(P)==="[object Array]"&&(P=P.reduce(function(Br,xr){return Br.concat(An.splitTextToSize(xr,St))},[]))),Ee={text:P,x:ie,y:ye,options:we,mutex:{pdfEscape:os,activeFontKey:Ut,fonts:Re,activeFontSize:je}},rr.publish("preProcessText",Ee),P=Ee.text,Je=(we=Ee.options).angle,!(Kr instanceof yt)&&Je&&typeof Je=="number"){Je*=Math.PI/180,we.rotationDirection===0&&(Je=-Je),U===k.ADVANCED&&(Je=-Je);var qh=Math.cos(Je),qg=Math.sin(Je);Kr=new yt(qh,qg,-qg,qh,0,0)}else Je&&Je instanceof yt&&(Kr=Je);U!==k.ADVANCED||Kr||(Kr=ko),(kt=we.charSpace||Hh)!==void 0&&(Un+=q(te(kt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Tr=we.horizontalScale)!==void 0&&(Un+=q(100*Tr)+` Tz
`),we.lang;var ls=-1,o5=we.renderingMode!==void 0?we.renderingMode:we.stroke,Yg=An.internal.getCurrentPageInfo().pageContext;switch(o5){case 0:case!1:case"fill":ls=0;break;case 1:case!0:case"stroke":ls=1;break;case 2:case"fillThenStroke":ls=2;break;case 3:case"invisible":ls=3;break;case 4:case"fillAndAddForClipping":ls=4;break;case 5:case"strokeAndAddPathForClipping":ls=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ls=6;break;case 7:case"addToPathForClipping":ls=7}var Uy=Yg.usedRenderingMode!==void 0?Yg.usedRenderingMode:-1;ls!==-1?Un+=ls+` Tr
`:Uy!==-1&&(Un+=`0 Tr
`),ls!==-1&&(Yg.usedRenderingMode=ls),ut=we.align||"left";var ca,Yh=je*Es,Py=An.internal.pageSize.getWidth(),Ty=Re[Ut];kt=we.charSpace||Hh,St=we.maxWidth||0,Gt=Object.assign({autoencode:!0,noBOM:!0},we.flags);var OA=[],Mu=function(Br){return An.getStringUnitWidth(Br,{font:Ty,charSpace:kt,fontSize:je,doKerning:!1})*je/Po};if(Object.prototype.toString.call(P)==="[object Array]"){var As;Ue=Gg(P),ut!=="left"&&(ca=Ue.map(Mu));var Qi,jA=0;if(ut==="right"){ie-=ca[0],P=[],ei=Ue.length;for(var Fl=0;Fl<ei;Fl++)Fl===0?(Qi=Uo(ie),As=Sl(ye)):(Qi=te(jA-ca[Fl]),As=-Yh),P.push([Ue[Fl],Qi,As]),jA=ca[Fl]}else if(ut==="center"){ie-=ca[0]/2,P=[],ei=Ue.length;for(var El=0;El<ei;El++)El===0?(Qi=Uo(ie),As=Sl(ye)):(Qi=te((jA-ca[El])/2),As=-Yh),P.push([Ue[El],Qi,As]),jA=ca[El]}else if(ut==="left"){P=[],ei=Ue.length;for(var Xh=0;Xh<ei;Xh++)P.push(Ue[Xh])}else if(ut==="justify"&&Ty.encoding==="Identity-H"){P=[],ei=Ue.length,St=St!==0?St:Py;for(var Ll=0,Yr=0;Yr<ei;Yr++)if(As=Yr===0?Sl(ye):-Yh,Qi=Yr===0?Uo(ie):Ll,Yr<ei-1){var Xg=te((St-ca[Yr])/(Ue[Yr].split(" ").length-1)),Oi=Ue[Yr].split(" ");P.push([Oi[0]+" ",Qi,As]),Ll=0;for(var ua=1;ua<Oi.length;ua++){var Jh=(Mu(Oi[ua-1]+" "+Oi[ua])-Mu(Oi[ua]))*Po+Xg;ua==Oi.length-1?P.push([Oi[ua],Jh,0]):P.push([Oi[ua]+" ",Jh,0]),Ll-=Jh}}else P.push([Ue[Yr],Qi,As]);P.push(["",Ll,0])}else{if(ut!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(P=[],ei=Ue.length,St=St!==0?St:Py,Yr=0;Yr<ei;Yr++)As=Yr===0?Sl(ye):-Yh,Qi=Yr===0?Uo(ie):0,Yr<ei-1?OA.push(q(te((St-ca[Yr])/(Ue[Yr].split(" ").length-1)))):OA.push(0),P.push([Ue[Yr],Qi,As])}}var Ry=typeof we.R2L=="boolean"?we.R2L:lt;Ry===!0&&(P=$g(P,function(Br,xr,Xr){return[Br.split("").reverse().join(""),xr,Xr]})),Ee={text:P,x:ie,y:ye,options:we,mutex:{pdfEscape:os,activeFontKey:Ut,fonts:Re,activeFontSize:je}},rr.publish("postProcessText",Ee),P=Ee.text,$a=Ee.mutex.isHex||!1;var Jg=Re[Ut].encoding;Jg!=="WinAnsiEncoding"&&Jg!=="StandardEncoding"||(P=$g(P,function(Br,xr,Xr){return[_y(Br),xr,Xr]})),Ue=Gg(P),P=[];for(var Du,_u,HA,Uu=0,Zh=1,Pu=Array.isArray(Ue[0])?Zh:Uu,WA="",Zg=function(Br,xr,Xr){var bn="";return Xr instanceof yt?(Xr=typeof we.angle=="number"?Oa(Xr,new yt(1,0,0,1,Br,xr)):Oa(new yt(1,0,0,1,Br,xr),Xr),U===k.ADVANCED&&(Xr=Oa(new yt(1,0,0,-1,0,0),Xr)),bn=Xr.join(" ")+` Tm
`):bn=q(Br)+" "+q(xr)+` Td
`,bn},da=0;da<Ue.length;da++){switch(WA="",Pu){case Zh:HA=($a?"<":"(")+Ue[da][0]+($a?">":")"),Du=parseFloat(Ue[da][1]),_u=parseFloat(Ue[da][2]);break;case Uu:HA=($a?"<":"(")+Ue[da]+($a?">":")"),Du=Uo(ie),_u=Sl(ye)}OA!==void 0&&OA[da]!==void 0&&(WA=OA[da]+` Tw
`),da===0?P.push(WA+Zg(Du,_u,Kr)+HA):Pu===Uu?P.push(WA+HA):Pu===Zh&&P.push(WA+Zg(Du,_u,Kr)+HA)}P=Pu===Uu?P.join(` Tj
T* `):P.join(` Tj
`),P+=` Tj
`;var ha=`BT
/`;return ha+=Ut+" "+je+` Tf
`,ha+=q(je*Es)+` TL
`,ha+=Nu+`
`,ha+=Un,ha+=P,pe(ha+="ET"),f[Ut]=!0,An};var Jx=p.__private__.clip=p.clip=function(P){return pe(P==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Jx("evenodd")},p.__private__.discardPath=p.discardPath=function(){return pe("n"),this};var _o=p.__private__.isValidStyle=function(P){var ie=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(P)!==-1&&(ie=!0),ie};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(P){return _o(P)&&(A=P),this};var Sy=p.__private__.getStyle=p.getStyle=function(P){var ie=A;switch(P){case"D":case"S":ie="S";break;case"F":ie="f";break;case"FD":case"DF":ie="B";break;case"f":case"f*":case"B":case"B*":ie=P}return ie},Fy=p.close=function(){return pe("h"),this};p.stroke=function(){return pe("S"),this},p.fill=function(P){return Oh("f",P),this},p.fillEvenOdd=function(P){return Oh("f*",P),this},p.fillStroke=function(P){return Oh("B",P),this},p.fillStrokeEvenOdd=function(P){return Oh("B*",P),this};var Oh=function(P,ie){Jt(ie)==="object"?e5(ie,P):pe(P)},Ug=function(P){P===null||U===k.ADVANCED&&P===void 0||(P=Sy(P),pe(P))};function Zx(P,ie,ye,we,Ie){var Ee=new Kf(ie||this.boundingBox,ye||this.xStep,we||this.yStep,this.gState,Ie||this.matrix);Ee.stream=this.stream;var Ue=P+"$$"+this.cloneIndex+++"$$";return as(Ue,Ee),Ee}var e5=function(P,ie){var ye=_n[P.key],we=ft[ye];if(we instanceof zu)pe("q"),pe(t5(ie)),we.gState&&p.setGState(we.gState),pe(P.matrix.toString()+" cm"),pe("/"+ye+" sh"),pe("Q");else if(we instanceof Kf){var Ie=new yt(1,0,0,-1,0,QA());P.matrix&&(Ie=Ie.multiply(P.matrix||ko),ye=Zx.call(we,P.key,P.boundingBox,P.xStep,P.yStep,Ie).id),pe("q"),pe("/Pattern cs"),pe("/"+ye+" scn"),we.gState&&p.setGState(we.gState),pe(ie),pe("Q")}},t5=function(P){switch(P){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Pg=p.moveTo=function(P,ie){return pe(q(te(P))+" "+q(oe(ie))+" m"),this},Eu=p.lineTo=function(P,ie){return pe(q(te(P))+" "+q(oe(ie))+" l"),this},TA=p.curveTo=function(P,ie,ye,we,Ie,Ee){return pe([q(te(P)),q(oe(ie)),q(te(ye)),q(oe(we)),q(te(Ie)),q(oe(Ee)),"c"].join(" ")),this};p.__private__.line=p.line=function(P,ie,ye,we,Ie){if(isNaN(P)||isNaN(ie)||isNaN(ye)||isNaN(we)||!_o(Ie))throw new Error("Invalid arguments passed to jsPDF.line");return U===k.COMPAT?this.lines([[ye-P,we-ie]],P,ie,[1,1],Ie||"S"):this.lines([[ye-P,we-ie]],P,ie,[1,1]).stroke()},p.__private__.lines=p.lines=function(P,ie,ye,we,Ie,Ee){var Ue,Je,ut,kt,St,Gt,Tr,Kr,An,vi,Un,$a;if(typeof P=="number"&&($a=ye,ye=ie,ie=P,P=$a),we=we||[1,1],Ee=Ee||!1,isNaN(ie)||isNaN(ye)||!Array.isArray(P)||!Array.isArray(we)||!_o(Ie)||typeof Ee!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Pg(ie,ye),Ue=we[0],Je=we[1],kt=P.length,vi=ie,Un=ye,ut=0;ut<kt;ut++)(St=P[ut]).length===2?(vi=St[0]*Ue+vi,Un=St[1]*Je+Un,Eu(vi,Un)):(Gt=St[0]*Ue+vi,Tr=St[1]*Je+Un,Kr=St[2]*Ue+vi,An=St[3]*Je+Un,vi=St[4]*Ue+vi,Un=St[5]*Je+Un,TA(Gt,Tr,Kr,An,vi,Un));return Ee&&Fy(),Ug(Ie),this},p.path=function(P){for(var ie=0;ie<P.length;ie++){var ye=P[ie],we=ye.c;switch(ye.op){case"m":Pg(we[0],we[1]);break;case"l":Eu(we[0],we[1]);break;case"c":TA.apply(this,we);break;case"h":Fy()}}return this},p.__private__.rect=p.rect=function(P,ie,ye,we,Ie){if(isNaN(P)||isNaN(ie)||isNaN(ye)||isNaN(we)||!_o(Ie))throw new Error("Invalid arguments passed to jsPDF.rect");return U===k.COMPAT&&(we=-we),pe([q(te(P)),q(oe(ie)),q(te(ye)),q(te(we)),"re"].join(" ")),Ug(Ie),this},p.__private__.triangle=p.triangle=function(P,ie,ye,we,Ie,Ee,Ue){if(isNaN(P)||isNaN(ie)||isNaN(ye)||isNaN(we)||isNaN(Ie)||isNaN(Ee)||!_o(Ue))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ye-P,we-ie],[Ie-ye,Ee-we],[P-Ie,ie-Ee]],P,ie,[1,1],Ue,!0),this},p.__private__.roundedRect=p.roundedRect=function(P,ie,ye,we,Ie,Ee,Ue){if(isNaN(P)||isNaN(ie)||isNaN(ye)||isNaN(we)||isNaN(Ie)||isNaN(Ee)||!_o(Ue))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Je=4/3*(Math.SQRT2-1);return Ie=Math.min(Ie,.5*ye),Ee=Math.min(Ee,.5*we),this.lines([[ye-2*Ie,0],[Ie*Je,0,Ie,Ee-Ee*Je,Ie,Ee],[0,we-2*Ee],[0,Ee*Je,-Ie*Je,Ee,-Ie,Ee],[2*Ie-ye,0],[-Ie*Je,0,-Ie,-Ee*Je,-Ie,-Ee],[0,2*Ee-we],[0,-Ee*Je,Ie*Je,-Ee,Ie,-Ee]],P+Ie,ie,[1,1],Ue,!0),this},p.__private__.ellipse=p.ellipse=function(P,ie,ye,we,Ie){if(isNaN(P)||isNaN(ie)||isNaN(ye)||isNaN(we)||!_o(Ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ee=4/3*(Math.SQRT2-1)*ye,Ue=4/3*(Math.SQRT2-1)*we;return Pg(P+ye,ie),TA(P+ye,ie-Ue,P+Ee,ie-we,P,ie-we),TA(P-Ee,ie-we,P-ye,ie-Ue,P-ye,ie),TA(P-ye,ie+Ue,P-Ee,ie+we,P,ie+we),TA(P+Ee,ie+we,P+ye,ie+Ue,P+ye,ie),Ug(Ie),this},p.__private__.circle=p.circle=function(P,ie,ye,we){if(isNaN(P)||isNaN(ie)||isNaN(ye)||!_o(we))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(P,ie,ye,ye,we)},p.setFont=function(P,ie,ye){return ye&&(ie=Z(ie,ye)),Ut=xy(P,ie,{disableWarning:!1}),this};var r5=p.__private__.getFont=p.getFont=function(){return Re[xy.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var P,ie,ye={};for(P in He)if(He.hasOwnProperty(P))for(ie in ye[P]=[],He[P])He[P].hasOwnProperty(ie)&&ye[P].push(ie);return ye},p.addFont=function(P,ie,ye,we,Ie){var Ee=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ee.indexOf(arguments[3])!==-1?Ie=arguments[3]:arguments[3]&&Ee.indexOf(arguments[3])==-1&&(ye=Z(ye,we)),Ie=Ie||"Identity-H",Mg.call(this,P,ie,ye,Ie)};var Lu,Tg=r.lineWidth||.200025,jh=p.__private__.getLineWidth=p.getLineWidth=function(){return Tg},Ey=p.__private__.setLineWidth=p.setLineWidth=function(P){return Tg=P,pe(q(te(P))+" w"),this};p.__private__.setLineDash=wt.API.setLineDash=wt.API.setLineDashPattern=function(P,ie){if(P=P||[],ie=ie||0,isNaN(ie)||!Array.isArray(P))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return P=P.map(function(ye){return q(te(ye))}).join(" "),ie=q(te(ie)),pe("["+P+"] "+ie+" d"),this};var Ly=p.__private__.getLineHeight=p.getLineHeight=function(){return je*Lu};p.__private__.getLineHeight=p.getLineHeight=function(){return je*Lu};var Ny=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(P){return typeof(P=P||1.15)=="number"&&(Lu=P),this},ky=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Lu};Ny(r.lineHeight);var Uo=p.__private__.getHorizontalCoordinate=function(P){return te(P)},Sl=p.__private__.getVerticalCoordinate=function(P){return U===k.ADVANCED?P:Ct[E].mediaBox.topRightY-Ct[E].mediaBox.bottomLeftY-te(P)},n5=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(P){return q(Uo(P))},RA=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(P){return q(Sl(P))},Ga=r.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Ha(Ga)},p.__private__.setStrokeColor=p.setDrawColor=function(P,ie,ye,we){return Ga=Wa({ch1:P,ch2:ie,ch3:ye,ch4:we,pdfColorType:"draw",precision:2}),pe(Ga),this};var Rg=r.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Ha(Rg)},p.__private__.setFillColor=p.setFillColor=function(P,ie,ye,we){return Rg=Wa({ch1:P,ch2:ie,ch3:ye,ch4:we,pdfColorType:"fill",precision:2}),pe(Rg),this};var Nu=r.textColor||"0 g",i5=p.__private__.getTextColor=p.getTextColor=function(){return Ha(Nu)};p.__private__.setTextColor=p.setTextColor=function(P,ie,ye,we){return Nu=Wa({ch1:P,ch2:ie,ch3:ye,ch4:we,pdfColorType:"text",precision:3}),this};var Hh=r.charSpace,s5=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Hh||0)};p.__private__.setCharSpace=p.setCharSpace=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Hh=P,this};var Qg=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(P){var ie=p.CapJoinStyles[P];if(ie===void 0)throw new Error("Line cap style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qg=ie,pe(ie+" J"),this};var Og=0;p.__private__.setLineJoin=p.setLineJoin=function(P){var ie=p.CapJoinStyles[P];if(ie===void 0)throw new Error("Line join style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Og=ie,pe(ie+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(P){if(P=P||0,isNaN(P))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return pe(q(te(P))+" M"),this},p.GState=tB,p.setGState=function(P){(P=typeof P=="string"?sr[yi[P]]:My(null,P)).equals(Ri)||(pe("/"+P.id+" gs"),Ri=P)};var My=function(P,ie){if(!P||!yi[P]){var ye=!1;for(var we in sr)if(sr.hasOwnProperty(we)&&sr[we].equals(ie)){ye=!0;break}if(ye)ie=sr[we];else{var Ie="GS"+(Object.keys(sr).length+1).toString(10);sr[Ie]=ie,ie.id=Ie}return P&&(yi[P]=ie.id),rr.publish("addGState",ie),ie}};p.addGState=function(P,ie){return My(P,ie),this},p.saveGraphicsState=function(){return pe("q"),ht.push({key:Ut,size:je,color:Nu}),this},p.restoreGraphicsState=function(){pe("Q");var P=ht.pop();return Ut=P.key,je=P.size,Nu=P.color,Ri=null,this},p.setCurrentTransformationMatrix=function(P){return pe(P.toString()+" cm"),this},p.comment=function(P){return pe("#"+P),this};var Wh=function(P,ie){var ye=P||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ye},set:function(Ee){isNaN(Ee)||(ye=parseFloat(Ee))}});var we=ie||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return we},set:function(Ee){isNaN(Ee)||(we=parseFloat(Ee))}});var Ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ie},set:function(Ee){Ie=Ee.toString()}}),this},jg=function(P,ie,ye,we){Wh.call(this,P,ie),this.type="rect";var Ie=ye||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ie},set:function(Ue){isNaN(Ue)||(Ie=parseFloat(Ue))}});var Ee=we||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ee},set:function(Ue){isNaN(Ue)||(Ee=parseFloat(Ue))}}),this},Hg=function(){this.page=br,this.currentPage=E,this.pages=S.slice(0),this.pagesContext=Ct.slice(0),this.x=Dn,this.y=Wt,this.matrix=Le,this.width=ku(E),this.height=QA(E),this.outputDestination=$,this.id="",this.objectNumber=-1};Hg.prototype.restore=function(){br=this.page,E=this.currentPage,Ct=this.pagesContext,S=this.pages,Dn=this.x,Wt=this.y,Le=this.matrix,Wg(E,this.width),Kg(E,this.height),$=this.outputDestination};var Dy=function(P,ie,ye,we,Ie){No.push(new Hg),br=E=0,S=[],Dn=P,Wt=ie,Le=Ie,Dg([ye,we])},a5=function(P){if(Lo[P])No.pop().restore();else{var ie=new Hg,ye="Xo"+(Object.keys(Zn).length+1).toString(10);ie.id=ye,Lo[P]=ye,Zn[ye]=ie,rr.publish("addFormObject",ie),No.pop().restore()}};for(var Kh in p.beginFormObject=function(P,ie,ye,we,Ie){return Dy(P,ie,ye,we,Ie),this},p.endFormObject=function(P){return a5(P),this},p.doFormObject=function(P,ie){var ye=Zn[Lo[P]];return pe("q"),pe(ie.toString()+" cm"),pe("/"+ye.id+" Do"),pe("Q"),this},p.getFormObject=function(P){var ie=Zn[Lo[P]];return{x:ie.x,y:ie.y,width:ie.width,height:ie.height,matrix:ie.matrix}},p.save=function(P,ie){return P=P||"generated.pdf",(ie=ie||{}).returnPromise=ie.returnPromise||!1,ie.returnPromise===!1?($u(Rh(Cl()),P),typeof $u.unload=="function"&&bt.setTimeout&&setTimeout($u.unload,911),this):new Promise(function(ye,we){try{var Ie=$u(Rh(Cl()),P);typeof $u.unload=="function"&&bt.setTimeout&&setTimeout($u.unload,911),ye(Ie)}catch(Ee){we(Ee.message)}})},wt.API)wt.API.hasOwnProperty(Kh)&&(Kh==="events"&&wt.API.events.length?function(P,ie){var ye,we,Ie;for(Ie=ie.length-1;Ie!==-1;Ie--)ye=ie[Ie][0],we=ie[Ie][1],P.subscribe.apply(P,[ye].concat(typeof we=="function"?[we]:we))}(rr,wt.API.events):p[Kh]=wt.API[Kh]);var ku=p.getPageWidth=function(P){return(Ct[P=P||E].mediaBox.topRightX-Ct[P].mediaBox.bottomLeftX)/Ve},Wg=p.setPageWidth=function(P,ie){Ct[P].mediaBox.topRightX=ie*Ve+Ct[P].mediaBox.bottomLeftX},QA=p.getPageHeight=function(P){return(Ct[P=P||E].mediaBox.topRightY-Ct[P].mediaBox.bottomLeftY)/Ve},Kg=p.setPageHeight=function(P,ie){Ct[P].mediaBox.topRightY=ie*Ve+Ct[P].mediaBox.bottomLeftY};return p.internal={pdfEscape:os,getStyle:Sy,getFont:r5,getFontSize:Ge,getCharSpace:s5,getTextColor:i5,getLineHeight:Ly,getLineHeightFactor:ky,getLineWidth:jh,write:at,getHorizontalCoordinate:Uo,getVerticalCoordinate:Sl,getCoordinateString:n5,getVerticalCoordinateString:RA,collections:{},newObject:vn,newAdditionalObject:Nh,newObjectDeferred:ln,newObjectDeferredBegin:Fs,getFilters:Mo,putStream:Aa,events:rr,scaleFactor:Ve,pageSize:{getWidth:function(){return ku(E)},setWidth:function(P){Wg(E,P)},getHeight:function(){return QA(E)},setHeight:function(P){Kg(E,P)}},encryptionOptions:c,encryption:wi,getEncryptor:Yx,output:Qh,getNumberOfPages:Gx,pages:S,out:pe,f2:K,f3:H,getPageInfo:Cy,getPageInfoByObjId:It,getCurrentPageInfo:Xx,getPDFVersion:F,Point:Wh,Rectangle:jg,Matrix:yt,hasHotfix:Iy},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return ku(E)},set:function(P){Wg(E,P)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return QA(E)},set:function(P){Kg(E,P)},enumerable:!0,configurable:!0}),Wx.call(p,De),Ut="F1",by(i,t),rr.publish("initialized"),p}Ff.prototype.lsbFirstWord=function(r){return String.fromCharCode(r>>0&255,r>>8&255,r>>16&255,r>>24&255)},Ff.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ff.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},Ff.prototype.processOwnerPassword=function(r,e){return R4(T4(e).substr(0,5),r)},Ff.prototype.encryptor=function(r,e){var t=T4(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return R4(t,n)}},tB.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||Jt(r)!==Jt(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},wt.API={events:[]},wt.version="3.0.1";var zr=wt.API,rL=1,Lh=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},uf=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ft=function(r){return r.toFixed(2)},ZA=function(r){return r.toFixed(5)};zr.__acroform__={};var Ss=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},Gk=function(r){return r*rL},Ko=function(r){var e=new _R,t=st.internal.getHeight(r)||0,n=st.internal.getWidth(r)||0;return e.BBox=[0,0,Number(Ft(n)),Number(Ft(t))],e},OX=zr.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|=1<<e},jX=zr.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&=~(1<<e)},HX=zr.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},nn=zr.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return HX(r,e-1)},sn=zr.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return OX(r,e-1)},an=zr.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return jX(r,e-1)},WX=zr.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=r[0],s=r[1],a=r[2],o=r[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=t(i+a)||0,l.upperRight_Y=n(s)||0,[Number(Ft(l.lowerLeft_X)),Number(Ft(l.lowerLeft_Y)),Number(Ft(l.upperRight_X)),Number(Ft(l.upperRight_Y))]},KX=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=Q4(r,t),i=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+i+" "+Ft(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Ko(r);return s.scope=r.scope,s.stream=e.join(`
`),s}},Q4=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=r.multiline?i.map(function(H){return H.split(`
`)}):i.map(function(H){return[H]});var s=t,a=st.internal.getHeight(r)||0;a=a<0?-a:a;var o=st.internal.getWidth(r)||0;o=o<0?-o:o;var l=function(H,te,ue){if(H+1<i.length){var oe=te+" "+i[H+1][0];return Pw(oe,r,ue).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var A,c,u=Pw("3",r,s).height,f=r.multiline?a-s:(a-u)/2,p=f+=2,I=0,F=0,D=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Pw(e,r,s=12).width+", FieldWidth:"+o+`
`;break}for(var C="",k=0,U=0;U<i.length;U++)if(i.hasOwnProperty(U)){var Q=!1;if(i[U].length!==1&&D!==i[U].length-1){if((u+2)*(k+2)+2>a)continue e;C+=i[U][D],Q=!0,F=U,U--}else{C=(C+=i[U][D]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var V=parseInt(U),Z=l(V,C,s),q=U>=i.length-1;if(Z&&!q){C+=" ",D=0;continue}if(Z||q){if(q)F=V;else if(r.multiline&&(u+2)*(k+2)+2>a)continue e}else{if(!r.multiline||(u+2)*(k+2)+2>a)continue e;F=V}}for(var G="",Y=I;Y<=F;Y++){var K=i[Y];if(r.multiline){if(Y===F){G+=K[D]+" ",D=(D+1)%K.length;continue}if(Y===I){G+=K[K.length-1]+" ";continue}}G+=K[0]+" "}switch(G=G.substr(G.length-1)==" "?G.substr(0,G.length-1):G,c=Pw(G,r,s).width,r.textAlign){case"right":A=o-c-2;break;case"center":A=(o-c)/2;break;case"left":default:A=2}e+=Ft(A)+" "+Ft(p)+` Td
`,e+="("+Lh(G)+`) Tj
`,e+=-Ft(A)+` 0 Td
`,p=-(s+2),c=0,I=Q?F:F+1,k++,C=""}break}return n.text=e,n.fontSize=s,n},Pw=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},GX={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},$X=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},zX=function(r,e){for(var t in r)if(r.hasOwnProperty(t)){var n=t,i=r[t];e.internal.newObjectDeferredBegin(i.objId,!0),Jt(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete r[n]}},VX=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(So.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(GX)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");rL=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new UR,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&$X(s,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],A=o.Rect;if(o.Rect&&(o.Rect=WX(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=st.createDefaultAppearanceStream(o),Jt(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=A,o.hasAppearanceStream&&!o.appearanceStreamContent){var c=KX(o);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(o.appearanceStreamContent){var u="";for(var f in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(f)){var p=o.appearanceStreamContent[f];if(u+="/"+f+" ",u+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var a in p)if(p.hasOwnProperty(a)){var I=p[a];typeof I=="function"&&(I=I.call(i,o)),u+="/"+a+" "+I+" ",i.internal.acroformPlugin.xForms.indexOf(I)>=0||i.internal.acroformPlugin.xForms.push(I)}}else typeof(I=p)=="function"&&(I=I.call(i,o)),u+="/"+a+" "+I,i.internal.acroformPlugin.xForms.indexOf(I)>=0||i.internal.acroformPlugin.xForms.push(I);u+=">>"}l.push({key:"AP",value:`<<
`+u+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&zX(i.internal.acroformPlugin.xForms,i)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},DR=zr.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(a){return a};if(Array.isArray(r)){for(var i="[",s=0;s<r.length;s++)switch(s!==0&&(i+=" "),Jt(r[s])){case"boolean":case"number":case"object":i+=r[s].toString();break;case"string":r[s].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),i+="("+Lh(n(r[s].toString()))+")"):i+=r[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},EI=function(r,e,t){var n=function(i){return i};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),r="("+Lh(n(r))+")"},hl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};hl.prototype.toString=function(){return this.objId+" 0 R"},hl.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},hl.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],i=this[n];i&&(Array.isArray(i)?r.push({key:n,value:DR(i,this.objId,this.scope)}):i instanceof hl?(i.scope=this.scope,r.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&r.push({key:n,value:i}))}return r};var _R=function(){hl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};Ss(_R,hl);var UR=function(){hl.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Lh(t(r))+")"}},set:function(t){r=t}})};Ss(UR,hl);var So=function r(){hl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');e=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!nn(e,3)},set:function(C){C?this.F=sn(e,3):this.F=an(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');t=C}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(C){n=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(C){n[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(C){n[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(C){n[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(C){n[3]=C}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof rB)return;s="FieldObject"+r.FieldNum++}var C=function(k){return k};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+Lh(C(s))+")"},set:function(C){s=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(C){s=C}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(C){a=C}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(C){o=C}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(C){l=C}});var A=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return A===void 0?50/rL:A},set:function(C){A=C}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(C){c=C}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof rB||this instanceof dh))return EI(u,this.objId,this.scope)},set:function(C){C=C.toString(),u=C}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof zn?f:EI(f,this.objId,this.scope)},set:function(C){C=C.toString(),f=this instanceof zn?C:C.substr(0,1)==="("?uf(C.substr(1,C.length-2)):uf(C)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof zn?uf(f.substr(1,f.length-1)):f},set:function(C){C=C.toString(),f=this instanceof zn?"/"+C:C}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof zn?p:EI(p,this.objId,this.scope)},set:function(C){C=C.toString(),p=this instanceof zn?C:C.substr(0,1)==="("?uf(C.substr(1,C.length-2)):uf(C)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof zn?uf(p.substr(1,p.length-1)):p},set:function(C){C=C.toString(),p=this instanceof zn?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var I,F=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return F},set:function(C){C=!!C,F=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(I)return I},set:function(C){I=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,1)},set:function(C){C?this.Ff=sn(this.Ff,1):this.Ff=an(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,2)},set:function(C){C?this.Ff=sn(this.Ff,2):this.Ff=an(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,3)},set:function(C){C?this.Ff=sn(this.Ff,3):this.Ff=an(this.Ff,3)}});var D=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(D!==null)return D},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');D=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(D){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:D=2;break;case"center":case 1:D=1;break;case"left":case 0:default:D=0}}})};Ss(So,hl);var tp=function(){So.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return DR(e,this.objId,this.scope)},set:function(t){var n,i;i=[],typeof(n=t)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,A=[];l=a.exec(s);)A.push(l[o]);return A}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,18)},set:function(t){t?this.Ff=sn(this.Ff,18):this.Ff=an(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=sn(this.Ff,19):this.Ff=an(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,20)},set:function(t){t?(this.Ff=sn(this.Ff,20),e.sort()):this.Ff=an(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,22)},set:function(t){t?this.Ff=sn(this.Ff,22):this.Ff=an(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,23)},set:function(t){t?this.Ff=sn(this.Ff,23):this.Ff=an(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,27)},set:function(t){t?this.Ff=sn(this.Ff,27):this.Ff=an(this.Ff,27)}}),this.hasAppearanceStream=!1};Ss(tp,So);var rp=function(){tp.call(this),this.fontName="helvetica",this.combo=!1};Ss(rp,tp);var np=function(){rp.call(this),this.combo=!0};Ss(np,rp);var tb=function(){np.call(this),this.edit=!0};Ss(tb,np);var zn=function(){So.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,15)},set:function(t){t?this.Ff=sn(this.Ff,15):this.Ff=an(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,16)},set:function(t){t?this.Ff=sn(this.Ff,16):this.Ff=an(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,17)},set:function(t){t?this.Ff=sn(this.Ff,17):this.Ff=an(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,26)},set:function(t){t?this.Ff=sn(this.Ff,26):this.Ff=an(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Lh(t(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Jt(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};Ss(zn,So);var rb=function(){zn.call(this),this.pushButton=!0};Ss(rb,zn);var ip=function(){zn.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};Ss(ip,zn);var rB=function(){var r,e;So.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+Lh(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Jt(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=st.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ss(rB,So),ip.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},ip.prototype.createOption=function(r){var e=new rB;return e.Parent=this,e.optionName=r,this.Kids.push(e),qX.call(this.scope,e),e};var nb=function(){zn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=st.CheckBox.createAppearanceStream()};Ss(nb,zn);var dh=function(){So.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,13)},set:function(e){e?this.Ff=sn(this.Ff,13):this.Ff=an(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,21)},set:function(e){e?this.Ff=sn(this.Ff,21):this.Ff=an(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,23)},set:function(e){e?this.Ff=sn(this.Ff,23):this.Ff=an(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,24)},set:function(e){e?this.Ff=sn(this.Ff,24):this.Ff=an(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,25)},set:function(e){e?this.Ff=sn(this.Ff,25):this.Ff=an(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,26)},set:function(e){e?this.Ff=sn(this.Ff,26):this.Ff=an(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ss(dh,So);var ib=function(){dh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,14)},set:function(r){r?this.Ff=sn(this.Ff,14):this.Ff=an(this.Ff,14)}}),this.password=!0};Ss(ib,dh);var st={CheckBox:{createAppearanceStream:function(){return{N:{On:st.CheckBox.YesNormal},D:{On:st.CheckBox.YesPushDown,Off:st.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=Ko(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),s=Q4(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+Ft(st.internal.getWidth(r))+" "+Ft(st.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+Ft(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=Ko(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),i=[],s=st.internal.getHeight(r),a=st.internal.getWidth(r),o=Q4(r,r.caption);return i.push("1 g"),i.push("0 0 "+Ft(a)+" "+Ft(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Ft(a-1)+" "+Ft(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Ft(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(r){var e=Ko(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Ft(st.internal.getWidth(r))+" "+Ft(st.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:st.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=st.RadioButton.Circle.YesNormal,e.D[r]=st.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=Ko(r);e.scope=r.scope;var t=[],n=st.internal.getWidth(r)<=st.internal.getHeight(r)?st.internal.getWidth(r)/4:st.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=st.internal.Bezier_C,s=Number((n*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+ZA(st.internal.getWidth(r)/2)+" "+ZA(st.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),t.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),t.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),t.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Ko(r);e.scope=r.scope;var t=[],n=st.internal.getWidth(r)<=st.internal.getHeight(r)?st.internal.getWidth(r)/4:st.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*st.internal.Bezier_C).toFixed(5)),a=Number((n*st.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ZA(st.internal.getWidth(r)/2)+" "+ZA(st.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+ZA(st.internal.getWidth(r)/2)+" "+ZA(st.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),t.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),t.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),t.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=Ko(r);e.scope=r.scope;var t=[],n=st.internal.getWidth(r)<=st.internal.getHeight(r)?st.internal.getWidth(r)/4:st.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*st.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ZA(st.internal.getWidth(r)/2)+" "+ZA(st.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:st.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=st.RadioButton.Cross.YesNormal,e.D[r]=st.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=Ko(r);e.scope=r.scope;var t=[],n=st.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+Ft(st.internal.getWidth(r)-2)+" "+Ft(st.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(Ft(n.x1.x)+" "+Ft(n.x1.y)+" m"),t.push(Ft(n.x2.x)+" "+Ft(n.x2.y)+" l"),t.push(Ft(n.x4.x)+" "+Ft(n.x4.y)+" m"),t.push(Ft(n.x3.x)+" "+Ft(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Ko(r);e.scope=r.scope;var t=st.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ft(st.internal.getWidth(r))+" "+Ft(st.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ft(st.internal.getWidth(r)-2)+" "+Ft(st.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(Ft(t.x1.x)+" "+Ft(t.x1.y)+" m"),n.push(Ft(t.x2.x)+" "+Ft(t.x2.y)+" l"),n.push(Ft(t.x4.x)+" "+Ft(t.x4.y)+" m"),n.push(Ft(t.x3.x)+" "+Ft(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=Ko(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Ft(st.internal.getWidth(r))+" "+Ft(st.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};st.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=st.internal.getWidth(r),t=st.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},st.internal.getWidth=function(r){var e=0;return Jt(r)==="object"&&(e=Gk(r.Rect[2])),e},st.internal.getHeight=function(r){var e=0;return Jt(r)==="object"&&(e=Gk(r.Rect[3])),e};var qX=zr.addField=function(r){if(VX(this,r),!(r instanceof So))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};zr.AcroFormChoiceField=tp,zr.AcroFormListBox=rp,zr.AcroFormComboBox=np,zr.AcroFormEditBox=tb,zr.AcroFormButton=zn,zr.AcroFormPushButton=rb,zr.AcroFormRadioButton=ip,zr.AcroFormCheckBox=nb,zr.AcroFormTextField=dh,zr.AcroFormPasswordField=ib,zr.AcroFormAppearance=st,zr.AcroForm={ChoiceField:tp,ListBox:rp,ComboBox:np,EditBox:tb,Button:zn,PushButton:rb,RadioButton:ip,CheckBox:nb,TextField:dh,PasswordField:ib,Appearance:st},wt.AcroForm={ChoiceField:tp,ListBox:rp,ComboBox:np,EditBox:tb,Button:zn,PushButton:rb,RadioButton:ip,CheckBox:nb,TextField:dh,PasswordField:ib,Appearance:st};wt.AcroForm;function PR(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){r.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=r.__addimage__.getImageFileTypeByImageData=function(H,te){var ue,oe,re,J,O,j=e;if((te=te||e)==="RGBA"||H.data!==void 0&&H.data instanceof Uint8ClampedArray&&"height"in H&&"width"in H)return"RGBA";if(Z(H))for(O in t)for(re=t[O],ue=0;ue<re.length;ue+=1){for(J=!0,oe=0;oe<re[ue].length;oe+=1)if(re[ue][oe]!==void 0&&re[ue][oe]!==H[oe]){J=!1;break}if(J===!0){j=O;break}}else for(O in t)for(re=t[O],ue=0;ue<re.length;ue+=1){for(J=!0,oe=0;oe<re[ue].length;oe+=1)if(re[ue][oe]!==void 0&&re[ue][oe]!==H.charCodeAt(oe)){J=!1;break}if(J===!0){j=O;break}}return j===e&&te!==e&&(j=te),j},i=function H(te){for(var ue=this.internal.write,oe=this.internal.putStream,re=(0,this.internal.getFilters)();re.indexOf("FlateEncode")!==-1;)re.splice(re.indexOf("FlateEncode"),1);te.objectId=this.internal.newObject();var J=[];if(J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Image"}),J.push({key:"Width",value:te.width}),J.push({key:"Height",value:te.height}),te.colorSpace===D.INDEXED?J.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(te.palette.length/3-1)+" "+("sMask"in te&&te.sMask!==void 0?te.objectId+2:te.objectId+1)+" 0 R]"}):(J.push({key:"ColorSpace",value:"/"+te.colorSpace}),te.colorSpace===D.DEVICE_CMYK&&J.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),J.push({key:"BitsPerComponent",value:te.bitsPerComponent}),"decodeParameters"in te&&te.decodeParameters!==void 0&&J.push({key:"DecodeParms",value:"<<"+te.decodeParameters+">>"}),"transparency"in te&&Array.isArray(te.transparency)){for(var O="",j=0,T=te.transparency.length;j<T;j++)O+=te.transparency[j]+" "+te.transparency[j]+" ";J.push({key:"Mask",value:"["+O+"]"})}te.sMask!==void 0&&J.push({key:"SMask",value:te.objectId+1+" 0 R"});var _=te.filter!==void 0?["/"+te.filter]:void 0;if(oe({data:te.data,additionalKeyValues:J,alreadyAppliedFilters:_,objectId:te.objectId}),ue("endobj"),"sMask"in te&&te.sMask!==void 0){var L="/Predictor "+te.predictor+" /Colors 1 /BitsPerComponent "+te.bitsPerComponent+" /Columns "+te.width,v={width:te.width,height:te.height,colorSpace:"DeviceGray",bitsPerComponent:te.bitsPerComponent,decodeParameters:L,data:te.sMask};"filter"in te&&(v.filter=te.filter),H.call(this,v)}if(te.colorSpace===D.INDEXED){var E=this.internal.newObject();oe({data:G(new Uint8Array(te.palette)),objectId:E}),ue("endobj")}},s=function(){var H=this.internal.collections.addImage_images;for(var te in H)i.call(this,H[te])},a=function(){var H,te=this.internal.collections.addImage_images,ue=this.internal.write;for(var oe in te)ue("/I"+(H=te[oe]).index,H.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var H=this.internal.collections.addImage_images;return o.call(this),H},A=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(H){return typeof r["process"+H.toUpperCase()]=="function"},u=function(H){return Jt(H)==="object"&&H.nodeType===1},f=function(H,te){if(H.nodeName==="IMG"&&H.hasAttribute("src")){var ue=""+H.getAttribute("src");if(ue.indexOf("data:image/")===0)return L0(unescape(ue).split("base64,").pop());var oe=r.loadFile(ue,!0);if(oe!==void 0)return oe}if(H.nodeName==="CANVAS"){if(H.width===0||H.height===0)throw new Error("Given canvas must have data. Canvas width: "+H.width+", height: "+H.height);var re;switch(te){case"PNG":re="image/png";break;case"WEBP":re="image/webp";break;case"JPEG":case"JPG":default:re="image/jpeg"}return L0(H.toDataURL(re,1).split("base64,").pop())}},p=function(H){var te=this.internal.collections.addImage_images;if(te){for(var ue in te)if(H===te[ue].alias)return te[ue]}},I=function(H,te,ue){return H||te||(H=-96,te=-96),H<0&&(H=-1*ue.width*72/H/this.internal.scaleFactor),te<0&&(te=-1*ue.height*72/te/this.internal.scaleFactor),H===0&&(H=te*ue.width/ue.height),te===0&&(te=H*ue.height/ue.width),[H,te]},F=function(H,te,ue,oe,re,J){var O=I.call(this,ue,oe,re),j=this.internal.getCoordinateString,T=this.internal.getVerticalCoordinateString,_=l.call(this);if(ue=O[0],oe=O[1],_[re.index]=re,J){J*=Math.PI/180;var L=Math.cos(J),v=Math.sin(J),E=function(g){return g.toFixed(4)},x=[E(L),E(v),E(-1*v),E(L),0,0,"cm"]}this.internal.write("q"),J?(this.internal.write([1,"0","0",1,j(H),T(te+oe),"cm"].join(" ")),this.internal.write(x.join(" ")),this.internal.write([j(ue),"0","0",j(oe),"0","0","cm"].join(" "))):this.internal.write([j(ue),"0","0",j(oe),j(H),T(te+oe),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+re.index+" Do"),this.internal.write("Q")},D=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var C=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=r.__addimage__.sHashCode=function(H){var te,ue,oe=0;if(typeof H=="string")for(ue=H.length,te=0;te<ue;te++)oe=(oe<<5)-oe+H.charCodeAt(te),oe|=0;else if(Z(H))for(ue=H.byteLength/2,te=0;te<ue;te++)oe=(oe<<5)-oe+H[te],oe|=0;return oe},U=r.__addimage__.validateStringAsBase64=function(H){(H=H||"").toString().trim();var te=!0;return H.length===0&&(te=!1),H.length%4!=0&&(te=!1),/^[A-Za-z0-9+/]+$/.test(H.substr(0,H.length-2))===!1&&(te=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(H.substr(-2))===!1&&(te=!1),te},Q=r.__addimage__.extractImageFromDataUrl=function(H){if(H==null||!(H=H.trim()).startsWith("data:"))return null;var te=H.indexOf(",");return te<0?null:H.substring(0,te).trim().endsWith("base64")?H.substring(te+1):null},V=r.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};r.__addimage__.isArrayBuffer=function(H){return V()&&H instanceof ArrayBuffer};var Z=r.__addimage__.isArrayBufferView=function(H){return V()&&typeof Uint32Array<"u"&&(H instanceof Int8Array||H instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&H instanceof Uint8ClampedArray||H instanceof Int16Array||H instanceof Uint16Array||H instanceof Int32Array||H instanceof Uint32Array||H instanceof Float32Array||H instanceof Float64Array)},q=r.__addimage__.binaryStringToUint8Array=function(H){for(var te=H.length,ue=new Uint8Array(te),oe=0;oe<te;oe++)ue[oe]=H.charCodeAt(oe);return ue},G=r.__addimage__.arrayBufferToBinaryString=function(H){for(var te="",ue=Z(H)?H:new Uint8Array(H),oe=0;oe<ue.length;oe+=8192)te+=String.fromCharCode.apply(null,ue.subarray(oe,oe+8192));return te};r.addImage=function(){var H,te,ue,oe,re,J,O,j,T;if(typeof arguments[1]=="number"?(te=e,ue=arguments[1],oe=arguments[2],re=arguments[3],J=arguments[4],O=arguments[5],j=arguments[6],T=arguments[7]):(te=arguments[1],ue=arguments[2],oe=arguments[3],re=arguments[4],J=arguments[5],O=arguments[6],j=arguments[7],T=arguments[8]),Jt(H=arguments[0])==="object"&&!u(H)&&"imageData"in H){var _=H;H=_.imageData,te=_.format||te||e,ue=_.x||ue||0,oe=_.y||oe||0,re=_.w||_.width||re,J=_.h||_.height||J,O=_.alias||O,j=_.compression||j,T=_.rotation||_.angle||T}var L=this.internal.getFilters();if(j===void 0&&L.indexOf("FlateEncode")!==-1&&(j="SLOW"),isNaN(ue)||isNaN(oe))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var v=Y.call(this,H,te,O,j);return F.call(this,ue,oe,re,J,v,T),this};var Y=function(H,te,ue,oe){var re,J,O;if(typeof H=="string"&&n(H)===e){H=unescape(H);var j=K(H,!1);(j!==""||(j=r.loadFile(H,!0))!==void 0)&&(H=j)}if(u(H)&&(H=f(H,te)),te=n(H,te),!c(te))throw new Error("addImage does not support files of type '"+te+"', please ensure that a plugin for '"+te+"' support is added.");if(((O=ue)==null||O.length===0)&&(ue=function(T){return typeof T=="string"||Z(T)?k(T):Z(T.data)?k(T.data):null}(H)),(re=p.call(this,ue))||(V()&&(H instanceof Uint8Array||te==="RGBA"||(J=H,H=q(H))),re=this["process"+te.toUpperCase()](H,A.call(this),ue,function(T){return T&&typeof T=="string"&&(T=T.toUpperCase()),T in r.image_compression?T:C.NONE}(oe),J)),!re)throw new Error("An unknown error occurred whilst processing the image.");return re},K=r.__addimage__.convertBase64ToBinaryString=function(H,te){te=typeof te!="boolean"||te;var ue,oe="";if(typeof H=="string"){var re;ue=(re=Q(H))!==null&&re!==void 0?re:H;try{oe=L0(ue)}catch(J){if(te)throw U(ue)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+J.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return oe};r.getImageProperties=function(H){var te,ue,oe="";if(u(H)&&(H=f(H)),typeof H=="string"&&n(H)===e&&((oe=K(H,!1))===""&&(oe=r.loadFile(H)||""),H=oe),ue=n(H),!c(ue))throw new Error("addImage does not support files of type '"+ue+"', please ensure that a plugin for '"+ue+"' support is added.");if(!V()||H instanceof Uint8Array||(H=q(H)),!(te=this["process"+ue.toUpperCase()](H)))throw new Error("An unknown error occurred whilst processing the image");return te.fileType=ue,te}})(wt.API),function(r){var e=function(t){if(t!==void 0&&t!="")return!0};wt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),A=t.pageContext.annotations,c=!1,u=0;u<A.length&&!c;u++)switch((n=A[u]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var f=0;f<A.length;f++){n=A[f];var p=this.internal.pdfEscape,I=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var F=this.internal.newAdditionalObject(),D=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(F.objId),k=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+p(C(n.contents))+")",s+=" /Popup "+D.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(C(k))+") >>",F.content=s;var U=F.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+U,n.open&&(s+=" /Open true"),s+=" >>",D.content=s,this.internal.write(F.objId,"0 R",D.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var Q=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(I(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Q+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var V=this.annotations._nameMap[n.options.name];n.options.pageNumber=V.page,n.options.top=V.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(I(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var Z=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+Z+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,A=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(t),y:A(n),w:l(t+i),h:A(n+s)},options:a,type:"link"})},r.textWithLink=function(t,n,i,s){var a,o,l=this.getTextWidth(t),A=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var c=this.splitTextToSize(t,o).length;a=Math.ceil(A*c)}else o=l,a=A;return this.text(t,n,i,s),i+=.2*A,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-A,o,a,s),l},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}}(wt.API),function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];r.__arabicParser__={};var s=r.__arabicParser__.isInArabicSubstitutionA=function(F){return e[F.charCodeAt(0)]!==void 0},a=r.__arabicParser__.isArabicLetter=function(F){return typeof F=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(F)},o=r.__arabicParser__.isArabicEndLetter=function(F){return a(F)&&s(F)&&e[F.charCodeAt(0)].length<=2},l=r.__arabicParser__.isArabicAlfLetter=function(F){return a(F)&&i.indexOf(F.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(F){return a(F)&&s(F)&&e[F.charCodeAt(0)].length>=1};var A=r.__arabicParser__.arabicLetterHasFinalForm=function(F){return a(F)&&s(F)&&e[F.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(F){return a(F)&&s(F)&&e[F.charCodeAt(0)].length>=3};var c=r.__arabicParser__.arabicLetterHasMedialForm=function(F){return a(F)&&s(F)&&e[F.charCodeAt(0)].length==4},u=r.__arabicParser__.resolveLigatures=function(F){var D=0,C=t,k="",U=0;for(D=0;D<F.length;D+=1)C[F.charCodeAt(D)]!==void 0?(U++,typeof(C=C[F.charCodeAt(D)])=="number"&&(k+=String.fromCharCode(C),C=t,U=0),D===F.length-1&&(C=t,k+=F.charAt(D-(U-1)),D-=U-1,U=0)):(C=t,k+=F.charAt(D-U),D-=U,U=0);return k};r.__arabicParser__.isArabicDiacritic=function(F){return F!==void 0&&n[F.charCodeAt(0)]!==void 0};var f=r.__arabicParser__.getCorrectForm=function(F,D,C){return a(F)?s(F)===!1?-1:!A(F)||!a(D)&&!a(C)||!a(C)&&o(D)||o(F)&&!a(D)||o(F)&&l(D)||o(F)&&o(D)?0:c(F)&&a(D)&&!o(D)&&a(C)&&A(C)?3:o(F)||!a(C)?1:2:-1},p=function(F){var D=0,C=0,k=0,U="",Q="",V="",Z=(F=F||"").split("\\s+"),q=[];for(D=0;D<Z.length;D+=1){for(q.push(""),C=0;C<Z[D].length;C+=1)U=Z[D][C],Q=Z[D][C-1],V=Z[D][C+1],a(U)?(k=f(U,Q,V),q[D]+=k!==-1?String.fromCharCode(e[U.charCodeAt(0)][k]):U):q[D]+=U;q[D]=u(q[D])}return q.join(" ")},I=r.__arabicParser__.processArabic=r.processArabic=function(){var F,D=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(D)){var k=0;for(C=[],k=0;k<D.length;k+=1)Array.isArray(D[k])?C.push([p(D[k][0]),D[k][1],D[k][2]]):C.push([p(D[k])]);F=C}else F=p(D);return typeof arguments[0]=="string"?F:(arguments[0].text=F,arguments[0])};r.events.push(["preProcessText",I])}(wt.API),wt.API.autoPrint=function(r){var e;switch((r=r||{}).variant=r.variant||"non-conform",r.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(o){t=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var i;if((t=t||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(wt.API),function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(F){l=F}});var A=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return A},set:function(F){A=F}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(F){c=F}});var u=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return u},set:function(F){u=F}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(F){f=F}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(F){p=F}});var I=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return I},set:function(F){I=F}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},r.getTextDimensions=function(l,A){n.call(this);var c=(A=A||{}).fontSize||this.getFontSize(),u=A.font||this.getFont(),f=A.scaleFactor||this.internal.scaleFactor,p=0,I=0,F=0,D=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var C=A.maxWidth;C>0?typeof l=="string"?l=this.splitTextToSize(l,C):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(U,Q){return U.concat(D.splitTextToSize(Q,C))},[])):l=Array.isArray(l)?l:[l];for(var k=0;k<l.length;k++)p<(F=this.getStringUnitWidth(l[k],{font:u})*c)&&(p=F);return p!==0&&(I=l.length),{w:p/=f,h:Math.max((I*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/f,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=r.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var A=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,u=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return A.lineNumber!==void 0&&(A.lineNumber===l.lineNumber?(l.x=(A.x||0)+(A.width||0),l.y=A.y||0):A.y+A.height+l.height+u.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=u.top,p&&f&&(this.printHeaderRow(l.lineNumber,!0),l.y+=f[0].height)):l.y=A.y+A.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};r.table=function(l,A,c,u,f){if(n.call(this),!c)throw new Error("No data for PDF table.");var p,I,F,D,C=[],k=[],U=[],Q={},V={},Z=[],q=[],G=(f=f||{}).autoSize||!1,Y=f.printHeaders!==!1,K=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,H=f.margins||Object.assign({width:this.getPageWidth()},e),te=typeof f.padding=="number"?f.padding:3,ue=f.headerBackgroundColor||"#c8c8c8",oe=f.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=Y,this.internal.__cell__.margins=H,this.internal.__cell__.table_font_size=K,this.internal.__cell__.padding=te,this.internal.__cell__.headerBackgroundColor=ue,this.internal.__cell__.headerTextColor=oe,this.setFontSize(K),u==null)k=C=Object.keys(c[0]),U=C.map(function(){return"left"});else if(Array.isArray(u)&&Jt(u[0])==="object")for(C=u.map(function(_){return _.name}),k=u.map(function(_){return _.prompt||_.name||""}),U=u.map(function(_){return _.align||"left"}),p=0;p<u.length;p+=1)V[u[p].name]=u[p].width*(19.049976/25.4);else Array.isArray(u)&&typeof u[0]=="string"&&(k=C=u,U=C.map(function(){return"left"}));if(G||Array.isArray(u)&&typeof u[0]=="string")for(p=0;p<C.length;p+=1){for(Q[D=C[p]]=c.map(function(_){return _[D]}),this.setFont(void 0,"bold"),Z.push(this.getTextDimensions(k[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),I=Q[D],this.setFont(void 0,"normal"),F=0;F<I.length;F+=1)Z.push(this.getTextDimensions(I[F],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);V[D]=Math.max.apply(null,Z)+te+te,Z=[]}if(Y){var re={};for(p=0;p<C.length;p+=1)re[C[p]]={},re[C[p]].text=k[p],re[C[p]].align=U[p];var J=o.call(this,re,V);q=C.map(function(_){return new s(l,A,V[_],J,re[_].text,void 0,re[_].align)}),this.setTableHeaderRow(q),this.printHeaderRow(1,!1)}var O=u.reduce(function(_,L){return _[L.name]=L.align,_},{});for(p=0;p<c.length;p+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:p,data:c[p]},this);var j=o.call(this,c[p],V);for(F=0;F<C.length;F+=1){var T=c[p][C[F]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:p,col:F,data:T},this),a.call(this,new s(l,A,V[C[F]],j,T,p+2,O[C[F]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=A,this};var o=function(l,A){var c=this.internal.__cell__.padding,u=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(l).map(function(p){var I=l[p];return this.splitTextToSize(I.hasOwnProperty("text")?I.text:I,A[p]-c-c)},this).map(function(p){return this.getLineHeightFactor()*p.length*u/f+c+c},this).reduce(function(p,I){return Math.max(p,I)},0)};r.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},r.printHeaderRow=function(l,A){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var u=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(u[0],u[1],u[2],u[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){c=this.internal.__cell__.tableHeaderRow[p].clone(),A&&(c.y=this.internal.__cell__.margins.top||0,f.push(c)),c.lineNumber=l;var I=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,c),this.setTextColor(I)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),t=!1}}(wt.API);var TR={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},RR=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],O4=PR(RR),QR=[100,200,300,400,500,600,700,800,900],YX=PR(QR);function j4(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return TR[s=s||"normal"]?s:"normal"}(r.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(r.weight),i=function(s){return typeof O4[s=s||"normal"]=="number"?s:"normal"}(r.stretch);return{family:e,style:t,weight:n,stretch:i,src:r.src||[],ref:r.ref||{name:e,style:[i,t,n].join(" ")}}}function $k(r,e,t,n){var i;for(i=t;i>=0&&i<e.length;i+=n)if(r[e[i]])return r[e[i]];for(i=t;i>=0&&i<e.length;i-=n)if(r[e[i]])return r[e[i]]}var XX={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},zk={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Vk(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function JX(r,e,t){for(var n=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},XX,t.genericFontFamilies||{}),s=null,a=null,o=0;o<e.length;++o)if(i[(s=j4(e[o])).family]&&(s.family=i[s.family]),r.hasOwnProperty(s.family)){a=r[s.family];break}if(!(a=a||r[n]))throw new Error("Could not find a font-family for the rule '"+Vk(s)+"' and default family '"+n+"'.");if(a=function(l,A){if(A[l])return A[l];var c=O4[l],u=c<=O4.normal?-1:1,f=$k(A,RR,c,u);if(!f)throw new Error("Could not find a matching font-stretch value for "+l);return f}(s.stretch,a),a=function(l,A){if(A[l])return A[l];for(var c=TR[l],u=0;u<c.length;++u)if(A[c[u]])return A[c[u]];throw new Error("Could not find a matching font-style for "+l)}(s.style,a),!(a=function(l,A){if(A[l])return A[l];if(l===400&&A[500])return A[500];if(l===500&&A[400])return A[400];var c=YX[l],u=$k(A,QR,c,l<400?-1:1);if(!u)throw new Error("Could not find a matching font-weight for value "+l);return u}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+Vk(s)+"'.");return a}function qk(r){return r.trimLeft()}function ZX(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function eJ(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var Tw,Yk,Xk,LI=["times"];(function(r){var e,t,n,i,s,a,o,l,A,c=function(v){return v=v||{},this.isStrokeTransparent=v.isStrokeTransparent||!1,this.strokeOpacity=v.strokeOpacity||1,this.strokeStyle=v.strokeStyle||"#000000",this.fillStyle=v.fillStyle||"#000000",this.isFillTransparent=v.isFillTransparent||!1,this.fillOpacity=v.fillOpacity||1,this.font=v.font||"10px sans-serif",this.textBaseline=v.textBaseline||"alphabetic",this.textAlign=v.textAlign||"left",this.lineWidth=v.lineWidth||1,this.lineJoin=v.lineJoin||"miter",this.lineCap=v.lineCap||"butt",this.path=v.path||[],this.transform=v.transform!==void 0?v.transform.clone():new l,this.globalCompositeOperation=v.globalCompositeOperation||"normal",this.globalAlpha=v.globalAlpha||1,this.clip_path=v.clip_path||[],this.currentPoint=v.currentPoint||new a,this.miterLimit=v.miterLimit||10,this.lastPoint=v.lastPoint||new a,this.lineDashOffset=v.lineDashOffset||0,this.lineDash=v.lineDash||[],this.margin=v.margin||[0,0,0,0],this.prevPageLastElemOffset=v.prevPageLastElemOffset||0,this.ignoreClearRect=typeof v.ignoreClearRect!="boolean"||v.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new u(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,A=new c}]);var u=function(v){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var E=v;Object.defineProperty(this,"pdf",{get:function(){return E}});var x=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return x},set:function(me){x=!!me}});var g=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return g},set:function(me){g=!!me}});var w=0;Object.defineProperty(this,"posX",{get:function(){return w},set:function(me){isNaN(me)||(w=me)}});var h=0;Object.defineProperty(this,"posY",{get:function(){return h},set:function(me){isNaN(me)||(h=me)}}),Object.defineProperty(this,"margin",{get:function(){return A.margin},set:function(me){var pe;typeof me=="number"?pe=[me,me,me,me]:((pe=new Array(4))[0]=me[0],pe[1]=me.length>=2?me[1]:pe[0],pe[2]=me.length>=3?me[2]:pe[0],pe[3]=me.length>=4?me[3]:pe[1]),A.margin=pe}});var y=!1;Object.defineProperty(this,"autoPaging",{get:function(){return y},set:function(me){y=me}});var d=0;Object.defineProperty(this,"lastBreak",{get:function(){return d},set:function(me){d=me}});var M=[];Object.defineProperty(this,"pageBreaks",{get:function(){return M},set:function(me){M=me}}),Object.defineProperty(this,"ctx",{get:function(){return A},set:function(me){me instanceof c&&(A=me)}}),Object.defineProperty(this,"path",{get:function(){return A.path},set:function(me){A.path=me}});var S=[];Object.defineProperty(this,"ctxStack",{get:function(){return S},set:function(me){S=me}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(me){var pe;pe=f(me),this.ctx.fillStyle=pe.style,this.ctx.isFillTransparent=pe.a===0,this.ctx.fillOpacity=pe.a,this.pdf.setFillColor(pe.r,pe.g,pe.b,{a:pe.a}),this.pdf.setTextColor(pe.r,pe.g,pe.b,{a:pe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(me){var pe=f(me);this.ctx.strokeStyle=pe.style,this.ctx.isStrokeTransparent=pe.a===0,this.ctx.strokeOpacity=pe.a,pe.a===0?this.pdf.setDrawColor(255,255,255):(pe.a,this.pdf.setDrawColor(pe.r,pe.g,pe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(me){["butt","round","square"].indexOf(me)!==-1&&(this.ctx.lineCap=me,this.pdf.setLineCap(me))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(me){isNaN(me)||(this.ctx.lineWidth=me,this.pdf.setLineWidth(me))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(me){["bevel","round","miter"].indexOf(me)!==-1&&(this.ctx.lineJoin=me,this.pdf.setLineJoin(me))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(me){isNaN(me)||(this.ctx.miterLimit=me,this.pdf.setMiterLimit(me))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(me){this.ctx.textBaseline=me}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(me){["right","end","center","left","start"].indexOf(me)!==-1&&(this.ctx.textAlign=me)}});var W=null;function $(me,pe){if(W===null){var at=function(Te){var De=[];return Object.keys(Te).forEach(function(je){Te[je].forEach(function(qe){var Ge=null;switch(qe){case"bold":Ge={family:je,weight:"bold"};break;case"italic":Ge={family:je,style:"italic"};break;case"bolditalic":Ge={family:je,weight:"bold",style:"italic"};break;case"":case"normal":Ge={family:je}}Ge!==null&&(Ge.ref={name:je,style:qe},De.push(Ge))})}),De}(me.getFontList());W=function(Te){for(var De={},je=0;je<Te.length;++je){var qe=j4(Te[je]),Ge=qe.family,lt=qe.stretch,Bt=qe.style,Nt=qe.weight;De[Ge]=De[Ge]||{},De[Ge][lt]=De[Ge][lt]||{},De[Ge][lt][Bt]=De[Ge][lt][Bt]||{},De[Ge][lt][Bt][Nt]=qe}return De}(at.concat(pe))}return W}var se=null;Object.defineProperty(this,"fontFaces",{get:function(){return se},set:function(me){W=null,se=me}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(me){var pe;if(this.ctx.font=me,(pe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(me))!==null){var at=pe[1];pe[2];var Te=pe[3],De=pe[4];pe[5];var je=pe[6],qe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(De)[2];De=Math.floor(qe==="px"?parseFloat(De)*this.pdf.internal.scaleFactor:qe==="em"?parseFloat(De)*this.pdf.getFontSize():parseFloat(De)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(De);var Ge=function(vt){var Ut,Ve,Dn=[],Wt=vt.trim();if(Wt==="")return LI;if(Wt in zk)return[zk[Wt]];for(;Wt!=="";){switch(Ve=null,Ut=(Wt=qk(Wt)).charAt(0)){case'"':case"'":Ve=ZX(Wt.substring(1),Ut);break;default:Ve=eJ(Wt)}if(Ve===null||(Dn.push(Ve[0]),(Wt=qk(Ve[1]))!==""&&Wt.charAt(0)!==","))return LI;Wt=Wt.replace(/^,/,"")}return Dn}(je);if(this.fontFaces){var lt=JX($(this.pdf,this.fontFaces),Ge.map(function(vt){return{family:vt,stretch:"normal",weight:Te,style:at}}));this.pdf.setFont(lt.ref.name,lt.ref.style)}else{var Bt="";(Te==="bold"||parseInt(Te,10)>=700||at==="bold")&&(Bt="bold"),at==="italic"&&(Bt+="italic"),Bt.length===0&&(Bt="normal");for(var Nt="",_t={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ht=0;Ht<Ge.length;Ht++){if(this.pdf.internal.getFont(Ge[Ht],Bt,{noFallback:!0,disableWarning:!0})!==void 0){Nt=Ge[Ht];break}if(Bt==="bolditalic"&&this.pdf.internal.getFont(Ge[Ht],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Nt=Ge[Ht],Bt="bold";else if(this.pdf.internal.getFont(Ge[Ht],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Nt=Ge[Ht],Bt="normal";break}}if(Nt===""){for(var tr=0;tr<Ge.length;tr++)if(_t[Ge[tr]]){Nt=_t[Ge[tr]];break}}Nt=Nt===""?"Times":Nt,this.pdf.setFont(Nt,Bt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(me){this.ctx.globalCompositeOperation=me}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(me){this.ctx.globalAlpha=me}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(me){this.ctx.lineDashOffset=me,L.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(me){this.ctx.lineDash=me,L.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(me){this.ctx.ignoreClearRect=!!me}})};u.prototype.setLineDash=function(v){this.lineDash=v},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){Q.call(this,"fill",!1)},u.prototype.stroke=function(){Q.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(v,E){if(isNaN(v)||isNaN(E))throw yr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var x=this.ctx.transform.applyToPoint(new a(v,E));this.path.push({type:"mt",x:x.x,y:x.y}),this.ctx.lastPoint=new a(v,E)},u.prototype.closePath=function(){var v=new a(0,0),E=0;for(E=this.path.length-1;E!==-1;E--)if(this.path[E].type==="begin"&&Jt(this.path[E+1])==="object"&&typeof this.path[E+1].x=="number"){v=new a(this.path[E+1].x,this.path[E+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(v.x,v.y)},u.prototype.lineTo=function(v,E){if(isNaN(v)||isNaN(E))throw yr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var x=this.ctx.transform.applyToPoint(new a(v,E));this.path.push({type:"lt",x:x.x,y:x.y}),this.ctx.lastPoint=new a(x.x,x.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Q.call(this,null,!0)},u.prototype.quadraticCurveTo=function(v,E,x,g){if(isNaN(x)||isNaN(g)||isNaN(v)||isNaN(E))throw yr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var w=this.ctx.transform.applyToPoint(new a(x,g)),h=this.ctx.transform.applyToPoint(new a(v,E));this.path.push({type:"qct",x1:h.x,y1:h.y,x:w.x,y:w.y}),this.ctx.lastPoint=new a(w.x,w.y)},u.prototype.bezierCurveTo=function(v,E,x,g,w,h){if(isNaN(w)||isNaN(h)||isNaN(v)||isNaN(E)||isNaN(x)||isNaN(g))throw yr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var y=this.ctx.transform.applyToPoint(new a(w,h)),d=this.ctx.transform.applyToPoint(new a(v,E)),M=this.ctx.transform.applyToPoint(new a(x,g));this.path.push({type:"bct",x1:d.x,y1:d.y,x2:M.x,y2:M.y,x:y.x,y:y.y}),this.ctx.lastPoint=new a(y.x,y.y)},u.prototype.arc=function(v,E,x,g,w,h){if(isNaN(v)||isNaN(E)||isNaN(x)||isNaN(g)||isNaN(w))throw yr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(h=!!h,!this.ctx.transform.isIdentity){var y=this.ctx.transform.applyToPoint(new a(v,E));v=y.x,E=y.y;var d=this.ctx.transform.applyToPoint(new a(0,x)),M=this.ctx.transform.applyToPoint(new a(0,0));x=Math.sqrt(Math.pow(d.x-M.x,2)+Math.pow(d.y-M.y,2))}Math.abs(w-g)>=2*Math.PI&&(g=0,w=2*Math.PI),this.path.push({type:"arc",x:v,y:E,radius:x,startAngle:g,endAngle:w,counterclockwise:h})},u.prototype.arcTo=function(v,E,x,g,w){throw new Error("arcTo not implemented.")},u.prototype.rect=function(v,E,x,g){if(isNaN(v)||isNaN(E)||isNaN(x)||isNaN(g))throw yr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(v,E),this.lineTo(v+x,E),this.lineTo(v+x,E+g),this.lineTo(v,E+g),this.lineTo(v,E),this.lineTo(v+x,E),this.lineTo(v,E)},u.prototype.fillRect=function(v,E,x,g){if(isNaN(v)||isNaN(E)||isNaN(x)||isNaN(g))throw yr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var w={};this.lineCap!=="butt"&&(w.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(w.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(v,E,x,g),this.fill(),w.hasOwnProperty("lineCap")&&(this.lineCap=w.lineCap),w.hasOwnProperty("lineJoin")&&(this.lineJoin=w.lineJoin)}},u.prototype.strokeRect=function(v,E,x,g){if(isNaN(v)||isNaN(E)||isNaN(x)||isNaN(g))throw yr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");I.call(this)||(this.beginPath(),this.rect(v,E,x,g),this.stroke())},u.prototype.clearRect=function(v,E,x,g){if(isNaN(v)||isNaN(E)||isNaN(x)||isNaN(g))throw yr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(v,E,x,g))},u.prototype.save=function(v){v=typeof v!="boolean"||v;for(var E=this.pdf.internal.getCurrentPageInfo().pageNumber,x=0;x<this.pdf.internal.getNumberOfPages();x++)this.pdf.setPage(x+1),this.pdf.internal.out("q");if(this.pdf.setPage(E),v){this.ctx.fontSize=this.pdf.internal.getFontSize();var g=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=g}},u.prototype.restore=function(v){v=typeof v!="boolean"||v;for(var E=this.pdf.internal.getCurrentPageInfo().pageNumber,x=0;x<this.pdf.internal.getNumberOfPages();x++)this.pdf.setPage(x+1),this.pdf.internal.out("Q");this.pdf.setPage(E),v&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(v){var E,x,g,w;if(v.isCanvasGradient===!0&&(v=v.getColor()),!v)return{r:0,g:0,b:0,a:0,style:v};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(v))E=0,x=0,g=0,w=0;else{var h=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(v);if(h!==null)E=parseInt(h[1]),x=parseInt(h[2]),g=parseInt(h[3]),w=1;else if((h=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(v))!==null)E=parseInt(h[1]),x=parseInt(h[2]),g=parseInt(h[3]),w=parseFloat(h[4]);else{if(w=1,typeof v=="string"&&v.charAt(0)!=="#"){var y=new NR(v);v=y.ok?y.toHex():"#000000"}v.length===4?(E=v.substring(1,2),E+=E,x=v.substring(2,3),x+=x,g=v.substring(3,4),g+=g):(E=v.substring(1,3),x=v.substring(3,5),g=v.substring(5,7)),E=parseInt(E,16),x=parseInt(x,16),g=parseInt(g,16)}}return{r:E,g:x,b:g,a:w,style:v}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},I=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};u.prototype.fillText=function(v,E,x,g){if(isNaN(E)||isNaN(x)||typeof v!="string")throw yr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(g=isNaN(g)?void 0:g,!p.call(this)){var w=j(this.ctx.transform.rotation),h=this.ctx.transform.scaleX;te.call(this,{text:v,x:E,y:x,scale:h,angle:w,align:this.textAlign,maxWidth:g})}},u.prototype.strokeText=function(v,E,x,g){if(isNaN(E)||isNaN(x)||typeof v!="string")throw yr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!I.call(this)){g=isNaN(g)?void 0:g;var w=j(this.ctx.transform.rotation),h=this.ctx.transform.scaleX;te.call(this,{text:v,x:E,y:x,scale:h,renderingMode:"stroke",angle:w,align:this.textAlign,maxWidth:g})}},u.prototype.measureText=function(v){if(typeof v!="string")throw yr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var E=this.pdf,x=this.pdf.internal.scaleFactor,g=E.internal.getFontSize(),w=E.getStringUnitWidth(v)*g/E.internal.scaleFactor,h=function(y){var d=(y=y||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return d}}),this};return new h({width:w*=Math.round(96*x/72*1e4)/1e4})},u.prototype.scale=function(v,E){if(isNaN(v)||isNaN(E))throw yr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var x=new l(v,0,0,E,0,0);this.ctx.transform=this.ctx.transform.multiply(x)},u.prototype.rotate=function(v){if(isNaN(v))throw yr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var E=new l(Math.cos(v),Math.sin(v),-Math.sin(v),Math.cos(v),0,0);this.ctx.transform=this.ctx.transform.multiply(E)},u.prototype.translate=function(v,E){if(isNaN(v)||isNaN(E))throw yr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var x=new l(1,0,0,1,v,E);this.ctx.transform=this.ctx.transform.multiply(x)},u.prototype.transform=function(v,E,x,g,w,h){if(isNaN(v)||isNaN(E)||isNaN(x)||isNaN(g)||isNaN(w)||isNaN(h))throw yr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var y=new l(v,E,x,g,w,h);this.ctx.transform=this.ctx.transform.multiply(y)},u.prototype.setTransform=function(v,E,x,g,w,h){v=isNaN(v)?1:v,E=isNaN(E)?0:E,x=isNaN(x)?0:x,g=isNaN(g)?1:g,w=isNaN(w)?0:w,h=isNaN(h)?0:h,this.ctx.transform=new l(v,E,x,g,w,h)};var F=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(v,E,x,g,w,h,y,d,M){var S=this.pdf.getImageProperties(v),W=1,$=1,se=1,me=1;g!==void 0&&d!==void 0&&(se=d/g,me=M/w,W=S.width/g*d/g,$=S.height/w*M/w),h===void 0&&(h=E,y=x,E=0,x=0),g!==void 0&&d===void 0&&(d=g,M=w),g===void 0&&d===void 0&&(d=S.width,M=S.height);for(var pe,at=this.ctx.transform.decompose(),Te=j(at.rotate.shx),De=new l,je=(De=(De=(De=De.multiply(at.translate)).multiply(at.skew)).multiply(at.scale)).applyToRectangle(new o(h-E*se,y-x*me,g*W,w*$)),qe=D.call(this,je),Ge=[],lt=0;lt<qe.length;lt+=1)Ge.indexOf(qe[lt])===-1&&Ge.push(qe[lt]);if(U(Ge),this.autoPaging)for(var Bt=Ge[0],Nt=Ge[Ge.length-1],_t=Bt;_t<Nt+1;_t++){this.pdf.setPage(_t);var Ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],tr=_t===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ve=_t===1?0:vt+(_t-2)*Ut;if(this.ctx.clip_path.length!==0){var Dn=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(pe,this.posX+this.margin[3],-Ve+tr+this.ctx.prevPageLastElemOffset),V.call(this,"fill",!0),this.path=Dn}var Wt=JSON.parse(JSON.stringify(je));Wt=k([Wt],this.posX+this.margin[3],-Ve+tr+this.ctx.prevPageLastElemOffset)[0];var Le=(_t>Bt||_t<Nt)&&F.call(this);Le&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ht,Ut,null).clip().discardPath()),this.pdf.addImage(v,"JPEG",Wt.x,Wt.y,Wt.w,Wt.h,null,null,Te),Le&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(v,"JPEG",je.x,je.y,je.w,je.h,null,null,Te)};var D=function(v,E,x){var g=[];E=E||this.pdf.internal.pageSize.width,x=x||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var w=this.posY+this.ctx.prevPageLastElemOffset;switch(v.type){default:case"mt":case"lt":g.push(Math.floor((v.y+w)/x)+1);break;case"arc":g.push(Math.floor((v.y+w-v.radius)/x)+1),g.push(Math.floor((v.y+w+v.radius)/x)+1);break;case"qct":var h=T(this.ctx.lastPoint.x,this.ctx.lastPoint.y,v.x1,v.y1,v.x,v.y);g.push(Math.floor((h.y+w)/x)+1),g.push(Math.floor((h.y+h.h+w)/x)+1);break;case"bct":var y=_(this.ctx.lastPoint.x,this.ctx.lastPoint.y,v.x1,v.y1,v.x2,v.y2,v.x,v.y);g.push(Math.floor((y.y+w)/x)+1),g.push(Math.floor((y.y+y.h+w)/x)+1);break;case"rect":g.push(Math.floor((v.y+w)/x)+1),g.push(Math.floor((v.y+v.h+w)/x)+1)}for(var d=0;d<g.length;d+=1)for(;this.pdf.internal.getNumberOfPages()<g[d];)C.call(this);return g},C=function(){var v=this.fillStyle,E=this.strokeStyle,x=this.font,g=this.lineCap,w=this.lineWidth,h=this.lineJoin;this.pdf.addPage(),this.fillStyle=v,this.strokeStyle=E,this.font=x,this.lineCap=g,this.lineWidth=w,this.lineJoin=h},k=function(v,E,x){for(var g=0;g<v.length;g++)switch(v[g].type){case"bct":v[g].x2+=E,v[g].y2+=x;case"qct":v[g].x1+=E,v[g].y1+=x;case"mt":case"lt":case"arc":default:v[g].x+=E,v[g].y+=x}return v},U=function(v){return v.sort(function(E,x){return E-x})},Q=function(v,E){for(var x,g,w=this.fillStyle,h=this.strokeStyle,y=this.lineCap,d=this.lineWidth,M=Math.abs(d*this.ctx.transform.scaleX),S=this.lineJoin,W=JSON.parse(JSON.stringify(this.path)),$=JSON.parse(JSON.stringify(this.path)),se=[],me=0;me<$.length;me++)if($[me].x!==void 0)for(var pe=D.call(this,$[me]),at=0;at<pe.length;at+=1)se.indexOf(pe[at])===-1&&se.push(pe[at]);for(var Te=0;Te<se.length;Te++)for(;this.pdf.internal.getNumberOfPages()<se[Te];)C.call(this);if(U(se),this.autoPaging)for(var De=se[0],je=se[se.length-1],qe=De;qe<je+1;qe++){this.pdf.setPage(qe),this.fillStyle=w,this.strokeStyle=h,this.lineCap=y,this.lineWidth=M,this.lineJoin=S;var Ge=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],lt=qe===1?this.posY+this.margin[0]:this.margin[0],Bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_t=qe===1?0:Bt+(qe-2)*Nt;if(this.ctx.clip_path.length!==0){var Ht=this.path;x=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(x,this.posX+this.margin[3],-_t+lt+this.ctx.prevPageLastElemOffset),V.call(this,v,!0),this.path=Ht}if(g=JSON.parse(JSON.stringify(W)),this.path=k(g,this.posX+this.margin[3],-_t+lt+this.ctx.prevPageLastElemOffset),E===!1||qe===0){var tr=(qe>De||qe<je)&&F.call(this);tr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,Nt,null).clip().discardPath()),V.call(this,v,E),tr&&this.pdf.restoreGraphicsState()}this.lineWidth=d}else this.lineWidth=M,V.call(this,v,E),this.lineWidth=d;this.path=W},V=function(v,E){if((v!=="stroke"||E||!I.call(this))&&(v==="stroke"||E||!p.call(this))){for(var x,g,w=[],h=this.path,y=0;y<h.length;y++){var d=h[y];switch(d.type){case"begin":w.push({begin:!0});break;case"close":w.push({close:!0});break;case"mt":w.push({start:d,deltas:[],abs:[]});break;case"lt":var M=w.length;if(h[y-1]&&!isNaN(h[y-1].x)&&(x=[d.x-h[y-1].x,d.y-h[y-1].y],M>0)){for(;M>=0;M--)if(w[M-1].close!==!0&&w[M-1].begin!==!0){w[M-1].deltas.push(x),w[M-1].abs.push(d);break}}break;case"bct":x=[d.x1-h[y-1].x,d.y1-h[y-1].y,d.x2-h[y-1].x,d.y2-h[y-1].y,d.x-h[y-1].x,d.y-h[y-1].y],w[w.length-1].deltas.push(x);break;case"qct":var S=h[y-1].x+2/3*(d.x1-h[y-1].x),W=h[y-1].y+2/3*(d.y1-h[y-1].y),$=d.x+2/3*(d.x1-d.x),se=d.y+2/3*(d.y1-d.y),me=d.x,pe=d.y;x=[S-h[y-1].x,W-h[y-1].y,$-h[y-1].x,se-h[y-1].y,me-h[y-1].x,pe-h[y-1].y],w[w.length-1].deltas.push(x);break;case"arc":w.push({deltas:[],abs:[],arc:!0}),Array.isArray(w[w.length-1].abs)&&w[w.length-1].abs.push(d)}}g=E?null:v==="stroke"?"stroke":"fill";for(var at=!1,Te=0;Te<w.length;Te++)if(w[Te].arc)for(var De=w[Te].abs,je=0;je<De.length;je++){var qe=De[je];qe.type==="arc"?G.call(this,qe.x,qe.y,qe.radius,qe.startAngle,qe.endAngle,qe.counterclockwise,void 0,E,!at):ue.call(this,qe.x,qe.y),at=!0}else if(w[Te].close===!0)this.pdf.internal.out("h"),at=!1;else if(w[Te].begin!==!0){var Ge=w[Te].start.x,lt=w[Te].start.y;oe.call(this,w[Te].deltas,Ge,lt),at=!0}g&&Y.call(this,g),E&&K.call(this)}},Z=function(v){var E=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,x=E*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return v-x;case"top":return v+E-x;case"hanging":return v+E-2*x;case"middle":return v+E/2-x;case"ideographic":return v;case"alphabetic":default:return v}},q=function(v){return v+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var v=function(){};return v.colorStops=[],v.addColorStop=function(E,x){this.colorStops.push([E,x])},v.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},v.isCanvasGradient=!0,v},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var G=function(v,E,x,g,w,h,y,d,M){for(var S=J.call(this,x,g,w,h),W=0;W<S.length;W++){var $=S[W];W===0&&(M?H.call(this,$.x1+v,$.y1+E):ue.call(this,$.x1+v,$.y1+E)),re.call(this,v,E,$.x2,$.y2,$.x3,$.y3,$.x4,$.y4)}d?K.call(this):Y.call(this,y)},Y=function(v){switch(v){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},K=function(){this.pdf.clip(),this.pdf.discardPath()},H=function(v,E){this.pdf.internal.out(t(v)+" "+n(E)+" m")},te=function(v){var E;switch(v.align){case"right":case"end":E="right";break;case"center":E="center";break;case"left":case"start":default:E="left"}var x=this.pdf.getTextDimensions(v.text),g=Z.call(this,v.y),w=q.call(this,g)-x.h,h=this.ctx.transform.applyToPoint(new a(v.x,g)),y=this.ctx.transform.decompose(),d=new l;d=(d=(d=d.multiply(y.translate)).multiply(y.skew)).multiply(y.scale);for(var M,S,W,$=this.ctx.transform.applyToRectangle(new o(v.x,g,x.w,x.h)),se=d.applyToRectangle(new o(v.x,w,x.w,x.h)),me=D.call(this,se),pe=[],at=0;at<me.length;at+=1)pe.indexOf(me[at])===-1&&pe.push(me[at]);if(U(pe),this.autoPaging)for(var Te=pe[0],De=pe[pe.length-1],je=Te;je<De+1;je++){this.pdf.setPage(je);var qe=je===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lt=this.pdf.internal.pageSize.height-this.margin[2],Bt=lt-this.margin[0],Nt=this.pdf.internal.pageSize.width-this.margin[1],_t=Nt-this.margin[3],Ht=je===1?0:Ge+(je-2)*Bt;if(this.ctx.clip_path.length!==0){var tr=this.path;M=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(M,this.posX+this.margin[3],-1*Ht+qe),V.call(this,"fill",!0),this.path=tr}var vt=k([JSON.parse(JSON.stringify(se))],this.posX+this.margin[3],-Ht+qe+this.ctx.prevPageLastElemOffset)[0];v.scale>=.01&&(S=this.pdf.internal.getFontSize(),this.pdf.setFontSize(S*v.scale),W=this.lineWidth,this.lineWidth=W*v.scale);var Ut=this.autoPaging!=="text";if(Ut||vt.y+vt.h<=lt){if(Ut||vt.y>=qe&&vt.x<=Nt){var Ve=Ut?v.text:this.pdf.splitTextToSize(v.text,v.maxWidth||Nt-vt.x)[0],Dn=k([JSON.parse(JSON.stringify($))],this.posX+this.margin[3],-Ht+qe+this.ctx.prevPageLastElemOffset)[0],Wt=Ut&&(je>Te||je<De)&&F.call(this);Wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_t,Bt,null).clip().discardPath()),this.pdf.text(Ve,Dn.x,Dn.y,{angle:v.angle,align:E,renderingMode:v.renderingMode}),Wt&&this.pdf.restoreGraphicsState()}}else vt.y<lt&&(this.ctx.prevPageLastElemOffset+=lt-vt.y);v.scale>=.01&&(this.pdf.setFontSize(S),this.lineWidth=W)}else v.scale>=.01&&(S=this.pdf.internal.getFontSize(),this.pdf.setFontSize(S*v.scale),W=this.lineWidth,this.lineWidth=W*v.scale),this.pdf.text(v.text,h.x+this.posX,h.y+this.posY,{angle:v.angle,align:E,renderingMode:v.renderingMode,maxWidth:v.maxWidth}),v.scale>=.01&&(this.pdf.setFontSize(S),this.lineWidth=W)},ue=function(v,E,x,g){x=x||0,g=g||0,this.pdf.internal.out(t(v+x)+" "+n(E+g)+" l")},oe=function(v,E,x){return this.pdf.lines(v,E,x,null,null)},re=function(v,E,x,g,w,h,y,d){this.pdf.internal.out([e(i(x+v)),e(s(g+E)),e(i(w+v)),e(s(h+E)),e(i(y+v)),e(s(d+E)),"c"].join(" "))},J=function(v,E,x,g){for(var w=2*Math.PI,h=Math.PI/2;E>x;)E-=w;var y=Math.abs(x-E);y<w&&g&&(y=w-y);for(var d=[],M=g?-1:1,S=E;y>1e-5;){var W=S+M*Math.min(y,h);d.push(O.call(this,v,S,W)),y-=Math.abs(W-S),S=W}return d},O=function(v,E,x){var g=(x-E)/2,w=v*Math.cos(g),h=v*Math.sin(g),y=w,d=-h,M=y*y+d*d,S=M+y*w+d*h,W=4/3*(Math.sqrt(2*M*S)-S)/(y*h-d*w),$=y-W*d,se=d+W*y,me=$,pe=-se,at=g+E,Te=Math.cos(at),De=Math.sin(at);return{x1:v*Math.cos(E),y1:v*Math.sin(E),x2:$*Te-se*De,y2:$*De+se*Te,x3:me*Te-pe*De,y3:me*De+pe*Te,x4:v*Math.cos(x),y4:v*Math.sin(x)}},j=function(v){return 180*v/Math.PI},T=function(v,E,x,g,w,h){var y=v+.5*(x-v),d=E+.5*(g-E),M=w+.5*(x-w),S=h+.5*(g-h),W=Math.min(v,w,y,M),$=Math.max(v,w,y,M),se=Math.min(E,h,d,S),me=Math.max(E,h,d,S);return new o(W,se,$-W,me-se)},_=function(v,E,x,g,w,h,y,d){var M,S,W,$,se,me,pe,at,Te,De,je,qe,Ge,lt,Bt=x-v,Nt=g-E,_t=w-x,Ht=h-g,tr=y-w,vt=d-h;for(S=0;S<41;S++)Te=(pe=(W=v+(M=S/40)*Bt)+M*((se=x+M*_t)-W))+M*(se+M*(w+M*tr-se)-pe),De=(at=($=E+M*Nt)+M*((me=g+M*Ht)-$))+M*(me+M*(h+M*vt-me)-at),S==0?(je=Te,qe=De,Ge=Te,lt=De):(je=Math.min(je,Te),qe=Math.min(qe,De),Ge=Math.max(Ge,Te),lt=Math.max(lt,De));return new o(Math.round(je),Math.round(qe),Math.round(Ge-je),Math.round(lt-qe))},L=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var v,E,x=(v=this.ctx.lineDash,E=this.ctx.lineDashOffset,JSON.stringify({lineDash:v,lineDashOffset:E}));this.prevLineDash!==x&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=x)}}})(wt.API),function(r){var e=function(s){var a,o,l,A,c,u,f,p,I,F;for(o=[],l=0,A=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;A>l;l+=4)(c=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(u=(c=((c=((c=((c=(c-(F=c%85))/85)-(I=c%85))/85)-(p=c%85))/85)-(f=c%85))/85)%85,o.push(u+33,f+33,p+33,I+33,F+33)):o.push(122);return function(D,C){for(var k=C;k>0;k--)D.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},t=function(s){var a,o,l,A,c,u=String,f="length",p=255,I="charCodeAt",F="slice",D="replace";for(s[F](-2),s=s[F](0,-2)[D](/\s/g,"")[D]("z","!!!!!"),l=[],A=0,c=(s+=a="uuuuu"[F](s[f]%5||5))[f];c>A;A+=5)o=52200625*(s[I](A)-33)+614125*(s[I](A+1)-33)+7225*(s[I](A+2)-33)+85*(s[I](A+3)-33)+(s[I](A+4)-33),l.push(p&o>>24,p&o>>16,p&o>>8,p&o);return function(C,k){for(var U=k;U>0;U--)C.pop()}(l,a[f]),u.fromCharCode.apply(u,l)},n=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var o="",l=0;l<s.length;l+=2)o+=String.fromCharCode("0x"+(s[l]+s[l+1]));return o},i=function(s){for(var a=new Uint8Array(s.length),o=s.length;o--;)a[o]=s.charCodeAt(o);return s=(a=U4(a)).reduce(function(l,A){return l+String.fromCharCode(A)},"")};r.processDataByFilters=function(s,a){var o=0,l=s||"",A=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":l=t(l),A.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),A.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),A.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">",A.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),A.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:l,reverseChain:A.reverse().join(" ")}}}(wt.API),function(r){r.loadFile=function(e,t,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,A,c){var u=new XMLHttpRequest,f=0,p=function(I){var F=I.length,D=[],C=String.fromCharCode;for(f=0;f<F;f+=1)D.push(C(255&I.charCodeAt(f)));return D.join("")};if(u.open("GET",l,!A),u.overrideMimeType("text/plain; charset=x-user-defined"),A===!1&&(u.onload=function(){u.status===200?c(p(this.responseText)):c(void 0)}),u.send(null),A&&u.status===200)return p(u.responseText)}(i,s,a)}catch{}return o}(e,t,n)},r.loadImageFile=r.loadFile}(wt.API),function(r){function e(){return(bt.html2canvas?Promise.resolve(bt.html2canvas):N4(()=>Promise.resolve().then(()=>Hne),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function t(){return(bt.DOMPurify?Promise.resolve(bt.DOMPurify):N4(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var o=Jt(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(a,o){var l=document.createElement(a);for(var A in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[A]=o.style[A];return l},s=function a(o){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),A=a.convert(Promise.resolve(),l);return A=(A=A.setProgress(1,a,1,[a])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,o){return a.__proto__=o||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(t).then(function(l){return this.set({src:i("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(A,c){for(var u=A.nodeType===3?document.createTextNode(A.nodeValue):A.cloneNode(!1),f=A.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(l(f,c));return A.nodeType===1&&(A.nodeName==="CANVAS"?(u.width=A.width,u.height=A.height,u.getContext("2d").drawImage(A,0,0)):A.nodeName!=="TEXTAREA"&&A.nodeName!=="SELECT"||(u.value=A.value),u.addEventListener("load",function(){u.scrollTop=A.scrollTop,u.scrollLeft=A.scrollLeft},!0)),u}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=this.opt.jsPDF,A=this.opt.fontFaces,c=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,u=Object.assign({async:!0,allowTaint:!0,scale:c,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete u.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=A,A)for(var f=0;f<A.length;++f){var p=A[f],I=p.src.find(function(F){return F.format==="truetype"});I&&l.addFont(I.url,p.ref.name,p.ref.style)}return u.windowHeight=u.windowHeight||0,u.windowHeight=u.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):u.windowHeight,l.context2d.save(!0),o(this.prop.container,u)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},s.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(n(a)!=="object")return this;var o=Object.keys(a||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(a,o){return this.then(function(){var l=a in s.template.prop?this.prop[a]:this.opt[a];return o?o(l):l})},s.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function o(l,A){return Math.floor(l*A/72*96)}return this.then(function(){(a=a||wt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,o,l,A){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),A!=null&&(this.progress.stack=A),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,o,l,A){return this.setProgress(a?this.progress.val+a:null,o||null,l?this.progress.n+l:null,A?this.progress.stack.concat(A):null)},s.prototype.then=function(a,o){var l=this;return this.thenCore(a,o,function(A,c){return l.updateProgress(null,null,1,[A]),Promise.prototype.then.call(this,function(u){return l.updateProgress(null,A),u}).then(A,c).then(function(u){return l.updateProgress(1),u})})},s.prototype.thenCore=function(a,o,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),c=l.call(A,a,o);return s.convert(c,this.__proto__)},s.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},s.prototype.thenList=function(a){var o=this;return a.forEach(function(l){o=o.thenCore(l)}),o},s.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return s.convert(o,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,wt.getPageSize=function(a,o,l){if(Jt(a)==="object"){var A=a;a=A.orientation,o=A.unit||o,l=A.format||l}o=o||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var c,u=(""+l).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":c=1;break;case"mm":c=72/25.4;break;case"cm":c=72/2.54;break;case"in":c=72;break;case"px":c=.75;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+o}var p,I=0,F=0;if(f.hasOwnProperty(u))I=f[u][1]/c,F=f[u][0]/c;else try{I=l[1],F=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",F>I&&(p=F,F=I,I=p);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",I>F&&(p=F,F=I,I=p)}return{width:F,height:I,unit:o,k:c,orientation:a}},r.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(j4):null;var l=new s(o);return o.worker?l:l.from(a).doCallback()}}(wt.API),wt.API.addJS=function(r){return Xk=r,this.internal.events.subscribe("postPutResources",function(){Tw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Tw+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Yk=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Xk+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Tw!==void 0&&Yk!==void 0&&this.internal.out("/Names <</JavaScript "+Tw+" 0 R>>")}),this},function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var l=o[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var A=this.internal.pages.length,c=[];for(s=0;s<A;s++){var u=t.internal.newObject();c.push(u);var f=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var p=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<c.length;s++)t.internal.write("(page_"+(s+1)+")"+c[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+p+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var A=0;A<n.children.length;A++)this.renderItems(n.children[A])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(wt.API),function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,i,s,a,o){var l,A=this.decode.DCT_DECODE,c=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(l=function(u){for(var f,p=256*u.charCodeAt(4)+u.charCodeAt(5),I=u.length,F={width:0,height:0,numcomponents:1},D=4;D<I;D+=2){if(D+=p,e.indexOf(u.charCodeAt(D+1))!==-1){f=256*u.charCodeAt(D+5)+u.charCodeAt(D+6),F={width:256*u.charCodeAt(D+7)+u.charCodeAt(D+8),height:f,numcomponents:u.charCodeAt(D+9)};break}p=256*u.charCodeAt(D+2)+u.charCodeAt(D+3)}return F}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}c={data:t,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:A,index:n,alias:i}}return c}}(wt.API);var df,Rw,Jk,Zk,eM,tJ=function(){var r,e,t;function n(s){var a,o,l,A,c,u,f,p,I,F,D,C,k,U;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},u=null;;){switch(a=this.readUInt32(),I=(function(){var Q,V;for(V=[],Q=0;Q<4;++Q)V.push(String.fromCharCode(this.data[this.pos++]));return V}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":u&&this.animation.frames.push(u),this.pos+=4,u={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},c=this.readUInt16(),A=this.readUInt16()||100,u.delay=1e3*c/A,u.disposeOp=this.data[this.pos++],u.blendOp=this.data[this.pos++],u.data=[];break;case"IDAT":case"fdAT":for(I==="fdAT"&&(this.pos+=4,a-=4),s=(u!=null?u.data:void 0)||this.imgData,C=0;0<=a?C<a:C>a;0<=a?++C:--C)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((F=l-this.transparency.indexed.length)>0)for(k=0;0<=F?k<F:k>F;0<=F?++k:--k)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":f=(D=this.read(a)).indexOf(0),p=String.fromCharCode.apply(String,D.slice(0,f)),this.text[p]=String.fromCharCode.apply(String,D.slice(f+1));break;case"IEND":return u&&this.animation.frames.push(u),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(U=this.colorType)===4||U===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var a,o;for(o=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),l=0,A=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function c(u,f,p,I){var F,D,C,k,U,Q,V,Z,q,G,Y,K,H,te,ue,oe,re,J,O,j,T,_=Math.ceil((A.width-u)/p),L=Math.ceil((A.height-f)/I),v=A.width==_&&A.height==L;for(te=a*_,K=v?o:new Uint8Array(te*L),Q=s.length,H=0,D=0;H<L&&l<Q;){switch(s[l++]){case 0:for(k=re=0;re<te;k=re+=1)K[D++]=s[l++];break;case 1:for(k=J=0;J<te;k=J+=1)F=s[l++],U=k<a?0:K[D-a],K[D++]=(F+U)%256;break;case 2:for(k=O=0;O<te;k=O+=1)F=s[l++],C=(k-k%a)/a,ue=H&&K[(H-1)*te+C*a+k%a],K[D++]=(ue+F)%256;break;case 3:for(k=j=0;j<te;k=j+=1)F=s[l++],C=(k-k%a)/a,U=k<a?0:K[D-a],ue=H&&K[(H-1)*te+C*a+k%a],K[D++]=(F+Math.floor((U+ue)/2))%256;break;case 4:for(k=T=0;T<te;k=T+=1)F=s[l++],C=(k-k%a)/a,U=k<a?0:K[D-a],H===0?ue=oe=0:(ue=K[(H-1)*te+C*a+k%a],oe=C&&K[(H-1)*te+(C-1)*a+k%a]),V=U+ue-oe,Z=Math.abs(V-U),G=Math.abs(V-ue),Y=Math.abs(V-oe),q=Z<=G&&Z<=Y?U:G<=Y?ue:oe,K[D++]=(F+q)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!v){var E=((f+H*I)*A.width+u)*a,x=H*te;for(k=0;k<_;k+=1){for(var g=0;g<a;g+=1)o[E++]=K[x++];E+=(p-1)*a}}H++}}return s=DX(s),A.interlaceMethod==1?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1),o},n.prototype.decodePalette=function(){var s,a,o,l,A,c,u,f,p;for(o=this.palette,c=this.transparency.indexed||[],A=new Uint8Array((c.length||0)+o.length),l=0,s=0,a=u=0,f=o.length;u<f;a=u+=3)A[l++]=o[a],A[l++]=o[a+1],A[l++]=o[a+2],A[l++]=(p=c[s++])!=null?p:255;return A},n.prototype.copyToImageData=function(s,a){var o,l,A,c,u,f,p,I,F,D,C;if(l=this.colors,F=null,o=this.hasAlphaChannel,this.palette.length&&(F=(C=this._decodedPalette)!=null?C:this._decodedPalette=this.decodePalette(),l=4,o=!0),I=(A=s.data||s).length,u=F||a,c=f=0,l===1)for(;c<I;)p=F?4*a[c/4]:f,D=u[p++],A[c++]=D,A[c++]=D,A[c++]=D,A[c++]=o?u[p++]:255,f=p;else for(;c<I;)p=F?4*a[c/4]:f,A[c++]=u[p++],A[c++]=u[p++],A[c++]=u[p++],A[c++]=o?u[p++]:255,f=p},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(bt)==="[object Window]"){try{e=bt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),r=function(s){var a;if(i()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var a,o,l,A,c,u,f,p;if(this.animation){for(p=[],o=c=0,u=(f=this.animation.frames).length;c<u;o=++c)a=f[o],l=s.createImageData(a.width,a.height),A=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,A),a.imageData=l,p.push(a.image=r(l));return p}},n.prototype.renderFrame=function(s,a){var o,l,A;return o=(l=this.animation.frames)[a],A=l[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(A!=null?A.disposeOp:void 0)===1?s.clearRect(A.xOffset,A.yOffset,A.width,A.height):(A!=null?A.disposeOp:void 0)===2&&s.putImageData(A.imageData,A.xOffset,A.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(s){var a,o,l,A,c,u,f=this;return o=0,u=this.animation,A=u.numFrames,l=u.frames,c=u.numPlays,(a=function(){var p,I;if(p=o++%A,I=l[p],f.renderFrame(s,p),A>1&&o/A<c)return f.animation._timeout=setTimeout(a,I.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var a,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function rJ(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,i=r[e++],s=i>>7,a=1<<(7&i)+1;r[e++],r[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var A=!0,c=[],u=0,f=null,p=0,I=null;for(this.width=t,this.height=n;A&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,I=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((H=r[e++])>=0))throw Error("Invalid block size");if(H===0)break;e+=H}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var F=r[e++];u=r[e++]|r[e++]<<8,f=r[e++],!(1&F)&&(f=null),p=F>>2&7,e++;break;case 254:for(;;){if(!((H=r[e++])>=0))throw Error("Invalid block size");if(H===0)break;e+=H}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var D=r[e++]|r[e++]<<8,C=r[e++]|r[e++]<<8,k=r[e++]|r[e++]<<8,U=r[e++]|r[e++]<<8,Q=r[e++],V=Q>>6&1,Z=1<<(7&Q)+1,q=o,G=l,Y=!1;Q>>7&&(Y=!0,q=e,G=Z,e+=3*Z);var K=e;for(e++;;){var H;if(!((H=r[e++])>=0))throw Error("Invalid block size");if(H===0)break;e+=H}c.push({x:D,y:C,width:k,height:U,has_local_palette:Y,palette_offset:q,palette_size:G,data_offset:K,data_length:e-K,transparent_index:f,interlaced:!!V,delay:u,disposal:p});break;case 59:A=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return I},this.frameInfo=function(te){if(te<0||te>=c.length)throw new Error("Frame index out of range.");return c[te]},this.decodeAndBlitFrameBGRA=function(te,ue){var oe=this.frameInfo(te),re=oe.width*oe.height,J=new Uint8Array(re);tM(r,oe.data_offset,J,re);var O=oe.palette_offset,j=oe.transparent_index;j===null&&(j=256);var T=oe.width,_=t-T,L=T,v=4*(oe.y*t+oe.x),E=4*((oe.y+oe.height)*t+oe.x),x=v,g=4*_;oe.interlaced===!0&&(g+=4*t*7);for(var w=8,h=0,y=J.length;h<y;++h){var d=J[h];if(L===0&&(L=T,(x+=g)>=E&&(g=4*_+4*t*(w-1),x=v+(T+_)*(w<<1),w>>=1)),d===j)x+=4;else{var M=r[O+3*d],S=r[O+3*d+1],W=r[O+3*d+2];ue[x++]=W,ue[x++]=S,ue[x++]=M,ue[x++]=255}--L}},this.decodeAndBlitFrameRGBA=function(te,ue){var oe=this.frameInfo(te),re=oe.width*oe.height,J=new Uint8Array(re);tM(r,oe.data_offset,J,re);var O=oe.palette_offset,j=oe.transparent_index;j===null&&(j=256);var T=oe.width,_=t-T,L=T,v=4*(oe.y*t+oe.x),E=4*((oe.y+oe.height)*t+oe.x),x=v,g=4*_;oe.interlaced===!0&&(g+=4*t*7);for(var w=8,h=0,y=J.length;h<y;++h){var d=J[h];if(L===0&&(L=T,(x+=g)>=E&&(g=4*_+4*t*(w-1),x=v+(T+_)*(w<<1),w>>=1)),d===j)x+=4;else{var M=r[O+3*d],S=r[O+3*d+1],W=r[O+3*d+2];ue[x++]=M,ue[x++]=S,ue[x++]=W,ue[x++]=255}--L}}}function tM(r,e,t,n){for(var i=r[e++],s=1<<i,a=s+1,o=a+1,l=i+1,A=(1<<l)-1,c=0,u=0,f=0,p=r[e++],I=new Int32Array(4096),F=null;;){for(;c<16&&p!==0;)u|=r[e++]<<c,c+=8,p===1?p=r[e++]:--p;if(c<l)break;var D=u&A;if(u>>=l,c-=l,D!==s){if(D===a)break;for(var C=D<o?D:F,k=0,U=C;U>s;)U=I[U]>>8,++k;var Q=U;if(f+k+(C!==D?1:0)>n)return void yr.log("Warning, gif stream longer than expected.");t[f++]=Q;var V=f+=k;for(C!==D&&(t[f++]=Q),U=C;k--;)U=I[U],t[--V]=255&U,U>>=8;F!==null&&o<4096&&(I[o++]=F<<8|Q,o>=A+1&&l<12&&(++l,A=A<<1|1)),F=D}else o=a+1,A=(1<<(l=i+1))-1,F=null}return f!==n&&yr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function NI(r){var e,t,n,i,s,a=Math.floor,o=new Array(64),l=new Array(64),A=new Array(64),c=new Array(64),u=new Array(65535),f=new Array(65535),p=new Array(64),I=new Array(64),F=[],D=0,C=7,k=new Array(64),U=new Array(64),Q=new Array(64),V=new Array(256),Z=new Array(2048),q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],G=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],H=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],te=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ue=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],re=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function J(v,E){for(var x=0,g=0,w=new Array,h=1;h<=16;h++){for(var y=1;y<=v[h];y++)w[E[g]]=[],w[E[g]][0]=x,w[E[g]][1]=h,g++,x++;x*=2}return w}function O(v){for(var E=v[0],x=v[1]-1;x>=0;)E&1<<x&&(D|=1<<C),x--,--C<0&&(D==255?(j(255),j(0)):j(D),C=7,D=0)}function j(v){F.push(v)}function T(v){j(v>>8&255),j(255&v)}function _(v,E,x,g,w){for(var h,y=w[0],d=w[240],M=function(De,je){var qe,Ge,lt,Bt,Nt,_t,Ht,tr,vt,Ut,Ve=0;for(vt=0;vt<8;++vt){qe=De[Ve],Ge=De[Ve+1],lt=De[Ve+2],Bt=De[Ve+3],Nt=De[Ve+4],_t=De[Ve+5],Ht=De[Ve+6];var Dn=qe+(tr=De[Ve+7]),Wt=qe-tr,Le=Ge+Ht,Re=Ge-Ht,He=lt+_t,ht=lt-_t,ft=Bt+Nt,_n=Bt-Nt,sr=Dn+ft,yi=Dn-ft,Ri=Le+He,br=Le-He;De[Ve]=sr+Ri,De[Ve+4]=sr-Ri;var Ct=.707106781*(br+yi);De[Ve+2]=yi+Ct,De[Ve+6]=yi-Ct;var rr=.382683433*((sr=_n+ht)-(br=Re+Wt)),Su=.5411961*sr+rr,Zn=1.306562965*br+rr,Lo=.707106781*(Ri=ht+Re),No=Wt+Lo,yt=Wt-Lo;De[Ve+5]=yt+Su,De[Ve+3]=yt-Su,De[Ve+1]=No+Zn,De[Ve+7]=No-Zn,Ve+=8}for(Ve=0,vt=0;vt<8;++vt){qe=De[Ve],Ge=De[Ve+8],lt=De[Ve+16],Bt=De[Ve+24],Nt=De[Ve+32],_t=De[Ve+40],Ht=De[Ve+48];var Oa=qe+(tr=De[Ve+56]),ko=qe-tr,as=Ge+Ht,vn=Ge-Ht,ln=lt+_t,Fs=lt-_t,Nh=Bt+Nt,Il=Bt-Nt,ja=Oa+Nh,Ha=Oa-Nh,Wa=as+ln,Mo=as-ln;De[Ve]=ja+Wa,De[Ve+32]=ja-Wa;var Aa=.707106781*(Mo+Ha);De[Ve+16]=Ha+Aa,De[Ve+48]=Ha-Aa;var Do=.382683433*((ja=Il+Fs)-(Mo=vn+ko)),Fu=.5411961*ja+Do,kh=1.306562965*Mo+Do,Mh=.707106781*(Wa=Fs+vn),Dh=ko+Mh,_h=ko-Mh;De[Ve+40]=_h+Fu,De[Ve+24]=_h-Fu,De[Ve+8]=Dh+kh,De[Ve+56]=Dh-kh,Ve++}for(vt=0;vt<64;++vt)Ut=De[vt]*je[vt],p[vt]=Ut>0?Ut+.5|0:Ut-.5|0;return p}(v,E),S=0;S<64;++S)I[q[S]]=M[S];var W=I[0]-x;x=I[0],W==0?O(g[0]):(O(g[f[h=32767+W]]),O(u[h]));for(var $=63;$>0&&I[$]==0;)$--;if($==0)return O(y),x;for(var se,me=1;me<=$;){for(var pe=me;I[me]==0&&me<=$;)++me;var at=me-pe;if(at>=16){se=at>>4;for(var Te=1;Te<=se;++Te)O(d);at&=15}h=32767+I[me],O(w[(at<<4)+f[h]]),O(u[h]),me++}return $!=63&&O(y),x}function L(v){v=Math.min(Math.max(v,1),100),s!=v&&(function(E){for(var x=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],g=0;g<64;g++){var w=a((x[g]*E+50)/100);w=Math.min(Math.max(w,1),255),o[q[g]]=w}for(var h=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],y=0;y<64;y++){var d=a((h[y]*E+50)/100);d=Math.min(Math.max(d,1),255),l[q[y]]=d}for(var M=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],S=0,W=0;W<8;W++)for(var $=0;$<8;$++)A[S]=1/(o[q[S]]*M[W]*M[$]*8),c[S]=1/(l[q[S]]*M[W]*M[$]*8),S++}(v<50?Math.floor(5e3/v):Math.floor(200-2*v)),s=v)}this.encode=function(v,E){E&&L(E),F=new Array,D=0,C=7,T(65496),T(65504),T(16),j(74),j(70),j(73),j(70),j(0),j(1),j(1),j(0),T(1),T(1),j(0),j(0),function(){T(65499),T(132),j(0);for(var Ge=0;Ge<64;Ge++)j(o[Ge]);j(1);for(var lt=0;lt<64;lt++)j(l[lt])}(),function(Ge,lt){T(65472),T(17),j(8),T(lt),T(Ge),j(3),j(1),j(17),j(0),j(2),j(17),j(1),j(3),j(17),j(1)}(v.width,v.height),function(){T(65476),T(418),j(0);for(var Ge=0;Ge<16;Ge++)j(G[Ge+1]);for(var lt=0;lt<=11;lt++)j(Y[lt]);j(16);for(var Bt=0;Bt<16;Bt++)j(K[Bt+1]);for(var Nt=0;Nt<=161;Nt++)j(H[Nt]);j(1);for(var _t=0;_t<16;_t++)j(te[_t+1]);for(var Ht=0;Ht<=11;Ht++)j(ue[Ht]);j(17);for(var tr=0;tr<16;tr++)j(oe[tr+1]);for(var vt=0;vt<=161;vt++)j(re[vt])}(),T(65498),T(12),j(3),j(1),j(0),j(2),j(17),j(3),j(17),j(0),j(63),j(0);var x=0,g=0,w=0;D=0,C=7,this.encode.displayName="_encode_";for(var h,y,d,M,S,W,$,se,me,pe=v.data,at=v.width,Te=v.height,De=4*at,je=0;je<Te;){for(h=0;h<De;){for(S=De*je+h,$=-1,se=0,me=0;me<64;me++)W=S+(se=me>>3)*De+($=4*(7&me)),je+se>=Te&&(W-=De*(je+1+se-Te)),h+$>=De&&(W-=h+$-De+4),y=pe[W++],d=pe[W++],M=pe[W++],k[me]=(Z[y]+Z[d+256>>0]+Z[M+512>>0]>>16)-128,U[me]=(Z[y+768>>0]+Z[d+1024>>0]+Z[M+1280>>0]>>16)-128,Q[me]=(Z[y+1280>>0]+Z[d+1536>>0]+Z[M+1792>>0]>>16)-128;x=_(k,A,x,e,n),g=_(U,c,g,t,i),w=_(Q,c,w,t,i),h+=32}je+=8}if(C>=0){var qe=[];qe[1]=C+1,qe[0]=(1<<C+1)-1,O(qe)}return T(65497),new Uint8Array(F)},r=r||50,function(){for(var v=String.fromCharCode,E=0;E<256;E++)V[E]=v(E)}(),e=J(G,Y),t=J(te,ue),n=J(K,H),i=J(oe,re),function(){for(var v=1,E=2,x=1;x<=15;x++){for(var g=v;g<E;g++)f[32767+g]=x,u[32767+g]=[],u[32767+g][1]=x,u[32767+g][0]=g;for(var w=-(E-1);w<=-v;w++)f[32767+w]=x,u[32767+w]=[],u[32767+w][1]=x,u[32767+w][0]=E-1+w;v<<=1,E<<=1}}(),function(){for(var v=0;v<256;v++)Z[v]=19595*v,Z[v+256>>0]=38470*v,Z[v+512>>0]=7471*v+32768,Z[v+768>>0]=-11059*v,Z[v+1024>>0]=-21709*v,Z[v+1280>>0]=32768*v+8421375,Z[v+1536>>0]=-27439*v,Z[v+1792>>0]=-5329*v}(),L(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Xa(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function rM(r){function e(G){if(!G)throw Error("assert :P")}function t(G,Y,K){for(var H=0;4>H;H++)if(G[Y+H]!=K.charCodeAt(H))return!0;return!1}function n(G,Y,K,H,te){for(var ue=0;ue<te;ue++)G[Y+ue]=K[H+ue]}function i(G,Y,K,H){for(var te=0;te<H;te++)G[Y+te]=K}function s(G){return new Int32Array(G)}function a(G,Y){for(var K=[],H=0;H<G;H++)K.push(new Y);return K}function o(G,Y){var K=[];return function H(te,ue,oe){for(var re=oe[ue],J=0;J<re&&(te.push(oe.length>ue+1?[]:new Y),!(oe.length<ue+1));J++)H(te[J],ue+1,oe)}(K,0,G),K}var l=function(){var G=this;function Y(b,N){for(var R=1<<N-1>>>0;b&R;)R>>>=1;return R?(b&R-1)+R:b}function K(b,N,R,X,ne){e(!(X%R));do b[N+(X-=R)]=ne;while(0<X)}function H(b,N,R,X,ne){if(e(2328>=ne),512>=ne)var Ae=s(512);else if((Ae=s(ne))==null)return 0;return function(ce,he,fe,ge,ve,Ce){var Se,xe,Me=he,Fe=1<<fe,be=s(16),Be=s(16);for(e(ve!=0),e(ge!=null),e(ce!=null),e(0<fe),xe=0;xe<ve;++xe){if(15<ge[xe])return 0;++be[ge[xe]]}if(be[0]==ve)return 0;for(Be[1]=0,Se=1;15>Se;++Se){if(be[Se]>1<<Se)return 0;Be[Se+1]=Be[Se]+be[Se]}for(xe=0;xe<ve;++xe)Se=ge[xe],0<ge[xe]&&(Ce[Be[Se]++]=xe);if(Be[15]==1)return(ge=new te).g=0,ge.value=Ce[0],K(ce,Me,1,Fe,ge),Fe;var Ne,_e=-1,ke=Fe-1,Ze=0,Ke=1,pt=1,ze=1<<fe;for(xe=0,Se=1,ve=2;Se<=fe;++Se,ve<<=1){if(Ke+=pt<<=1,0>(pt-=be[Se]))return 0;for(;0<be[Se];--be[Se])(ge=new te).g=Se,ge.value=Ce[xe++],K(ce,Me+Ze,ve,ze,ge),Ze=Y(Ze,Se)}for(Se=fe+1,ve=2;15>=Se;++Se,ve<<=1){if(Ke+=pt<<=1,0>(pt-=be[Se]))return 0;for(;0<be[Se];--be[Se]){if(ge=new te,(Ze&ke)!=_e){for(Me+=ze,Ne=1<<(_e=Se)-fe;15>_e&&!(0>=(Ne-=be[_e]));)++_e,Ne<<=1;Fe+=ze=1<<(Ne=_e-fe),ce[he+(_e=Ze&ke)].g=Ne+fe,ce[he+_e].value=Me-he-_e}ge.g=Se-fe,ge.value=Ce[xe++],K(ce,Me+(Ze>>fe),ve,ze,ge),Ze=Y(Ze,Se)}}return Ke!=2*Be[15]-1?0:Fe}(b,N,R,X,ne,Ae)}function te(){this.value=this.g=0}function ue(){this.value=this.g=0}function oe(){this.G=a(5,te),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(ei,ue)}function re(b,N,R,X){e(b!=null),e(N!=null),e(2147483648>X),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=N,b.pa=R,b.Jd=N,b.Yc=R+X,b.Zc=4<=X?R+X-4+1:R,h(b)}function J(b,N){for(var R=0;0<N--;)R|=d(b,128)<<N;return R}function O(b,N){var R=J(b,N);return y(b)?-R:R}function j(b,N,R,X){var ne,Ae=0;for(e(b!=null),e(N!=null),e(4294967288>X),b.Sb=X,b.Ra=0,b.u=0,b.h=0,4<X&&(X=4),ne=0;ne<X;++ne)Ae+=N[R+ne]<<8*ne;b.Ra=Ae,b.bb=X,b.oa=N,b.pa=R}function T(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<qh-8>>>0,++b.bb,b.u-=8;x(b)&&(b.h=1,b.u=0)}function _(b,N){if(e(0<=N),!b.h&&N<=Vh){var R=E(b)&zh[N];return b.u+=N,T(b),R}return b.h=1,b.u=0}function L(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function v(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function E(b){return b.Ra>>>(b.u&qh-1)>>>0}function x(b){return e(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>qh}function g(b,N){b.u=N,b.h=x(b)}function w(b){b.u>=qg&&(e(b.u>=qg),T(b))}function h(b){e(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(e(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function y(b){return J(b,1)}function d(b,N){var R=b.Ca;0>b.b&&h(b);var X=b.b,ne=R*N>>>8,Ae=(b.I>>>X>ne)+0;for(Ae?(R-=ne,b.I-=ne+1<<X>>>0):R=ne+1,X=R,ne=0;256<=X;)ne+=8,X>>=8;return X=7^ne+ls[X],b.b-=X,b.Ca=(R<<X)-1,Ae}function M(b,N,R){b[N+0]=R>>24&255,b[N+1]=R>>16&255,b[N+2]=R>>8&255,b[N+3]=R>>0&255}function S(b,N){return b[N+0]<<0|b[N+1]<<8}function W(b,N){return S(b,N)|b[N+2]<<16}function $(b,N){return S(b,N)|S(b,N+2)<<16}function se(b,N){var R=1<<N;return e(b!=null),e(0<N),b.X=s(R),b.X==null?0:(b.Mb=32-N,b.Xa=N,1)}function me(b,N){e(b!=null),e(N!=null),e(b.Xa==N.Xa),n(N.X,0,b.X,0,1<<N.Xa)}function pe(){this.X=[],this.Xa=this.Mb=0}function at(b,N,R,X){e(R!=null),e(X!=null);var ne=R[0],Ae=X[0];return ne==0&&(ne=(b*Ae+N/2)/N),Ae==0&&(Ae=(N*ne+b/2)/b),0>=ne||0>=Ae?0:(R[0]=ne,X[0]=Ae,1)}function Te(b,N){return b+(1<<N)-1>>>N}function De(b,N){return((4278255360&b)+(4278255360&N)>>>0&4278255360)+((16711935&b)+(16711935&N)>>>0&16711935)>>>0}function je(b,N){G[N]=function(R,X,ne,Ae,ce,he,fe){var ge;for(ge=0;ge<ce;++ge){var ve=G[b](he[fe+ge-1],ne,Ae+ge);he[fe+ge]=De(R[X+ge],ve)}}}function qe(){this.ud=this.hd=this.jd=0}function Ge(b,N){return((4278124286&(b^N))>>>1)+(b&N)>>>0}function lt(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function Bt(b,N){return lt(b+(b-N+.5>>1))}function Nt(b,N,R){return Math.abs(N-R)-Math.abs(b-R)}function _t(b,N,R,X,ne,Ae,ce){for(X=Ae[ce-1],R=0;R<ne;++R)Ae[ce+R]=X=De(b[N+R],X)}function Ht(b,N,R,X,ne){var Ae;for(Ae=0;Ae<R;++Ae){var ce=b[N+Ae],he=ce>>8&255,fe=16711935&(fe=(fe=16711935&ce)+((he<<16)+he));X[ne+Ae]=(4278255360&ce)+fe>>>0}}function tr(b,N){N.jd=b>>0&255,N.hd=b>>8&255,N.ud=b>>16&255}function vt(b,N,R,X,ne,Ae){var ce;for(ce=0;ce<X;++ce){var he=N[R+ce],fe=he>>>8,ge=he,ve=255&(ve=(ve=he>>>16)+((b.jd<<24>>24)*(fe<<24>>24)>>>5));ge=255&(ge=(ge=ge+((b.hd<<24>>24)*(fe<<24>>24)>>>5))+((b.ud<<24>>24)*(ve<<24>>24)>>>5)),ne[Ae+ce]=(4278255360&he)+(ve<<16)+ge}}function Ut(b,N,R,X,ne){G[N]=function(Ae,ce,he,fe,ge,ve,Ce,Se,xe){for(fe=Ce;fe<Se;++fe)for(Ce=0;Ce<xe;++Ce)ge[ve++]=ne(he[X(Ae[ce++])])},G[b]=function(Ae,ce,he,fe,ge,ve,Ce){var Se=8>>Ae.b,xe=Ae.Ea,Me=Ae.K[0],Fe=Ae.w;if(8>Se)for(Ae=(1<<Ae.b)-1,Fe=(1<<Se)-1;ce<he;++ce){var be,Be=0;for(be=0;be<xe;++be)be&Ae||(Be=X(fe[ge++])),ve[Ce++]=ne(Me[Be&Fe]),Be>>=Se}else G["VP8LMapColor"+R](fe,ge,Me,Fe,ve,Ce,ce,he,xe)}}function Ve(b,N,R,X,ne){for(R=N+R;N<R;){var Ae=b[N++];X[ne++]=Ae>>16&255,X[ne++]=Ae>>8&255,X[ne++]=Ae>>0&255}}function Dn(b,N,R,X,ne){for(R=N+R;N<R;){var Ae=b[N++];X[ne++]=Ae>>16&255,X[ne++]=Ae>>8&255,X[ne++]=Ae>>0&255,X[ne++]=Ae>>24&255}}function Wt(b,N,R,X,ne){for(R=N+R;N<R;){var Ae=(ce=b[N++])>>16&240|ce>>12&15,ce=ce>>0&240|ce>>28&15;X[ne++]=Ae,X[ne++]=ce}}function Le(b,N,R,X,ne){for(R=N+R;N<R;){var Ae=(ce=b[N++])>>16&248|ce>>13&7,ce=ce>>5&224|ce>>3&31;X[ne++]=Ae,X[ne++]=ce}}function Re(b,N,R,X,ne){for(R=N+R;N<R;){var Ae=b[N++];X[ne++]=Ae>>0&255,X[ne++]=Ae>>8&255,X[ne++]=Ae>>16&255}}function He(b,N,R,X,ne,Ae){if(Ae==0)for(R=N+R;N<R;)M(X,((Ae=b[N++])[0]>>24|Ae[1]>>8&65280|Ae[2]<<8&16711680|Ae[3]<<24)>>>0),ne+=32;else n(X,ne,b,N,R)}function ht(b,N){G[N][0]=G[b+"0"],G[N][1]=G[b+"1"],G[N][2]=G[b+"2"],G[N][3]=G[b+"3"],G[N][4]=G[b+"4"],G[N][5]=G[b+"5"],G[N][6]=G[b+"6"],G[N][7]=G[b+"7"],G[N][8]=G[b+"8"],G[N][9]=G[b+"9"],G[N][10]=G[b+"10"],G[N][11]=G[b+"11"],G[N][12]=G[b+"12"],G[N][13]=G[b+"13"],G[N][14]=G[b+"0"],G[N][15]=G[b+"0"]}function ft(b){return b==c5||b==u5||b==Gy||b==d5}function _n(){this.eb=[],this.size=this.A=this.fb=0}function sr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function yi(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new _n,this.f.kb=new sr,this.sd=null}function Ri(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function br(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ct(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function rr(b,N){var R=b.T,X=N.ba.f.RGBA,ne=X.eb,Ae=X.fb+b.ka*X.A,ce=pa[N.ba.S],he=b.y,fe=b.O,ge=b.f,ve=b.N,Ce=b.ea,Se=b.W,xe=N.cc,Me=N.dc,Fe=N.Mc,be=N.Nc,Be=b.ka,Ne=b.ka+b.T,_e=b.U,ke=_e+1>>1;for(Be==0?ce(he,fe,null,null,ge,ve,Ce,Se,ge,ve,Ce,Se,ne,Ae,null,null,_e):(ce(N.ec,N.fc,he,fe,xe,Me,Fe,be,ge,ve,Ce,Se,ne,Ae-X.A,ne,Ae,_e),++R);Be+2<Ne;Be+=2)xe=ge,Me=ve,Fe=Ce,be=Se,ve+=b.Rc,Se+=b.Rc,Ae+=2*X.A,ce(he,(fe+=2*b.fa)-b.fa,he,fe,xe,Me,Fe,be,ge,ve,Ce,Se,ne,Ae-X.A,ne,Ae,_e);return fe+=b.fa,b.j+Ne<b.o?(n(N.ec,N.fc,he,fe,_e),n(N.cc,N.dc,ge,ve,ke),n(N.Mc,N.Nc,Ce,Se,ke),R--):1&Ne||ce(he,fe,null,null,ge,ve,Ce,Se,ge,ve,Ce,Se,ne,Ae+X.A,null,null,_e),R}function Su(b,N,R){var X=b.F,ne=[b.J];if(X!=null){var Ae=b.U,ce=N.ba.S,he=ce==Ky||ce==Gy;N=N.ba.f.RGBA;var fe=[0],ge=b.ka;fe[0]=b.T,b.Kb&&(ge==0?--fe[0]:(--ge,ne[0]-=b.width),b.j+b.ka+b.T==b.o&&(fe[0]=b.o-b.j-ge));var ve=N.eb;ge=N.fb+ge*N.A,b=xr(X,ne[0],b.width,Ae,fe,ve,ge+(he?0:3),N.A),e(R==fe),b&&ft(ce)&&ha(ve,ge,he,Ae,fe,N.A)}return 0}function Zn(b){var N=b.ma,R=N.ba.S,X=11>R,ne=R==Hy||R==Wy||R==Ky||R==A5||R==12||ft(R);if(N.memory=null,N.Ib=null,N.Jb=null,N.Nd=null,!zg(N.Oa,b,ne?11:12))return 0;if(ne&&ft(R)&&Ue(),b.da)alert("todo:use_scaling");else{if(X){if(N.Ib=Ct,b.Kb){if(R=b.U+1>>1,N.memory=s(b.U+2*R),N.memory==null)return 0;N.ec=N.memory,N.fc=0,N.cc=N.ec,N.dc=N.fc+b.U,N.Mc=N.cc,N.Nc=N.dc+R,N.Ib=rr,Ue()}}else alert("todo:EmitYUV");ne&&(N.Jb=Su,X&&Ie())}if(X&&!IL){for(b=0;256>b;++b)u8[b]=89858*(b-128)+zy>>$y,f8[b]=-22014*(b-128)+zy,h8[b]=-45773*(b-128),d8[b]=113618*(b-128)+zy>>$y;for(b=rm;b<p5;++b)N=76283*(b-16)+zy>>$y,p8[b-rm]=Es(N,255),g8[b-rm]=Es(N+8>>4,15);IL=1}return 1}function Lo(b){var N=b.ma,R=b.U,X=b.T;return e(!(1&b.ka)),0>=R||0>=X?0:(R=N.Ib(b,N),N.Jb!=null&&N.Jb(b,N,R),N.Dc+=R,1)}function No(b){b.ma.memory=null}function yt(b,N,R,X){return _(b,8)!=47?0:(N[0]=_(b,14)+1,R[0]=_(b,14)+1,X[0]=_(b,1),_(b,3)!=0?0:!b.h)}function Oa(b,N){if(4>b)return b+1;var R=b-2>>1;return(2+(1&b)<<R)+_(N,R)+1}function ko(b,N){return 120<N?N-120:1<=(R=((R=XQ[N-1])>>4)*b+(8-(15&R)))?R:1;var R}function as(b,N,R){var X=E(R),ne=b[N+=255&X].g-8;return 0<ne&&(g(R,R.u+8),X=E(R),N+=b[N].value,N+=X&(1<<ne)-1),g(R,R.u+b[N].g),b[N].value}function vn(b,N,R){return R.g+=b.g,R.value+=b.value<<N>>>0,e(8>=R.g),b.g}function ln(b,N,R){var X=b.xc;return e((N=X==0?0:b.vc[b.md*(R>>X)+(N>>X)])<b.Wb),b.Ya[N]}function Fs(b,N,R,X){var ne=b.ab,Ae=b.c*N,ce=b.C;N=ce+N;var he=R,fe=X;for(X=b.Ta,R=b.Ua;0<ne--;){var ge=b.gc[ne],ve=ce,Ce=N,Se=he,xe=fe,Me=(fe=X,he=R,ge.Ea);switch(e(ve<Ce),e(Ce<=ge.nc),ge.hc){case 2:Uy(Se,xe,(Ce-ve)*Me,fe,he);break;case 0:var Fe=ve,be=Ce,Be=fe,Ne=he,_e=(ze=ge).Ea;Fe==0&&(o5(Se,xe,null,null,1,Be,Ne),_t(Se,xe+1,0,0,_e-1,Be,Ne+1),xe+=_e,Ne+=_e,++Fe);for(var ke=1<<ze.b,Ze=ke-1,Ke=Te(_e,ze.b),pt=ze.K,ze=ze.w+(Fe>>ze.b)*Ke;Fe<be;){var Zt=pt,ar=ze,$t=1;for(Yg(Se,xe,Be,Ne-_e,1,Be,Ne);$t<_e;){var Qt=($t&~Ze)+ke;Qt>_e&&(Qt=_e),(0,OA[Zt[ar++]>>8&15])(Se,xe+ +$t,Be,Ne+$t-_e,Qt-$t,Be,Ne+$t),$t=Qt}xe+=_e,Ne+=_e,++Fe&Ze||(ze+=Ke)}Ce!=ge.nc&&n(fe,he-Me,fe,he+(Ce-ve-1)*Me,Me);break;case 1:for(Me=Se,be=xe,_e=(Se=ge.Ea)-(Ne=Se&~(Be=(xe=1<<ge.b)-1)),Fe=Te(Se,ge.b),ke=ge.K,ge=ge.w+(ve>>ge.b)*Fe;ve<Ce;){for(Ze=ke,Ke=ge,pt=new qe,ze=be+Ne,Zt=be+Se;be<ze;)tr(Ze[Ke++],pt),Mu(pt,Me,be,xe,fe,he),be+=xe,he+=xe;be<Zt&&(tr(Ze[Ke++],pt),Mu(pt,Me,be,_e,fe,he),be+=_e,he+=_e),++ve&Be||(ge+=Fe)}break;case 3:if(Se==fe&&xe==he&&0<ge.b){for(be=fe,Se=Me=he+(Ce-ve)*Me-(Ne=(Ce-ve)*Te(ge.Ea,ge.b)),xe=fe,Be=he,Fe=[],Ne=(_e=Ne)-1;0<=Ne;--Ne)Fe[Ne]=xe[Be+Ne];for(Ne=_e-1;0<=Ne;--Ne)be[Se+Ne]=Fe[Ne];ca(ge,ve,Ce,fe,Me,fe,he)}else ca(ge,ve,Ce,Se,xe,fe,he)}he=X,fe=R}fe!=R&&n(X,R,he,fe,Ae)}function Nh(b,N){var R=b.V,X=b.Ba+b.c*b.C,ne=N-b.C;if(e(N<=b.l.o),e(16>=ne),0<ne){var Ae=b.l,ce=b.Ta,he=b.Ua,fe=Ae.width;if(Fs(b,ne,R,X),ne=he=[he],e((R=b.C)<(X=N)),e(Ae.v<Ae.va),X>Ae.o&&(X=Ae.o),R<Ae.j){var ge=Ae.j-R;R=Ae.j,ne[0]+=ge*fe}if(R>=X?R=0:(ne[0]+=4*Ae.v,Ae.ka=R-Ae.j,Ae.U=Ae.va-Ae.v,Ae.T=X-R,R=1),R){if(he=he[0],11>(R=b.ca).S){var ve=R.f.RGBA,Ce=(X=R.S,ne=Ae.U,Ae=Ae.T,ge=ve.eb,ve.A),Se=Ae;for(ve=ve.fb+b.Ma*ve.A;0<Se--;){var xe=ce,Me=he,Fe=ne,be=ge,Be=ve;switch(X){case jy:As(xe,Me,Fe,be,Be);break;case Hy:Qi(xe,Me,Fe,be,Be);break;case c5:Qi(xe,Me,Fe,be,Be),ha(be,Be,0,Fe,1,0);break;case pL:El(xe,Me,Fe,be,Be);break;case Wy:He(xe,Me,Fe,be,Be,1);break;case u5:He(xe,Me,Fe,be,Be,1),ha(be,Be,0,Fe,1,0);break;case Ky:He(xe,Me,Fe,be,Be,0);break;case Gy:He(xe,Me,Fe,be,Be,0),ha(be,Be,1,Fe,1,0);break;case A5:jA(xe,Me,Fe,be,Be);break;case d5:jA(xe,Me,Fe,be,Be),Br(be,Be,Fe,1,0);break;case gL:Fl(xe,Me,Fe,be,Be);break;default:e(0)}he+=fe,ve+=Ce}b.Ma+=Ae}else alert("todo:EmitRescaledRowsYUVA");e(b.Ma<=R.height)}}b.C=N,e(b.C<=b.i)}function Il(b){var N;if(0<b.ua)return 0;for(N=0;N<b.Wb;++N){var R=b.Ya[N].G,X=b.Ya[N].H;if(0<R[1][X[1]+0].g||0<R[2][X[2]+0].g||0<R[3][X[3]+0].g)return 0}return 1}function ja(b,N,R,X,ne,Ae){if(b.Z!=0){var ce=b.qd,he=b.rd;for(e(GA[b.Z]!=null);N<R;++N)GA[b.Z](ce,he,X,ne,X,ne,Ae),ce=X,he=ne,ne+=Ae;b.qd=ce,b.rd=he}}function Ha(b,N){var R=b.l.ma,X=R.Z==0||R.Z==1?b.l.j:b.C;if(X=b.C<X?X:b.C,e(N<=b.l.o),N>X){var ne=b.l.width,Ae=R.ca,ce=R.tb+ne*X,he=b.V,fe=b.Ba+b.c*X,ge=b.gc;e(b.ab==1),e(ge[0].hc==3),Py(ge[0],X,N,he,fe,Ae,ce),ja(R,X,N,Ae,ce,ne)}b.C=b.Ma=N}function Wa(b,N,R,X,ne,Ae,ce){var he=b.$/X,fe=b.$%X,ge=b.m,ve=b.s,Ce=R+b.$,Se=Ce;ne=R+X*ne;var xe=R+X*Ae,Me=280+ve.ua,Fe=b.Pb?he:16777216,be=0<ve.ua?ve.Wa:null,Be=ve.wc,Ne=Ce<xe?ln(ve,fe,he):null;e(b.C<Ae),e(xe<=ne);var _e=!1;e:for(;;){for(;_e||Ce<xe;){var ke=0;if(he>=Fe){var Ze=Ce-R;e((Fe=b).Pb),Fe.wd=Fe.m,Fe.xd=Ze,0<Fe.s.ua&&me(Fe.s.Wa,Fe.s.vb),Fe=he+ZQ}if(fe&Be||(Ne=ln(ve,fe,he)),e(Ne!=null),Ne.Qb&&(N[Ce]=Ne.qb,_e=!0),!_e)if(w(ge),Ne.jc){ke=ge,Ze=N;var Ke=Ce,pt=Ne.pd[E(ke)&ei-1];e(Ne.jc),256>pt.g?(g(ke,ke.u+pt.g),Ze[Ke]=pt.value,ke=0):(g(ke,ke.u+pt.g-256),e(256<=pt.value),ke=pt.value),ke==0&&(_e=!0)}else ke=as(Ne.G[0],Ne.H[0],ge);if(ge.h)break;if(_e||256>ke){if(!_e)if(Ne.nd)N[Ce]=(Ne.qb|ke<<8)>>>0;else{if(w(ge),_e=as(Ne.G[1],Ne.H[1],ge),w(ge),Ze=as(Ne.G[2],Ne.H[2],ge),Ke=as(Ne.G[3],Ne.H[3],ge),ge.h)break;N[Ce]=(Ke<<24|_e<<16|ke<<8|Ze)>>>0}if(_e=!1,++Ce,++fe>=X&&(fe=0,++he,ce!=null&&he<=Ae&&!(he%16)&&ce(b,he),be!=null))for(;Se<Ce;)ke=N[Se++],be.X[(506832829*ke&4294967295)>>>be.Mb]=ke}else if(280>ke){if(ke=Oa(ke-256,ge),Ze=as(Ne.G[4],Ne.H[4],ge),w(ge),Ze=ko(X,Ze=Oa(Ze,ge)),ge.h)break;if(Ce-R<Ze||ne-Ce<ke)break e;for(Ke=0;Ke<ke;++Ke)N[Ce+Ke]=N[Ce+Ke-Ze];for(Ce+=ke,fe+=ke;fe>=X;)fe-=X,++he,ce!=null&&he<=Ae&&!(he%16)&&ce(b,he);if(e(Ce<=ne),fe&Be&&(Ne=ln(ve,fe,he)),be!=null)for(;Se<Ce;)ke=N[Se++],be.X[(506832829*ke&4294967295)>>>be.Mb]=ke}else{if(!(ke<Me))break e;for(_e=ke-280,e(be!=null);Se<Ce;)ke=N[Se++],be.X[(506832829*ke&4294967295)>>>be.Mb]=ke;ke=Ce,e(!(_e>>>(Ze=be).Xa)),N[ke]=Ze.X[_e],_e=!0}_e||e(ge.h==x(ge))}if(b.Pb&&ge.h&&Ce<ne)e(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&me(b.s.vb,b.s.Wa);else{if(ge.h)break e;ce!=null&&ce(b,he>Ae?Ae:he),b.a=0,b.$=Ce-R}return 1}return b.a=3,0}function Mo(b){e(b!=null),b.vc=null,b.yc=null,b.Ya=null;var N=b.Wa;N!=null&&(N.X=null),b.vb=null,e(b!=null)}function Aa(){var b=new a5;return b==null?null:(b.a=0,b.xb=wL,ht("Predictor","VP8LPredictors"),ht("Predictor","VP8LPredictors_C"),ht("PredictorAdd","VP8LPredictorsAdd"),ht("PredictorAdd","VP8LPredictorsAdd_C"),Uy=Ht,Mu=vt,As=Ve,Qi=Dn,jA=Wt,Fl=Le,El=Re,G.VP8LMapColor32b=Yh,G.VP8LMapColor8b=Ty,b)}function Do(b,N,R,X,ne){var Ae=1,ce=[b],he=[N],fe=X.m,ge=X.s,ve=null,Ce=0;e:for(;;){if(R)for(;Ae&&_(fe,1);){var Se=ce,xe=he,Me=X,Fe=1,be=Me.m,Be=Me.gc[Me.ab],Ne=_(be,2);if(Me.Oc&1<<Ne)Ae=0;else{switch(Me.Oc|=1<<Ne,Be.hc=Ne,Be.Ea=Se[0],Be.nc=xe[0],Be.K=[null],++Me.ab,e(4>=Me.ab),Ne){case 0:case 1:Be.b=_(be,3)+2,Fe=Do(Te(Be.Ea,Be.b),Te(Be.nc,Be.b),0,Me,Be.K),Be.K=Be.K[0];break;case 3:var _e,ke=_(be,8)+1,Ze=16<ke?0:4<ke?1:2<ke?2:3;if(Se[0]=Te(Be.Ea,Ze),Be.b=Ze,_e=Fe=Do(ke,1,0,Me,Be.K)){var Ke,pt=ke,ze=Be,Zt=1<<(8>>ze.b),ar=s(Zt);if(ar==null)_e=0;else{var $t=ze.K[0],Qt=ze.w;for(ar[0]=ze.K[0][0],Ke=1;Ke<1*pt;++Ke)ar[Ke]=De($t[Qt+Ke],ar[Ke-1]);for(;Ke<4*Zt;++Ke)ar[Ke]=0;ze.K[0]=null,ze.K[0]=ar,_e=1}}Fe=_e;break;case 2:break;default:e(0)}Ae=Fe}}if(ce=ce[0],he=he[0],Ae&&_(fe,1)&&!(Ae=1<=(Ce=_(fe,4))&&11>=Ce)){X.a=3;break e}var mr;if(mr=Ae)t:{var ur,Mt,cn,cs=X,un=ce,us=he,or=Ce,Ns=R,ks=cs.m,Pn=cs.s,ti=[null],ji=1,ga=0,To=JQ[or];r:for(;;){if(Ns&&_(ks,1)){var Tn=_(ks,3)+2,Ml=Te(un,Tn),Tu=Te(us,Tn),tf=Ml*Tu;if(!Do(Ml,Tu,0,cs,ti))break r;for(ti=ti[0],Pn.xc=Tn,ur=0;ur<tf;++ur){var $A=ti[ur]>>8&65535;ti[ur]=$A,$A>=ji&&(ji=$A+1)}}if(ks.h)break r;for(Mt=0;5>Mt;++Mt){var Gr=mL[Mt];!Mt&&0<or&&(Gr+=1<<or),ga<Gr&&(ga=Gr)}var g5=a(ji*To,te),FL=ji,EL=a(FL,oe);if(EL==null)var qy=null;else e(65536>=FL),qy=EL;var nm=s(ga);if(qy==null||nm==null||g5==null){cs.a=1;break r}var Yy=g5;for(ur=cn=0;ur<ji;++ur){var Va=qy[ur],rf=Va.G,nf=Va.H,LL=0,Xy=1,NL=0;for(Mt=0;5>Mt;++Mt){Gr=mL[Mt],rf[Mt]=Yy,nf[Mt]=cn,!Mt&&0<or&&(Gr+=1<<or);i:{var Jy,m5=Gr,Zy=cs,im=nm,w8=Yy,v8=cn,y5=0,zA=Zy.m,b8=_(zA,1);if(i(im,0,0,m5),b8){var B8=_(zA,1)+1,x8=_(zA,1),kL=_(zA,x8==0?1:8);im[kL]=1,B8==2&&(im[kL=_(zA,8)]=1);var ew=1}else{var ML=s(19),DL=_(zA,4)+4;if(19<DL){Zy.a=3;var tw=0;break i}for(Jy=0;Jy<DL;++Jy)ML[YQ[Jy]]=_(zA,3);var w5=void 0,sm=void 0,_L=Zy,I8=ML,rw=m5,UL=im,v5=0,VA=_L.m,PL=8,TL=a(128,te);n:for(;H(TL,0,7,I8,19);){if(_(VA,1)){var C8=2+2*_(VA,3);if((w5=2+_(VA,C8))>rw)break n}else w5=rw;for(sm=0;sm<rw&&w5--;){w(VA);var RL=TL[0+(127&E(VA))];g(VA,VA.u+RL.g);var sf=RL.value;if(16>sf)UL[sm++]=sf,sf!=0&&(PL=sf);else{var S8=sf==16,QL=sf-16,F8=VQ[QL],OL=_(VA,zQ[QL])+F8;if(sm+OL>rw)break n;for(var E8=S8?PL:0;0<OL--;)UL[sm++]=E8}}v5=1;break n}v5||(_L.a=3),ew=v5}(ew=ew&&!zA.h)&&(y5=H(w8,v8,8,im,m5)),ew&&y5!=0?tw=y5:(Zy.a=3,tw=0)}if(tw==0)break r;if(Xy&&qQ[Mt]==1&&(Xy=Yy[cn].g==0),LL+=Yy[cn].g,cn+=tw,3>=Mt){var am,b5=nm[0];for(am=1;am<Gr;++am)nm[am]>b5&&(b5=nm[am]);NL+=b5}}if(Va.nd=Xy,Va.Qb=0,Xy&&(Va.qb=(rf[3][nf[3]+0].value<<24|rf[1][nf[1]+0].value<<16|rf[2][nf[2]+0].value)>>>0,LL==0&&256>rf[0][nf[0]+0].value&&(Va.Qb=1,Va.qb+=rf[0][nf[0]+0].value<<8)),Va.jc=!Va.Qb&&6>NL,Va.jc){var nw,Dl=Va;for(nw=0;nw<ei;++nw){var qA=nw,YA=Dl.pd[qA],iw=Dl.G[0][Dl.H[0]+qA];256<=iw.value?(YA.g=iw.g+256,YA.value=iw.value):(YA.g=0,YA.value=0,qA>>=vn(iw,8,YA),qA>>=vn(Dl.G[1][Dl.H[1]+qA],16,YA),qA>>=vn(Dl.G[2][Dl.H[2]+qA],0,YA),vn(Dl.G[3][Dl.H[3]+qA],24,YA))}}}Pn.vc=ti,Pn.Wb=ji,Pn.Ya=qy,Pn.yc=g5,mr=1;break t}mr=0}if(!(Ae=mr)){X.a=3;break e}if(0<Ce){if(ge.ua=1<<Ce,!se(ge.Wa,Ce)){X.a=1,Ae=0;break e}}else ge.ua=0;var B5=X,jL=ce,L8=he,x5=B5.s,I5=x5.xc;if(B5.c=jL,B5.i=L8,x5.md=Te(jL,I5),x5.wc=I5==0?-1:(1<<I5)-1,R){X.xb=a8;break e}if((ve=s(ce*he))==null){X.a=1,Ae=0;break e}Ae=(Ae=Wa(X,ve,0,ce,he,he,null))&&!fe.h;break e}return Ae?(ne!=null?ne[0]=ve:(e(ve==null),e(R)),X.$=0,R||Mo(ge)):Mo(ge),Ae}function Fu(b,N){var R=b.c*b.i,X=R+N+16*N;return e(b.c<=N),b.V=s(X),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+R+N,1)}function kh(b,N){var R=b.C,X=N-R,ne=b.V,Ae=b.Ba+b.c*R;for(e(N<=b.l.o);0<X;){var ce=16<X?16:X,he=b.l.ma,fe=b.l.width,ge=fe*ce,ve=he.ca,Ce=he.tb+fe*R,Se=b.Ta,xe=b.Ua;Fs(b,ce,ne,Ae),Xr(Se,xe,ve,Ce,ge),ja(he,R,R+ce,ve,Ce,fe),X-=ce,ne+=ce*b.c,R+=ce}e(R==N),b.C=b.Ma=N}function Mh(){this.ub=this.yd=this.td=this.Rb=0}function Dh(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function _h(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function py(){this.Yb=function(){var b=[];return function N(R,X,ne){for(var Ae=ne[X],ce=0;ce<Ae&&(R.push(ne.length>X+1?[]:0),!(ne.length<X+1));ce++)N(R[ce],X+1,ne)}(b,0,[3,11]),b}()}function Tx(){this.jb=s(3),this.Wc=o([4,8],py),this.Xc=o([4,17],py)}function Rx(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Uh(){this.ld=this.La=this.dd=this.tc=0}function gy(){this.Na=this.la=0}function Qx(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function kg(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ox(){this.uc=this.M=this.Nb=0,this.wa=Array(new Uh),this.Y=0,this.ya=Array(new kg),this.aa=0,this.l=new Ph}function my(){this.y=s(16),this.f=s(8),this.ea=s(8)}function jx(){this.cb=this.a=0,this.sc="",this.m=new L,this.Od=new Mh,this.Kc=new Dh,this.ed=new Rx,this.Qa=new _h,this.Ic=this.$c=this.Aa=0,this.D=new Ox,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,L),this.ia=0,this.pb=a(4,Qx),this.Pa=new Tx,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new my),this.Hd=0,this.rb=Array(new gy),this.sb=0,this.wa=Array(new Uh),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new kg),this.L=this.aa=0,this.gd=o([4,2],Uh),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ph(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Hx(){var b=new jx;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,tm||(tm=vy)),b}function qr(b,N,R){return b.a==0&&(b.a=N,b.sc=R,b.cb=0),0}function yy(b,N,R){return 3<=R&&b[N+0]==157&&b[N+1]==1&&b[N+2]==42}function wy(b,N){if(b==null)return 0;if(b.a=0,b.sc="OK",N==null)return qr(b,2,"null VP8Io passed to VP8GetHeaders()");var R=N.data,X=N.w,ne=N.ha;if(4>ne)return qr(b,7,"Truncated header.");var Ae=R[X+0]|R[X+1]<<8|R[X+2]<<16,ce=b.Od;if(ce.Rb=!(1&Ae),ce.td=Ae>>1&7,ce.yd=Ae>>4&1,ce.ub=Ae>>5,3<ce.td)return qr(b,3,"Incorrect keyframe parameters.");if(!ce.yd)return qr(b,4,"Frame not displayable.");X+=3,ne-=3;var he=b.Kc;if(ce.Rb){if(7>ne)return qr(b,7,"cannot parse picture header");if(!yy(R,X,ne))return qr(b,3,"Bad code word");he.c=16383&(R[X+4]<<8|R[X+3]),he.Td=R[X+4]>>6,he.i=16383&(R[X+6]<<8|R[X+5]),he.Ud=R[X+6]>>6,X+=7,ne-=7,b.za=he.c+15>>4,b.Ub=he.i+15>>4,N.width=he.c,N.height=he.i,N.Da=0,N.j=0,N.v=0,N.va=N.width,N.o=N.height,N.da=0,N.ib=N.width,N.hb=N.height,N.U=N.width,N.T=N.height,i((Ae=b.Pa).jb,0,255,Ae.jb.length),e((Ae=b.Qa)!=null),Ae.Cb=0,Ae.Bb=0,Ae.Fb=1,i(Ae.Zb,0,0,Ae.Zb.length),i(Ae.Lb,0,0,Ae.Lb)}if(ce.ub>ne)return qr(b,7,"bad partition length");re(Ae=b.m,R,X,ce.ub),X+=ce.ub,ne-=ce.ub,ce.Rb&&(he.Ld=y(Ae),he.Kd=y(Ae)),he=b.Qa;var fe,ge=b.Pa;if(e(Ae!=null),e(he!=null),he.Cb=y(Ae),he.Cb){if(he.Bb=y(Ae),y(Ae)){for(he.Fb=y(Ae),fe=0;4>fe;++fe)he.Zb[fe]=y(Ae)?O(Ae,7):0;for(fe=0;4>fe;++fe)he.Lb[fe]=y(Ae)?O(Ae,6):0}if(he.Bb)for(fe=0;3>fe;++fe)ge.jb[fe]=y(Ae)?J(Ae,8):255}else he.Bb=0;if(Ae.Ka)return qr(b,3,"cannot parse segment header");if((he=b.ed).zd=y(Ae),he.Tb=J(Ae,6),he.wb=J(Ae,3),he.Pc=y(Ae),he.Pc&&y(Ae)){for(ge=0;4>ge;++ge)y(Ae)&&(he.vd[ge]=O(Ae,6));for(ge=0;4>ge;++ge)y(Ae)&&(he.od[ge]=O(Ae,6))}if(b.L=he.Tb==0?0:he.zd?1:2,Ae.Ka)return qr(b,3,"cannot parse filter header");var ve=ne;if(ne=fe=X,X=fe+ve,he=ve,b.Xb=(1<<J(b.m,2))-1,ve<3*(ge=b.Xb))R=7;else{for(fe+=3*ge,he-=3*ge,ve=0;ve<ge;++ve){var Ce=R[ne+0]|R[ne+1]<<8|R[ne+2]<<16;Ce>he&&(Ce=he),re(b.Jc[+ve],R,fe,Ce),fe+=Ce,he-=Ce,ne+=3}re(b.Jc[+ge],R,fe,he),R=fe<X?0:5}if(R!=0)return qr(b,R,"cannot parse partitions");for(R=J(fe=b.m,7),ne=y(fe)?O(fe,4):0,X=y(fe)?O(fe,4):0,he=y(fe)?O(fe,4):0,ge=y(fe)?O(fe,4):0,fe=y(fe)?O(fe,4):0,ve=b.Qa,Ce=0;4>Ce;++Ce){if(ve.Cb){var Se=ve.Zb[Ce];ve.Fb||(Se+=R)}else{if(0<Ce){b.pb[Ce]=b.pb[0];continue}Se=R}var xe=b.pb[Ce];xe.Sc[0]=h5[Es(Se+ne,127)],xe.Sc[1]=f5[Es(Se+0,127)],xe.Eb[0]=2*h5[Es(Se+X,127)],xe.Eb[1]=101581*f5[Es(Se+he,127)]>>16,8>xe.Eb[1]&&(xe.Eb[1]=8),xe.Qc[0]=h5[Es(Se+ge,117)],xe.Qc[1]=f5[Es(Se+fe,127)],xe.lc=Se+fe}if(!ce.Rb)return qr(b,4,"Not a key frame.");for(y(Ae),ce=b.Pa,R=0;4>R;++R){for(ne=0;8>ne;++ne)for(X=0;3>X;++X)for(he=0;11>he;++he)ge=d(Ae,i8[R][ne][X][he])?J(Ae,8):r8[R][ne][X][he],ce.Wc[R][ne].Yb[X][he]=ge;for(ne=0;17>ne;++ne)ce.Xc[R][ne]=ce.Wc[R][s8[ne]]}return b.kc=y(Ae),b.kc&&(b.Bd=J(Ae,8)),b.cb=1}function vy(b,N,R,X,ne,Ae,ce){var he=N[ne].Yb[R];for(R=0;16>ne;++ne){if(!d(b,he[R+0]))return ne;for(;!d(b,he[R+1]);)if(he=N[++ne].Yb[0],R=0,ne==16)return 16;var fe=N[ne+1].Yb;if(d(b,he[R+2])){var ge=b,ve=0;if(d(ge,(Se=he)[(Ce=R)+3]))if(d(ge,Se[Ce+6])){for(he=0,Ce=2*(ve=d(ge,Se[Ce+8]))+(Se=d(ge,Se[Ce+9+ve])),ve=0,Se=e8[Ce];Se[he];++he)ve+=ve+d(ge,Se[he]);ve+=3+(8<<Ce)}else d(ge,Se[Ce+7])?(ve=7+2*d(ge,165),ve+=d(ge,145)):ve=5+d(ge,159);else ve=d(ge,Se[Ce+4])?3+d(ge,Se[Ce+5]):2;he=fe[2]}else ve=1,he=fe[1];fe=ce+t8[ne],0>(ge=b).b&&h(ge);var Ce,Se=ge.b,xe=(Ce=ge.Ca>>1)-(ge.I>>Se)>>31;--ge.b,ge.Ca+=xe,ge.Ca|=1,ge.I-=(Ce+1&xe)<<Se,Ae[fe]=((ve^xe)-xe)*X[(0<ne)+0]}return 16}function Mg(b){var N=b.rb[b.sb-1];N.la=0,N.Na=0,i(b.zc,0,0,b.zc.length),b.ja=0}function Wx(b,N){if(b==null)return 0;if(N==null)return qr(b,2,"NULL VP8Io parameter in VP8Decode().");if(!b.cb&&!wy(b,N))return 0;if(e(b.cb),N.ac==null||N.ac(N)){N.ob&&(b.L=0);var R=Vy[b.L];if(b.L==2?(b.yb=0,b.zb=0):(b.yb=N.v-R>>4,b.zb=N.j-R>>4,0>b.yb&&(b.yb=0),0>b.zb&&(b.zb=0)),b.Va=N.o+15+R>>4,b.Hb=N.va+15+R>>4,b.Hb>b.za&&(b.Hb=b.za),b.Va>b.Ub&&(b.Va=b.Ub),0<b.L){var X=b.ed;for(R=0;4>R;++R){var ne;if(b.Qa.Cb){var Ae=b.Qa.Lb[R];b.Qa.Fb||(Ae+=X.Tb)}else Ae=X.Tb;for(ne=0;1>=ne;++ne){var ce=b.gd[R][ne],he=Ae;if(X.Pc&&(he+=X.vd[0],ne&&(he+=X.od[0])),0<(he=0>he?0:63<he?63:he)){var fe=he;0<X.wb&&(fe=4<X.wb?fe>>2:fe>>1)>9-X.wb&&(fe=9-X.wb),1>fe&&(fe=1),ce.dd=fe,ce.tc=2*he+fe,ce.ld=40<=he?2:15<=he?1:0}else ce.tc=0;ce.La=ne}}}R=0}else qr(b,6,"Frame setup failed"),R=b.a;if(R=R==0){if(R){b.$c=0,0<b.Aa||(b.Ic=y8);e:{R=b.Ic,X=4*(fe=b.za);var ge=32*fe,ve=fe+1,Ce=0<b.L?fe*(0<b.Aa?2:1):0,Se=(b.Aa==2?2:1)*fe;if((ce=X+832+(ne=3*(16*R+Vy[b.L])/2*ge)+(Ae=b.Fa!=null&&0<b.Fa.length?b.Kc.c*b.Kc.i:0))!=ce)R=0;else{if(ce>b.Vb){if(b.Vb=0,b.Ec=s(ce),b.Fc=0,b.Ec==null){R=qr(b,1,"no memory during frame initialization.");break e}b.Vb=ce}ce=b.Ec,he=b.Fc,b.Ac=ce,b.Bc=he,he+=X,b.Gd=a(ge,my),b.Hd=0,b.rb=a(ve+1,gy),b.sb=1,b.wa=Ce?a(Ce,Uh):null,b.Y=0,b.D.Nb=0,b.D.wa=b.wa,b.D.Y=b.Y,0<b.Aa&&(b.D.Y+=fe),e(!0),b.oc=ce,b.pc=he,he+=832,b.ya=a(Se,kg),b.aa=0,b.D.ya=b.ya,b.D.aa=b.aa,b.Aa==2&&(b.D.aa+=fe),b.R=16*fe,b.B=8*fe,fe=(ge=Vy[b.L])*b.R,ge=ge/2*b.B,b.sa=ce,b.ta=he+fe,b.qa=b.sa,b.ra=b.ta+16*R*b.R+ge,b.Ha=b.qa,b.Ia=b.ra+8*R*b.B+ge,b.$c=0,he+=ne,b.mb=Ae?ce:null,b.nb=Ae?he:null,e(he+Ae<=b.Fc+b.Vb),Mg(b),i(b.Ac,b.Bc,0,X),R=1}}if(R){if(N.ka=0,N.y=b.sa,N.O=b.ta,N.f=b.qa,N.N=b.ra,N.ea=b.Ha,N.Vd=b.Ia,N.fa=b.R,N.Rc=b.B,N.F=null,N.J=0,!Qy){for(R=-255;255>=R;++R)bn[255+R]=0>R?-R:R;for(R=-1020;1020>=R;++R)Nl[1020+R]=-128>R?-128:127<R?127:R;for(R=-112;112>=R;++R)em[112+R]=-16>R?-16:15<R?15:R;for(R=-255;510>=R;++R)ef[255+R]=0>R?0:255<R?255:R;Qy=1}Xh=$x,Ll=Kx,Xg=By,Oi=Gx,ua=xy,Yr=by,Jh=Rg,Ry=Nu,Jg=s5,Du=Qg,_u=i5,HA=Hh,Uu=Og,Zh=My,Pu=ky,WA=Uo,Zg=Sl,da=n5,za[0]=_o,za[1]=zx,za[2]=Xx,za[3]=Jx,za[4]=Sy,za[5]=Oh,za[6]=Fy,za[7]=Ug,za[8]=e5,za[9]=Zx,KA[0]=Iy,KA[1]=qx,KA[2]=Cl,KA[3]=Rh,KA[4]=wi,KA[5]=Yx,KA[6]=Cy,kl[0]=TA,kl[1]=Vx,kl[2]=t5,kl[3]=Pg,kl[4]=Lu,kl[5]=r5,kl[6]=Tg,R=1}else R=0}R&&(R=function(xe,Me){for(xe.M=0;xe.M<xe.Va;++xe.M){var Fe,be=xe.Jc[xe.M&xe.Xb],Be=xe.m,Ne=xe;for(Fe=0;Fe<Ne.za;++Fe){var _e=Be,ke=Ne,Ze=ke.Ac,Ke=ke.Bc+4*Fe,pt=ke.zc,ze=ke.ya[ke.aa+Fe];if(ke.Qa.Bb?ze.$b=d(_e,ke.Pa.jb[0])?2+d(_e,ke.Pa.jb[2]):d(_e,ke.Pa.jb[1]):ze.$b=0,ke.kc&&(ze.Ad=d(_e,ke.Bd)),ze.Za=!d(_e,145)+0,ze.Za){var Zt=ze.Ob,ar=0;for(ke=0;4>ke;++ke){var $t,Qt=pt[0+ke];for($t=0;4>$t;++$t){Qt=n8[Ze[Ke+$t]][Qt];for(var mr=yL[d(_e,Qt[0])];0<mr;)mr=yL[2*mr+d(_e,Qt[mr])];Qt=-mr,Ze[Ke+$t]=Qt}n(Zt,ar,Ze,Ke,4),ar+=4,pt[0+ke]=Qt}}else Qt=d(_e,156)?d(_e,128)?1:3:d(_e,163)?2:0,ze.Ob[0]=Qt,i(Ze,Ke,Qt,4),i(pt,0,Qt,4);ze.Dd=d(_e,142)?d(_e,114)?d(_e,183)?1:3:2:0}if(Ne.m.Ka)return qr(xe,7,"Premature end-of-partition0 encountered.");for(;xe.ja<xe.za;++xe.ja){if(Ne=be,_e=(Be=xe).rb[Be.sb-1],Ze=Be.rb[Be.sb+Be.ja],Fe=Be.ya[Be.aa+Be.ja],Ke=Be.kc?Fe.Ad:0)_e.la=Ze.la=0,Fe.Za||(_e.Na=Ze.Na=0),Fe.Hc=0,Fe.Gc=0,Fe.ia=0;else{var ur,Mt;if(_e=Ze,Ze=Ne,Ke=Be.Pa.Xc,pt=Be.ya[Be.aa+Be.ja],ze=Be.pb[pt.$b],ke=pt.ad,Zt=0,ar=Be.rb[Be.sb-1],Qt=$t=0,i(ke,Zt,0,384),pt.Za)var cn=0,cs=Ke[3];else{mr=s(16);var un=_e.Na+ar.Na;if(un=tm(Ze,Ke[1],un,ze.Eb,0,mr,0),_e.Na=ar.Na=(0<un)+0,1<un)Xh(mr,0,ke,Zt);else{var us=mr[0]+3>>3;for(mr=0;256>mr;mr+=16)ke[Zt+mr]=us}cn=1,cs=Ke[0]}var or=15&_e.la,Ns=15&ar.la;for(mr=0;4>mr;++mr){var ks=1&Ns;for(us=Mt=0;4>us;++us)or=or>>1|(ks=(un=tm(Ze,cs,un=ks+(1&or),ze.Sc,cn,ke,Zt))>cn)<<7,Mt=Mt<<2|(3<un?3:1<un?2:ke[Zt+0]!=0),Zt+=16;or>>=4,Ns=Ns>>1|ks<<7,$t=($t<<8|Mt)>>>0}for(cs=or,cn=Ns>>4,ur=0;4>ur;ur+=2){for(Mt=0,or=_e.la>>4+ur,Ns=ar.la>>4+ur,mr=0;2>mr;++mr){for(ks=1&Ns,us=0;2>us;++us)un=ks+(1&or),or=or>>1|(ks=0<(un=tm(Ze,Ke[2],un,ze.Qc,0,ke,Zt)))<<3,Mt=Mt<<2|(3<un?3:1<un?2:ke[Zt+0]!=0),Zt+=16;or>>=2,Ns=Ns>>1|ks<<5}Qt|=Mt<<4*ur,cs|=or<<4<<ur,cn|=(240&Ns)<<ur}_e.la=cs,ar.la=cn,pt.Hc=$t,pt.Gc=Qt,pt.ia=43690&Qt?0:ze.ia,Ke=!($t|Qt)}if(0<Be.L&&(Be.wa[Be.Y+Be.ja]=Be.gd[Fe.$b][Fe.Za],Be.wa[Be.Y+Be.ja].La|=!Ke),Ne.Ka)return qr(xe,7,"Premature end-of-file encountered.")}if(Mg(xe),Be=Me,Ne=1,Fe=(be=xe).D,_e=0<be.L&&be.M>=be.zb&&be.M<=be.Va,be.Aa==0)e:{if(Fe.M=be.M,Fe.uc=_e,$g(be,Fe),Ne=1,Fe=(Mt=be.D).Nb,_e=(Qt=Vy[be.L])*be.R,Ze=Qt/2*be.B,mr=16*Fe*be.R,us=8*Fe*be.B,Ke=be.sa,pt=be.ta-_e+mr,ze=be.qa,ke=be.ra-Ze+us,Zt=be.Ha,ar=be.Ia-Ze+us,Ns=(or=Mt.M)==0,$t=or>=be.Va-1,be.Aa==2&&$g(be,Mt),Mt.uc)for(ks=(un=be).D.M,e(un.D.uc),Mt=un.yb;Mt<un.Hb;++Mt){cn=Mt,cs=ks;var Pn=(ti=(Gr=un).D).Nb;ur=Gr.R;var ti=ti.wa[ti.Y+cn],ji=Gr.sa,ga=Gr.ta+16*Pn*ur+16*cn,To=ti.dd,Tn=ti.tc;if(Tn!=0)if(e(3<=Tn),Gr.L==1)0<cn&&WA(ji,ga,ur,Tn+4),ti.La&&da(ji,ga,ur,Tn),0<cs&&Pu(ji,ga,ur,Tn+4),ti.La&&Zg(ji,ga,ur,Tn);else{var Ml=Gr.B,Tu=Gr.qa,tf=Gr.ra+8*Pn*Ml+8*cn,$A=Gr.Ha,Gr=Gr.Ia+8*Pn*Ml+8*cn;Pn=ti.ld,0<cn&&(Ry(ji,ga,ur,Tn+4,To,Pn),Du(Tu,tf,$A,Gr,Ml,Tn+4,To,Pn)),ti.La&&(HA(ji,ga,ur,Tn,To,Pn),Zh(Tu,tf,$A,Gr,Ml,Tn,To,Pn)),0<cs&&(Jh(ji,ga,ur,Tn+4,To,Pn),Jg(Tu,tf,$A,Gr,Ml,Tn+4,To,Pn)),ti.La&&(_u(ji,ga,ur,Tn,To,Pn),Uu(Tu,tf,$A,Gr,Ml,Tn,To,Pn))}}if(be.ia&&alert("todo:DitherRow"),Be.put!=null){if(Mt=16*or,or=16*(or+1),Ns?(Be.y=be.sa,Be.O=be.ta+mr,Be.f=be.qa,Be.N=be.ra+us,Be.ea=be.Ha,Be.W=be.Ia+us):(Mt-=Qt,Be.y=Ke,Be.O=pt,Be.f=ze,Be.N=ke,Be.ea=Zt,Be.W=ar),$t||(or-=Qt),or>Be.o&&(or=Be.o),Be.F=null,Be.J=null,be.Fa!=null&&0<be.Fa.length&&Mt<or&&(Be.J=Kg(be,Be,Mt,or-Mt),Be.F=be.mb,Be.F==null&&Be.F.length==0)){Ne=qr(be,3,"Could not decode alpha data.");break e}Mt<Be.j&&(Qt=Be.j-Mt,Mt=Be.j,e(!(1&Qt)),Be.O+=be.R*Qt,Be.N+=be.B*(Qt>>1),Be.W+=be.B*(Qt>>1),Be.F!=null&&(Be.J+=Be.width*Qt)),Mt<or&&(Be.O+=Be.v,Be.N+=Be.v>>1,Be.W+=Be.v>>1,Be.F!=null&&(Be.J+=Be.v),Be.ka=Mt-Be.j,Be.U=Be.va-Be.v,Be.T=or-Mt,Ne=Be.put(Be))}Fe+1!=be.Ic||$t||(n(be.sa,be.ta-_e,Ke,pt+16*be.R,_e),n(be.qa,be.ra-Ze,ze,ke+8*be.B,Ze),n(be.Ha,be.Ia-Ze,Zt,ar+8*be.B,Ze))}if(!Ne)return qr(xe,6,"Output aborted.")}return 1}(b,N)),N.bc!=null&&N.bc(N),R&=1}return R?(b.cb=0,R):0}function Ka(b,N,R,X,ne){ne=b[N+R+32*X]+(ne>>3),b[N+R+32*X]=-256&ne?0>ne?0:255:ne}function Th(b,N,R,X,ne,Ae){Ka(b,N,0,R,X+ne),Ka(b,N,1,R,X+Ae),Ka(b,N,2,R,X-Ae),Ka(b,N,3,R,X-ne)}function os(b){return(20091*b>>16)+b}function Dg(b,N,R,X){var ne,Ae=0,ce=s(16);for(ne=0;4>ne;++ne){var he=b[N+0]+b[N+8],fe=b[N+0]-b[N+8],ge=(35468*b[N+4]>>16)-os(b[N+12]),ve=os(b[N+4])+(35468*b[N+12]>>16);ce[Ae+0]=he+ve,ce[Ae+1]=fe+ge,ce[Ae+2]=fe-ge,ce[Ae+3]=he-ve,Ae+=4,N++}for(ne=Ae=0;4>ne;++ne)he=(b=ce[Ae+0]+4)+ce[Ae+8],fe=b-ce[Ae+8],ge=(35468*ce[Ae+4]>>16)-os(ce[Ae+12]),Ka(R,X,0,0,he+(ve=os(ce[Ae+4])+(35468*ce[Ae+12]>>16))),Ka(R,X,1,0,fe+ge),Ka(R,X,2,0,fe-ge),Ka(R,X,3,0,he-ve),Ae++,X+=32}function by(b,N,R,X){var ne=b[N+0]+4,Ae=35468*b[N+4]>>16,ce=os(b[N+4]),he=35468*b[N+1]>>16;Th(R,X,0,ne+ce,b=os(b[N+1]),he),Th(R,X,1,ne+Ae,b,he),Th(R,X,2,ne-Ae,b,he),Th(R,X,3,ne-ce,b,he)}function Kx(b,N,R,X,ne){Dg(b,N,R,X),ne&&Dg(b,N+16,R,X+4)}function By(b,N,R,X){Ll(b,N+0,R,X,1),Ll(b,N+32,R,X+128,1)}function Gx(b,N,R,X){var ne;for(b=b[N+0]+4,ne=0;4>ne;++ne)for(N=0;4>N;++N)Ka(R,X,N,ne,b)}function xy(b,N,R,X){b[N+0]&&Oi(b,N+0,R,X),b[N+16]&&Oi(b,N+16,R,X+4),b[N+32]&&Oi(b,N+32,R,X+128),b[N+48]&&Oi(b,N+48,R,X+128+4)}function $x(b,N,R,X){var ne,Ae=s(16);for(ne=0;4>ne;++ne){var ce=b[N+0+ne]+b[N+12+ne],he=b[N+4+ne]+b[N+8+ne],fe=b[N+4+ne]-b[N+8+ne],ge=b[N+0+ne]-b[N+12+ne];Ae[0+ne]=ce+he,Ae[8+ne]=ce-he,Ae[4+ne]=ge+fe,Ae[12+ne]=ge-fe}for(ne=0;4>ne;++ne)ce=(b=Ae[0+4*ne]+3)+Ae[3+4*ne],he=Ae[1+4*ne]+Ae[2+4*ne],fe=Ae[1+4*ne]-Ae[2+4*ne],ge=b-Ae[3+4*ne],R[X+0]=ce+he>>3,R[X+16]=ge+fe>>3,R[X+32]=ce-he>>3,R[X+48]=ge-fe>>3,X+=64}function _g(b,N,R){var X,ne=N-32,Ae=Ls,ce=255-b[ne-1];for(X=0;X<R;++X){var he,fe=Ae,ge=ce+b[N-1];for(he=0;he<R;++he)b[N+he]=fe[ge+b[ne+he]];N+=32}}function zx(b,N){_g(b,N,4)}function Vx(b,N){_g(b,N,8)}function qx(b,N){_g(b,N,16)}function Cl(b,N){var R;for(R=0;16>R;++R)n(b,N+32*R,b,N-32,16)}function Rh(b,N){var R;for(R=16;0<R;--R)i(b,N,b[N-1],16),N+=32}function Qh(b,N,R){var X;for(X=0;16>X;++X)i(N,R+32*X,b,16)}function Iy(b,N){var R,X=16;for(R=0;16>R;++R)X+=b[N-1+32*R]+b[N+R-32];Qh(X>>5,b,N)}function wi(b,N){var R,X=8;for(R=0;16>R;++R)X+=b[N-1+32*R];Qh(X>>4,b,N)}function Yx(b,N){var R,X=8;for(R=0;16>R;++R)X+=b[N+R-32];Qh(X>>4,b,N)}function Cy(b,N){Qh(128,b,N)}function It(b,N,R){return b+2*N+R+2>>2}function Xx(b,N){var R,X=N-32;for(X=new Uint8Array([It(b[X-1],b[X+0],b[X+1]),It(b[X+0],b[X+1],b[X+2]),It(b[X+1],b[X+2],b[X+3]),It(b[X+2],b[X+3],b[X+4])]),R=0;4>R;++R)n(b,N+32*R,X,0,X.length)}function Jx(b,N){var R=b[N-1],X=b[N-1+32],ne=b[N-1+64],Ae=b[N-1+96];M(b,N+0,16843009*It(b[N-1-32],R,X)),M(b,N+32,16843009*It(R,X,ne)),M(b,N+64,16843009*It(X,ne,Ae)),M(b,N+96,16843009*It(ne,Ae,Ae))}function _o(b,N){var R,X=4;for(R=0;4>R;++R)X+=b[N+R-32]+b[N-1+32*R];for(X>>=3,R=0;4>R;++R)i(b,N+32*R,X,4)}function Sy(b,N){var R=b[N-1+0],X=b[N-1+32],ne=b[N-1+64],Ae=b[N-1-32],ce=b[N+0-32],he=b[N+1-32],fe=b[N+2-32],ge=b[N+3-32];b[N+0+96]=It(X,ne,b[N-1+96]),b[N+1+96]=b[N+0+64]=It(R,X,ne),b[N+2+96]=b[N+1+64]=b[N+0+32]=It(Ae,R,X),b[N+3+96]=b[N+2+64]=b[N+1+32]=b[N+0+0]=It(ce,Ae,R),b[N+3+64]=b[N+2+32]=b[N+1+0]=It(he,ce,Ae),b[N+3+32]=b[N+2+0]=It(fe,he,ce),b[N+3+0]=It(ge,fe,he)}function Fy(b,N){var R=b[N+1-32],X=b[N+2-32],ne=b[N+3-32],Ae=b[N+4-32],ce=b[N+5-32],he=b[N+6-32],fe=b[N+7-32];b[N+0+0]=It(b[N+0-32],R,X),b[N+1+0]=b[N+0+32]=It(R,X,ne),b[N+2+0]=b[N+1+32]=b[N+0+64]=It(X,ne,Ae),b[N+3+0]=b[N+2+32]=b[N+1+64]=b[N+0+96]=It(ne,Ae,ce),b[N+3+32]=b[N+2+64]=b[N+1+96]=It(Ae,ce,he),b[N+3+64]=b[N+2+96]=It(ce,he,fe),b[N+3+96]=It(he,fe,fe)}function Oh(b,N){var R=b[N-1+0],X=b[N-1+32],ne=b[N-1+64],Ae=b[N-1-32],ce=b[N+0-32],he=b[N+1-32],fe=b[N+2-32],ge=b[N+3-32];b[N+0+0]=b[N+1+64]=Ae+ce+1>>1,b[N+1+0]=b[N+2+64]=ce+he+1>>1,b[N+2+0]=b[N+3+64]=he+fe+1>>1,b[N+3+0]=fe+ge+1>>1,b[N+0+96]=It(ne,X,R),b[N+0+64]=It(X,R,Ae),b[N+0+32]=b[N+1+96]=It(R,Ae,ce),b[N+1+32]=b[N+2+96]=It(Ae,ce,he),b[N+2+32]=b[N+3+96]=It(ce,he,fe),b[N+3+32]=It(he,fe,ge)}function Ug(b,N){var R=b[N+0-32],X=b[N+1-32],ne=b[N+2-32],Ae=b[N+3-32],ce=b[N+4-32],he=b[N+5-32],fe=b[N+6-32],ge=b[N+7-32];b[N+0+0]=R+X+1>>1,b[N+1+0]=b[N+0+64]=X+ne+1>>1,b[N+2+0]=b[N+1+64]=ne+Ae+1>>1,b[N+3+0]=b[N+2+64]=Ae+ce+1>>1,b[N+0+32]=It(R,X,ne),b[N+1+32]=b[N+0+96]=It(X,ne,Ae),b[N+2+32]=b[N+1+96]=It(ne,Ae,ce),b[N+3+32]=b[N+2+96]=It(Ae,ce,he),b[N+3+64]=It(ce,he,fe),b[N+3+96]=It(he,fe,ge)}function Zx(b,N){var R=b[N-1+0],X=b[N-1+32],ne=b[N-1+64],Ae=b[N-1+96];b[N+0+0]=R+X+1>>1,b[N+2+0]=b[N+0+32]=X+ne+1>>1,b[N+2+32]=b[N+0+64]=ne+Ae+1>>1,b[N+1+0]=It(R,X,ne),b[N+3+0]=b[N+1+32]=It(X,ne,Ae),b[N+3+32]=b[N+1+64]=It(ne,Ae,Ae),b[N+3+64]=b[N+2+64]=b[N+0+96]=b[N+1+96]=b[N+2+96]=b[N+3+96]=Ae}function e5(b,N){var R=b[N-1+0],X=b[N-1+32],ne=b[N-1+64],Ae=b[N-1+96],ce=b[N-1-32],he=b[N+0-32],fe=b[N+1-32],ge=b[N+2-32];b[N+0+0]=b[N+2+32]=R+ce+1>>1,b[N+0+32]=b[N+2+64]=X+R+1>>1,b[N+0+64]=b[N+2+96]=ne+X+1>>1,b[N+0+96]=Ae+ne+1>>1,b[N+3+0]=It(he,fe,ge),b[N+2+0]=It(ce,he,fe),b[N+1+0]=b[N+3+32]=It(R,ce,he),b[N+1+32]=b[N+3+64]=It(X,R,ce),b[N+1+64]=b[N+3+96]=It(ne,X,R),b[N+1+96]=It(Ae,ne,X)}function t5(b,N){var R;for(R=0;8>R;++R)n(b,N+32*R,b,N-32,8)}function Pg(b,N){var R;for(R=0;8>R;++R)i(b,N,b[N-1],8),N+=32}function Eu(b,N,R){var X;for(X=0;8>X;++X)i(N,R+32*X,b,8)}function TA(b,N){var R,X=8;for(R=0;8>R;++R)X+=b[N+R-32]+b[N-1+32*R];Eu(X>>4,b,N)}function r5(b,N){var R,X=4;for(R=0;8>R;++R)X+=b[N+R-32];Eu(X>>3,b,N)}function Lu(b,N){var R,X=4;for(R=0;8>R;++R)X+=b[N-1+32*R];Eu(X>>3,b,N)}function Tg(b,N){Eu(128,b,N)}function jh(b,N,R){var X=b[N-R],ne=b[N+0],Ae=3*(ne-X)+l5[1020+b[N-2*R]-b[N+R]],ce=Oy[112+(Ae+4>>3)];b[N-R]=Ls[255+X+Oy[112+(Ae+3>>3)]],b[N+0]=Ls[255+ne-ce]}function Ey(b,N,R,X){var ne=b[N+0],Ae=b[N+R];return fa[255+b[N-2*R]-b[N-R]]>X||fa[255+Ae-ne]>X}function Ly(b,N,R,X){return 4*fa[255+b[N-R]-b[N+0]]+fa[255+b[N-2*R]-b[N+R]]<=X}function Ny(b,N,R,X,ne){var Ae=b[N-3*R],ce=b[N-2*R],he=b[N-R],fe=b[N+0],ge=b[N+R],ve=b[N+2*R],Ce=b[N+3*R];return 4*fa[255+he-fe]+fa[255+ce-ge]>X?0:fa[255+b[N-4*R]-Ae]<=ne&&fa[255+Ae-ce]<=ne&&fa[255+ce-he]<=ne&&fa[255+Ce-ve]<=ne&&fa[255+ve-ge]<=ne&&fa[255+ge-fe]<=ne}function ky(b,N,R,X){var ne=2*X+1;for(X=0;16>X;++X)Ly(b,N+X,R,ne)&&jh(b,N+X,R)}function Uo(b,N,R,X){var ne=2*X+1;for(X=0;16>X;++X)Ly(b,N+X*R,1,ne)&&jh(b,N+X*R,1)}function Sl(b,N,R,X){var ne;for(ne=3;0<ne;--ne)ky(b,N+=4*R,R,X)}function n5(b,N,R,X){var ne;for(ne=3;0<ne;--ne)Uo(b,N+=4,R,X)}function RA(b,N,R,X,ne,Ae,ce,he){for(Ae=2*Ae+1;0<ne--;){if(Ny(b,N,R,Ae,ce))if(Ey(b,N,R,he))jh(b,N,R);else{var fe=b,ge=N,ve=R,Ce=fe[ge-2*ve],Se=fe[ge-ve],xe=fe[ge+0],Me=fe[ge+ve],Fe=fe[ge+2*ve],be=27*(Ne=l5[1020+3*(xe-Se)+l5[1020+Ce-Me]])+63>>7,Be=18*Ne+63>>7,Ne=9*Ne+63>>7;fe[ge-3*ve]=Ls[255+fe[ge-3*ve]+Ne],fe[ge-2*ve]=Ls[255+Ce+Be],fe[ge-ve]=Ls[255+Se+be],fe[ge+0]=Ls[255+xe-be],fe[ge+ve]=Ls[255+Me-Be],fe[ge+2*ve]=Ls[255+Fe-Ne]}N+=X}}function Ga(b,N,R,X,ne,Ae,ce,he){for(Ae=2*Ae+1;0<ne--;){if(Ny(b,N,R,Ae,ce))if(Ey(b,N,R,he))jh(b,N,R);else{var fe=b,ge=N,ve=R,Ce=fe[ge-ve],Se=fe[ge+0],xe=fe[ge+ve],Me=Oy[112+((Fe=3*(Se-Ce))+4>>3)],Fe=Oy[112+(Fe+3>>3)],be=Me+1>>1;fe[ge-2*ve]=Ls[255+fe[ge-2*ve]+be],fe[ge-ve]=Ls[255+Ce+Fe],fe[ge+0]=Ls[255+Se-Me],fe[ge+ve]=Ls[255+xe-be]}N+=X}}function Rg(b,N,R,X,ne,Ae){RA(b,N,R,1,16,X,ne,Ae)}function Nu(b,N,R,X,ne,Ae){RA(b,N,1,R,16,X,ne,Ae)}function i5(b,N,R,X,ne,Ae){var ce;for(ce=3;0<ce;--ce)Ga(b,N+=4*R,R,1,16,X,ne,Ae)}function Hh(b,N,R,X,ne,Ae){var ce;for(ce=3;0<ce;--ce)Ga(b,N+=4,1,R,16,X,ne,Ae)}function s5(b,N,R,X,ne,Ae,ce,he){RA(b,N,ne,1,8,Ae,ce,he),RA(R,X,ne,1,8,Ae,ce,he)}function Qg(b,N,R,X,ne,Ae,ce,he){RA(b,N,1,ne,8,Ae,ce,he),RA(R,X,1,ne,8,Ae,ce,he)}function Og(b,N,R,X,ne,Ae,ce,he){Ga(b,N+4*ne,ne,1,8,Ae,ce,he),Ga(R,X+4*ne,ne,1,8,Ae,ce,he)}function My(b,N,R,X,ne,Ae,ce,he){Ga(b,N+4,1,ne,8,Ae,ce,he),Ga(R,X+4,1,ne,8,Ae,ce,he)}function Wh(){this.ba=new yi,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new br,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function jg(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Hg(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Dy(){this.ua=0,this.Wa=new pe,this.vb=new pe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new oe,this.yc=new te}function a5(){this.xb=this.a=0,this.l=new Ph,this.ca=new yi,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new v,this.Pb=0,this.wd=new v,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Dy,this.ab=0,this.gc=a(4,Hg),this.Oc=0}function Kh(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ph,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ku(b,N,R,X,ne,Ae,ce){for(b=b==null?0:b[N+0],N=0;N<ce;++N)ne[Ae+N]=b+R[X+N]&255,b=ne[Ae+N]}function Wg(b,N,R,X,ne,Ae,ce){var he;if(b==null)ku(null,null,R,X,ne,Ae,ce);else for(he=0;he<ce;++he)ne[Ae+he]=b[N+he]+R[X+he]&255}function QA(b,N,R,X,ne,Ae,ce){if(b==null)ku(null,null,R,X,ne,Ae,ce);else{var he,fe=b[N+0],ge=fe,ve=fe;for(he=0;he<ce;++he)ge=ve+(fe=b[N+he])-ge,ve=R[X+he]+(-256&ge?0>ge?0:255:ge)&255,ge=fe,ne[Ae+he]=ve}}function Kg(b,N,R,X){var ne=N.width,Ae=N.o;if(e(b!=null&&N!=null),0>R||0>=X||R+X>Ae)return null;if(!b.Cc){if(b.ga==null){var ce;if(b.ga=new Kh,(ce=b.ga==null)||(ce=N.width*N.o,e(b.Gb.length==0),b.Gb=s(ce),b.Uc=0,b.Gb==null?ce=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,ce=1),ce=!ce),!ce){ce=b.ga;var he=b.Fa,fe=b.P,ge=b.qc,ve=b.mb,Ce=b.nb,Se=fe+1,xe=ge-1,Me=ce.l;if(e(he!=null&&ve!=null&&N!=null),GA[0]=null,GA[1]=ku,GA[2]=Wg,GA[3]=QA,ce.ca=ve,ce.tb=Ce,ce.c=N.width,ce.i=N.height,e(0<ce.c&&0<ce.i),1>=ge)N=0;else if(ce.$a=he[fe+0]>>0&3,ce.Z=he[fe+0]>>2&3,ce.Lc=he[fe+0]>>4&3,fe=he[fe+0]>>6&3,0>ce.$a||1<ce.$a||4<=ce.Z||1<ce.Lc||fe)N=0;else if(Me.put=Lo,Me.ac=Zn,Me.bc=No,Me.ma=ce,Me.width=N.width,Me.height=N.height,Me.Da=N.Da,Me.v=N.v,Me.va=N.va,Me.j=N.j,Me.o=N.o,ce.$a)e:{e(ce.$a==1),N=Aa();t:for(;;){if(N==null){N=0;break e}if(e(ce!=null),ce.mc=N,N.c=ce.c,N.i=ce.i,N.l=ce.l,N.l.ma=ce,N.l.width=ce.c,N.l.height=ce.i,N.a=0,j(N.m,he,Se,xe),!Do(ce.c,ce.i,1,N,null)||(N.ab==1&&N.gc[0].hc==3&&Il(N.s)?(ce.ic=1,he=N.c*N.i,N.Ta=null,N.Ua=0,N.V=s(he),N.Ba=0,N.V==null?(N.a=1,N=0):N=1):(ce.ic=0,N=Fu(N,ce.c)),!N))break t;N=1;break e}ce.mc=null,N=0}else N=xe>=ce.c*ce.i;ce=!N}if(ce)return null;b.ga.Lc!=1?b.Ga=0:X=Ae-R}e(b.ga!=null),e(R+X<=Ae);e:{if(N=(he=b.ga).c,Ae=he.l.o,he.$a==0){if(Se=b.rc,xe=b.Vc,Me=b.Fa,fe=b.P+1+R*N,ge=b.mb,ve=b.nb+R*N,e(fe<=b.P+b.qc),he.Z!=0)for(e(GA[he.Z]!=null),ce=0;ce<X;++ce)GA[he.Z](Se,xe,Me,fe,ge,ve,N),Se=ge,xe=ve,ve+=N,fe+=N;else for(ce=0;ce<X;++ce)n(ge,ve,Me,fe,N),Se=ge,xe=ve,ve+=N,fe+=N;b.rc=Se,b.Vc=xe}else{if(e(he.mc!=null),N=R+X,e((ce=he.mc)!=null),e(N<=ce.i),ce.C>=N)N=1;else if(he.ic||Ie(),he.ic){he=ce.V,Se=ce.Ba,xe=ce.c;var Fe=ce.i,be=(Me=1,fe=ce.$/xe,ge=ce.$%xe,ve=ce.m,Ce=ce.s,ce.$),Be=xe*Fe,Ne=xe*N,_e=Ce.wc,ke=be<Ne?ln(Ce,ge,fe):null;e(be<=Be),e(N<=Fe),e(Il(Ce));t:for(;;){for(;!ve.h&&be<Ne;){if(ge&_e||(ke=ln(Ce,ge,fe)),e(ke!=null),w(ve),256>(Fe=as(ke.G[0],ke.H[0],ve)))he[Se+be]=Fe,++be,++ge>=xe&&(ge=0,++fe<=N&&!(fe%16)&&Ha(ce,fe));else{if(!(280>Fe)){Me=0;break t}Fe=Oa(Fe-256,ve);var Ze,Ke=as(ke.G[4],ke.H[4],ve);if(w(ve),!(be>=(Ke=ko(xe,Ke=Oa(Ke,ve)))&&Be-be>=Fe)){Me=0;break t}for(Ze=0;Ze<Fe;++Ze)he[Se+be+Ze]=he[Se+be+Ze-Ke];for(be+=Fe,ge+=Fe;ge>=xe;)ge-=xe,++fe<=N&&!(fe%16)&&Ha(ce,fe);be<Ne&&ge&_e&&(ke=ln(Ce,ge,fe))}e(ve.h==x(ve))}Ha(ce,fe>N?N:fe);break t}!Me||ve.h&&be<Be?(Me=0,ce.a=ve.h?5:3):ce.$=be,N=Me}else N=Wa(ce,ce.V,ce.Ba,ce.c,ce.i,N,kh);if(!N){X=0;break e}}R+X>=Ae&&(b.Cc=1),X=1}if(!X)return null;if(b.Cc&&((X=b.ga)!=null&&(X.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+R*ne}function P(b,N,R,X,ne,Ae){for(;0<ne--;){var ce,he=b,fe=N+(R?1:0),ge=b,ve=N+(R?0:3);for(ce=0;ce<X;++ce){var Ce=ge[ve+4*ce];Ce!=255&&(Ce*=32897,he[fe+4*ce+0]=he[fe+4*ce+0]*Ce>>23,he[fe+4*ce+1]=he[fe+4*ce+1]*Ce>>23,he[fe+4*ce+2]=he[fe+4*ce+2]*Ce>>23)}N+=Ae}}function ie(b,N,R,X,ne){for(;0<X--;){var Ae;for(Ae=0;Ae<R;++Ae){var ce=b[N+2*Ae+0],he=15&(ge=b[N+2*Ae+1]),fe=4369*he,ge=(240&ge|ge>>4)*fe>>16;b[N+2*Ae+0]=(240&ce|ce>>4)*fe>>16&240|(15&ce|ce<<4)*fe>>16>>4&15,b[N+2*Ae+1]=240&ge|he}N+=ne}}function ye(b,N,R,X,ne,Ae,ce,he){var fe,ge,ve=255;for(ge=0;ge<ne;++ge){for(fe=0;fe<X;++fe){var Ce=b[N+fe];Ae[ce+4*fe]=Ce,ve&=Ce}N+=R,ce+=he}return ve!=255}function we(b,N,R,X,ne){var Ae;for(Ae=0;Ae<ne;++Ae)R[X+Ae]=b[N+Ae]>>8}function Ie(){ha=P,Br=ie,xr=ye,Xr=we}function Ee(b,N,R){G[b]=function(X,ne,Ae,ce,he,fe,ge,ve,Ce,Se,xe,Me,Fe,be,Be,Ne,_e){var ke,Ze=_e-1>>1,Ke=he[fe+0]|ge[ve+0]<<16,pt=Ce[Se+0]|xe[Me+0]<<16;e(X!=null);var ze=3*Ke+pt+131074>>2;for(N(X[ne+0],255&ze,ze>>16,Fe,be),Ae!=null&&(ze=3*pt+Ke+131074>>2,N(Ae[ce+0],255&ze,ze>>16,Be,Ne)),ke=1;ke<=Ze;++ke){var Zt=he[fe+ke]|ge[ve+ke]<<16,ar=Ce[Se+ke]|xe[Me+ke]<<16,$t=Ke+Zt+pt+ar+524296,Qt=$t+2*(Zt+pt)>>3;ze=Qt+Ke>>1,Ke=($t=$t+2*(Ke+ar)>>3)+Zt>>1,N(X[ne+2*ke-1],255&ze,ze>>16,Fe,be+(2*ke-1)*R),N(X[ne+2*ke-0],255&Ke,Ke>>16,Fe,be+(2*ke-0)*R),Ae!=null&&(ze=$t+pt>>1,Ke=Qt+ar>>1,N(Ae[ce+2*ke-1],255&ze,ze>>16,Be,Ne+(2*ke-1)*R),N(Ae[ce+2*ke+0],255&Ke,Ke>>16,Be,Ne+(2*ke+0)*R)),Ke=Zt,pt=ar}1&_e||(ze=3*Ke+pt+131074>>2,N(X[ne+_e-1],255&ze,ze>>16,Fe,be+(_e-1)*R),Ae!=null&&(ze=3*pt+Ke+131074>>2,N(Ae[ce+_e-1],255&ze,ze>>16,Be,Ne+(_e-1)*R)))}}function Ue(){pa[jy]=o8,pa[Hy]=vL,pa[pL]=l8,pa[Wy]=bL,pa[Ky]=BL,pa[A5]=xL,pa[gL]=A8,pa[c5]=vL,pa[u5]=bL,pa[Gy]=BL,pa[d5]=xL}function Je(b){return b&-16384?0>b?0:255:b>>c8}function ut(b,N){return Je((19077*b>>8)+(26149*N>>8)-14234)}function kt(b,N,R){return Je((19077*b>>8)-(6419*N>>8)-(13320*R>>8)+8708)}function St(b,N){return Je((19077*b>>8)+(33050*N>>8)-17685)}function Gt(b,N,R,X,ne){X[ne+0]=ut(b,R),X[ne+1]=kt(b,N,R),X[ne+2]=St(b,N)}function Tr(b,N,R,X,ne){X[ne+0]=St(b,N),X[ne+1]=kt(b,N,R),X[ne+2]=ut(b,R)}function Kr(b,N,R,X,ne){var Ae=kt(b,N,R);N=Ae<<3&224|St(b,N)>>3,X[ne+0]=248&ut(b,R)|Ae>>5,X[ne+1]=N}function An(b,N,R,X,ne){var Ae=240&St(b,N)|15;X[ne+0]=240&ut(b,R)|kt(b,N,R)>>4,X[ne+1]=Ae}function vi(b,N,R,X,ne){X[ne+0]=255,Gt(b,N,R,X,ne+1)}function Un(b,N,R,X,ne){Tr(b,N,R,X,ne),X[ne+3]=255}function $a(b,N,R,X,ne){Gt(b,N,R,X,ne),X[ne+3]=255}function Es(b,N){return 0>b?0:b>N?N:b}function Po(b,N,R){G[b]=function(X,ne,Ae,ce,he,fe,ge,ve,Ce){for(var Se=ve+(-2&Ce)*R;ve!=Se;)N(X[ne+0],Ae[ce+0],he[fe+0],ge,ve),N(X[ne+1],Ae[ce+0],he[fe+0],ge,ve+R),ne+=2,++ce,++fe,ve+=2*R;1&Ce&&N(X[ne+0],Ae[ce+0],he[fe+0],ge,ve)}}function _y(b,N,R){return R==0?b==0?N==0?6:5:N==0?4:0:R}function Gg(b,N,R,X,ne){switch(b>>>30){case 3:Ll(N,R,X,ne,0);break;case 2:Yr(N,R,X,ne);break;case 1:Oi(N,R,X,ne)}}function $g(b,N){var R,X,ne=N.M,Ae=N.Nb,ce=b.oc,he=b.pc+40,fe=b.oc,ge=b.pc+584,ve=b.oc,Ce=b.pc+600;for(R=0;16>R;++R)ce[he+32*R-1]=129;for(R=0;8>R;++R)fe[ge+32*R-1]=129,ve[Ce+32*R-1]=129;for(0<ne?ce[he-1-32]=fe[ge-1-32]=ve[Ce-1-32]=129:(i(ce,he-32-1,127,21),i(fe,ge-32-1,127,9),i(ve,Ce-32-1,127,9)),X=0;X<b.za;++X){var Se=N.ya[N.aa+X];if(0<X){for(R=-1;16>R;++R)n(ce,he+32*R-4,ce,he+32*R+12,4);for(R=-1;8>R;++R)n(fe,ge+32*R-4,fe,ge+32*R+4,4),n(ve,Ce+32*R-4,ve,Ce+32*R+4,4)}var xe=b.Gd,Me=b.Hd+X,Fe=Se.ad,be=Se.Hc;if(0<ne&&(n(ce,he-32,xe[Me].y,0,16),n(fe,ge-32,xe[Me].f,0,8),n(ve,Ce-32,xe[Me].ea,0,8)),Se.Za){var Be=ce,Ne=he-32+16;for(0<ne&&(X>=b.za-1?i(Be,Ne,xe[Me].y[15],4):n(Be,Ne,xe[Me+1].y,0,4)),R=0;4>R;R++)Be[Ne+128+R]=Be[Ne+256+R]=Be[Ne+384+R]=Be[Ne+0+R];for(R=0;16>R;++R,be<<=2)Be=ce,Ne=he+CL[R],za[Se.Ob[R]](Be,Ne),Gg(be,Fe,16*+R,Be,Ne)}else if(Be=_y(X,ne,Se.Ob[0]),KA[Be](ce,he),be!=0)for(R=0;16>R;++R,be<<=2)Gg(be,Fe,16*+R,ce,he+CL[R]);for(R=Se.Gc,Be=_y(X,ne,Se.Dd),kl[Be](fe,ge),kl[Be](ve,Ce),be=Fe,Be=fe,Ne=ge,255&(Se=R>>0)&&(170&Se?Xg(be,256,Be,Ne):ua(be,256,Be,Ne)),Se=ve,be=Ce,255&(R>>=8)&&(170&R?Xg(Fe,320,Se,be):ua(Fe,320,Se,be)),ne<b.Ub-1&&(n(xe[Me].y,0,ce,he+480,16),n(xe[Me].f,0,fe,ge+224,8),n(xe[Me].ea,0,ve,Ce+224,8)),R=8*Ae*b.B,xe=b.sa,Me=b.ta+16*X+16*Ae*b.R,Fe=b.qa,Se=b.ra+8*X+R,be=b.Ha,Be=b.Ia+8*X+R,R=0;16>R;++R)n(xe,Me+R*b.R,ce,he+32*R,16);for(R=0;8>R;++R)n(Fe,Se+R*b.B,fe,ge+32*R,8),n(be,Be+R*b.B,ve,Ce+32*R,8)}}function Gh(b,N,R,X,ne,Ae,ce,he,fe){var ge=[0],ve=[0],Ce=0,Se=fe!=null?fe.kd:0,xe=fe??new jg;if(b==null||12>R)return 7;xe.data=b,xe.w=N,xe.ha=R,N=[N],R=[R],xe.gb=[xe.gb];e:{var Me=N,Fe=R,be=xe.gb;if(e(b!=null),e(Fe!=null),e(be!=null),be[0]=0,12<=Fe[0]&&!t(b,Me[0],"RIFF")){if(t(b,Me[0]+8,"WEBP")){be=3;break e}var Be=$(b,Me[0]+4);if(12>Be||4294967286<Be){be=3;break e}if(Se&&Be>Fe[0]-8){be=7;break e}be[0]=Be,Me[0]+=12,Fe[0]-=12}be=0}if(be!=0)return be;for(Be=0<xe.gb[0],R=R[0];;){e:{var Ne=b;Fe=N,be=R;var _e=ge,ke=ve,Ze=Me=[0];if((ze=Ce=[Ce])[0]=0,8>be[0])be=7;else{if(!t(Ne,Fe[0],"VP8X")){if($(Ne,Fe[0]+4)!=10){be=3;break e}if(18>be[0]){be=7;break e}var Ke=$(Ne,Fe[0]+8),pt=1+W(Ne,Fe[0]+12);if(2147483648<=pt*(Ne=1+W(Ne,Fe[0]+15))){be=3;break e}Ze!=null&&(Ze[0]=Ke),_e!=null&&(_e[0]=pt),ke!=null&&(ke[0]=Ne),Fe[0]+=18,be[0]-=18,ze[0]=1}be=0}}if(Ce=Ce[0],Me=Me[0],be!=0)return be;if(Fe=!!(2&Me),!Be&&Ce)return 3;if(Ae!=null&&(Ae[0]=!!(16&Me)),ce!=null&&(ce[0]=Fe),he!=null&&(he[0]=0),ce=ge[0],Me=ve[0],Ce&&Fe&&fe==null){be=0;break}if(4>R){be=7;break}if(Be&&Ce||!Be&&!Ce&&!t(b,N[0],"ALPH")){R=[R],xe.na=[xe.na],xe.P=[xe.P],xe.Sa=[xe.Sa];e:{Ke=b,be=N,Be=R;var ze=xe.gb;_e=xe.na,ke=xe.P,Ze=xe.Sa,pt=22,e(Ke!=null),e(Be!=null),Ne=be[0];var Zt=Be[0];for(e(_e!=null),e(Ze!=null),_e[0]=null,ke[0]=null,Ze[0]=0;;){if(be[0]=Ne,Be[0]=Zt,8>Zt){be=7;break e}var ar=$(Ke,Ne+4);if(4294967286<ar){be=3;break e}var $t=8+ar+1&-2;if(pt+=$t,0<ze&&pt>ze){be=3;break e}if(!t(Ke,Ne,"VP8 ")||!t(Ke,Ne,"VP8L")){be=0;break e}if(Zt[0]<$t){be=7;break e}t(Ke,Ne,"ALPH")||(_e[0]=Ke,ke[0]=Ne+8,Ze[0]=ar),Ne+=$t,Zt-=$t}}if(R=R[0],xe.na=xe.na[0],xe.P=xe.P[0],xe.Sa=xe.Sa[0],be!=0)break}R=[R],xe.Ja=[xe.Ja],xe.xa=[xe.xa];e:if(ze=b,be=N,Be=R,_e=xe.gb[0],ke=xe.Ja,Ze=xe.xa,Ke=be[0],Ne=!t(ze,Ke,"VP8 "),pt=!t(ze,Ke,"VP8L"),e(ze!=null),e(Be!=null),e(ke!=null),e(Ze!=null),8>Be[0])be=7;else{if(Ne||pt){if(ze=$(ze,Ke+4),12<=_e&&ze>_e-12){be=3;break e}if(Se&&ze>Be[0]-8){be=7;break e}ke[0]=ze,be[0]+=8,Be[0]-=8,Ze[0]=pt}else Ze[0]=5<=Be[0]&&ze[Ke+0]==47&&!(ze[Ke+4]>>5),ke[0]=Be[0];be=0}if(R=R[0],xe.Ja=xe.Ja[0],xe.xa=xe.xa[0],N=N[0],be!=0)break;if(4294967286<xe.Ja)return 3;if(he==null||Fe||(he[0]=xe.xa?2:1),ce=[ce],Me=[Me],xe.xa){if(5>R){be=7;break}he=ce,Se=Me,Fe=Ae,b==null||5>R?b=0:5<=R&&b[N+0]==47&&!(b[N+4]>>5)?(Be=[0],ze=[0],_e=[0],j(ke=new v,b,N,R),yt(ke,Be,ze,_e)?(he!=null&&(he[0]=Be[0]),Se!=null&&(Se[0]=ze[0]),Fe!=null&&(Fe[0]=_e[0]),b=1):b=0):b=0}else{if(10>R){be=7;break}he=Me,b==null||10>R||!yy(b,N+3,R-3)?b=0:(Se=b[N+0]|b[N+1]<<8|b[N+2]<<16,Fe=16383&(b[N+7]<<8|b[N+6]),b=16383&(b[N+9]<<8|b[N+8]),1&Se||3<(Se>>1&7)||!(Se>>4&1)||Se>>5>=xe.Ja||!Fe||!b?b=0:(ce&&(ce[0]=Fe),he&&(he[0]=b),b=1))}if(!b||(ce=ce[0],Me=Me[0],Ce&&(ge[0]!=ce||ve[0]!=Me)))return 3;fe!=null&&(fe[0]=xe,fe.offset=N-fe.w,e(4294967286>N-fe.w),e(fe.offset==fe.ha-R));break}return be==0||be==7&&Ce&&fe==null?(Ae!=null&&(Ae[0]|=xe.na!=null&&0<xe.na.length),X!=null&&(X[0]=ce),ne!=null&&(ne[0]=Me),0):be}function zg(b,N,R){var X=N.width,ne=N.height,Ae=0,ce=0,he=X,fe=ne;if(N.Da=b!=null&&0<b.Da,N.Da&&(he=b.cd,fe=b.bd,Ae=b.v,ce=b.j,11>R||(Ae&=-2,ce&=-2),0>Ae||0>ce||0>=he||0>=fe||Ae+he>X||ce+fe>ne))return 0;if(N.v=Ae,N.j=ce,N.va=Ae+he,N.o=ce+fe,N.U=he,N.T=fe,N.da=b!=null&&0<b.da,N.da){if(!at(he,fe,R=[b.ib],Ae=[b.hb]))return 0;N.ib=R[0],N.hb=Ae[0]}return N.ob=b!=null&&b.ob,N.Kb=b==null||!b.Sd,N.da&&(N.ob=N.ib<3*X/4&&N.hb<3*ne/4,N.Kb=0),1}function Vg(b){if(b==null)return 2;if(11>b.S){var N=b.f.RGBA;N.fb+=(b.height-1)*N.A,N.A=-N.A}else N=b.f.kb,b=b.height,N.O+=(b-1)*N.fa,N.fa=-N.fa,N.N+=(b-1>>1)*N.Ab,N.Ab=-N.Ab,N.W+=(b-1>>1)*N.Db,N.Db=-N.Db,N.F!=null&&(N.J+=(b-1)*N.lb,N.lb=-N.lb);return 0}function $h(b,N,R,X){if(X==null||0>=b||0>=N)return 2;if(R!=null){if(R.Da){var ne=R.cd,Ae=R.bd,ce=-2&R.v,he=-2&R.j;if(0>ce||0>he||0>=ne||0>=Ae||ce+ne>b||he+Ae>N)return 2;b=ne,N=Ae}if(R.da){if(!at(b,N,ne=[R.ib],Ae=[R.hb]))return 2;b=ne[0],N=Ae[0]}}X.width=b,X.height=N;e:{var fe=X.width,ge=X.height;if(b=X.S,0>=fe||0>=ge||!(b>=jy&&13>b))b=2;else{if(0>=X.Rd&&X.sd==null){ce=Ae=ne=N=0;var ve=(he=fe*SL[b])*ge;if(11>b||(Ae=(ge+1)/2*(N=(fe+1)/2),b==12&&(ce=(ne=fe)*ge)),(ge=s(ve+2*Ae+ce))==null){b=1;break e}X.sd=ge,11>b?((fe=X.f.RGBA).eb=ge,fe.fb=0,fe.A=he,fe.size=ve):((fe=X.f.kb).y=ge,fe.O=0,fe.fa=he,fe.Fd=ve,fe.f=ge,fe.N=0+ve,fe.Ab=N,fe.Cd=Ae,fe.ea=ge,fe.W=0+ve+Ae,fe.Db=N,fe.Ed=Ae,b==12&&(fe.F=ge,fe.J=0+ve+2*Ae),fe.Tc=ce,fe.lb=ne)}if(N=1,ne=X.S,Ae=X.width,ce=X.height,ne>=jy&&13>ne)if(11>ne)b=X.f.RGBA,N&=(he=Math.abs(b.A))*(ce-1)+Ae<=b.size,N&=he>=Ae*SL[ne],N&=b.eb!=null;else{b=X.f.kb,he=(Ae+1)/2,ve=(ce+1)/2,fe=Math.abs(b.fa),ge=Math.abs(b.Ab);var Ce=Math.abs(b.Db),Se=Math.abs(b.lb),xe=Se*(ce-1)+Ae;N&=fe*(ce-1)+Ae<=b.Fd,N&=ge*(ve-1)+he<=b.Cd,N=(N&=Ce*(ve-1)+he<=b.Ed)&fe>=Ae&ge>=he&Ce>=he,N&=b.y!=null,N&=b.f!=null,N&=b.ea!=null,ne==12&&(N&=Se>=Ae,N&=xe<=b.Tc,N&=b.F!=null)}else N=0;b=N?0:2}}return b!=0||R!=null&&R.fd&&(b=Vg(X)),b}var ei=64,zh=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Vh=24,qh=32,qg=8,ls=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];je("Predictor0","PredictorAdd0"),G.Predictor0=function(){return 4278190080},G.Predictor1=function(b){return b},G.Predictor2=function(b,N,R){return N[R+0]},G.Predictor3=function(b,N,R){return N[R+1]},G.Predictor4=function(b,N,R){return N[R-1]},G.Predictor5=function(b,N,R){return Ge(Ge(b,N[R+1]),N[R+0])},G.Predictor6=function(b,N,R){return Ge(b,N[R-1])},G.Predictor7=function(b,N,R){return Ge(b,N[R+0])},G.Predictor8=function(b,N,R){return Ge(N[R-1],N[R+0])},G.Predictor9=function(b,N,R){return Ge(N[R+0],N[R+1])},G.Predictor10=function(b,N,R){return Ge(Ge(b,N[R-1]),Ge(N[R+0],N[R+1]))},G.Predictor11=function(b,N,R){var X=N[R+0];return 0>=Nt(X>>24&255,b>>24&255,(N=N[R-1])>>24&255)+Nt(X>>16&255,b>>16&255,N>>16&255)+Nt(X>>8&255,b>>8&255,N>>8&255)+Nt(255&X,255&b,255&N)?X:b},G.Predictor12=function(b,N,R){var X=N[R+0];return(lt((b>>24&255)+(X>>24&255)-((N=N[R-1])>>24&255))<<24|lt((b>>16&255)+(X>>16&255)-(N>>16&255))<<16|lt((b>>8&255)+(X>>8&255)-(N>>8&255))<<8|lt((255&b)+(255&X)-(255&N)))>>>0},G.Predictor13=function(b,N,R){var X=N[R-1];return(Bt((b=Ge(b,N[R+0]))>>24&255,X>>24&255)<<24|Bt(b>>16&255,X>>16&255)<<16|Bt(b>>8&255,X>>8&255)<<8|Bt(b>>0&255,X>>0&255))>>>0};var o5=G.PredictorAdd0;G.PredictorAdd1=_t,je("Predictor2","PredictorAdd2"),je("Predictor3","PredictorAdd3"),je("Predictor4","PredictorAdd4"),je("Predictor5","PredictorAdd5"),je("Predictor6","PredictorAdd6"),je("Predictor7","PredictorAdd7"),je("Predictor8","PredictorAdd8"),je("Predictor9","PredictorAdd9"),je("Predictor10","PredictorAdd10"),je("Predictor11","PredictorAdd11"),je("Predictor12","PredictorAdd12"),je("Predictor13","PredictorAdd13");var Yg=G.PredictorAdd2;Ut("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),Ut("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var Uy,ca=G.ColorIndexInverseTransform,Yh=G.MapARGB,Py=G.VP8LColorIndexInverseTransformAlpha,Ty=G.MapAlpha,OA=G.VP8LPredictorsAdd=[];OA.length=16,(G.VP8LPredictors=[]).length=16,(G.VP8LPredictorsAdd_C=[]).length=16,(G.VP8LPredictors_C=[]).length=16;var Mu,As,Qi,jA,Fl,El,Xh,Ll,Yr,Xg,Oi,ua,Jh,Ry,Jg,Du,_u,HA,Uu,Zh,Pu,WA,Zg,da,ha,Br,xr,Xr,bn=s(511),Nl=s(2041),em=s(225),ef=s(767),Qy=0,l5=Nl,Oy=em,Ls=ef,fa=bn,jy=0,Hy=1,pL=2,Wy=3,Ky=4,A5=5,gL=6,c5=7,u5=8,Gy=9,d5=10,zQ=[2,3,7],VQ=[3,3,11],mL=[280,256,256,256,40],qQ=[0,1,1,1,0],YQ=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],XQ=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],JQ=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ZQ=8,h5=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],f5=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],tm=null,e8=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],t8=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],yL=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],r8=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],n8=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],i8=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],s8=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],KA=[],za=[],kl=[],a8=1,wL=2,GA=[],pa=[];Ee("UpsampleRgbLinePair",Gt,3),Ee("UpsampleBgrLinePair",Tr,3),Ee("UpsampleRgbaLinePair",$a,4),Ee("UpsampleBgraLinePair",Un,4),Ee("UpsampleArgbLinePair",vi,4),Ee("UpsampleRgba4444LinePair",An,2),Ee("UpsampleRgb565LinePair",Kr,2);var o8=G.UpsampleRgbLinePair,l8=G.UpsampleBgrLinePair,vL=G.UpsampleRgbaLinePair,bL=G.UpsampleBgraLinePair,BL=G.UpsampleArgbLinePair,xL=G.UpsampleRgba4444LinePair,A8=G.UpsampleRgb565LinePair,$y=16,zy=1<<$y-1,rm=-227,p5=482,c8=6,IL=0,u8=s(256),d8=s(256),h8=s(256),f8=s(256),p8=s(p5-rm),g8=s(p5-rm);Po("YuvToRgbRow",Gt,3),Po("YuvToBgrRow",Tr,3),Po("YuvToRgbaRow",$a,4),Po("YuvToBgraRow",Un,4),Po("YuvToArgbRow",vi,4),Po("YuvToRgba4444Row",An,2),Po("YuvToRgb565Row",Kr,2);var CL=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Vy=[0,2,8],m8=[8,7,6,4,4,2,2,2,1,1,1,1],y8=1;this.WebPDecodeRGBA=function(b,N,R,X,ne){var Ae=Hy,ce=new Wh,he=new yi;ce.ba=he,he.S=Ae,he.width=[he.width],he.height=[he.height];var fe=he.width,ge=he.height,ve=new Ri;if(ve==null||b==null)var Ce=2;else e(ve!=null),Ce=Gh(b,N,R,ve.width,ve.height,ve.Pd,ve.Qd,ve.format,null);if(Ce!=0?fe=0:(fe!=null&&(fe[0]=ve.width[0]),ge!=null&&(ge[0]=ve.height[0]),fe=1),fe){he.width=he.width[0],he.height=he.height[0],X!=null&&(X[0]=he.width),ne!=null&&(ne[0]=he.height);e:{if(X=new Ph,(ne=new jg).data=b,ne.w=N,ne.ha=R,ne.kd=1,N=[0],e(ne!=null),((b=Gh(ne.data,ne.w,ne.ha,null,null,null,N,null,ne))==0||b==7)&&N[0]&&(b=4),(N=b)==0){if(e(ce!=null),X.data=ne.data,X.w=ne.w+ne.offset,X.ha=ne.ha-ne.offset,X.put=Lo,X.ac=Zn,X.bc=No,X.ma=ce,ne.xa){if((b=Aa())==null){ce=1;break e}if(function(Se,xe){var Me=[0],Fe=[0],be=[0];t:for(;;){if(Se==null)return 0;if(xe==null)return Se.a=2,0;if(Se.l=xe,Se.a=0,j(Se.m,xe.data,xe.w,xe.ha),!yt(Se.m,Me,Fe,be)){Se.a=3;break t}if(Se.xb=wL,xe.width=Me[0],xe.height=Fe[0],!Do(Me[0],Fe[0],1,Se,null))break t;return 1}return e(Se.a!=0),0}(b,X)){if(X=(N=$h(X.width,X.height,ce.Oa,ce.ba))==0){t:{X=b;r:for(;;){if(X==null){X=0;break t}if(e(X.s.yc!=null),e(X.s.Ya!=null),e(0<X.s.Wb),e((R=X.l)!=null),e((ne=R.ma)!=null),X.xb!=0){if(X.ca=ne.ba,X.tb=ne.tb,e(X.ca!=null),!zg(ne.Oa,R,Wy)){X.a=2;break r}if(!Fu(X,R.width)||R.da)break r;if((R.da||ft(X.ca.S))&&Ie(),11>X.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),X.ca.f.kb.F!=null&&Ie()),X.Pb&&0<X.s.ua&&X.s.vb.X==null&&!se(X.s.vb,X.s.Wa.Xa)){X.a=1;break r}X.xb=0}if(!Wa(X,X.V,X.Ba,X.c,X.i,R.o,Nh))break r;ne.Dc=X.Ma,X=1;break t}e(X.a!=0),X=0}X=!X}X&&(N=b.a)}else N=b.a}else{if((b=new Hx)==null){ce=1;break e}if(b.Fa=ne.na,b.P=ne.P,b.qc=ne.Sa,wy(b,X)){if((N=$h(X.width,X.height,ce.Oa,ce.ba))==0){if(b.Aa=0,R=ce.Oa,e((ne=b)!=null),R!=null){if(0<(fe=0>(fe=R.Md)?0:100<fe?255:255*fe/100)){for(ge=ve=0;4>ge;++ge)12>(Ce=ne.pb[ge]).lc&&(Ce.ia=fe*m8[0>Ce.lc?0:Ce.lc]>>3),ve|=Ce.ia;ve&&(alert("todo:VP8InitRandom"),ne.ia=1)}ne.Ga=R.Id,100<ne.Ga?ne.Ga=100:0>ne.Ga&&(ne.Ga=0)}Wx(b,X)||(N=b.a)}}else N=b.a}N==0&&ce.Oa!=null&&ce.Oa.fd&&(N=Vg(ce.ba))}ce=N}Ae=ce!=0?null:11>Ae?he.f.RGBA.eb:he.f.kb.y}else Ae=null;return Ae};var SL=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function A(G,Y){for(var K="",H=0;H<4;H++)K+=String.fromCharCode(G[Y++]);return K}function c(G,Y){return(G[Y+0]<<0|G[Y+1]<<8|G[Y+2]<<16)>>>0}function u(G,Y){return(G[Y+0]<<0|G[Y+1]<<8|G[Y+2]<<16|G[Y+3]<<24)>>>0}new l;var f=[0],p=[0],I=[],F=new l,D=r,C=function(G,Y){var K={},H=0,te=!1,ue=0,oe=0;if(K.frames=[],!function(E,x,g,w){for(var h=0;h<w;h++)if(E[x+h]!=g.charCodeAt(h))return!0;return!1}(G,Y,"RIFF",4)){for(u(G,Y+=4),Y+=8;Y<G.length;){var re=A(G,Y),J=u(G,Y+=4);Y+=4;var O=J+(1&J);switch(re){case"VP8 ":case"VP8L":K.frames[H]===void 0&&(K.frames[H]={}),(_=K.frames[H]).src_off=te?oe:Y-8,_.src_size=ue+J+8,H++,te&&(te=!1,ue=0,oe=0);break;case"VP8X":(_=K.header={}).feature_flags=G[Y];var j=Y+4;_.canvas_width=1+c(G,j),j+=3,_.canvas_height=1+c(G,j),j+=3;break;case"ALPH":te=!0,ue=O+8,oe=Y-8;break;case"ANIM":(_=K.header).bgcolor=u(G,Y),j=Y+4,_.loop_count=(L=G)[(v=j)+0]<<0|L[v+1]<<8,j+=2;break;case"ANMF":var T,_;(_=K.frames[H]={}).offset_x=2*c(G,Y),Y+=3,_.offset_y=2*c(G,Y),Y+=3,_.width=1+c(G,Y),Y+=3,_.height=1+c(G,Y),Y+=3,_.duration=c(G,Y),Y+=3,T=G[Y++],_.dispose=1&T,_.blend=T>>1&1}re!="ANMF"&&(Y+=O)}var L,v;return K}}(D,0);C.response=D,C.rgbaoutput=!0,C.dataurl=!1;var k=C.header?C.header:null,U=C.frames?C.frames:null;if(k){k.loop_counter=k.loop_count,f=[k.canvas_height],p=[k.canvas_width];for(var Q=0;Q<U.length&&U[Q].blend!=0;Q++);}var V=U[0],Z=F.WebPDecodeRGBA(D,V.src_off,V.src_size,p,f);V.rgba=Z,V.imgwidth=p[0],V.imgheight=f[0];for(var q=0;q<p[0]*f[0]*4;q++)I[q]=Z[q];return this.width=p,this.height=f,this.data=I,this}(function(r){var e=function(){return typeof U4=="function"},t=function(f,p,I,F){var D=4,C=a;switch(F){case r.image_compression.FAST:D=1,C=s;break;case r.image_compression.MEDIUM:D=6,C=o;break;case r.image_compression.SLOW:D=9,C=l}f=n(f,p,I,C);var k=U4(f,{level:D});return r.__addimage__.arrayBufferToBinaryString(k)},n=function(f,p,I,F){for(var D,C,k,U=f.length/p,Q=new Uint8Array(f.length+U),V=c(),Z=0;Z<U;Z+=1){if(k=Z*p,D=f.subarray(k,k+p),F)Q.set(F(D,I,C),k+Z);else{for(var q,G=V.length,Y=[];q<G;q+=1)Y[q]=V[q](D,I,C);var K=u(Y.concat());Q.set(Y[K],k+Z)}C=D}return Q},i=function(f){var p=Array.apply([],f);return p.unshift(0),p},s=function(f,p){var I,F=[],D=f.length;F[0]=1;for(var C=0;C<D;C+=1)I=f[C-p]||0,F[C+1]=f[C]-I+256&255;return F},a=function(f,p,I){var F,D=[],C=f.length;D[0]=2;for(var k=0;k<C;k+=1)F=I&&I[k]||0,D[k+1]=f[k]-F+256&255;return D},o=function(f,p,I){var F,D,C=[],k=f.length;C[0]=3;for(var U=0;U<k;U+=1)F=f[U-p]||0,D=I&&I[U]||0,C[U+1]=f[U]+256-(F+D>>>1)&255;return C},l=function(f,p,I){var F,D,C,k,U=[],Q=f.length;U[0]=4;for(var V=0;V<Q;V+=1)F=f[V-p]||0,D=I&&I[V]||0,C=I&&I[V-p]||0,k=A(F,D,C),U[V+1]=f[V]-k+256&255;return U},A=function(f,p,I){if(f===p&&p===I)return f;var F=Math.abs(p-I),D=Math.abs(f-I),C=Math.abs(f+p-I-I);return F<=D&&F<=C?f:D<=C?p:I},c=function(){return[i,s,a,o,l]},u=function(f){var p=f.map(function(I){return I.reduce(function(F,D){return F+Math.abs(D)},0)});return p.indexOf(Math.min.apply(null,p))};r.processPNG=function(f,p,I,F){var D,C,k,U,Q,V,Z,q,G,Y,K,H,te,ue,oe,re=this.decode.FLATE_DECODE,J="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(k=new tJ(f)).imgData,C=k.bits,D=k.colorSpace,Q=k.colors,[4,6].indexOf(k.colorType)!==-1){if(k.bits===8){G=(q=k.pixelBitlength==32?new Uint32Array(k.decodePixels().buffer):k.pixelBitlength==16?new Uint16Array(k.decodePixels().buffer):new Uint8Array(k.decodePixels().buffer)).length,K=new Uint8Array(G*k.colors),Y=new Uint8Array(G);var O,j=k.pixelBitlength-k.bits;for(ue=0,oe=0;ue<G;ue++){for(te=q[ue],O=0;O<j;)K[oe++]=te>>>O&255,O+=k.bits;Y[ue]=te>>>O&255}}if(k.bits===16){G=(q=new Uint32Array(k.decodePixels().buffer)).length,K=new Uint8Array(G*(32/k.pixelBitlength)*k.colors),Y=new Uint8Array(G*(32/k.pixelBitlength)),H=k.colors>1,ue=0,oe=0;for(var T=0;ue<G;)te=q[ue++],K[oe++]=te>>>0&255,H&&(K[oe++]=te>>>16&255,te=q[ue++],K[oe++]=te>>>0&255),Y[T++]=te>>>16&255;C=8}F!==r.image_compression.NONE&&e()?(f=t(K,k.width*k.colors,k.colors,F),Z=t(Y,k.width,1,F)):(f=K,Z=Y,re=void 0)}if(k.colorType===3&&(D=this.color_spaces.INDEXED,V=k.palette,k.transparency.indexed)){var _=k.transparency.indexed,L=0;for(ue=0,G=_.length;ue<G;++ue)L+=_[ue];if((L/=255)===G-1&&_.indexOf(0)!==-1)U=[_.indexOf(0)];else if(L!==G){for(q=k.decodePixels(),Y=new Uint8Array(q.length),ue=0,G=q.length;ue<G;ue++)Y[ue]=_[q[ue]];Z=t(Y,k.width,1)}}var v=function(E){var x;switch(E){case r.image_compression.FAST:x=11;break;case r.image_compression.MEDIUM:x=13;break;case r.image_compression.SLOW:x=14;break;default:x=12}return x}(F);return re===this.decode.FLATE_DECODE&&(J="/Predictor "+v+" "),J+="/Colors "+Q+" /BitsPerComponent "+C+" /Columns "+k.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(Z&&this.__addimage__.isArrayBuffer(Z)||this.__addimage__.isArrayBufferView(Z))&&(Z=this.__addimage__.arrayBufferToBinaryString(Z)),{alias:I,data:f,index:p,filter:re,decodeParameters:J,transparency:U,palette:V,sMask:Z,predictor:v,width:k.width,height:k.height,bitsPerComponent:C,colorSpace:D}}}})(wt.API),function(r){r.processGIF89A=function(e,t,n,i){var s=new rJ(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var A={data:l,width:a,height:o},c=new NI(100).encode(A,100);return r.processJPEG.call(this,c,t,n,i)},r.processGIF87A=r.processGIF89A}(wt.API),Xa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Xa.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){yr.log("bit decode error:"+t)}},Xa.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}t!==0&&(this.pos+=4-t)}},Xa.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<r;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,l=15&s,A=this.palette[o];if(this.data[a]=A.blue,this.data[a+1]=A.green,this.data[a+2]=A.red,this.data[a+3]=255,2*i+1>=this.width)break;A=this.palette[l],this.data[a+4]=A.blue,this.data[a+4+1]=A.green,this.data[a+4+2]=A.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Xa.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}r!==0&&(this.pos+=4-r)}},Xa.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,A=s>>15?255:0,c=n*this.width*4+4*i;this.data[c]=l,this.data[c+1]=o,this.data[c+2]=a,this.data[c+3]=A}this.pos+=r}},Xa.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&t)/t*255|0,A=(a>>11)/e*255|0,c=i*this.width*4+4*s;this.data[c]=A,this.data[c+1]=l,this.data[c+2]=o,this.data[c+3]=255}this.pos+=r}},Xa.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},Xa.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},Xa.prototype.getData=function(){return this.data},function(r){r.processBMP=function(e,t,n,i){var s=new Xa(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},A=new NI(100).encode(l,100);return r.processJPEG.call(this,A,t,n,i)}}(wt.API),rM.prototype.getData=function(){return this.data},function(r){r.processWEBP=function(e,t,n,i){var s=new rM(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},A=new NI(100).encode(l,100);return r.processJPEG.call(this,A,t,n,i)}}(wt.API),wt.API.processRGBA=function(r,e,t){for(var n=r.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,A=0;A<i;A+=4){var c=n[A],u=n[A+1],f=n[A+2],p=n[A+3];s[o++]=c,s[o++]=u,s[o++]=f,a[l++]=p}var I=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:I,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},wt.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},df=wt.API,Rw=df.getCharWidthsArray=function(r,e){var t,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,A=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=A.fof?A.fof:1,u=e.doKerning!==!1,f=0,p=r.length,I=0,F=o[0]||l,D=[];for(t=0;t<p;t++)n=r.charCodeAt(t),typeof i.metadata.widthOfString=="function"?D.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(f=u&&Jt(A[n])==="object"&&!isNaN(parseInt(A[n][I],10))?A[n][I]/c:0,D.push((o[n]||F)/l+f)),I=n;return D},Jk=df.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return df.processArabic&&(r=df.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,i)/t:Rw.apply(this,arguments).reduce(function(s,a){return s+a},0)},Zk=function(r,e,t,n){for(var i=[],s=0,a=r.length,o=0;s!==a&&o+e[s]<t;)o+=e[s],s++;i.push(r.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>n&&(i.push(r.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(r.slice(l,s)),i},eM=function(r,e,t){t||(t={});var n,i,s,a,o,l,A,c=[],u=[c],f=t.textIndent||0,p=0,I=0,F=r.split(" "),D=Rw.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?F[0].length+2:t.lineIndent||0){var C=Array(l).join(" "),k=[];F.map(function(Q){(Q=Q.split(/\s*\n/)).length>1?k=k.concat(Q.map(function(V,Z){return(Z&&V.length?`
`:"")+V})):k.push(Q[0])}),F=k,l=Jk.apply(this,[C,t])}for(s=0,a=F.length;s<a;s++){var U=0;if(n=F[s],l&&n[0]==`
`&&(n=n.substr(1),U=1),f+p+(I=(i=Rw.apply(this,[n,t])).reduce(function(Q,V){return Q+V},0))>e||U){if(I>e){for(o=Zk.apply(this,[n,i,e-(f+p),e]),c.push(o.shift()),c=[o.pop()];o.length;)u.push([o.shift()]);I=i.slice(n.length-(c[0]?c[0].length:0)).reduce(function(Q,V){return Q+V},0)}else c=[n];u.push(c),f=I+l,p=D}else c.push(n),f+=p+I,p=D}return A=l?function(Q,V){return(V?C:"")+Q.join(" ")}:function(Q){return Q.join(" ")},u.map(A)},df.splitTextToSize=function(r,e,t){var n,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var u=this.internal.getFont(c.fontName,c.fontStyle);return u.metadata.Unicode?{widths:u.metadata.Unicode.widths||{0:1},kerning:u.metadata.Unicode.kerning||{}}:{font:u.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var o,l,A=[];for(o=0,l=n.length;o<l;o++)A=A.concat(eM.apply(this,[n[o],a,s]));return A},function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},n={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=e[i];var s=function(u){return"0x"+parseInt(u,10).toString(16)},a=r.__fontmetrics__.compress=function(u){var f,p,I,F,D=["{"];for(var C in u){if(f=u[C],isNaN(parseInt(C,10))?p="'"+C+"'":(C=parseInt(C,10),p=(p=s(C).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof f=="number")f<0?(I=s(f).slice(3),F="-"):(I=s(f).slice(2),F=""),I=F+I.slice(0,-1)+n[I.slice(-1)];else{if(Jt(f)!=="object")throw new Error("Don't know what to do with value type "+Jt(f)+".");I=a(f)}D.push(p+I)}return D.push("}"),D.join("")},o=r.__fontmetrics__.uncompress=function(u){if(typeof u!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,p,I,F,D={},C=1,k=D,U=[],Q="",V="",Z=u.length-1,q=1;q<Z;q+=1)(F=u[q])=="'"?f?(I=f.join(""),f=void 0):f=[]:f?f.push(F):F=="{"?(U.push([k,I]),k={},I=void 0):F=="}"?((p=U.pop())[0][p[1]]=k,I=void 0,k=p[0]):F=="-"?C=-1:I===void 0?t.hasOwnProperty(F)?(Q+=t[F],I=parseInt(Q,16)*C,C=1,Q=""):Q+=F:t.hasOwnProperty(F)?(V+=t[F],k[I]=parseInt(V,16)*C,C=1,I=void 0,V=""):V+=F;return D},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},A={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},c={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(u){var f=u.font,p=c.Unicode[f.postScriptName];p&&(f.metadata.Unicode={},f.metadata.Unicode.widths=p.widths,f.metadata.Unicode.kerning=p.kerning);var I=A.Unicode[f.postScriptName];I&&(f.metadata.Unicode.encoding=I,f.encoding=I.codePages[0])}])}(wt.API),function(r){var e=function(t){for(var n=t.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=t.charCodeAt(s);return i};r.API.events.push(["addFont",function(t){var n=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(L0(o)),a.metadata=r.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(wt),function(r){function e(){return(bt.canvg?Promise.resolve(bt.canvg):N4(()=>import("./index.es-DyllMZf5.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}wt.API.addSvgAsImage=function(t,n,i,s,a,o,l,A){if(isNaN(n)||isNaN(i))throw yr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw yr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=s,c.height=a;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(I){return I.fromString(u,t,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(I){return I.render(f)}).then(function(){p.addImage(c.toDataURL("image/jpeg",1),n,i,s,a,l,A)})}}(),wt.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,t);return this},wt.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],A=0,c=0,u=0;function f(I,F){var D,C=!1;for(D=0;D<I.length;D+=1)I[D]===F&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var p=o.length;for(u=0;u<p;u+=1)t[o[u]].value=t[o[u]].defaultValue,t[o[u]].explicitSet=!1}if(Jt(r)==="object"){for(i in r)if(s=r[i],f(o,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&f(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(A=0;A<s.length;A+=1)if(n=!0,s[A].length===1&&typeof s[A][0]=="number")l.push(String(s[A]-1));else if(s[A].length>1){for(c=0;c<s[A].length;c+=1)typeof s[A][c]!="number"&&(n=!1);n===!0&&l.push([s[A][0]-1,s[A][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var I,F=[];for(I in t)t[I].explicitSet===!0&&(t[I].type==="name"?F.push("/"+I+" /"+t[I].value):F.push("/"+I+" "+t[I].value));F.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+F.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),A=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+A+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(wt.API),function(r){var e=r.API,t=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,A=["","0","00","000","0000"],c=[""],u=0,f=s.length;u<f;++u){if(o=a.metadata.characterToGlyph(s.charCodeAt(u)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(u),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return c.join("");o=o.toString(16),c.push(A[4-o.length],o)}return c.join("")},n=function(s){var a,o,l,A,c,u,f;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],u=0,f=(o=Object.keys(s).sort(function(p,I){return p-I})).length;u<f;u++)a=o[u],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(A=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+A+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,A=a.newObject,c=a.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="Identity-H"){for(var u=o.metadata.Unicode.widths,f=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",I=0;I<f.length;I++)p+=String.fromCharCode(f[I]);var F=A();c({data:p,addLength1:!0,objectId:F}),l("endobj");var D=A();c({data:n(o.metadata.toUnicode),addLength1:!0,objectId:D}),l("endobj");var C=A();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Ef(o.fontName)),l("/FontFile2 "+F+" 0 R"),l("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var k=A();l("<<"),l("/Type /Font"),l("/BaseFont /"+Ef(o.fontName)),l("/FontDescriptor "+C+" 0 R"),l("/W "+r.API.PDFObject.convert(u)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=A(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+D+" 0 R"),l("/BaseFont /"+Ef(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+k+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,A=a.newObject,c=a.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var u=o.metadata.rawData,f="",p=0;p<u.length;p++)f+=String.fromCharCode(u[p]);var I=A();c({data:f,addLength1:!0,objectId:I}),l("endobj");var F=A();c({data:n(o.metadata.toUnicode),addLength1:!0,objectId:F}),l("endobj");var D=A();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+I+" 0 R"),l("/Flags 96"),l("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Ef(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=A();for(var C=0;C<o.metadata.hmtx.widths.length;C++)o.metadata.hmtx.widths[C]=parseInt(o.metadata.hmtx.widths[C]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+F+" 0 R/BaseFont/"+Ef(o.fontName)+"/FontDescriptor "+D+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,A=s.y,c=s.options||{},u=s.mutex||{},f=u.pdfEscape,p=u.activeFontKey,I=u.fonts,F=p,D="",C=0,k="",U=I[F].encoding;if(I[F].encoding!=="Identity-H")return{text:o,x:l,y:A,options:c,mutex:u};for(k=o,F=p,Array.isArray(o)&&(k=o[0]),C=0;C<k.length;C+=1)I[F].metadata.hasOwnProperty("cmap")&&(a=I[F].metadata.cmap.unicode.codeMap[k[C].charCodeAt(0)]),a||k[C].charCodeAt(0)<256&&I[F].metadata.hasOwnProperty("Unicode")?D+=k[C]:D+="";var Q="";return parseInt(F.slice(1))<14||U==="WinAnsiEncoding"?Q=f(D,F).split("").map(function(V){return V.charCodeAt(0).toString(16)}).join(""):U==="Identity-H"&&(Q=t(D,I[F])),u.isHex=!0,{text:Q,x:l,y:A,options:c,mutex:u}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var A=0;for(A=0;A<a.length;A+=1)Array.isArray(a[A])&&a[A].length===3?o.push([i(Object.assign({},l,{text:a[A][0]})).text,a[A][1],a[A][2]]):o.push(i(Object.assign({},l,{text:a[A]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(wt),function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(wt.API),function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var i,s,a,o,l,A,c,u=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],I={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},F={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},D=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),k=!1,U=0;this.__bidiEngine__={};var Q=function(H){var te=H.charCodeAt(),ue=te>>8,oe=F[ue];return oe!==void 0?u[256*oe+(255&te)]:ue===252||ue===253?"AL":C.test(ue)?"L":ue===8?"R":"N"},V=function(H){for(var te,ue=0;ue<H.length;ue++){if((te=Q(H.charAt(ue)))==="L")return!1;if(te==="R")return!0}return!1},Z=function(H,te,ue,oe){var re,J,O,j,T=te[oe];switch(T){case"L":case"R":k=!1;break;case"N":case"AN":break;case"EN":k&&(T="AN");break;case"AL":k=!0,T="R";break;case"WS":T="N";break;case"CS":oe<1||oe+1>=te.length||(re=ue[oe-1])!=="EN"&&re!=="AN"||(J=te[oe+1])!=="EN"&&J!=="AN"?T="N":k&&(J="AN"),T=J===re?J:"N";break;case"ES":T=(re=oe>0?ue[oe-1]:"B")==="EN"&&oe+1<te.length&&te[oe+1]==="EN"?"EN":"N";break;case"ET":if(oe>0&&ue[oe-1]==="EN"){T="EN";break}if(k){T="N";break}for(O=oe+1,j=te.length;O<j&&te[O]==="ET";)O++;T=O<j&&te[O]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(j=te.length,O=oe+1;O<j&&te[O]==="NSM";)O++;if(O<j){var _=H[oe],L=_>=1425&&_<=2303||_===64286;if(re=te[O],L&&(re==="R"||re==="AL")){T="R";break}}}T=oe<1||(re=te[oe-1])==="B"?"N":ue[oe-1];break;case"B":k=!1,i=!0,T=U;break;case"S":s=!0,T="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":k=!1;break;case"BN":T="N"}return T},q=function(H,te,ue){var oe=H.split("");return ue&&G(oe,ue,{hiLevel:U}),oe.reverse(),te&&te.reverse(),oe.join("")},G=function(H,te,ue){var oe,re,J,O,j,T=-1,_=H.length,L=0,v=[],E=U?p:f,x=[];for(k=!1,i=!1,s=!1,re=0;re<_;re++)x[re]=Q(H[re]);for(J=0;J<_;J++){if(j=L,v[J]=Z(H,x,v,J),oe=240&(L=E[j][I[v[J]]]),L&=15,te[J]=O=E[L][5],oe>0)if(oe===16){for(re=T;re<J;re++)te[re]=1;T=-1}else T=-1;if(E[L][6])T===-1&&(T=J);else if(T>-1){for(re=T;re<J;re++)te[re]=O;T=-1}x[J]==="B"&&(te[J]=0),ue.hiLevel|=O}s&&function(g,w,h){for(var y=0;y<h;y++)if(g[y]==="S"){w[y]=U;for(var d=y-1;d>=0&&g[d]==="WS";d--)w[d]=U}}(x,te,_)},Y=function(H,te,ue,oe,re){if(!(re.hiLevel<H)){if(H===1&&U===1&&!i)return te.reverse(),void(ue&&ue.reverse());for(var J,O,j,T,_=te.length,L=0;L<_;){if(oe[L]>=H){for(j=L+1;j<_&&oe[j]>=H;)j++;for(T=L,O=j-1;T<O;T++,O--)J=te[T],te[T]=te[O],te[O]=J,ue&&(J=ue[T],ue[T]=ue[O],ue[O]=J);L=j}L++}}},K=function(H,te,ue){var oe=H.split(""),re={hiLevel:U};return ue||(ue=[]),G(oe,ue,re),function(J,O,j){if(j.hiLevel!==0&&c)for(var T,_=0;_<J.length;_++)O[_]===1&&(T=D.indexOf(J[_]))>=0&&(J[_]=D[T+1])}(oe,ue,re),Y(2,oe,te,ue,re),Y(1,oe,te,ue,re),oe.join("")};return this.__bidiEngine__.doBidiReorder=function(H,te,ue){if(function(re,J){if(J)for(var O=0;O<re.length;O++)J[O]=O;o===void 0&&(o=V(re)),A===void 0&&(A=V(re))}(H,te),a||!l||A)if(a&&l&&o^A)U=o?1:0,H=q(H,te,ue);else if(!a&&l&&A)U=o?1:0,H=K(H,te,ue),H=q(H,te);else if(!a||o||l||A){if(a&&!l&&o^A)H=q(H,te),o?(U=0,H=K(H,te,ue)):(U=1,H=K(H,te,ue),H=q(H,te));else if(a&&o&&!l&&A)U=1,H=K(H,te,ue),H=q(H,te);else if(!a&&!l&&o^A){var oe=c;o?(U=1,H=K(H,te,ue),U=0,c=!1,H=K(H,te,ue),c=oe):(U=0,H=K(H,te,ue),H=q(H,te),U=1,c=!1,H=K(H,te,ue),c=oe,H=q(H,te))}}else U=0,H=K(H,te,ue);else U=o?1:0,H=K(H,te,ue);return H},this.__bidiEngine__.setOptions=function(H){H&&(a=H.isInputVisual,l=H.isOutputVisual,o=H.isInputRtl,A=H.isOutputRtl,c=H.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([t.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([t.doBidiReorder(i[o])]);n.text=a}else n.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(wt),wt.API.TTFFont=function(){function r(e){var t;if(this.rawData=e,t=this.contents=new mu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new mJ(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new nJ(this.contents),this.head=new sJ(this),this.name=new cJ(this),this.cmap=new OR(this),this.toUnicode={},this.hhea=new aJ(this),this.maxp=new uJ(this),this.hmtx=new dJ(this),this.post=new lJ(this),this.os2=new oJ(this),this.loca=new gJ(this),this.glyf=new hJ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,A;for(A=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],A.push(Math.round(e*this.scaleFactor));return A}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/t)||0;return a*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r}();var Fo,mu=function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,i;for(i=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,i,s,a,o,l;return e=this.readByte(),t=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+l},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)t=e[n],s.push(this.writeByte(t));return s},r}(),nJ=function(){var r;function e(t){var n,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,i,s,a,o,l,A,c,u,f,p,I,F;for(F in p=Object.keys(t).length,l=Math.log(2),u=16*Math.floor(Math.log(p)/l),a=Math.floor(u/l),c=16*p-u,(i=new mu).writeInt(this.scalarType),i.writeShort(p),i.writeShort(u),i.writeShort(a),i.writeShort(c),s=16*p,A=i.pos+s,o=null,I=[],t)for(f=t[F],i.writeString(F),i.writeInt(r(f)),i.writeInt(A),i.writeInt(f.length),I=I.concat(f),F==="head"&&(o=A),A+=f.length;A%4;)I.push(0),A++;return i.write(I),n=2981146554-r(i.data),i.pos=o+8,i.writeUInt32(n),i.data},r=function(t){var n,i,s,a;for(t=jR.call(t);t.length%4;)t.push(0);for(s=new mu(t),i=0,n=0,a=t.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),iJ={}.hasOwnProperty,bl=function(r,e){for(var t in e)iJ.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};Fo=function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r}();var sJ=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return bl(e,Fo),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new mu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),nM=function(){function r(e,t){var n,i,s,a,o,l,A,c,u,f,p,I,F,D,C,k,U;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),u=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),f=p/2,e.pos+=6,s=function(){var Q,V;for(V=[],l=Q=0;0<=f?Q<f:Q>f;l=0<=f?++Q:--Q)V.push(e.readUInt16());return V}(),e.pos+=2,F=function(){var Q,V;for(V=[],l=Q=0;0<=f?Q<f:Q>f;l=0<=f?++Q:--Q)V.push(e.readUInt16());return V}(),A=function(){var Q,V;for(V=[],l=Q=0;0<=f?Q<f:Q>f;l=0<=f?++Q:--Q)V.push(e.readUInt16());return V}(),c=function(){var Q,V;for(V=[],l=Q=0;0<=f?Q<f:Q>f;l=0<=f?++Q:--Q)V.push(e.readUInt16());return V}(),i=(this.length-e.pos+this.offset)/2,o=function(){var Q,V;for(V=[],l=Q=0;0<=i?Q<i:Q>i;l=0<=i?++Q:--Q)V.push(e.readUInt16());return V}(),l=C=0,U=s.length;C<U;l=++C)for(D=s[l],n=k=I=F[l];I<=D?k<=D:k>=D;n=I<=D?++k:--k)c[l]===0?a=n+A[l]:(a=o[c[l]/2+(n-I)-(f-l)]||0)!==0&&(a+=A[l]),this.codeMap[n]=65535&a}e.pos=u}return r.encode=function(e,t){var n,i,s,a,o,l,A,c,u,f,p,I,F,D,C,k,U,Q,V,Z,q,G,Y,K,H,te,ue,oe,re,J,O,j,T,_,L,v,E,x,g,w,h,y,d,M,S,W;switch(oe=new mu,a=Object.keys(e).sort(function($,se){return $-se}),t){case"macroman":for(F=0,D=function(){var $=[];for(I=0;I<256;++I)$.push(0);return $}(),k={0:0},s={},re=0,T=a.length;re<T;re++)k[d=e[i=a[re]]]==null&&(k[d]=++F),s[i]={old:e[i],new:k[e[i]]},D[i]=k[e[i]];return oe.writeUInt16(1),oe.writeUInt16(0),oe.writeUInt32(12),oe.writeUInt16(0),oe.writeUInt16(262),oe.writeUInt16(0),oe.write(D),{charMap:s,subtable:oe.data,maxGlyphID:F+1};case"unicode":for(te=[],u=[],U=0,k={},n={},C=A=null,J=0,_=a.length;J<_;J++)k[V=e[i=a[J]]]==null&&(k[V]=++U),n[i]={old:V,new:k[V]},o=k[V]-i,C!=null&&o===A||(C&&u.push(C),te.push(i),A=o),C=i;for(C&&u.push(C),u.push(65535),te.push(65535),K=2*(Y=te.length),G=2*Math.pow(Math.log(Y)/Math.LN2,2),f=Math.log(G/2)/Math.LN2,q=2*Y-G,l=[],Z=[],p=[],I=O=0,L=te.length;O<L;I=++O){if(H=te[I],c=u[I],H===65535){l.push(0),Z.push(0);break}if(H-(ue=n[H].new)>=32768)for(l.push(0),Z.push(2*(p.length+Y-I)),i=j=H;H<=c?j<=c:j>=c;i=H<=c?++j:--j)p.push(n[i].new);else l.push(ue-H),Z.push(0)}for(oe.writeUInt16(3),oe.writeUInt16(1),oe.writeUInt32(12),oe.writeUInt16(4),oe.writeUInt16(16+8*Y+2*p.length),oe.writeUInt16(0),oe.writeUInt16(K),oe.writeUInt16(G),oe.writeUInt16(f),oe.writeUInt16(q),h=0,v=u.length;h<v;h++)i=u[h],oe.writeUInt16(i);for(oe.writeUInt16(0),y=0,E=te.length;y<E;y++)i=te[y],oe.writeUInt16(i);for(M=0,x=l.length;M<x;M++)o=l[M],oe.writeUInt16(o);for(S=0,g=Z.length;S<g;S++)Q=Z[S],oe.writeUInt16(Q);for(W=0,w=p.length;W<w;W++)F=p[W],oe.writeUInt16(F);return{charMap:n,subtable:oe.data,maxGlyphID:U+1}}},r}(),OR=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return bl(e,Fo),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n=new nM(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var i,s;return n==null&&(n="macroman"),i=nM.encode(t,n),(s=new mu).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),aJ=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return bl(e,Fo),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),oJ=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return bl(e,Fo),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(t.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),lJ=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return bl(e,Fo),e.prototype.tag="post",e.prototype.parse=function(t){var n,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var a;for(i=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)n=t.readByte(),s.push(this.names.push(t.readString(n)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var o,l,A;for(A=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)A.push(t.readUInt32());return A}).call(this)}},e}(),AJ=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},cJ=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return bl(e,Fo),e.prototype.tag="name",e.prototype.parse=function(t){var n,i,s,a,o,l,A,c,u,f,p;for(t.pos=this.offset,t.readShort(),n=t.readShort(),l=t.readShort(),i=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(A={},a=u=0,f=i.length;u<f;a=++u)s=i[a],t.pos=s.offset,c=t.readString(s.length),o=new AJ(c,s),A[p=s.nameID]==null&&(A[p]=[]),A[s.nameID].push(o);this.strings=A,this.copyright=A[0],this.fontFamily=A[1],this.fontSubfamily=A[2],this.uniqueSubfamily=A[3],this.fontName=A[4],this.version=A[5];try{this.postscriptName=A[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=A[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=A[7],this.manufacturer=A[8],this.designer=A[9],this.description=A[10],this.vendorUrl=A[11],this.designerUrl=A[12],this.license=A[13],this.licenseUrl=A[14],this.preferredFamily=A[15],this.preferredSubfamily=A[17],this.compatibleFull=A[18],this.sampleText=A[19]},e}(),uJ=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return bl(e,Fo),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),dJ=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return bl(e,Fo),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,i,s,a,o,l,A;for(t.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],n=c=0;0<=s?c<s:c>s;n=0<=s?++c:--c)u.push(t.readInt16());return u}(),this.widths=(function(){var c,u,f,p;for(p=[],c=0,u=(f=this.metrics).length;c<u;c++)a=f[c],p.push(a.advance);return p}).call(this),i=this.widths[this.widths.length-1],A=[],n=o=0;0<=s?o<s:o>s;n=0<=s?++o:--o)A.push(this.widths.push(i));return A},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),jR=[].slice,hJ=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return bl(e,Fo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,i,s,a,o,l,A,c,u,f;return t in this.cache?this.cache[t]:(a=this.file.loca,n=this.file.contents,i=a.indexOf(t),(s=a.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+i,o=(l=new mu(n.read(s))).readShort(),c=l.readShort(),f=l.readShort(),A=l.readShort(),u=l.readShort(),this.cache[t]=o===-1?new pJ(l,c,f,A,u):new fJ(l,o,c,f,A,u),this.cache[t]))},e.prototype.encode=function(t,n,i){var s,a,o,l,A;for(o=[],a=[],l=0,A=n.length;l<A;l++)s=t[n[l]],a.push(o.length),s&&(o=o.concat(s.encode(i)));return a.push(o.length),{table:o,offsets:a}},e}(),fJ=function(){function r(e,t,n,i,s,a){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r}(),pJ=function(){function r(e,t,n,i,s){var a,o;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new mu(jR.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r}(),gJ=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return bl(e,Fo),e.prototype.tag="loca",e.prototype.parse=function(t){var n,i;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<i.length;++o)if(i[o]=s,a<n.length&&n[a]==o){++a,i[o]=s;var l=this.offsets[o],A=this.offsets[o+1]-l;A>0&&(s+=A)}for(var c=new Array(4*i.length),u=0;u<i.length;++u)c[4*u+3]=255&i[u],c[4*u+2]=(65280&i[u])>>8,c[4*u+1]=(16711680&i[u])>>16,c[4*u]=(4278190080&i[u])>>24;return c},e}(),mJ=function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[t],e[t]=i[n];return e},r.prototype.glyphsFor=function(e){var t,n,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(n=i[s])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(s in l=this.glyphsFor(t))n=l[s],i[s]=n;return i},r.prototype.encode=function(e,t){var n,i,s,a,o,l,A,c,u,f,p,I,F,D,C;for(i in n=OR.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),p={0:0},C=n.charMap)p[(l=C[i]).old]=l.new;for(I in f=n.maxGlyphID,a)I in p||(p[I]=f++);return c=function(k){var U,Q;for(U in Q={},k)Q[k[U]]=U;return Q}(p),u=Object.keys(c).sort(function(k,U){return k-U}),F=function(){var k,U,Q;for(Q=[],k=0,U=u.length;k<U;k++)o=u[k],Q.push(c[o]);return Q}(),s=this.font.glyf.encode(a,F,p),A=this.font.loca.encode(s.offsets,F),D={cmap:this.font.cmap.raw(),glyf:s.table,loca:A,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(D["OS/2"]=this.font.os2.raw()),this.font.directory.encode(D)},r}();wt.API.PDFObject=function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,i,s,a;if(Array.isArray(t))return"["+function(){var o,l,A;for(A=[],o=0,l=t.length;o<l;o++)n=t[o],A.push(e.convert(n));return A}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)a=t[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+t},e}();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var H4=function(r,e){return H4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},H4(r,e)};function Eo(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");H4(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var W4=function(){return W4=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},W4.apply(this,arguments)};function qi(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(c){try{A(n.next(c))}catch(u){a(u)}}function l(c){try{A(n.throw(c))}catch(u){a(u)}}function A(c){c.done?s(c.value):i(c.value).then(o,l)}A((n=n.apply(r,[])).next())})}function Mi(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(A){return function(c){return l([A,c])}}function l(A){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(s=A[0]&2?i.return:A[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,A[1])).done)return s;switch(i=0,s&&(A=[A[0]&2,s.value]),A[0]){case 0:case 1:s=A;break;case 4:return t.label++,{value:A[1],done:!1};case 5:t.label++,i=A[1],A=[0];continue;case 7:A=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(A[0]===6||A[0]===2)){t=0;continue}if(A[0]===3&&(!s||A[1]>s[0]&&A[1]<s[3])){t.label=A[1];break}if(A[0]===6&&t.label<s[1]){t.label=s[1],s=A;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(A);break}s[2]&&t.ops.pop(),t.trys.pop();continue}A=e.call(r,t)}catch(c){A=[6,c],i=0}finally{n=s=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}}function Qw(r,e,t){if(arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||e)}var DA=function(){function r(e,t,n,i){this.left=e,this.top=t,this.width=n,this.height=i}return r.prototype.add=function(e,t,n,i){return new r(this.left+e,this.top+t,this.width+n,this.height+i)},r.fromClientRect=function(e,t){return new r(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},r.fromDOMRectList=function(e,t){var n=Array.from(t).find(function(i){return i.width!==0});return n?new r(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):r.EMPTY},r.EMPTY=new r(0,0,0,0),r}(),Fx=function(r,e){return DA.fromClientRect(r,e.getBoundingClientRect())},yJ=function(r){var e=r.body,t=r.documentElement;if(!e||!t)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),i=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new DA(0,0,n,i)},Ex=function(r){for(var e=[],t=0,n=r.length;t<n;){var i=r.charCodeAt(t++);if(i>=55296&&i<=56319&&t<n){var s=r.charCodeAt(t++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},tn=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],i=-1,s="";++i<t;){var a=r[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===t||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},iM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wJ=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ow=0;Ow<iM.length;Ow++)wJ[iM.charCodeAt(Ow)]=Ow;var sM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var jw=0;jw<sM.length;jw++)c0[sM.charCodeAt(jw)]=jw;var vJ=function(r){var e=r.length*.75,t=r.length,n,i=0,s,a,o,l;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),c=Array.isArray(A)?A:new Uint8Array(A);for(n=0;n<t;n+=4)s=c0[r.charCodeAt(n)],a=c0[r.charCodeAt(n+1)],o=c0[r.charCodeAt(n+2)],l=c0[r.charCodeAt(n+3)],c[i++]=s<<2|a>>4,c[i++]=(a&15)<<4|o>>2,c[i++]=(o&3)<<6|l&63;return A},bJ=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},BJ=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},hh=5,nL=11,kI=2,xJ=nL-hh,HR=65536>>hh,IJ=1<<hh,MI=IJ-1,CJ=1024>>hh,SJ=HR+CJ,FJ=SJ,EJ=32,LJ=FJ+EJ,NJ=65536>>nL,kJ=1<<xJ,MJ=kJ-1,aM=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},DJ=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},_J=function(r,e){var t=vJ(r),n=Array.isArray(t)?BJ(t):new Uint32Array(t),i=Array.isArray(t)?bJ(t):new Uint16Array(t),s=24,a=aM(i,s/2,n[4]/2),o=n[5]===2?aM(i,(s+n[4])/2):DJ(n,Math.ceil((s+n[4])/4));return new UJ(n[0],n[1],n[2],n[3],a,o)},UJ=function(){function r(e,t,n,i,s,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>hh],t=(t<<kI)+(e&MI),this.data[t];if(e<=65535)return t=this.index[HR+(e-55296>>hh)],t=(t<<kI)+(e&MI),this.data[t];if(e<this.highStart)return t=LJ-NJ+(e>>nL),t=this.index[t],t+=e>>hh&MJ,t=this.index[t],t=(t<<kI)+(e&MI),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r}(),oM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",PJ=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Hw=0;Hw<oM.length;Hw++)PJ[oM.charCodeAt(Hw)]=Hw;var TJ="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",lM=50,RJ=1,WR=2,KR=3,QJ=4,OJ=5,AM=7,GR=8,cM=9,qc=10,K4=11,uM=12,G4=13,jJ=14,u0=15,$4=16,Ww=17,Sm=18,HJ=19,dM=20,z4=21,Fm=22,DI=23,hf=24,Ms=25,d0=26,h0=27,ff=28,WJ=29,Vu=30,KJ=31,Kw=32,Gw=33,V4=34,q4=35,Y4=36,c1=37,X4=38,sb=39,ab=40,_I=41,$R=42,GJ=43,$J=[9001,65288],zR="!",Ot="×",$w="÷",J4=_J(TJ),Ul=[Vu,Y4],Z4=[RJ,WR,KR,OJ],VR=[qc,GR],hM=[h0,d0],zJ=Z4.concat(VR),fM=[X4,sb,ab,V4,q4],VJ=[u0,G4],qJ=function(r,e){e===void 0&&(e="strict");var t=[],n=[],i=[];return r.forEach(function(s,a){var o=J4.get(s);if(o>lM?(i.push(!0),o-=lM):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(a),t.push($4);if(o===QJ||o===K4){if(a===0)return n.push(a),t.push(Vu);var l=t[a-1];return zJ.indexOf(l)===-1?(n.push(n[a-1]),t.push(l)):(n.push(a),t.push(Vu))}if(n.push(a),o===KJ)return t.push(e==="strict"?z4:c1);if(o===$R||o===WJ)return t.push(Vu);if(o===GJ)return s>=131072&&s<=196605||s>=196608&&s<=262141?t.push(c1):t.push(Vu);t.push(o)}),[n,t,i]},UI=function(r,e,t,n){var i=n[t];if(Array.isArray(r)?r.indexOf(i)!==-1:r===i)for(var s=t;s<=n.length;){s++;var a=n[s];if(a===e)return!0;if(a!==qc)break}if(i===qc)for(var s=t;s>0;){s--;var o=n[s];if(Array.isArray(r)?r.indexOf(o)!==-1:r===o)for(var l=t;l<=n.length;){l++;var a=n[l];if(a===e)return!0;if(a!==qc)break}if(o!==qc)break}return!1},pM=function(r,e){for(var t=r;t>=0;){var n=e[t];if(n===qc)t--;else return n}return 0},YJ=function(r,e,t,n,i){if(t[n]===0)return Ot;var s=n-1;if(Array.isArray(i)&&i[s]===!0)return Ot;var a=s-1,o=s+1,l=e[s],A=a>=0?e[a]:0,c=e[o];if(l===WR&&c===KR)return Ot;if(Z4.indexOf(l)!==-1)return zR;if(Z4.indexOf(c)!==-1||VR.indexOf(c)!==-1)return Ot;if(pM(s,e)===GR)return $w;if(J4.get(r[s])===K4||(l===Kw||l===Gw)&&J4.get(r[o])===K4||l===AM||c===AM||l===cM||[qc,G4,u0].indexOf(l)===-1&&c===cM||[Ww,Sm,HJ,hf,ff].indexOf(c)!==-1||pM(s,e)===Fm||UI(DI,Fm,s,e)||UI([Ww,Sm],z4,s,e)||UI(uM,uM,s,e))return Ot;if(l===qc)return $w;if(l===DI||c===DI)return Ot;if(c===$4||l===$4)return $w;if([G4,u0,z4].indexOf(c)!==-1||l===jJ||A===Y4&&VJ.indexOf(l)!==-1||l===ff&&c===Y4||c===dM||Ul.indexOf(c)!==-1&&l===Ms||Ul.indexOf(l)!==-1&&c===Ms||l===h0&&[c1,Kw,Gw].indexOf(c)!==-1||[c1,Kw,Gw].indexOf(l)!==-1&&c===d0||Ul.indexOf(l)!==-1&&hM.indexOf(c)!==-1||hM.indexOf(l)!==-1&&Ul.indexOf(c)!==-1||[h0,d0].indexOf(l)!==-1&&(c===Ms||[Fm,u0].indexOf(c)!==-1&&e[o+1]===Ms)||[Fm,u0].indexOf(l)!==-1&&c===Ms||l===Ms&&[Ms,ff,hf].indexOf(c)!==-1)return Ot;if([Ms,ff,hf,Ww,Sm].indexOf(c)!==-1)for(var u=s;u>=0;){var f=e[u];if(f===Ms)return Ot;if([ff,hf].indexOf(f)!==-1)u--;else break}if([h0,d0].indexOf(c)!==-1)for(var u=[Ww,Sm].indexOf(l)!==-1?a:s;u>=0;){var f=e[u];if(f===Ms)return Ot;if([ff,hf].indexOf(f)!==-1)u--;else break}if(X4===l&&[X4,sb,V4,q4].indexOf(c)!==-1||[sb,V4].indexOf(l)!==-1&&[sb,ab].indexOf(c)!==-1||[ab,q4].indexOf(l)!==-1&&c===ab||fM.indexOf(l)!==-1&&[dM,d0].indexOf(c)!==-1||fM.indexOf(c)!==-1&&l===h0||Ul.indexOf(l)!==-1&&Ul.indexOf(c)!==-1||l===hf&&Ul.indexOf(c)!==-1||Ul.concat(Ms).indexOf(l)!==-1&&c===Fm&&$J.indexOf(r[o])===-1||Ul.concat(Ms).indexOf(c)!==-1&&l===Sm)return Ot;if(l===_I&&c===_I){for(var p=t[s],I=1;p>0&&(p--,e[p]===_I);)I++;if(I%2!==0)return Ot}return l===Kw&&c===Gw?Ot:$w},XJ=function(r,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=qJ(r,e.lineBreak),n=t[0],i=t[1],s=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(o){return[Ms,Vu,$R].indexOf(o)!==-1?c1:o}));var a=e.wordBreak==="keep-all"?s.map(function(o,l){return o&&r[l]>=19968&&r[l]<=40959}):void 0;return[n,i,a]},JJ=function(){function r(e,t,n,i){this.codePoints=e,this.required=t===zR,this.start=n,this.end=i}return r.prototype.slice=function(){return tn.apply(void 0,this.codePoints.slice(this.start,this.end))},r}(),ZJ=function(r,e){var t=Ex(r),n=XJ(t,e),i=n[0],s=n[1],a=n[2],o=t.length,l=0,A=0;return{next:function(){if(A>=o)return{done:!0,value:null};for(var c=Ot;A<o&&(c=YJ(t,s,i,++A,a))===Ot;);if(c!==Ot||A===o){var u=new JJ(t,c,l,A);return l=A,{value:u,done:!1}}return{done:!0,value:null}}}},eZ=1,tZ=2,hy=4,gM=8,nB=10,mM=47,N0=92,rZ=9,nZ=32,zw=34,Em=61,iZ=35,sZ=36,aZ=37,Vw=39,qw=40,Lm=41,oZ=95,vs=45,lZ=33,AZ=60,cZ=62,uZ=64,dZ=91,hZ=93,fZ=61,pZ=123,Yw=63,gZ=125,yM=124,mZ=126,yZ=128,wM=65533,PI=42,ed=43,wZ=44,vZ=58,bZ=59,u1=46,BZ=0,xZ=8,IZ=11,CZ=14,SZ=31,FZ=127,jo=-1,qR=48,YR=97,XR=101,EZ=102,LZ=117,NZ=122,JR=65,ZR=69,eQ=70,kZ=85,MZ=90,_i=function(r){return r>=qR&&r<=57},DZ=function(r){return r>=55296&&r<=57343},pf=function(r){return _i(r)||r>=JR&&r<=eQ||r>=YR&&r<=EZ},_Z=function(r){return r>=YR&&r<=NZ},UZ=function(r){return r>=JR&&r<=MZ},PZ=function(r){return _Z(r)||UZ(r)},TZ=function(r){return r>=yZ},Xw=function(r){return r===nB||r===rZ||r===nZ},iB=function(r){return PZ(r)||TZ(r)||r===oZ},vM=function(r){return iB(r)||_i(r)||r===vs},RZ=function(r){return r>=BZ&&r<=xZ||r===IZ||r>=CZ&&r<=SZ||r===FZ},sc=function(r,e){return r!==N0?!1:e!==nB},Jw=function(r,e,t){return r===vs?iB(e)||sc(e,t):iB(r)?!0:!!(r===N0&&sc(r,e))},TI=function(r,e,t){return r===ed||r===vs?_i(e)?!0:e===u1&&_i(t):_i(r===u1?e:r)},QZ=function(r){var e=0,t=1;(r[e]===ed||r[e]===vs)&&(r[e]===vs&&(t=-1),e++);for(var n=[];_i(r[e]);)n.push(r[e++]);var i=n.length?parseInt(tn.apply(void 0,n),10):0;r[e]===u1&&e++;for(var s=[];_i(r[e]);)s.push(r[e++]);var a=s.length,o=a?parseInt(tn.apply(void 0,s),10):0;(r[e]===ZR||r[e]===XR)&&e++;var l=1;(r[e]===ed||r[e]===vs)&&(r[e]===vs&&(l=-1),e++);for(var A=[];_i(r[e]);)A.push(r[e++]);var c=A.length?parseInt(tn.apply(void 0,A),10):0;return t*(i+o*Math.pow(10,-a))*Math.pow(10,l*c)},OZ={type:2},jZ={type:3},HZ={type:4},WZ={type:13},KZ={type:8},GZ={type:21},$Z={type:9},zZ={type:10},VZ={type:11},qZ={type:12},YZ={type:14},Zw={type:23},XZ={type:1},JZ={type:25},ZZ={type:24},eee={type:26},tee={type:27},ree={type:28},nee={type:29},iee={type:31},eF={type:32},tQ=function(){function r(){this._value=[]}return r.prototype.write=function(e){this._value=this._value.concat(Ex(e))},r.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==eF;)e.push(t),t=this.consumeToken();return e},r.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case zw:return this.consumeStringToken(zw);case iZ:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(vM(t)||sc(n,i)){var s=Jw(t,n,i)?tZ:eZ,a=this.consumeName();return{type:5,value:a,flags:s}}break;case sZ:if(this.peekCodePoint(0)===Em)return this.consumeCodePoint(),WZ;break;case Vw:return this.consumeStringToken(Vw);case qw:return OZ;case Lm:return jZ;case PI:if(this.peekCodePoint(0)===Em)return this.consumeCodePoint(),YZ;break;case ed:if(TI(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case wZ:return HZ;case vs:var o=e,l=this.peekCodePoint(0),A=this.peekCodePoint(1);if(TI(o,l,A))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Jw(o,l,A))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===vs&&A===cZ)return this.consumeCodePoint(),this.consumeCodePoint(),ZZ;break;case u1:if(TI(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case mM:if(this.peekCodePoint(0)===PI)for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(c===PI&&(c=this.consumeCodePoint(),c===mM))return this.consumeToken();if(c===jo)return this.consumeToken()}break;case vZ:return eee;case bZ:return tee;case AZ:if(this.peekCodePoint(0)===lZ&&this.peekCodePoint(1)===vs&&this.peekCodePoint(2)===vs)return this.consumeCodePoint(),this.consumeCodePoint(),JZ;break;case uZ:var u=this.peekCodePoint(0),f=this.peekCodePoint(1),p=this.peekCodePoint(2);if(Jw(u,f,p)){var a=this.consumeName();return{type:7,value:a}}break;case dZ:return ree;case N0:if(sc(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case hZ:return nee;case fZ:if(this.peekCodePoint(0)===Em)return this.consumeCodePoint(),KZ;break;case pZ:return VZ;case gZ:return qZ;case LZ:case kZ:var I=this.peekCodePoint(0),F=this.peekCodePoint(1);return I===ed&&(pf(F)||F===Yw)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case yM:if(this.peekCodePoint(0)===Em)return this.consumeCodePoint(),$Z;if(this.peekCodePoint(0)===yM)return this.consumeCodePoint(),GZ;break;case mZ:if(this.peekCodePoint(0)===Em)return this.consumeCodePoint(),zZ;break;case jo:return eF}return Xw(e)?(this.consumeWhiteSpace(),iee):_i(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):iB(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:tn(e)}},r.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},r.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},r.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},r.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();pf(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===Yw&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(tn.apply(void 0,e.map(function(l){return l===Yw?qR:l})),16),s=parseInt(tn.apply(void 0,e.map(function(l){return l===Yw?eQ:l})),16);return{type:30,start:i,end:s}}var a=parseInt(tn.apply(void 0,e),16);if(this.peekCodePoint(0)===vs&&pf(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var o=[];pf(t)&&o.length<6;)o.push(t),t=this.consumeCodePoint();var s=parseInt(tn.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},r.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===qw?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===qw?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},r.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===jo)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===Vw||t===zw){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===jo||this.peekCodePoint(0)===Lm)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Zw)}for(;;){var i=this.consumeCodePoint();if(i===jo||i===Lm)return{type:22,value:tn.apply(void 0,e)};if(Xw(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===jo||this.peekCodePoint(0)===Lm?(this.consumeCodePoint(),{type:22,value:tn.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Zw);if(i===zw||i===Vw||i===qw||RZ(i))return this.consumeBadUrlRemnants(),Zw;if(i===N0)if(sc(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Zw;else e.push(i)}},r.prototype.consumeWhiteSpace=function(){for(;Xw(this.peekCodePoint(0));)this.consumeCodePoint()},r.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Lm||e===jo)return;sc(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},r.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var i=Math.min(t,e);n+=tn.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},r.prototype.consumeStringToken=function(e){var t="",n=0;do{var i=this._value[n];if(i===jo||i===void 0||i===e)return t+=this.consumeStringSlice(n),{type:0,value:t};if(i===nB)return this._value.splice(0,n),XZ;if(i===N0){var s=this._value[n+1];s!==jo&&s!==void 0&&(s===nB?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):sc(i,s)&&(t+=this.consumeStringSlice(n),t+=tn(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},r.prototype.consumeNumber=function(){var e=[],t=hy,n=this.peekCodePoint(0);for((n===ed||n===vs)&&e.push(this.consumeCodePoint());_i(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===u1&&_i(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=gM;_i(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===ZR||n===XR)&&((i===ed||i===vs)&&_i(s)||_i(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=gM;_i(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[QZ(e),t]},r.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(Jw(i,s,a)){var o=this.consumeName();return{type:15,number:t,flags:n,unit:o}}return i===aZ?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},r.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(pf(e)){for(var t=tn(e);pf(this.peekCodePoint(0))&&t.length<6;)t+=tn(this.consumeCodePoint());Xw(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return n===0||DZ(n)||n>1114111?wM:n}return e===jo?wM:e},r.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(vM(t))e+=tn(t);else if(sc(t,this.peekCodePoint(0)))e+=tn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},r}(),rQ=function(){function r(e){this._tokens=e}return r.create=function(e){var t=new tQ;return t.write(e),new r(t.read())},r.parseValue=function(e){return r.create(e).parseComponentValue()},r.parseValues=function(e){return r.create(e).parseComponentValues()},r.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},r.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},r.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},r.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||aee(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},r.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},r.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?eF:e},r.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},r}(),fy=function(r){return r.type===15},Ng=function(r){return r.type===17},fr=function(r){return r.type===20},see=function(r){return r.type===0},tF=function(r,e){return fr(r)&&r.value===e},nQ=function(r){return r.type!==31},bg=function(r){return r.type!==31&&r.type!==4},Bl=function(r){var e=[],t=[];return r.forEach(function(n){if(n.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}n.type!==31&&t.push(n)}),t.length&&e.push(t),e},aee=function(r,e){return e===11&&r.type===12||e===28&&r.type===29?!0:e===2&&r.type===3},yu=function(r){return r.type===17||r.type===15},pn=function(r){return r.type===16||yu(r)},iQ=function(r){return r.length>1?[r[0],r[1]]:[r[0]]},fi={type:17,number:0,flags:hy},iL={type:16,number:50,flags:hy},Yc={type:16,number:100,flags:hy},f0=function(r,e,t){var n=r[0],i=r[1];return[Cr(n,e),Cr(typeof i<"u"?i:n,t)]},Cr=function(r,e){if(r.type===16)return r.number/100*e;if(fy(r))switch(r.unit){case"rem":case"em":return 16*r.number;case"px":default:return r.number}return r.number},sQ="deg",aQ="grad",oQ="rad",lQ="turn",Lx={name:"angle",parse:function(r,e){if(e.type===15)switch(e.unit){case sQ:return Math.PI*e.number/180;case aQ:return Math.PI/200*e.number;case oQ:return e.number;case lQ:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},AQ=function(r){return r.type===15&&(r.unit===sQ||r.unit===aQ||r.unit===oQ||r.unit===lQ)},cQ=function(r){var e=r.filter(fr).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[fi,fi];case"to top":case"bottom":return Da(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[fi,Yc];case"to right":case"left":return Da(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Yc,Yc];case"to bottom":case"top":return Da(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Yc,fi];case"to left":case"right":return Da(270)}return 0},Da=function(r){return Math.PI*r/180},Au={name:"color",parse:function(r,e){if(e.type===18){var t=oee[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(r,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return Xc(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return Xc(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return Xc(parseInt(n,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return Xc(parseInt(n,16),parseInt(i,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var o=CA[e.value.toUpperCase()];if(typeof o<"u")return o}return CA.TRANSPARENT}},cu=function(r){return(255&r)===0},Rn=function(r){var e=255&r,t=255&r>>8,n=255&r>>16,i=255&r>>24;return e<255?"rgba("+i+","+n+","+t+","+e/255+")":"rgb("+i+","+n+","+t+")"},Xc=function(r,e,t,n){return(r<<24|e<<16|t<<8|Math.round(n*255)<<0)>>>0},bM=function(r,e){if(r.type===17)return r.number;if(r.type===16){var t=e===3?1:255;return e===3?r.number/100*t:Math.round(r.number/100*t)}return 0},BM=function(r,e){var t=e.filter(bg);if(t.length===3){var n=t.map(bM),i=n[0],s=n[1],a=n[2];return Xc(i,s,a,1)}if(t.length===4){var o=t.map(bM),i=o[0],s=o[1],a=o[2],l=o[3];return Xc(i,s,a,l)}return 0};function RI(r,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-r)*t*6+r:t<1/2?e:t<2/3?(e-r)*6*(2/3-t)+r:r}var xM=function(r,e){var t=e.filter(bg),n=t[0],i=t[1],s=t[2],a=t[3],o=(n.type===17?Da(n.number):Lx.parse(r,n))/(Math.PI*2),l=pn(i)?i.number/100:0,A=pn(s)?s.number/100:0,c=typeof a<"u"&&pn(a)?Cr(a,1):1;if(l===0)return Xc(A*255,A*255,A*255,1);var u=A<=.5?A*(l+1):A+l-A*l,f=A*2-u,p=RI(f,u,o+1/3),I=RI(f,u,o),F=RI(f,u,o-1/3);return Xc(p*255,I*255,F*255,c)},oee={hsl:xM,hsla:xM,rgb:BM,rgba:BM},k0=function(r,e){return Au.parse(r,rQ.create(e).parseComponentValue())},CA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},lee={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(fr(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Aee={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Nx=function(r,e){var t=Au.parse(r,e[0]),n=e[1];return n&&pn(n)?{color:t,stop:n}:{color:t,stop:null}},IM=function(r,e){var t=r[0],n=r[r.length-1];t.stop===null&&(t.stop=fi),n.stop===null&&(n.stop=Yc);for(var i=[],s=0,a=0;a<r.length;a++){var o=r[a].stop;if(o!==null){var l=Cr(o,e);l>s?i.push(l):i.push(s),s=l}else i.push(null)}for(var A=null,a=0;a<i.length;a++){var c=i[a];if(c===null)A===null&&(A=a);else if(A!==null){for(var u=a-A,f=i[A-1],p=(c-f)/(u+1),I=1;I<=u;I++)i[A+I-1]=p*I;A=null}}return r.map(function(F,D){var C=F.color;return{color:C,stop:Math.max(Math.min(1,i[D]/e),0)}})},cee=function(r,e,t){var n=e/2,i=t/2,s=Cr(r[0],e)-n,a=i-Cr(r[1],t);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},uee=function(r,e,t){var n=typeof r=="number"?r:cee(r,e,t),i=Math.abs(e*Math.sin(n))+Math.abs(t*Math.cos(n)),s=e/2,a=t/2,o=i/2,l=Math.sin(n-Math.PI/2)*o,A=Math.cos(n-Math.PI/2)*o;return[i,s-A,s+A,a-l,a+l]},Ja=function(r,e){return Math.sqrt(r*r+e*e)},CM=function(r,e,t,n,i){var s=[[0,0],[0,e],[r,0],[r,e]];return s.reduce(function(a,o){var l=o[0],A=o[1],c=Ja(t-l,n-A);return(i?c<a.optimumDistance:c>a.optimumDistance)?{optimumCorner:o,optimumDistance:c}:a},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},dee=function(r,e,t,n,i){var s=0,a=0;switch(r.size){case 0:r.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-i)):r.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),a=Math.min(Math.abs(t),Math.abs(t-i)));break;case 2:if(r.shape===0)s=a=Math.min(Ja(e,t),Ja(e,t-i),Ja(e-n,t),Ja(e-n,t-i));else if(r.shape===1){var o=Math.min(Math.abs(t),Math.abs(t-i))/Math.min(Math.abs(e),Math.abs(e-n)),l=CM(n,i,e,t,!0),A=l[0],c=l[1];s=Ja(A-e,(c-t)/o),a=o*s}break;case 1:r.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-i)):r.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),a=Math.max(Math.abs(t),Math.abs(t-i)));break;case 3:if(r.shape===0)s=a=Math.max(Ja(e,t),Ja(e,t-i),Ja(e-n,t),Ja(e-n,t-i));else if(r.shape===1){var o=Math.max(Math.abs(t),Math.abs(t-i))/Math.max(Math.abs(e),Math.abs(e-n)),u=CM(n,i,e,t,!1),A=u[0],c=u[1];s=Ja(A-e,(c-t)/o),a=o*s}break}return Array.isArray(r.size)&&(s=Cr(r.size[0],n),a=r.size.length===2?Cr(r.size[1],i):s),[s,a]},hee=function(r,e){var t=Da(180),n=[];return Bl(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&a.value==="to"){t=cQ(i);return}else if(AQ(a)){t=Lx.parse(r,a);return}}var o=Nx(r,i);n.push(o)}),{angle:t,stops:n,type:1}},ev=function(r,e){var t=Da(180),n=[];return Bl(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){t=cQ(i);return}else if(AQ(a)){t=(Lx.parse(r,a)+Da(270))%Da(360);return}}var o=Nx(r,i);n.push(o)}),{angle:t,stops:n,type:1}},fee=function(r,e){var t=Da(180),n=[],i=1,s=0,a=3,o=[];return Bl(e).forEach(function(l,A){var c=l[0];if(A===0){if(fr(c)&&c.value==="linear"){i=1;return}else if(fr(c)&&c.value==="radial"){i=2;return}}if(c.type===18){if(c.name==="from"){var u=Au.parse(r,c.values[0]);n.push({stop:fi,color:u})}else if(c.name==="to"){var u=Au.parse(r,c.values[0]);n.push({stop:Yc,color:u})}else if(c.name==="color-stop"){var f=c.values.filter(bg);if(f.length===2){var u=Au.parse(r,f[1]),p=f[0];Ng(p)&&n.push({stop:{type:16,number:p.number*100,flags:p.flags},color:u})}}}}),i===1?{angle:(t+Da(180))%Da(360),stops:n,type:i}:{size:a,shape:s,stops:n,position:o,type:i}},uQ="closest-side",dQ="farthest-side",hQ="closest-corner",fQ="farthest-corner",pQ="circle",gQ="ellipse",mQ="cover",yQ="contain",pee=function(r,e){var t=0,n=3,i=[],s=[];return Bl(e).forEach(function(a,o){var l=!0;if(o===0){var A=!1;l=a.reduce(function(u,f){if(A)if(fr(f))switch(f.value){case"center":return s.push(iL),u;case"top":case"left":return s.push(fi),u;case"right":case"bottom":return s.push(Yc),u}else(pn(f)||yu(f))&&s.push(f);else if(fr(f))switch(f.value){case pQ:return t=0,!1;case gQ:return t=1,!1;case"at":return A=!0,!1;case uQ:return n=0,!1;case mQ:case dQ:return n=1,!1;case yQ:case hQ:return n=2,!1;case fQ:return n=3,!1}else if(yu(f)||pn(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return u},l)}if(l){var c=Nx(r,a);i.push(c)}}),{size:n,shape:t,stops:i,position:s,type:2}},tv=function(r,e){var t=0,n=3,i=[],s=[];return Bl(e).forEach(function(a,o){var l=!0;if(o===0?l=a.reduce(function(c,u){if(fr(u))switch(u.value){case"center":return s.push(iL),!1;case"top":case"left":return s.push(fi),!1;case"right":case"bottom":return s.push(Yc),!1}else if(pn(u)||yu(u))return s.push(u),!1;return c},l):o===1&&(l=a.reduce(function(c,u){if(fr(u))switch(u.value){case pQ:return t=0,!1;case gQ:return t=1,!1;case yQ:case uQ:return n=0,!1;case dQ:return n=1,!1;case hQ:return n=2,!1;case mQ:case fQ:return n=3,!1}else if(yu(u)||pn(u))return Array.isArray(n)||(n=[]),n.push(u),!1;return c},l)),l){var A=Nx(r,a);i.push(A)}}),{size:n,shape:t,stops:i,position:s,type:2}},gee=function(r){return r.type===1},mee=function(r){return r.type===2},sL={name:"image",parse:function(r,e){if(e.type===22){var t={url:e.value,type:0};return r.cache.addImage(e.value),t}if(e.type===18){var n=wQ[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(r,e.values)}throw new Error("Unsupported image type "+e.type)}};function yee(r){return!(r.type===20&&r.value==="none")&&(r.type!==18||!!wQ[r.name])}var wQ={"linear-gradient":hee,"-moz-linear-gradient":ev,"-ms-linear-gradient":ev,"-o-linear-gradient":ev,"-webkit-linear-gradient":ev,"radial-gradient":pee,"-moz-radial-gradient":tv,"-ms-radial-gradient":tv,"-o-radial-gradient":tv,"-webkit-radial-gradient":tv,"-webkit-gradient":fee},wee={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(n){return bg(n)&&yee(n)}).map(function(n){return sL.parse(r,n)})}},vee={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(fr(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},bee={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(r,e){return Bl(e).map(function(t){return t.filter(pn)}).map(iQ)}},Bee={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(r,e){return Bl(e).map(function(t){return t.filter(fr).map(function(n){return n.value}).join(" ")}).map(xee)}},xee=function(r){switch(r){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},sp;(function(r){r.AUTO="auto",r.CONTAIN="contain",r.COVER="cover"})(sp||(sp={}));var Iee={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(r,e){return Bl(e).map(function(t){return t.filter(Cee)})}},Cee=function(r){return fr(r)||pn(r)},kx=function(r){return{name:"border-"+r+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},See=kx("top"),Fee=kx("right"),Eee=kx("bottom"),Lee=kx("left"),Mx=function(r){return{name:"border-radius-"+r,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return iQ(t.filter(pn))}}},Nee=Mx("top-left"),kee=Mx("top-right"),Mee=Mx("bottom-right"),Dee=Mx("bottom-left"),Dx=function(r){return{name:"border-"+r+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},_ee=Dx("top"),Uee=Dx("right"),Pee=Dx("bottom"),Tee=Dx("left"),_x=function(r){return{name:"border-"+r+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return fy(t)?t.number:0}}},Ree=_x("top"),Qee=_x("right"),Oee=_x("bottom"),jee=_x("left"),Hee={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Wee={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(r,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},Kee={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(r,e){return e.filter(fr).reduce(function(t,n){return t|Gee(n.value)},0)}},Gee=function(r){switch(r){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},$ee={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},zee={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(r,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},sB;(function(r){r.NORMAL="normal",r.STRICT="strict"})(sB||(sB={}));var Vee={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"strict":return sB.STRICT;case"normal":default:return sB.NORMAL}}},qee={name:"line-height",initialValue:"normal",prefix:!1,type:4},SM=function(r,e){return fr(r)&&r.value==="normal"?1.2*e:r.type===17?e*r.number:pn(r)?Cr(r,e):e},Yee={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(r,e){return e.type===20&&e.value==="none"?null:sL.parse(r,e)}},Xee={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(r,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},rF={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Ux=function(r){return{name:"margin-"+r,initialValue:"0",prefix:!1,type:4}},Jee=Ux("top"),Zee=Ux("right"),ete=Ux("bottom"),tte=Ux("left"),rte={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(r,e){return e.filter(fr).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},nte={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Px=function(r){return{name:"padding-"+r,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},ite=Px("top"),ste=Px("right"),ate=Px("bottom"),ote=Px("left"),lte={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(r,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Ate={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(r,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},cte={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&tF(e[0],"none")?[]:Bl(e).map(function(t){for(var n={color:CA.TRANSPARENT,offsetX:fi,offsetY:fi,blur:fi},i=0,s=0;s<t.length;s++){var a=t[s];yu(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:n.blur=a,i++):n.color=Au.parse(r,a)}return n})}},ute={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},dte={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(r,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=pte[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},hte=function(r){var e=r.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},fte=function(r){var e=r.filter(function(l){return l.type===17}).map(function(l){return l.number}),t=e[0],n=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[t,n,i,s,a,o]:null},pte={matrix:hte,matrix3d:fte},FM={type:16,number:50,flags:hy},gte=[FM,FM],mte={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(r,e){var t=e.filter(pn);return t.length!==2?gte:[t[0],t[1]]}},yte={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},M0;(function(r){r.NORMAL="normal",r.BREAK_ALL="break-all",r.KEEP_ALL="keep-all"})(M0||(M0={}));var wte={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-all":return M0.BREAK_ALL;case"keep-all":return M0.KEEP_ALL;case"normal":default:return M0.NORMAL}}},vte={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(r,e){if(e.type===20)return{auto:!0,order:0};if(Ng(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},vQ={name:"time",parse:function(r,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},bte={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(r,e){return Ng(e)?e.number:1}},Bte={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},xte={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(r,e){return e.filter(fr).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},Ite={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(r,e){var t=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:t.push(i.value);break;case 17:t.push(i.number.toString());break;case 4:n.push(t.join(" ")),t.length=0;break}}),t.length&&n.push(t.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},Cte={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Ste={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(r,e){if(Ng(e))return e.number;if(fr(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},Fte={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.filter(fr).map(function(t){return t.value})}},Ete={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Fn=function(r,e){return(r&e)!==0},Lte={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},Nte={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var n=[],i=e.filter(nQ),s=0;s<i.length;s++){var a=i[s],o=i[s+1];if(a.type===20){var l=o&&Ng(o)?o.number:1;n.push({counter:a.value,increment:l})}}return n}},kte={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return[];for(var t=[],n=e.filter(nQ),i=0;i<n.length;i++){var s=n[i],a=n[i+1];if(fr(s)&&s.value!=="none"){var o=a&&Ng(a)?a.number:0;t.push({counter:s.value,reset:o})}}return t}},Mte={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(r,e){return e.filter(fy).map(function(t){return vQ.parse(r,t)})}},Dte={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var n=[],i=e.filter(see);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var a=i[s].value,o=i[s+1].value;n.push({open:a,close:o})}return n}},EM=function(r,e,t){if(!r)return"";var n=r[Math.min(e,r.length-1)];return n?t?n.open:n.close:""},_te={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&tF(e[0],"none")?[]:Bl(e).map(function(t){for(var n={color:255,offsetX:fi,offsetY:fi,blur:fi,spread:fi,inset:!1},i=0,s=0;s<t.length;s++){var a=t[s];tF(a,"inset")?n.inset=!0:yu(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:i===2?n.blur=a:n.spread=a,i++):n.color=Au.parse(r,a)}return n})}},Ute={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(r,e){var t=[0,1,2],n=[];return e.filter(fr).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),t.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},Pte={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Tte={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(r,e){return fy(e)?e.number:0}},Rte=function(){function r(e,t){var n,i;this.animationDuration=et(e,Mte,t.animationDuration),this.backgroundClip=et(e,lee,t.backgroundClip),this.backgroundColor=et(e,Aee,t.backgroundColor),this.backgroundImage=et(e,wee,t.backgroundImage),this.backgroundOrigin=et(e,vee,t.backgroundOrigin),this.backgroundPosition=et(e,bee,t.backgroundPosition),this.backgroundRepeat=et(e,Bee,t.backgroundRepeat),this.backgroundSize=et(e,Iee,t.backgroundSize),this.borderTopColor=et(e,See,t.borderTopColor),this.borderRightColor=et(e,Fee,t.borderRightColor),this.borderBottomColor=et(e,Eee,t.borderBottomColor),this.borderLeftColor=et(e,Lee,t.borderLeftColor),this.borderTopLeftRadius=et(e,Nee,t.borderTopLeftRadius),this.borderTopRightRadius=et(e,kee,t.borderTopRightRadius),this.borderBottomRightRadius=et(e,Mee,t.borderBottomRightRadius),this.borderBottomLeftRadius=et(e,Dee,t.borderBottomLeftRadius),this.borderTopStyle=et(e,_ee,t.borderTopStyle),this.borderRightStyle=et(e,Uee,t.borderRightStyle),this.borderBottomStyle=et(e,Pee,t.borderBottomStyle),this.borderLeftStyle=et(e,Tee,t.borderLeftStyle),this.borderTopWidth=et(e,Ree,t.borderTopWidth),this.borderRightWidth=et(e,Qee,t.borderRightWidth),this.borderBottomWidth=et(e,Oee,t.borderBottomWidth),this.borderLeftWidth=et(e,jee,t.borderLeftWidth),this.boxShadow=et(e,_te,t.boxShadow),this.color=et(e,Hee,t.color),this.direction=et(e,Wee,t.direction),this.display=et(e,Kee,t.display),this.float=et(e,$ee,t.cssFloat),this.fontFamily=et(e,Ite,t.fontFamily),this.fontSize=et(e,Cte,t.fontSize),this.fontStyle=et(e,Ete,t.fontStyle),this.fontVariant=et(e,Fte,t.fontVariant),this.fontWeight=et(e,Ste,t.fontWeight),this.letterSpacing=et(e,zee,t.letterSpacing),this.lineBreak=et(e,Vee,t.lineBreak),this.lineHeight=et(e,qee,t.lineHeight),this.listStyleImage=et(e,Yee,t.listStyleImage),this.listStylePosition=et(e,Xee,t.listStylePosition),this.listStyleType=et(e,rF,t.listStyleType),this.marginTop=et(e,Jee,t.marginTop),this.marginRight=et(e,Zee,t.marginRight),this.marginBottom=et(e,ete,t.marginBottom),this.marginLeft=et(e,tte,t.marginLeft),this.opacity=et(e,bte,t.opacity);var s=et(e,rte,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=et(e,nte,t.overflowWrap),this.paddingTop=et(e,ite,t.paddingTop),this.paddingRight=et(e,ste,t.paddingRight),this.paddingBottom=et(e,ate,t.paddingBottom),this.paddingLeft=et(e,ote,t.paddingLeft),this.paintOrder=et(e,Ute,t.paintOrder),this.position=et(e,Ate,t.position),this.textAlign=et(e,lte,t.textAlign),this.textDecorationColor=et(e,Bte,(n=t.textDecorationColor)!==null&&n!==void 0?n:t.color),this.textDecorationLine=et(e,xte,(i=t.textDecorationLine)!==null&&i!==void 0?i:t.textDecoration),this.textShadow=et(e,cte,t.textShadow),this.textTransform=et(e,ute,t.textTransform),this.transform=et(e,dte,t.transform),this.transformOrigin=et(e,mte,t.transformOrigin),this.visibility=et(e,yte,t.visibility),this.webkitTextStrokeColor=et(e,Pte,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=et(e,Tte,t.webkitTextStrokeWidth),this.wordBreak=et(e,wte,t.wordBreak),this.zIndex=et(e,vte,t.zIndex)}return r.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},r.prototype.isTransparent=function(){return cu(this.backgroundColor)},r.prototype.isTransformed=function(){return this.transform!==null},r.prototype.isPositioned=function(){return this.position!==0},r.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},r.prototype.isFloating=function(){return this.float!==0},r.prototype.isInlineLevel=function(){return Fn(this.display,4)||Fn(this.display,33554432)||Fn(this.display,268435456)||Fn(this.display,536870912)||Fn(this.display,67108864)||Fn(this.display,134217728)},r}(),Qte=function(){function r(e,t){this.content=et(e,Lte,t.content),this.quotes=et(e,Dte,t.quotes)}return r}(),LM=function(){function r(e,t){this.counterIncrement=et(e,Nte,t.counterIncrement),this.counterReset=et(e,kte,t.counterReset)}return r}(),et=function(r,e,t){var n=new tQ,i=t!==null&&typeof t<"u"?t.toString():e.initialValue;n.write(i);var s=new rQ(n.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(r,fr(a)?a.value:e.initialValue);case 0:return e.parse(r,s.parseComponentValue());case 1:return e.parse(r,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return Lx.parse(r,s.parseComponentValue());case"color":return Au.parse(r,s.parseComponentValue());case"image":return sL.parse(r,s.parseComponentValue());case"length":var o=s.parseComponentValue();return yu(o)?o:fi;case"length-percentage":var l=s.parseComponentValue();return pn(l)?l:fi;case"time":return vQ.parse(r,s.parseComponentValue())}break}},Ote="data-html2canvas-debug",jte=function(r){var e=r.getAttribute(Ote);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},nF=function(r,e){var t=jte(r);return t===1||e===t},xl=function(){function r(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,nF(t,3))debugger;this.styles=new Rte(e,window.getComputedStyle(t,null)),aF(t)&&(this.styles.animationDuration.some(function(n){return n>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=Fx(this.context,t),nF(t,4)&&(this.flags|=16)}return r}(),Hte="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",NM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var rv=0;rv<NM.length;rv++)p0[NM.charCodeAt(rv)]=rv;var Wte=function(r){var e=r.length*.75,t=r.length,n,i=0,s,a,o,l;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),c=Array.isArray(A)?A:new Uint8Array(A);for(n=0;n<t;n+=4)s=p0[r.charCodeAt(n)],a=p0[r.charCodeAt(n+1)],o=p0[r.charCodeAt(n+2)],l=p0[r.charCodeAt(n+3)],c[i++]=s<<2|a>>4,c[i++]=(a&15)<<4|o>>2,c[i++]=(o&3)<<6|l&63;return A},Kte=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},Gte=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},fh=5,aL=11,QI=2,$te=aL-fh,bQ=65536>>fh,zte=1<<fh,OI=zte-1,Vte=1024>>fh,qte=bQ+Vte,Yte=qte,Xte=32,Jte=Yte+Xte,Zte=65536>>aL,ere=1<<$te,tre=ere-1,kM=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},rre=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},nre=function(r,e){var t=Wte(r),n=Array.isArray(t)?Gte(t):new Uint32Array(t),i=Array.isArray(t)?Kte(t):new Uint16Array(t),s=24,a=kM(i,s/2,n[4]/2),o=n[5]===2?kM(i,(s+n[4])/2):rre(n,Math.ceil((s+n[4])/4));return new ire(n[0],n[1],n[2],n[3],a,o)},ire=function(){function r(e,t,n,i,s,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>fh],t=(t<<QI)+(e&OI),this.data[t];if(e<=65535)return t=this.index[bQ+(e-55296>>fh)],t=(t<<QI)+(e&OI),this.data[t];if(e<this.highStart)return t=Jte-Zte+(e>>aL),t=this.index[t],t+=e>>fh&tre,t=this.index[t],t=(t<<QI)+(e&OI),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r}(),MM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sre=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var nv=0;nv<MM.length;nv++)sre[MM.charCodeAt(nv)]=nv;var are=1,jI=2,HI=3,DM=4,_M=5,ore=7,UM=8,WI=9,KI=10,PM=11,TM=12,RM=13,QM=14,GI=15,lre=function(r){for(var e=[],t=0,n=r.length;t<n;){var i=r.charCodeAt(t++);if(i>=55296&&i<=56319&&t<n){var s=r.charCodeAt(t++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},Are=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],i=-1,s="";++i<t;){var a=r[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===t||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},cre=nre(Hte),wa="×",$I="÷",ure=function(r){return cre.get(r)},dre=function(r,e,t){var n=t-2,i=e[n],s=e[t-1],a=e[t];if(s===jI&&a===HI)return wa;if(s===jI||s===HI||s===DM||a===jI||a===HI||a===DM)return $I;if(s===UM&&[UM,WI,PM,TM].indexOf(a)!==-1||(s===PM||s===WI)&&(a===WI||a===KI)||(s===TM||s===KI)&&a===KI||a===RM||a===_M||a===ore||s===are)return wa;if(s===RM&&a===QM){for(;i===_M;)i=e[--n];if(i===QM)return wa}if(s===GI&&a===GI){for(var o=0;i===GI;)o++,i=e[--n];if(o%2===0)return wa}return $I},hre=function(r){var e=lre(r),t=e.length,n=0,i=0,s=e.map(ure);return{next:function(){if(n>=t)return{done:!0,value:null};for(var a=wa;n<t&&(a=dre(e,s,++n))===wa;);if(a!==wa||n===t){var o=Are.apply(null,e.slice(i,n));return i=n,{value:o,done:!1}}return{done:!0,value:null}}}},fre=function(r){for(var e=hre(r),t=[],n;!(n=e.next()).done;)n.value&&t.push(n.value.slice());return t},pre=function(r){var e=123;if(r.createRange){var t=r.createRange();if(t.getBoundingClientRect){var n=r.createElement("boundtest");n.style.height=e+"px",n.style.display="block",r.body.appendChild(n),t.selectNode(n);var i=t.getBoundingClientRect(),s=Math.round(i.height);if(r.body.removeChild(n),s===e)return!0}}return!1},gre=function(r){var e=r.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",r.body.appendChild(e);var t=r.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=Ex(n.data).map(function(l){return tn(l)}),s=0,a={},o=i.every(function(l,A){t.setStart(n,s),t.setEnd(n,s+l.length);var c=t.getBoundingClientRect();s+=l.length;var u=c.x>a.x||c.y>a.y;return a=c,A===0?!0:u});return r.body.removeChild(e),o},mre=function(){return typeof new Image().crossOrigin<"u"},yre=function(){return typeof new XMLHttpRequest().responseType=="string"},wre=function(r){var e=new Image,t=r.createElement("canvas"),n=t.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},OM=function(r){return r[0]===0&&r[1]===255&&r[2]===0&&r[3]===255},vre=function(r){var e=r.createElement("canvas"),t=100;e.width=t,e.height=t;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,t,t);var i=new Image,s=e.toDataURL();i.src=s;var a=iF(t,t,0,0,i);return n.fillStyle="red",n.fillRect(0,0,t,t),jM(a).then(function(o){n.drawImage(o,0,0);var l=n.getImageData(0,0,t,t).data;n.fillStyle="red",n.fillRect(0,0,t,t);var A=r.createElement("div");return A.style.backgroundImage="url("+s+")",A.style.height=t+"px",OM(l)?jM(iF(t,t,0,0,A)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),OM(n.getImageData(0,0,t,t).data)}).catch(function(){return!1})},iF=function(r,e,t,n,i){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",r.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",t.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(i),a},jM=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){return e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},ci={get SUPPORT_RANGE_BOUNDS(){var r=pre(document);return Object.defineProperty(ci,"SUPPORT_RANGE_BOUNDS",{value:r}),r},get SUPPORT_WORD_BREAKING(){var r=ci.SUPPORT_RANGE_BOUNDS&&gre(document);return Object.defineProperty(ci,"SUPPORT_WORD_BREAKING",{value:r}),r},get SUPPORT_SVG_DRAWING(){var r=wre(document);return Object.defineProperty(ci,"SUPPORT_SVG_DRAWING",{value:r}),r},get SUPPORT_FOREIGNOBJECT_DRAWING(){var r=typeof Array.from=="function"&&typeof window.fetch=="function"?vre(document):Promise.resolve(!1);return Object.defineProperty(ci,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:r}),r},get SUPPORT_CORS_IMAGES(){var r=mre();return Object.defineProperty(ci,"SUPPORT_CORS_IMAGES",{value:r}),r},get SUPPORT_RESPONSE_TYPE(){var r=yre();return Object.defineProperty(ci,"SUPPORT_RESPONSE_TYPE",{value:r}),r},get SUPPORT_CORS_XHR(){var r="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ci,"SUPPORT_CORS_XHR",{value:r}),r},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var r=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ci,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:r}),r}},D0=function(){function r(e,t){this.text=e,this.bounds=t}return r}(),bre=function(r,e,t,n){var i=Ire(e,t),s=[],a=0;return i.forEach(function(o){if(t.textDecorationLine.length||o.trim().length>0)if(ci.SUPPORT_RANGE_BOUNDS){var l=HM(n,a,o.length).getClientRects();if(l.length>1){var A=oL(o),c=0;A.forEach(function(f){s.push(new D0(f,DA.fromDOMRectList(r,HM(n,c+a,f.length).getClientRects()))),c+=f.length})}else s.push(new D0(o,DA.fromDOMRectList(r,l)))}else{var u=n.splitText(o.length);s.push(new D0(o,Bre(r,n))),n=u}else ci.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));a+=o.length}),s},Bre=function(r,e){var t=e.ownerDocument;if(t){var n=t.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var s=Fx(r,n);return n.firstChild&&i.replaceChild(n.firstChild,n),s}}return DA.EMPTY},HM=function(r,e,t){var n=r.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(r,e),i.setEnd(r,e+t),i},oL=function(r){if(ci.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(r)).map(function(t){return t.segment})}return fre(r)},xre=function(r,e){if(ci.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(r)).map(function(n){return n.segment})}return Sre(r,e)},Ire=function(r,e){return e.letterSpacing!==0?oL(r):xre(r,e)},Cre=[32,160,4961,65792,65793,4153,4241],Sre=function(r,e){for(var t=ZJ(r,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,s=function(){if(i.value){var a=i.value.slice(),o=Ex(a),l="";o.forEach(function(A){Cre.indexOf(A)===-1?l+=tn(A):(l.length&&n.push(l),n.push(tn(A)),l="")}),l.length&&n.push(l)}};!(i=t.next()).done;)s();return n},Fre=function(){function r(e,t,n){this.text=Ere(t.data,n.textTransform),this.textBounds=bre(e,this.text,n,t)}return r}(),Ere=function(r,e){switch(e){case 1:return r.toLowerCase();case 3:return r.replace(Lre,Nre);case 2:return r.toUpperCase();default:return r}},Lre=/(^|\s|:|-|\(|\))([a-z])/g,Nre=function(r,e,t){return r.length>0?e+t.toUpperCase():r},BQ=function(r){Eo(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e}(xl),xQ=function(r){Eo(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e}(xl),IQ=function(r){Eo(e,r);function e(t,n){var i=r.call(this,t,n)||this,s=new XMLSerializer,a=Fx(t,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(xl),CQ=function(r){Eo(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.value=n.value,i}return e}(xl),sF=function(r){Eo(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e}(xl),kre=[{type:15,flags:0,unit:"px",number:3}],Mre=[{type:16,flags:0,number:50}],Dre=function(r){return r.width>r.height?new DA(r.left+(r.width-r.height)/2,r.top,r.height,r.height):r.width<r.height?new DA(r.left,r.top+(r.height-r.width)/2,r.width,r.width):r},_re=function(r){var e=r.type===Ure?new Array(r.value.length+1).join("•"):r.value;return e.length===0?r.placeholder||"":e},aB="checkbox",oB="radio",Ure="password",WM=707406591,lL=function(r){Eo(e,r);function e(t,n){var i=r.call(this,t,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=_re(n),(i.type===aB||i.type===oB)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=Dre(i.bounds)),i.type){case aB:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=kre;break;case oB:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Mre;break}return i}return e}(xl),SQ=function(r){Eo(e,r);function e(t,n){var i=r.call(this,t,n)||this,s=n.options[n.selectedIndex||0];return i.value=s&&s.text||"",i}return e}(xl),FQ=function(r){Eo(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.value=n.value,i}return e}(xl),EQ=function(r){Eo(e,r);function e(t,n){var i=r.call(this,t,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=NQ(t,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?k0(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):CA.TRANSPARENT,a=n.contentWindow.document.body?k0(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):CA.TRANSPARENT;i.backgroundColor=cu(s)?cu(a)?i.styles.backgroundColor:a:s}}catch{}return i}return e}(xl),Pre=["OL","UL","MENU"],ob=function(r,e,t,n){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,kQ(i)&&i.data.trim().length>0)t.textNodes.push(new Fre(r,i,t.styles));else if(Gf(i))if(UQ(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return ob(r,o,t,n)});else{var a=LQ(r,i);a.styles.isVisible()&&(Tre(i,a,n)?a.flags|=4:Rre(a.styles)&&(a.flags|=2),Pre.indexOf(i.tagName)!==-1&&(a.flags|=8),t.elements.push(a),i.slot,i.shadowRoot?ob(r,i.shadowRoot,a,n):!lB(i)&&!MQ(i)&&!AB(i)&&ob(r,i,a,n))}},LQ=function(r,e){return oF(e)?new BQ(r,e):DQ(e)?new xQ(r,e):MQ(e)?new IQ(r,e):Qre(e)?new CQ(r,e):Ore(e)?new sF(r,e):jre(e)?new lL(r,e):AB(e)?new SQ(r,e):lB(e)?new FQ(r,e):_Q(e)?new EQ(r,e):new xl(r,e)},NQ=function(r,e){var t=LQ(r,e);return t.flags|=4,ob(r,e,t,t),t},Tre=function(r,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||AL(r)&&t.styles.isTransparent()},Rre=function(r){return r.isPositioned()||r.isFloating()},kQ=function(r){return r.nodeType===Node.TEXT_NODE},Gf=function(r){return r.nodeType===Node.ELEMENT_NODE},aF=function(r){return Gf(r)&&typeof r.style<"u"&&!lb(r)},lb=function(r){return typeof r.className=="object"},Qre=function(r){return r.tagName==="LI"},Ore=function(r){return r.tagName==="OL"},jre=function(r){return r.tagName==="INPUT"},Hre=function(r){return r.tagName==="HTML"},MQ=function(r){return r.tagName==="svg"},AL=function(r){return r.tagName==="BODY"},DQ=function(r){return r.tagName==="CANVAS"},KM=function(r){return r.tagName==="VIDEO"},oF=function(r){return r.tagName==="IMG"},_Q=function(r){return r.tagName==="IFRAME"},GM=function(r){return r.tagName==="STYLE"},Wre=function(r){return r.tagName==="SCRIPT"},lB=function(r){return r.tagName==="TEXTAREA"},AB=function(r){return r.tagName==="SELECT"},UQ=function(r){return r.tagName==="SLOT"},$M=function(r){return r.tagName.indexOf("-")>0},Kre=function(){function r(){this.counters={}}return r.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},r.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},r.prototype.pop=function(e){var t=this;e.forEach(function(n){return t.counters[n].pop()})},r.prototype.parse=function(e){var t=this,n=e.counterIncrement,i=e.counterReset,s=!0;n!==null&&n.forEach(function(o){var l=t.counters[o.counter];l&&o.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var a=[];return s&&i.forEach(function(o){var l=t.counters[o.counter];a.push(o.counter),l||(l=t.counters[o.counter]=[]),l.push(o.reset)}),a},r}(),zM={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},VM={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Gre={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},$re={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},gf=function(r,e,t,n,i,s){return r<e||r>t?d1(r,i,s.length>0):n.integers.reduce(function(a,o,l){for(;r>=o;)r-=o,a+=n.values[l];return a},"")+s},PQ=function(r,e,t,n){var i="";do t||r--,i=n(r)+i,r/=e;while(r*e>=e);return i},Jr=function(r,e,t,n,i){var s=t-e+1;return(r<0?"-":"")+(PQ(Math.abs(r),s,n,function(a){return tn(Math.floor(a%s)+e)})+i)},Qu=function(r,e,t){t===void 0&&(t=". ");var n=e.length;return PQ(Math.abs(r),n,!1,function(i){return e[Math.floor(i%n)]})+t},Lf=1,tc=2,rc=4,g0=8,Pl=function(r,e,t,n,i,s){if(r<-9999||r>9999)return d1(r,4,i.length>0);var a=Math.abs(r),o=i;if(a===0)return e[0]+o;for(var l=0;a>0&&l<=4;l++){var A=a%10;A===0&&Fn(s,Lf)&&o!==""?o=e[A]+o:A>1||A===1&&l===0||A===1&&l===1&&Fn(s,tc)||A===1&&l===1&&Fn(s,rc)&&r>100||A===1&&l>1&&Fn(s,g0)?o=e[A]+(l>0?t[l-1]:"")+o:A===1&&l>0&&(o=t[l-1]+o),a=Math.floor(a/10)}return(r<0?n:"")+o},qM="十百千萬",YM="拾佰仟萬",XM="マイナス",zI="마이너스",d1=function(r,e,t){var n=t?". ":"",i=t?"、":"",s=t?", ":"",a=t?" ":"";switch(e){case 0:return"•"+a;case 1:return"◦"+a;case 2:return"◾"+a;case 5:var o=Jr(r,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return Qu(r,"〇一二三四五六七八九",i);case 6:return gf(r,1,3999,zM,3,n).toLowerCase();case 7:return gf(r,1,3999,zM,3,n);case 8:return Jr(r,945,969,!1,n);case 9:return Jr(r,97,122,!1,n);case 10:return Jr(r,65,90,!1,n);case 11:return Jr(r,1632,1641,!0,n);case 12:case 49:return gf(r,1,9999,VM,3,n);case 35:return gf(r,1,9999,VM,3,n).toLowerCase();case 13:return Jr(r,2534,2543,!0,n);case 14:case 30:return Jr(r,6112,6121,!0,n);case 15:return Qu(r,"子丑寅卯辰巳午未申酉戌亥",i);case 16:return Qu(r,"甲乙丙丁戊己庚辛壬癸",i);case 17:case 48:return Pl(r,"零一二三四五六七八九",qM,"負",i,tc|rc|g0);case 47:return Pl(r,"零壹貳參肆伍陸柒捌玖",YM,"負",i,Lf|tc|rc|g0);case 42:return Pl(r,"零一二三四五六七八九",qM,"负",i,tc|rc|g0);case 41:return Pl(r,"零壹贰叁肆伍陆柒捌玖",YM,"负",i,Lf|tc|rc|g0);case 26:return Pl(r,"〇一二三四五六七八九","十百千万",XM,i,0);case 25:return Pl(r,"零壱弐参四伍六七八九","拾百千万",XM,i,Lf|tc|rc);case 31:return Pl(r,"영일이삼사오육칠팔구","십백천만",zI,s,Lf|tc|rc);case 33:return Pl(r,"零一二三四五六七八九","十百千萬",zI,s,0);case 32:return Pl(r,"零壹貳參四五六七八九","拾百千",zI,s,Lf|tc|rc);case 18:return Jr(r,2406,2415,!0,n);case 20:return gf(r,1,19999,$re,3,n);case 21:return Jr(r,2790,2799,!0,n);case 22:return Jr(r,2662,2671,!0,n);case 22:return gf(r,1,10999,Gre,3,n);case 23:return Qu(r,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return Qu(r,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Jr(r,3302,3311,!0,n);case 28:return Qu(r,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case 29:return Qu(r,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case 34:return Jr(r,3792,3801,!0,n);case 37:return Jr(r,6160,6169,!0,n);case 38:return Jr(r,4160,4169,!0,n);case 39:return Jr(r,2918,2927,!0,n);case 40:return Jr(r,1776,1785,!0,n);case 43:return Jr(r,3046,3055,!0,n);case 44:return Jr(r,3174,3183,!0,n);case 45:return Jr(r,3664,3673,!0,n);case 46:return Jr(r,3872,3881,!0,n);case 3:default:return Jr(r,48,57,!0,n)}},TQ="data-html2canvas-ignore",JM=function(){function r(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new Kre,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return r.prototype.toIFrame=function(e,t){var n=this,i=zre(e,t);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=i.contentWindow,l=o.document,A=Yre(i).then(function(){return qi(n,void 0,void 0,function(){var c,u;return Mi(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(ene),o&&(o.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==t.top||o.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-t.left,o.scrollY-t.top,0,0))),c=this.options.onclone,u=this.clonedReferenceElement,typeof u>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,qre(l)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof c=="function"?[2,Promise.resolve().then(function(){return c(l,u)}).then(function(){return i})]:[2,i]}})})});return l.open(),l.write(Jre(document.doctype)+"<html></html>"),Zre(this.referenceElement.ownerDocument,s,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),A},r.prototype.createElementClone=function(e){if(nF(e,2))debugger;if(DQ(e))return this.createCanvasClone(e);if(KM(e))return this.createVideoClone(e);if(GM(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return oF(t)&&(oF(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),$M(t)?this.createCustomElementClone(t):t},r.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return VI(e.style,t),t},r.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},r.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),a=i.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},r.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},r.prototype.appendChildNode=function(e,t,n){(!Gf(t)||!Wre(t)&&!t.hasAttribute(TQ)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!Gf(t)||!GM(t))&&e.appendChild(this.cloneNode(t,n))},r.prototype.cloneChildNodes=function(e,t,n){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(Gf(s)&&UQ(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return i.appendChildNode(t,o,n)})}else this.appendChildNode(t,s,n)},r.prototype.cloneNode=function(e,t){if(kQ(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Gf(e)&&(aF(e)||lb(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&aF(i)&&(this.clonedReferenceElement=i),AL(i)&&nne(i);var l=this.counters.parse(new LM(this.context,s)),A=this.resolvePseudoContent(e,i,a,_0.BEFORE);$M(e)&&(t=!0),KM(e)||this.cloneChildNodes(e,i,t),A&&i.insertBefore(A,i.firstChild);var c=this.resolvePseudoContent(e,i,o,_0.AFTER);return c&&i.appendChild(c),this.counters.pop(l),(s&&(this.options.copyStyles||lb(e))&&!_Q(e)||t)&&VI(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(lB(e)||AB(e))&&(lB(i)||AB(i))&&(i.value=e.value),i}return e.cloneNode(!1)},r.prototype.resolvePseudoContent=function(e,t,n,i){var s=this;if(n){var a=n.content,o=t.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||n.display==="none")){this.counters.parse(new LM(this.context,n));var l=new Qte(this.context,n),A=o.createElement("html2canvaspseudoelement");VI(n,A),l.content.forEach(function(u){if(u.type===0)A.appendChild(o.createTextNode(u.value));else if(u.type===22){var f=o.createElement("img");f.src=u.value,f.style.opacity="1",A.appendChild(f)}else if(u.type===18){if(u.name==="attr"){var p=u.values.filter(fr);p.length&&A.appendChild(o.createTextNode(e.getAttribute(p[0].value)||""))}else if(u.name==="counter"){var I=u.values.filter(bg),F=I[0],D=I[1];if(F&&fr(F)){var C=s.counters.getCounterValue(F.value),k=D&&fr(D)?rF.parse(s.context,D.value):3;A.appendChild(o.createTextNode(d1(C,k,!1)))}}else if(u.name==="counters"){var U=u.values.filter(bg),F=U[0],Q=U[1],D=U[2];if(F&&fr(F)){var V=s.counters.getCounterValues(F.value),Z=D&&fr(D)?rF.parse(s.context,D.value):3,q=Q&&Q.type===0?Q.value:"",G=V.map(function(H){return d1(H,Z,!1)}).join(q);A.appendChild(o.createTextNode(G))}}}else if(u.type===20)switch(u.value){case"open-quote":A.appendChild(o.createTextNode(EM(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":A.appendChild(o.createTextNode(EM(l.quotes,--s.quoteDepth,!1)));break;default:A.appendChild(o.createTextNode(u.value))}}),A.className=lF+" "+AF;var c=i===_0.BEFORE?" "+lF:" "+AF;return lb(t)?t.className.baseValue+=c:t.className+=c,A}}},r.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},r}(),_0;(function(r){r[r.BEFORE=0]="BEFORE",r[r.AFTER=1]="AFTER"})(_0||(_0={}));var zre=function(r,e){var t=r.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(TQ,"true"),r.body.appendChild(t),t},Vre=function(r){return new Promise(function(e){if(r.complete){e();return}if(!r.src){e();return}r.onload=e,r.onerror=e})},qre=function(r){return Promise.all([].slice.call(r.images,0).map(Vre))},Yre=function(r){return new Promise(function(e,t){var n=r.contentWindow;if(!n)return t("No window assigned for iframe");var i=n.document;n.onload=r.onload=function(){n.onload=r.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(r))},50)}})},Xre=["all","d","content"],VI=function(r,e){for(var t=r.length-1;t>=0;t--){var n=r.item(t);Xre.indexOf(n)===-1&&e.style.setProperty(n,r.getPropertyValue(n))}return e},Jre=function(r){var e="";return r&&(e+="<!DOCTYPE ",r.name&&(e+=r.name),r.internalSubset&&(e+=r.internalSubset),r.publicId&&(e+='"'+r.publicId+'"'),r.systemId&&(e+='"'+r.systemId+'"'),e+=">"),e},Zre=function(r,e,t){r&&r.defaultView&&(e!==r.defaultView.pageXOffset||t!==r.defaultView.pageYOffset)&&r.defaultView.scrollTo(e,t)},ene=function(r){var e=r[0],t=r[1],n=r[2];e.scrollLeft=t,e.scrollTop=n},tne=":before",rne=":after",lF="___html2canvas___pseudoelement_before",AF="___html2canvas___pseudoelement_after",ZM=`{
    content: "" !important;
    display: none !important;
}`,nne=function(r){ine(r,"."+lF+tne+ZM+`
         .`+AF+rne+ZM)},ine=function(r,e){var t=r.ownerDocument;if(t){var n=t.createElement("style");n.textContent=e,r.appendChild(n)}},RQ=function(){function r(){}return r.getOrigin=function(e){var t=r._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},r.isSameOrigin=function(e){return r.getOrigin(e)===r._origin},r.setContext=function(e){r._link=e.document.createElement("a"),r._origin=r.getOrigin(e.location.href)},r._origin="about:blank",r}(),sne=function(){function r(e,t){this.context=e,this._options=t,this._cache={}}return r.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(YI(e)||Ane(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},r.prototype.match=function(e){return this._cache[e]},r.prototype.loadImage=function(e){return qi(this,void 0,void 0,function(){var t,n,i,s,a=this;return Mi(this,function(o){switch(o.label){case 0:return t=RQ.isSameOrigin(e),n=!qI(e)&&this._options.useCORS===!0&&ci.SUPPORT_CORS_IMAGES&&!t,i=!qI(e)&&!t&&!YI(e)&&typeof this._options.proxy=="string"&&ci.SUPPORT_CORS_XHR&&!n,!t&&this._options.allowTaint===!1&&!qI(e)&&!YI(e)&&!i&&!n?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,A){var c=new Image;c.onload=function(){return l(c)},c.onerror=A,(cne(s)||n)&&(c.crossOrigin="anonymous"),c.src=s,c.complete===!0&&setTimeout(function(){return l(c)},500),a._options.imageTimeout>0&&setTimeout(function(){return A("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},r.prototype.has=function(e){return typeof this._cache[e]<"u"},r.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},r.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,a){var o=ci.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")s(l.response);else{var u=new FileReader;u.addEventListener("load",function(){return s(u.result)},!1),u.addEventListener("error",function(f){return a(f)},!1),u.readAsDataURL(l.response)}else a("Failed to proxy resource "+i+" with status code "+l.status)},l.onerror=a;var A=n.indexOf("?")>-1?"&":"?";if(l.open("GET",""+n+A+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),t._options.imageTimeout){var c=t._options.imageTimeout;l.timeout=c,l.ontimeout=function(){return a("Timed out ("+c+"ms) proxying "+i)}}l.send()})},r}(),ane=/^data:image\/svg\+xml/i,one=/^data:image\/.*;base64,/i,lne=/^data:image\/.*/i,Ane=function(r){return ci.SUPPORT_SVG_DRAWING||!une(r)},qI=function(r){return lne.test(r)},cne=function(r){return one.test(r)},YI=function(r){return r.substr(0,4)==="blob"},une=function(r){return r.substr(-3).toLowerCase()==="svg"||ane.test(r)},Xe=function(){function r(e,t){this.type=0,this.x=e,this.y=t}return r.prototype.add=function(e,t){return new r(this.x+e,this.y+t)},r}(),mf=function(r,e,t){return new Xe(r.x+(e.x-r.x)*t,r.y+(e.y-r.y)*t)},iv=function(){function r(e,t,n,i){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=i}return r.prototype.subdivide=function(e,t){var n=mf(this.start,this.startControl,e),i=mf(this.startControl,this.endControl,e),s=mf(this.endControl,this.end,e),a=mf(n,i,e),o=mf(i,s,e),l=mf(a,o,e);return t?new r(this.start,n,a,l):new r(l,o,s,this.end)},r.prototype.add=function(e,t){return new r(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},r.prototype.reverse=function(){return new r(this.end,this.endControl,this.startControl,this.start)},r}(),La=function(r){return r.type===1},dne=function(){function r(e){var t=e.styles,n=e.bounds,i=f0(t.borderTopLeftRadius,n.width,n.height),s=i[0],a=i[1],o=f0(t.borderTopRightRadius,n.width,n.height),l=o[0],A=o[1],c=f0(t.borderBottomRightRadius,n.width,n.height),u=c[0],f=c[1],p=f0(t.borderBottomLeftRadius,n.width,n.height),I=p[0],F=p[1],D=[];D.push((s+l)/n.width),D.push((I+u)/n.width),D.push((a+F)/n.height),D.push((A+f)/n.height);var C=Math.max.apply(Math,D);C>1&&(s/=C,a/=C,l/=C,A/=C,u/=C,f/=C,I/=C,F/=C);var k=n.width-l,U=n.height-f,Q=n.width-u,V=n.height-F,Z=t.borderTopWidth,q=t.borderRightWidth,G=t.borderBottomWidth,Y=t.borderLeftWidth,K=Cr(t.paddingTop,e.bounds.width),H=Cr(t.paddingRight,e.bounds.width),te=Cr(t.paddingBottom,e.bounds.width),ue=Cr(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?kr(n.left+Y/3,n.top+Z/3,s-Y/3,a-Z/3,nr.TOP_LEFT):new Xe(n.left+Y/3,n.top+Z/3),this.topRightBorderDoubleOuterBox=s>0||a>0?kr(n.left+k,n.top+Z/3,l-q/3,A-Z/3,nr.TOP_RIGHT):new Xe(n.left+n.width-q/3,n.top+Z/3),this.bottomRightBorderDoubleOuterBox=u>0||f>0?kr(n.left+Q,n.top+U,u-q/3,f-G/3,nr.BOTTOM_RIGHT):new Xe(n.left+n.width-q/3,n.top+n.height-G/3),this.bottomLeftBorderDoubleOuterBox=I>0||F>0?kr(n.left+Y/3,n.top+V,I-Y/3,F-G/3,nr.BOTTOM_LEFT):new Xe(n.left+Y/3,n.top+n.height-G/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?kr(n.left+Y*2/3,n.top+Z*2/3,s-Y*2/3,a-Z*2/3,nr.TOP_LEFT):new Xe(n.left+Y*2/3,n.top+Z*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?kr(n.left+k,n.top+Z*2/3,l-q*2/3,A-Z*2/3,nr.TOP_RIGHT):new Xe(n.left+n.width-q*2/3,n.top+Z*2/3),this.bottomRightBorderDoubleInnerBox=u>0||f>0?kr(n.left+Q,n.top+U,u-q*2/3,f-G*2/3,nr.BOTTOM_RIGHT):new Xe(n.left+n.width-q*2/3,n.top+n.height-G*2/3),this.bottomLeftBorderDoubleInnerBox=I>0||F>0?kr(n.left+Y*2/3,n.top+V,I-Y*2/3,F-G*2/3,nr.BOTTOM_LEFT):new Xe(n.left+Y*2/3,n.top+n.height-G*2/3),this.topLeftBorderStroke=s>0||a>0?kr(n.left+Y/2,n.top+Z/2,s-Y/2,a-Z/2,nr.TOP_LEFT):new Xe(n.left+Y/2,n.top+Z/2),this.topRightBorderStroke=s>0||a>0?kr(n.left+k,n.top+Z/2,l-q/2,A-Z/2,nr.TOP_RIGHT):new Xe(n.left+n.width-q/2,n.top+Z/2),this.bottomRightBorderStroke=u>0||f>0?kr(n.left+Q,n.top+U,u-q/2,f-G/2,nr.BOTTOM_RIGHT):new Xe(n.left+n.width-q/2,n.top+n.height-G/2),this.bottomLeftBorderStroke=I>0||F>0?kr(n.left+Y/2,n.top+V,I-Y/2,F-G/2,nr.BOTTOM_LEFT):new Xe(n.left+Y/2,n.top+n.height-G/2),this.topLeftBorderBox=s>0||a>0?kr(n.left,n.top,s,a,nr.TOP_LEFT):new Xe(n.left,n.top),this.topRightBorderBox=l>0||A>0?kr(n.left+k,n.top,l,A,nr.TOP_RIGHT):new Xe(n.left+n.width,n.top),this.bottomRightBorderBox=u>0||f>0?kr(n.left+Q,n.top+U,u,f,nr.BOTTOM_RIGHT):new Xe(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=I>0||F>0?kr(n.left,n.top+V,I,F,nr.BOTTOM_LEFT):new Xe(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||a>0?kr(n.left+Y,n.top+Z,Math.max(0,s-Y),Math.max(0,a-Z),nr.TOP_LEFT):new Xe(n.left+Y,n.top+Z),this.topRightPaddingBox=l>0||A>0?kr(n.left+Math.min(k,n.width-q),n.top+Z,k>n.width+q?0:Math.max(0,l-q),Math.max(0,A-Z),nr.TOP_RIGHT):new Xe(n.left+n.width-q,n.top+Z),this.bottomRightPaddingBox=u>0||f>0?kr(n.left+Math.min(Q,n.width-Y),n.top+Math.min(U,n.height-G),Math.max(0,u-q),Math.max(0,f-G),nr.BOTTOM_RIGHT):new Xe(n.left+n.width-q,n.top+n.height-G),this.bottomLeftPaddingBox=I>0||F>0?kr(n.left+Y,n.top+Math.min(V,n.height-G),Math.max(0,I-Y),Math.max(0,F-G),nr.BOTTOM_LEFT):new Xe(n.left+Y,n.top+n.height-G),this.topLeftContentBox=s>0||a>0?kr(n.left+Y+ue,n.top+Z+K,Math.max(0,s-(Y+ue)),Math.max(0,a-(Z+K)),nr.TOP_LEFT):new Xe(n.left+Y+ue,n.top+Z+K),this.topRightContentBox=l>0||A>0?kr(n.left+Math.min(k,n.width+Y+ue),n.top+Z+K,k>n.width+Y+ue?0:l-Y+ue,A-(Z+K),nr.TOP_RIGHT):new Xe(n.left+n.width-(q+H),n.top+Z+K),this.bottomRightContentBox=u>0||f>0?kr(n.left+Math.min(Q,n.width-(Y+ue)),n.top+Math.min(U,n.height+Z+K),Math.max(0,u-(q+H)),f-(G+te),nr.BOTTOM_RIGHT):new Xe(n.left+n.width-(q+H),n.top+n.height-(G+te)),this.bottomLeftContentBox=I>0||F>0?kr(n.left+Y+ue,n.top+V,Math.max(0,I-(Y+ue)),F-(G+te),nr.BOTTOM_LEFT):new Xe(n.left+Y+ue,n.top+n.height-(G+te))}return r}(),nr;(function(r){r[r.TOP_LEFT=0]="TOP_LEFT",r[r.TOP_RIGHT=1]="TOP_RIGHT",r[r.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",r[r.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(nr||(nr={}));var kr=function(r,e,t,n,i){var s=4*((Math.sqrt(2)-1)/3),a=t*s,o=n*s,l=r+t,A=e+n;switch(i){case nr.TOP_LEFT:return new iv(new Xe(r,A),new Xe(r,A-o),new Xe(l-a,e),new Xe(l,e));case nr.TOP_RIGHT:return new iv(new Xe(r,e),new Xe(r+a,e),new Xe(l,A-o),new Xe(l,A));case nr.BOTTOM_RIGHT:return new iv(new Xe(l,e),new Xe(l,e+o),new Xe(r+a,A),new Xe(r,A));case nr.BOTTOM_LEFT:default:return new iv(new Xe(l,A),new Xe(l-a,A),new Xe(r,e+o),new Xe(r,e))}},cB=function(r){return[r.topLeftBorderBox,r.topRightBorderBox,r.bottomRightBorderBox,r.bottomLeftBorderBox]},hne=function(r){return[r.topLeftContentBox,r.topRightContentBox,r.bottomRightContentBox,r.bottomLeftContentBox]},uB=function(r){return[r.topLeftPaddingBox,r.topRightPaddingBox,r.bottomRightPaddingBox,r.bottomLeftPaddingBox]},fne=function(){function r(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return r}(),sv=function(){function r(e,t){this.path=e,this.target=t,this.type=1}return r}(),pne=function(){function r(e){this.opacity=e,this.type=2,this.target=6}return r}(),gne=function(r){return r.type===0},QQ=function(r){return r.type===1},mne=function(r){return r.type===2},e6=function(r,e){return r.length===e.length?r.some(function(t,n){return t===e[n]}):!1},yne=function(r,e,t,n,i){return r.map(function(s,a){switch(a){case 0:return s.add(e,t);case 1:return s.add(e+n,t);case 2:return s.add(e+n,t+i);case 3:return s.add(e,t+i)}return s})},OQ=function(){function r(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return r}(),jQ=function(){function r(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new dne(this.container),this.container.styles.opacity<1&&this.effects.push(new pne(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new fne(n,i,s))}if(this.container.styles.overflowX!==0){var a=cB(this.curves),o=uB(this.curves);e6(a,o)?this.effects.push(new sv(a,6)):(this.effects.push(new sv(a,2)),this.effects.push(new sv(o,4)))}}return r.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var s=n.effects.filter(function(l){return!QQ(l)});if(t||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,s),t=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var a=cB(n.curves),o=uB(n.curves);e6(a,o)||i.unshift(new sv(o,6))}}else i.unshift.apply(i,s);n=n.parent}return i.filter(function(l){return Fn(l.target,e)})},r}(),cF=function(r,e,t,n){r.container.elements.forEach(function(i){var s=Fn(i.flags,4),a=Fn(i.flags,2),o=new jQ(i,r);Fn(i.styles.display,2048)&&n.push(o);var l=Fn(i.flags,8)?[]:n;if(s||a){var A=s||i.styles.isPositioned()?t:e,c=new OQ(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var u=i.styles.zIndex.order;if(u<0){var f=0;A.negativeZIndex.some(function(I,F){return u>I.element.container.styles.zIndex.order?(f=F,!1):f>0}),A.negativeZIndex.splice(f,0,c)}else if(u>0){var p=0;A.positiveZIndex.some(function(I,F){return u>=I.element.container.styles.zIndex.order?(p=F+1,!1):p>0}),A.positiveZIndex.splice(p,0,c)}else A.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else i.styles.isFloating()?A.nonPositionedFloats.push(c):A.nonPositionedInlineLevel.push(c);cF(o,c,s?c:t,l)}else i.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),cF(o,e,t,l);Fn(i.flags,8)&&HQ(i,l)})},HQ=function(r,e){for(var t=r instanceof sF?r.start:1,n=r instanceof sF?r.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof CQ&&typeof s.container.value=="number"&&s.container.value!==0&&(t=s.container.value),s.listValue=d1(t,s.container.styles.listStyleType,!0),t+=n?-1:1}},wne=function(r){var e=new jQ(r,null),t=new OQ(e),n=[];return cF(e,t,t,n),HQ(e.container,n),t},t6=function(r,e){switch(e){case 0:return _a(r.topLeftBorderBox,r.topLeftPaddingBox,r.topRightBorderBox,r.topRightPaddingBox);case 1:return _a(r.topRightBorderBox,r.topRightPaddingBox,r.bottomRightBorderBox,r.bottomRightPaddingBox);case 2:return _a(r.bottomRightBorderBox,r.bottomRightPaddingBox,r.bottomLeftBorderBox,r.bottomLeftPaddingBox);case 3:default:return _a(r.bottomLeftBorderBox,r.bottomLeftPaddingBox,r.topLeftBorderBox,r.topLeftPaddingBox)}},vne=function(r,e){switch(e){case 0:return _a(r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox,r.topRightBorderBox,r.topRightBorderDoubleOuterBox);case 1:return _a(r.topRightBorderBox,r.topRightBorderDoubleOuterBox,r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox);case 2:return _a(r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox,r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox);case 3:default:return _a(r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox,r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox)}},bne=function(r,e){switch(e){case 0:return _a(r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox,r.topRightBorderDoubleInnerBox,r.topRightPaddingBox);case 1:return _a(r.topRightBorderDoubleInnerBox,r.topRightPaddingBox,r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox);case 2:return _a(r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox,r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox);case 3:default:return _a(r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox,r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox)}},Bne=function(r,e){switch(e){case 0:return av(r.topLeftBorderStroke,r.topRightBorderStroke);case 1:return av(r.topRightBorderStroke,r.bottomRightBorderStroke);case 2:return av(r.bottomRightBorderStroke,r.bottomLeftBorderStroke);case 3:default:return av(r.bottomLeftBorderStroke,r.topLeftBorderStroke)}},av=function(r,e){var t=[];return La(r)?t.push(r.subdivide(.5,!1)):t.push(r),La(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},_a=function(r,e,t,n){var i=[];return La(r)?i.push(r.subdivide(.5,!1)):i.push(r),La(t)?i.push(t.subdivide(.5,!0)):i.push(t),La(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),La(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},WQ=function(r){var e=r.bounds,t=r.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},dB=function(r){var e=r.styles,t=r.bounds,n=Cr(e.paddingLeft,t.width),i=Cr(e.paddingRight,t.width),s=Cr(e.paddingTop,t.width),a=Cr(e.paddingBottom,t.width);return t.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+s+a))},xne=function(r,e){return r===0?e.bounds:r===2?dB(e):WQ(e)},Ine=function(r,e){return r===0?e.bounds:r===2?dB(e):WQ(e)},XI=function(r,e,t){var n=xne(Nf(r.styles.backgroundOrigin,e),r),i=Ine(Nf(r.styles.backgroundClip,e),r),s=Cne(Nf(r.styles.backgroundSize,e),t,n),a=s[0],o=s[1],l=f0(Nf(r.styles.backgroundPosition,e),n.width-a,n.height-o),A=Sne(Nf(r.styles.backgroundRepeat,e),l,s,n,i),c=Math.round(n.left+l[0]),u=Math.round(n.top+l[1]);return[A,c,u,a,o]},yf=function(r){return fr(r)&&r.value===sp.AUTO},ov=function(r){return typeof r=="number"},Cne=function(r,e,t){var n=e[0],i=e[1],s=e[2],a=r[0],o=r[1];if(!a)return[0,0];if(pn(a)&&o&&pn(o))return[Cr(a,t.width),Cr(o,t.height)];var l=ov(s);if(fr(a)&&(a.value===sp.CONTAIN||a.value===sp.COVER)){if(ov(s)){var A=t.width/t.height;return A<s!=(a.value===sp.COVER)?[t.width,t.width/s]:[t.height*s,t.height]}return[t.width,t.height]}var c=ov(n),u=ov(i),f=c||u;if(yf(a)&&(!o||yf(o))){if(c&&u)return[n,i];if(!l&&!f)return[t.width,t.height];if(f&&l){var p=c?n:i*s,I=u?i:n/s;return[p,I]}var F=c?n:t.width,D=u?i:t.height;return[F,D]}if(l){var C=0,k=0;return pn(a)?C=Cr(a,t.width):pn(o)&&(k=Cr(o,t.height)),yf(a)?C=k*s:(!o||yf(o))&&(k=C/s),[C,k]}var U=null,Q=null;if(pn(a)?U=Cr(a,t.width):o&&pn(o)&&(Q=Cr(o,t.height)),U!==null&&(!o||yf(o))&&(Q=c&&u?U/n*i:t.height),Q!==null&&yf(a)&&(U=c&&u?Q/i*n:t.width),U!==null&&Q!==null)return[U,Q];throw new Error("Unable to calculate background-size for element")},Nf=function(r,e){var t=r[e];return typeof t>"u"?r[0]:t},Sne=function(r,e,t,n,i){var s=e[0],a=e[1],o=t[0],l=t[1];switch(r){case 2:return[new Xe(Math.round(n.left),Math.round(n.top+a)),new Xe(Math.round(n.left+n.width),Math.round(n.top+a)),new Xe(Math.round(n.left+n.width),Math.round(l+n.top+a)),new Xe(Math.round(n.left),Math.round(l+n.top+a))];case 3:return[new Xe(Math.round(n.left+s),Math.round(n.top)),new Xe(Math.round(n.left+s+o),Math.round(n.top)),new Xe(Math.round(n.left+s+o),Math.round(n.height+n.top)),new Xe(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new Xe(Math.round(n.left+s),Math.round(n.top+a)),new Xe(Math.round(n.left+s+o),Math.round(n.top+a)),new Xe(Math.round(n.left+s+o),Math.round(n.top+a+l)),new Xe(Math.round(n.left+s),Math.round(n.top+a+l))];default:return[new Xe(Math.round(i.left),Math.round(i.top)),new Xe(Math.round(i.left+i.width),Math.round(i.top)),new Xe(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Xe(Math.round(i.left),Math.round(i.height+i.top))]}},Fne="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",r6="Hidden Text",Ene=function(){function r(e){this._data={},this._document=e}return r.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),i.src=Fne,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(r6)),n.appendChild(s),n.appendChild(i);var o=i.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(r6)),n.style.lineHeight="normal",i.style.verticalAlign="super";var l=i.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:o,middle:l}},r.prototype.getMetrics=function(e,t){var n=e+" "+t;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},r}(),KQ=function(){function r(e,t){this.context=e,this.options=t}return r}(),Lne=1e4,Nne=function(r){Eo(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new Ene(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(t){for(var n=this;this._activeEffects.length;)this.popEffect();t.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(t){this.ctx.save(),mne(t)&&(this.ctx.globalAlpha=t.opacity),gne(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),QQ(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return qi(this,void 0,void 0,function(){var n;return Mi(this,function(i){switch(i.label){case 0:return n=t.element.container.styles,n.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return qi(this,void 0,void 0,function(){return Mi(this,function(n){switch(n.label){case 0:if(Fn(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,n,i){var s=this;if(n===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+i);else{var a=oL(t.text);a.reduce(function(o,l){return s.ctx.fillText(l,o,t.bounds.top+i),o+s.ctx.measureText(l).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var n=t.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),i=Une(t.fontFamily).join(", "),s=fy(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,n,t.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(t,n){return qi(this,void 0,void 0,function(){var i,s,a,o,l,A,c,u,f=this;return Mi(this,function(p){return i=this.createFontStyle(n),s=i[0],a=i[1],o=i[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,o),A=l.baseline,c=l.middle,u=n.paintOrder,t.textBounds.forEach(function(I){u.forEach(function(F){switch(F){case 0:f.ctx.fillStyle=Rn(n.color),f.renderTextWithLetterSpacing(I,n.letterSpacing,A);var D=n.textShadow;D.length&&I.text.trim().length&&(D.slice(0).reverse().forEach(function(C){f.ctx.shadowColor=Rn(C.color),f.ctx.shadowOffsetX=C.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=C.offsetY.number*f.options.scale,f.ctx.shadowBlur=C.blur.number,f.renderTextWithLetterSpacing(I,n.letterSpacing,A)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),n.textDecorationLine.length&&(f.ctx.fillStyle=Rn(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(C){switch(C){case 1:f.ctx.fillRect(I.bounds.left,Math.round(I.bounds.top+A),I.bounds.width,1);break;case 2:f.ctx.fillRect(I.bounds.left,Math.round(I.bounds.top),I.bounds.width,1);break;case 3:f.ctx.fillRect(I.bounds.left,Math.ceil(I.bounds.top+c),I.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&I.text.trim().length&&(f.ctx.strokeStyle=Rn(n.webkitTextStrokeColor),f.ctx.lineWidth=n.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(I.text,I.bounds.left,I.bounds.top+A)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,n,i){if(i&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var s=dB(t),a=uB(n);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,t.intrinsicWidth,t.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return qi(this,void 0,void 0,function(){var n,i,s,a,o,l,k,k,A,c,u,f,Q,p,I,V,F,D,C,k,U,Q,V;return Mi(this,function(Z){switch(Z.label){case 0:this.applyEffects(t.getEffects(4)),n=t.container,i=t.curves,s=n.styles,a=0,o=n.textNodes,Z.label=1;case 1:return a<o.length?(l=o[a],[4,this.renderTextNode(l,s)]):[3,4];case 2:Z.sent(),Z.label=3;case 3:return a++,[3,1];case 4:if(!(n instanceof BQ))return[3,8];Z.label=5;case 5:return Z.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return k=Z.sent(),this.renderReplacedElement(n,i,k),[3,8];case 7:return Z.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof xQ&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof IQ))return[3,12];Z.label=9;case 9:return Z.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return k=Z.sent(),this.renderReplacedElement(n,i,k),[3,12];case 11:return Z.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof EQ&&n.tree?(A=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,A.render(n.tree)]):[3,14];case 13:c=Z.sent(),n.width&&n.height&&this.ctx.drawImage(c,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),Z.label=14;case 14:if(n instanceof lL&&(u=Math.min(n.bounds.width,n.bounds.height),n.type===aB?n.checked&&(this.ctx.save(),this.path([new Xe(n.bounds.left+u*.39363,n.bounds.top+u*.79),new Xe(n.bounds.left+u*.16,n.bounds.top+u*.5549),new Xe(n.bounds.left+u*.27347,n.bounds.top+u*.44071),new Xe(n.bounds.left+u*.39694,n.bounds.top+u*.5649),new Xe(n.bounds.left+u*.72983,n.bounds.top+u*.23),new Xe(n.bounds.left+u*.84,n.bounds.top+u*.34085),new Xe(n.bounds.left+u*.39363,n.bounds.top+u*.79)]),this.ctx.fillStyle=Rn(WM),this.ctx.fill(),this.ctx.restore()):n.type===oB&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+u/2,n.bounds.top+u/2,u/4,0,Math.PI*2,!0),this.ctx.fillStyle=Rn(WM),this.ctx.fill(),this.ctx.restore())),kne(n)&&n.value.length){switch(f=this.createFontStyle(s),Q=f[0],p=f[1],I=this.fontMetrics.getMetrics(Q,p).baseline,this.ctx.font=Q,this.ctx.fillStyle=Rn(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Dne(n.styles.textAlign),V=dB(n),F=0,n.styles.textAlign){case 1:F+=V.width/2;break;case 2:F+=V.width;break}D=V.add(F,0,0,-V.height/2+1),this.ctx.save(),this.path([new Xe(V.left,V.top),new Xe(V.left+V.width,V.top),new Xe(V.left+V.width,V.top+V.height),new Xe(V.left,V.top+V.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new D0(n.value,D),s.letterSpacing,I),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Fn(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(C=n.styles.listStyleImage,C.type!==0)return[3,18];k=void 0,U=C.url,Z.label=15;case 15:return Z.trys.push([15,17,,18]),[4,this.context.cache.match(U)];case 16:return k=Z.sent(),this.ctx.drawImage(k,n.bounds.left-(k.width+10),n.bounds.top),[3,18];case 17:return Z.sent(),this.context.logger.error("Error loading list-style-image "+U),[3,18];case 18:return[3,20];case 19:t.listValue&&n.styles.listStyleType!==-1&&(Q=this.createFontStyle(s)[0],this.ctx.font=Q,this.ctx.fillStyle=Rn(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",V=new DA(n.bounds.left,n.bounds.top+Cr(n.styles.paddingTop,n.bounds.width),n.bounds.width,SM(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new D0(t.listValue,V),s.letterSpacing,SM(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Z.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return qi(this,void 0,void 0,function(){var n,i,C,s,a,C,o,l,C,A,c,C,u,f,C,p,I,C,F,D,C;return Mi(this,function(k){switch(k.label){case 0:if(Fn(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:k.sent(),n=0,i=t.negativeZIndex,k.label=2;case 2:return n<i.length?(C=i[n],[4,this.renderStack(C)]):[3,5];case 3:k.sent(),k.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:k.sent(),s=0,a=t.nonInlineLevel,k.label=7;case 7:return s<a.length?(C=a[s],[4,this.renderNode(C)]):[3,10];case 8:k.sent(),k.label=9;case 9:return s++,[3,7];case 10:o=0,l=t.nonPositionedFloats,k.label=11;case 11:return o<l.length?(C=l[o],[4,this.renderStack(C)]):[3,14];case 12:k.sent(),k.label=13;case 13:return o++,[3,11];case 14:A=0,c=t.nonPositionedInlineLevel,k.label=15;case 15:return A<c.length?(C=c[A],[4,this.renderStack(C)]):[3,18];case 16:k.sent(),k.label=17;case 17:return A++,[3,15];case 18:u=0,f=t.inlineLevel,k.label=19;case 19:return u<f.length?(C=f[u],[4,this.renderNode(C)]):[3,22];case 20:k.sent(),k.label=21;case 21:return u++,[3,19];case 22:p=0,I=t.zeroOrAutoZIndexOrTransformedOrOpacity,k.label=23;case 23:return p<I.length?(C=I[p],[4,this.renderStack(C)]):[3,26];case 24:k.sent(),k.label=25;case 25:return p++,[3,23];case 26:F=0,D=t.positiveZIndex,k.label=27;case 27:return F<D.length?(C=D[F],[4,this.renderStack(C)]):[3,30];case 28:k.sent(),k.label=29;case 29:return F++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var n=this;t.forEach(function(i,s){var a=La(i)?i.start:i;s===0?n.ctx.moveTo(a.x,a.y):n.ctx.lineTo(a.x,a.y),La(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(t,n,i,s){this.path(t),this.ctx.fillStyle=n,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(t,n,i){var s;if(t.width===n&&t.height===i)return t;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,i);var l=o.getContext("2d");return l.drawImage(t,0,0,t.width,t.height,0,0,n,i),o},e.prototype.renderBackgroundImage=function(t){return qi(this,void 0,void 0,function(){var n,i,s,a,o,l;return Mi(this,function(A){switch(A.label){case 0:n=t.styles.backgroundImage.length-1,i=function(c){var u,f,p,K,J,O,ue,oe,G,I,K,J,O,ue,oe,F,D,C,k,U,Q,V,Z,q,G,Y,K,H,te,ue,oe,re,J,O,j,T,_,L,v,E,x,g;return Mi(this,function(w){switch(w.label){case 0:if(c.type!==0)return[3,5];u=void 0,f=c.url,w.label=1;case 1:return w.trys.push([1,3,,4]),[4,s.context.cache.match(f)];case 2:return u=w.sent(),[3,4];case 3:return w.sent(),s.context.logger.error("Error loading background-image "+f),[3,4];case 4:return u&&(p=XI(t,n,[u.width,u.height,u.width/u.height]),K=p[0],J=p[1],O=p[2],ue=p[3],oe=p[4],G=s.ctx.createPattern(s.resizeImage(u,ue,oe),"repeat"),s.renderRepeat(K,G,J,O)),[3,6];case 5:gee(c)?(I=XI(t,n,[null,null,null]),K=I[0],J=I[1],O=I[2],ue=I[3],oe=I[4],F=uee(c.angle,ue,oe),D=F[0],C=F[1],k=F[2],U=F[3],Q=F[4],V=document.createElement("canvas"),V.width=ue,V.height=oe,Z=V.getContext("2d"),q=Z.createLinearGradient(C,U,k,Q),IM(c.stops,D).forEach(function(h){return q.addColorStop(h.stop,Rn(h.color))}),Z.fillStyle=q,Z.fillRect(0,0,ue,oe),ue>0&&oe>0&&(G=s.ctx.createPattern(V,"repeat"),s.renderRepeat(K,G,J,O))):mee(c)&&(Y=XI(t,n,[null,null,null]),K=Y[0],H=Y[1],te=Y[2],ue=Y[3],oe=Y[4],re=c.position.length===0?[iL]:c.position,J=Cr(re[0],ue),O=Cr(re[re.length-1],oe),j=dee(c,J,O,ue,oe),T=j[0],_=j[1],T>0&&_>0&&(L=s.ctx.createRadialGradient(H+J,te+O,0,H+J,te+O,T),IM(c.stops,T*2).forEach(function(h){return L.addColorStop(h.stop,Rn(h.color))}),s.path(K),s.ctx.fillStyle=L,T!==_?(v=t.bounds.left+.5*t.bounds.width,E=t.bounds.top+.5*t.bounds.height,x=_/T,g=1/x,s.ctx.save(),s.ctx.translate(v,E),s.ctx.transform(1,0,0,x,0,0),s.ctx.translate(-v,-E),s.ctx.fillRect(H,g*(te-E)+E,ue,oe*g),s.ctx.restore()):s.ctx.fill())),w.label=6;case 6:return n--,[2]}})},s=this,a=0,o=t.styles.backgroundImage.slice(0).reverse(),A.label=1;case 1:return a<o.length?(l=o[a],[5,i(l)]):[3,4];case 2:A.sent(),A.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,n,i){return qi(this,void 0,void 0,function(){return Mi(this,function(s){return this.path(t6(i,n)),this.ctx.fillStyle=Rn(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,n,i,s){return qi(this,void 0,void 0,function(){var a,o;return Mi(this,function(l){switch(l.label){case 0:return n<3?[4,this.renderSolidBorder(t,i,s)]:[3,2];case 1:return l.sent(),[2];case 2:return a=vne(s,i),this.path(a),this.ctx.fillStyle=Rn(t),this.ctx.fill(),o=bne(s,i),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return qi(this,void 0,void 0,function(){var n,i,s,a,o,l,A,c,u=this;return Mi(this,function(f){switch(f.label){case 0:return this.applyEffects(t.getEffects(2)),n=t.container.styles,i=!cu(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],a=Mne(Nf(n.backgroundClip,0),t.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),cu(n.backgroundColor)||(this.ctx.fillStyle=Rn(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(p){u.ctx.save();var I=cB(t.curves),F=p.inset?0:Lne,D=yne(I,-F+(p.inset?1:-1)*p.spread.number,(p.inset?1:-1)*p.spread.number,p.spread.number*(p.inset?-2:2),p.spread.number*(p.inset?-2:2));p.inset?(u.path(I),u.ctx.clip(),u.mask(D)):(u.mask(I),u.ctx.clip(),u.path(D)),u.ctx.shadowOffsetX=p.offsetX.number+F,u.ctx.shadowOffsetY=p.offsetY.number,u.ctx.shadowColor=Rn(p.color),u.ctx.shadowBlur=p.blur.number,u.ctx.fillStyle=p.inset?Rn(p.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()}),f.label=2;case 2:o=0,l=0,A=s,f.label=3;case 3:return l<A.length?(c=A[l],c.style!==0&&!cu(c.color)&&c.width>0?c.style!==2?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,o,t.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return c.style!==3?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,o,t.curves,3)];case 6:return f.sent(),[3,11];case 7:return c.style!==4?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,o,t.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,o,t.curves)];case 10:f.sent(),f.label=11;case 11:o++,f.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,n,i,s,a){return qi(this,void 0,void 0,function(){var o,l,A,c,u,f,p,I,F,D,C,k,U,Q,V,Z,V,Z;return Mi(this,function(q){return this.ctx.save(),o=Bne(s,i),l=t6(s,i),a===2&&(this.path(l),this.ctx.clip()),La(l[0])?(A=l[0].start.x,c=l[0].start.y):(A=l[0].x,c=l[0].y),La(l[1])?(u=l[1].end.x,f=l[1].end.y):(u=l[1].x,f=l[1].y),i===0||i===2?p=Math.abs(A-u):p=Math.abs(c-f),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(l.slice(0,2)),I=n<3?n*3:n*2,F=n<3?n*2:n,a===3&&(I=n,F=n),D=!0,p<=I*2?D=!1:p<=I*2+F?(C=p/(2*I+F),I*=C,F*=C):(k=Math.floor((p+F)/(I+F)),U=(p-k*I)/(k-1),Q=(p-(k+1)*I)/k,F=Q<=0||Math.abs(F-U)<Math.abs(F-Q)?U:Q),D&&(a===3?this.ctx.setLineDash([0,I+F]):this.ctx.setLineDash([I,F])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Rn(t),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(La(l[0])&&(V=l[3],Z=l[0],this.ctx.beginPath(),this.formatPath([new Xe(V.end.x,V.end.y),new Xe(Z.start.x,Z.start.y)]),this.ctx.stroke()),La(l[1])&&(V=l[1],Z=l[2],this.ctx.beginPath(),this.formatPath([new Xe(V.end.x,V.end.y),new Xe(Z.start.x,Z.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return qi(this,void 0,void 0,function(){var n;return Mi(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Rn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=wne(t),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(KQ),kne=function(r){return r instanceof FQ||r instanceof SQ?!0:r instanceof lL&&r.type!==oB&&r.type!==aB},Mne=function(r,e){switch(r){case 0:return cB(e);case 2:return hne(e);case 1:default:return uB(e)}},Dne=function(r){switch(r){case 1:return"center";case 2:return"right";case 0:default:return"left"}},_ne=["-apple-system","system-ui"],Une=function(r){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?r.filter(function(e){return _ne.indexOf(e)===-1}):r},Pne=function(r){Eo(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(t){return qi(this,void 0,void 0,function(){var n,i;return Mi(this,function(s){switch(s.label){case 0:return n=iF(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,Tne(n)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Rn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(KQ),Tne=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},Rne=function(){function r(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return r.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Qw([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.getTime=function(){return Date.now()-this.start},r.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Qw([this.id,this.getTime()+"ms"],e))},r.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Qw([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Qw([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.instances={},r}(),Qne=function(){function r(e,t){var n;this.windowBounds=t,this.instanceName="#"+r.instanceCount++,this.logger=new Rne({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new sne(this,e)}return r.instanceCount=1,r}(),GQ=function(r,e){return e===void 0&&(e={}),One(r,e)};typeof window<"u"&&RQ.setContext(window);var One=function(r,e){return qi(void 0,void 0,void 0,function(){var t,n,i,s,a,o,l,A,c,u,f,p,I,F,D,C,k,U,Q,V,q,Z,q,G,Y,K,H,te,ue,oe,re,J,O,j,T,_,L,v,E,x;return Mi(this,function(g){switch(g.label){case 0:if(!r||typeof r!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=r.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(n=t.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(G=e.allowTaint)!==null&&G!==void 0?G:!1,imageTimeout:(Y=e.imageTimeout)!==null&&Y!==void 0?Y:15e3,proxy:e.proxy,useCORS:(K=e.useCORS)!==null&&K!==void 0?K:!1},s=W4({logging:(H=e.logging)!==null&&H!==void 0?H:!0,cache:e.cache},i),a={windowWidth:(te=e.windowWidth)!==null&&te!==void 0?te:n.innerWidth,windowHeight:(ue=e.windowHeight)!==null&&ue!==void 0?ue:n.innerHeight,scrollX:(oe=e.scrollX)!==null&&oe!==void 0?oe:n.pageXOffset,scrollY:(re=e.scrollY)!==null&&re!==void 0?re:n.pageYOffset},o=new DA(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new Qne(s,o),A=(J=e.foreignObjectRendering)!==null&&J!==void 0?J:!1,c={allowTaint:(O=e.allowTaint)!==null&&O!==void 0?O:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:A,copyStyles:A},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),u=new JM(l,r,c),f=u.clonedReferenceElement,f?[4,u.toIFrame(t,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return p=g.sent(),I=AL(f)||Hre(f)?yJ(f.ownerDocument):Fx(l,f),F=I.width,D=I.height,C=I.left,k=I.top,U=jne(l,f,e.backgroundColor),Q={canvas:e.canvas,backgroundColor:U,scale:(T=(j=e.scale)!==null&&j!==void 0?j:n.devicePixelRatio)!==null&&T!==void 0?T:1,x:((_=e.x)!==null&&_!==void 0?_:0)+C,y:((L=e.y)!==null&&L!==void 0?L:0)+k,width:(v=e.width)!==null&&v!==void 0?v:Math.ceil(F),height:(E=e.height)!==null&&E!==void 0?E:Math.ceil(D)},A?(l.logger.debug("Document cloned, using foreign object rendering"),q=new Pne(l,Q),[4,q.render(f)]):[3,3];case 2:return V=g.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+C+","+k+" with size "+F+"x"+D+" using computed rendering"),l.logger.debug("Starting DOM parsing"),Z=NQ(l,f),U===Z.styles.backgroundColor&&(Z.styles.backgroundColor=CA.TRANSPARENT),l.logger.debug("Starting renderer for element at "+Q.x+","+Q.y+" with size "+Q.width+"x"+Q.height),q=new Nne(l,Q),[4,q.render(Z)];case 4:V=g.sent(),g.label=5;case 5:return(!((x=e.removeContainer)!==null&&x!==void 0)||x)&&(JM.destroy(p)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,V]}})})},jne=function(r,e,t){var n=e.ownerDocument,i=n.documentElement?k0(r,getComputedStyle(n.documentElement).backgroundColor):CA.TRANSPARENT,s=n.body?k0(r,getComputedStyle(n.body).backgroundColor):CA.TRANSPARENT,a=typeof t=="string"?k0(r,t):t===null?CA.TRANSPARENT:4294967295;return e===n.documentElement?cu(i)?cu(s)?a:s:i:a};const Hne=Object.freeze(Object.defineProperty({__proto__:null,default:GQ},Symbol.toStringTag,{value:"Module"})),$Q=(r,e,t,n,i,s,a,o,l,A=!1,c=0)=>{const u=l.filter(F=>t.includes(F.id)),f=(F,D)=>yn.t(F,D),p=()=>yn.language&&yn.language.toLowerCase().startsWith("tr")?"tr-TR":"en-US",I=(F,D)=>["name","surname","weight","gender","handPreference","birthday"].includes(F)?f(`players.${F}`):D;return`
    <div style="height: 297mm !important; display: flex !important; flex-direction: column !important; justify-content: space-between !important; !important;">
      <div>
        <div style="text-align: center !important; margin-bottom: 10px !important; border-bottom: 1px solid #1e40af !important; padding-bottom: 4px !important;">
          <div style="background: linear-gradient(135deg, #1e40af, #3b82f6) !important; color: white !important; padding: 10px 10px !important; border-radius: 6px !important; margin-bottom: 8px !important;">
            <h1 style="font-size: 20px !important; !important; font-weight: bold !important; color: #ffffff !important;">${A?`<div style="margin-top: -12px !important;">${r.name}</div>`:r.name}</h1>
            <h2 style="font-size: 14px !important; margin-top: 4px; !important; font-weight: 600 !important; color: #ffffff !important;">${A?`<div style="margin-top: -12px !important;">${e.name}</div>`:e.name}</h2>
          </div>

          <div style="display: flex !important; justify-content: space-between !important; margin: 6px 0 !important; padding: 4px 0 !important; border-top: 1px solid #e5e7eb !important; border-bottom: 1px solid #e5e7eb !important;">
            <div style="text-align: center !important; flex: 1 !important;">
              <div style="font-size: 9px !important; color: #6b7280 !important; font-weight: 500 !important; margin-bottom: 2px !important;">${A?`<div style="margin-top: -12px !important;">${f("tournamentCard.weightRange").toUpperCase()}</div>`:f("tournamentCard.weightRange").toUpperCase()}</div>
              <div style="font-size: 11px !important; color: #111827 !important; font-weight: 600 !important;">${A?`<div style="margin-top: -12px !important;">${e.min}-${e.max} kg</div>`:`${e.min}-${e.max} kg`}</div>
            </div>
            <div style="text-align: center !important; flex: 1 !important; border-left: 1px solid #e5e7eb !important; border-right: 1px solid #e5e7eb !important;">
              <div style="font-size: 9px !important; color: #6b7280 !important; font-weight: 500 !important; margin-bottom: 2px !important;">${A?`<div style="margin-top: -12px !important;">${f("players.totalPlayers").toUpperCase()}</div>`:f("players.totalPlayers").toUpperCase()}</div>
              <div style="font-size: 11px !important; color: #111827 !important; font-weight: 600 !important;">${A?`<div style="margin-top: -12px !important;">${c}</div>`:c}</div>
            </div>
            <div style="text-align: center !important; flex: 1 !important;">
              <div style="font-size: 9px !important; color: #6b7280 !important; font-weight: 500 !important; margin-bottom: 2px !important;">${A?`<div style="margin-top: -12px !important;">${f("tournamentCard.page").toUpperCase()}</div>`:f("tournamentCard.page").toUpperCase()}</div>
              <div style="font-size: 11px !important; color: #111827 !important; font-weight: 600 !important;">${A?`<div style="margin-top: -12px !important;">${i+1}/${o}</div>`:`${i+1}/${o}`}</div>
            </div>
          </div>
        </div>

        <div style="background: white !important; border-radius: 6px !important; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important; overflow: hidden !important; flex: 1 !important;">
          <table style="width: 100% !important; border-collapse: collapse !important; margin: 0 !important;">
            <thead>
              <tr style="background: linear-gradient(135deg, #f1f5f9, #e2e8f0) !important;">
                <th style="border: 1px solid #cbd5e1 !important; padding: 6px 4px !important; text-align: center !important; font-weight: bold !important; color: #000000 !important; font-size: 10px !important; width: 35px !important;">${A?'<div style="margin-top: -12px !important;">#</div>':"#"}</th>
                ${u.map(F=>{const D=I(F.id,F.name);return`
                  <th style="border: 1px solid #cbd5e1 !important; padding: 6px 4px !important; text-align: left !important; font-weight: bold !important; color: #000000 !important; font-size: 10px !important;">${A?`<div style="margin-top: -12px !important;">${D}</div>`:D}</th>
                  `}).join("")}
              </tr>
            </thead>
            <tbody>
              ${s.map((F,D)=>`
                <tr style="background-color: ${D%2===0?"#ffffff":"#f8fafc"} !important;">
                  <td style="border: 1px solid #e2e8f0 !important; padding: 4px 4px !important; font-size: 9px !important; color: #000000 !important; font-weight: 500 !important; text-align: center !important;">${A?`<div style="margin-top: -12px !important;">${a+D+1}</div>`:a+D+1}</td>
                  ${u.map(C=>{let k="";switch(C.id){case"name":k=F.name||"";break;case"surname":k=F.surname||"";break;case"weight":k=F.weight?`${F.weight}kg`:"";break;case"gender":k=F.gender?f(`players.${F.gender}`):"";break;case"handPreference":k=F.handPreference?f(`players.${F.handPreference}`):"";break;case"birthday":k=F.birthday?new Date(F.birthday).toLocaleDateString(p()):"";break;default:k=F[C.id]||""}return`<td style="border: 1px solid #e2e8f0 !important; padding: 4px 3px !important; font-size: 9px !important; color: #000000 !important; font-weight: 500 !important;">${A?`<div style="margin-top: -12px !important;">${k}</div>`:k}</td>`}).join("")}
                </tr>
              `).join("")}
            </tbody>
          </table>
        </div>
      </div>

      ${i===o-1?`
        <div style="margin-top: 10px !important; text-align: center !important; padding: 8px !important; background: #f8fafc !important; border-radius: 4px !important; border-top: 2px solid #1e40af !important;">
          <p style="margin: 0 !important; color: #374151 !important; font-size: 9px !important; font-weight: 500 !important;">
            ${f("pdf.footer")}
          </p>
        </div>
      `:""}
    </div>
  `},Wne=(r,e,t,n=33,i,s)=>{const a=s(e),o=Math.ceil(a.length/n),l=[];for(let A=0;A<o;A++){const c=A*n,u=Math.min(c+n,a.length),f=a.slice(c,u),p=$Q(r,e,t,n,A,f,c,o,i,!1,a.length);l.push(p)}return l},Kne=async(r,e,t,n,i,s)=>{const a=Math.min(n,40),o=s(e),l=Math.ceil(o.length/a);try{await document.fonts.ready;const A=new wt("p","mm","a4");for(let D=0;D<l;D++){const C=D*a,k=Math.min(C+a,o.length),U=o.slice(C,k),Q=document.createElement("div");Q.style.position="absolute",Q.style.left="-9999px",Q.style.width="210mm",Q.style.height="297mm",Q.style.padding="10mm 15mm 15mm 15mm",Q.style.boxSizing="border-box",Q.style.fontFamily="Arial, sans-serif",Q.style.fontSize="12px",Q.style.lineHeight="2.7",Q.style.color="#000000",Q.style.backgroundColor="#ffffff",Q.style.overflow="hidden",Q.style.margin="-40px 0 0 0";const V=$Q(r,e,t,a,D,U,C,l,i,!0,o.length);Q.innerHTML=V,document.body.appendChild(Q),await Promise.all(Array.from(Q.querySelectorAll("img")).map(H=>H.complete?Promise.resolve():new Promise((te,ue)=>{H.onload=te,H.onerror=ue})));const Z={scale:4,logging:!1,useCORS:!0,allowTaint:!0,letterRendering:!0,backgroundColor:"#ffffff",width:Q.offsetWidth,height:Q.offsetHeight,windowWidth:Q.scrollWidth,windowHeight:Q.scrollHeight},q=await GQ(Q,Z);document.body.removeChild(Q);const G=q.toDataURL("image/jpeg",.9),Y=210,K=297;D>0&&A.addPage(),A.addImage(G,"JPEG",0,0,Y,K)}const u=A.output("blob").size,f=(u/1024).toFixed(1),p=(u/(1024*1024)).toFixed(2),I=u>1024*1024?`${p} MB`:`${f} KB`,F=`tournament_${r.name}_${e.name}_players.pdf`;return A.save(F),{fileName:F,fileSize:I,totalPages:l}}catch{throw new Error(yn.t("tournamentCard.pdfErrorMessage"))}},Gne=(r,e,t,n,i,s)=>{const a=Math.min(n,40);return{pages:Wne(r,e,t,a,i,s),currentPage:0}},$ne=()=>{const{t:r}=Xn(),[e,t]=z.useState([]),[n,i]=z.useState([]),[s,a]=z.useState(null),[o,l]=z.useState(null),[A,c]=z.useState(!1),[u,f]=z.useState(!1),[p,I]=z.useState(null),[F,D]=z.useState(""),[C,k]=z.useState([{id:Di(),name:"",min:0,max:0}]),[U,Q]=z.useState({gender:null,handPreference:null,weightMin:null,weightMax:null}),[,V]=z.useState({gender:null,handPreference:null,weightMin:null,weightMax:null}),[,Z]=z.useState(!1),[q,G]=z.useState(!0),[Y,K]=z.useState(null),[H,te]=z.useState(null),[ue,oe]=z.useState(null),[re,J]=z.useState(null),O=YB(),[j,T]=z.useState(!1),[_,L]=z.useState([]),[v,E]=z.useState(0),[x,g]=z.useState(["name","surname","weight","gender","handPreference","birthday"]),[w,h]=z.useState([]),[y,d]=z.useState(33),[M,S]=z.useState(null),[W,$]=z.useState(null),[se,me]=z.useState(!1);z.useEffect(()=>(A||j||se?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[A,j,se]),z.useEffect(()=>{G(!0);const Le=localStorage.getItem("arm-wrestling-players");if(Le)try{const _n=JSON.parse(Le);i(_n)}catch{}const Re=ds.getTournaments();t(Re);const He=ds.getSelectedTournament(),ht=ds.getSelectedWeightRange();He&&l(He),ht&&a(ht);const ft=ds.getPlayerFilters();Q(ft),V(ft),Z(!0),setTimeout(()=>G(!1),100)},[]),z.useEffect(()=>{const Le=Ho.getColumns();h(Le);const Re=Le.filter(He=>He.visible).map(He=>He.id);g(Re)},[]),z.useEffect(()=>{q||ds.saveTournaments(e)},[e,q]),z.useEffect(()=>{q||ds.saveSelectedTournament(o)},[o,q]),z.useEffect(()=>{q||ds.saveSelectedWeightRange(s)},[s,q]),z.useEffect(()=>{q||(ds.savePlayerFilters(U),V(U),Z(!0))},[U,q]);const pe=Le=>{t(e.map(Re=>Re.id===Le?{...Re,isExpanded:!Re.isExpanded}:Re))},at=(Le,Re)=>{const He=e.find(ft=>ft.id===Le),ht=He==null?void 0:He.weightRanges.find(ft=>ft.id===Re);if(ht){l(Le),a(Re);const ft={gender:null,handPreference:null,weightMin:ht.min,weightMax:ht.max};Q(ft),V(ft),Z(!0)}},Te=()=>{k([...C,{id:Di(),name:"",min:0,max:0}])},De=Le=>{C.length>1&&k(C.filter(Re=>Re.id!==Le))},je=(Le,Re,He)=>{k(C.map(ht=>ht.id===Le?{...ht,[Re]:He}:ht))},qe=()=>{if(!F.trim())return;const Le=C.filter(ht=>ht.name.trim()&&ht.min>0&&ht.max>0&&ht.max>ht.min);if(Le.length===0)return;const Re={id:Di(),name:F.trim(),weightRanges:Le.map(ht=>({...ht,excludedPlayerIds:[]})),isExpanded:!1,genderFilter:Y,handPreferenceFilter:H,birthYearMin:ue,birthYearMax:re},He=[...e,Re];t(He),ds.saveTournaments(He),D(""),k([{id:Di(),name:"",min:0,max:0}]),K(null),te(null),oe(null),J(null),c(!1)},Ge=Le=>{f(!0),I(Le.id),D(Le.name),k(Le.weightRanges),K(Le.genderFilter||null),te(Le.handPreferenceFilter||null),oe(Le.birthYearMin||null),J(Le.birthYearMax||null),Q({gender:Le.genderFilter||null,handPreference:Le.handPreferenceFilter||null,weightMin:null,weightMax:null}),V({gender:Le.genderFilter||null,handPreference:Le.handPreferenceFilter||null,weightMin:null,weightMax:null}),Z(!0),c(!0)},lt=Le=>{const Re=ds.deleteTournament(e,Le);t(Re)},Bt=()=>{if(!p||!F.trim())return;const Le=C.filter(ht=>ht.name.trim()&&ht.min>0&&ht.max>0&&ht.max>ht.min);if(Le.length===0)return;const Re={...e.find(ht=>ht.id===p),name:F.trim(),weightRanges:Le.map(ht=>{const ft=e.find(_n=>_n.id===p).weightRanges.find(_n=>_n.id===ht.id);return{...ht,excludedPlayerIds:(ft==null?void 0:ft.excludedPlayerIds)||[]}}),genderFilter:U.gender,handPreferenceFilter:U.handPreference,birthYearMin:ue,birthYearMax:re},He=ds.updateTournament(e,Re);t(He),D(""),k([{id:Di(),name:"",min:0,max:0}]),Q({gender:null,handPreference:null,weightMin:null,weightMax:null}),V({gender:null,handPreference:null,weightMin:null,weightMax:null}),f(!1),I(null),K(null),te(null),oe(null),J(null),c(!1)},Nt=(Le,Re)=>n.filter(He=>{var yi;if((yi=Le.excludedPlayerIds)!=null&&yi.includes(He.id))return!1;const ht=Number(He.weight||0)>=Le.min&&Number(He.weight||0)<=Le.max,ft=!(Re!=null&&Re.genderFilter)||He.gender===Re.genderFilter,_n=!(Re!=null&&Re.handPreferenceFilter)||He.handPreference===Re.handPreferenceFilter||He.handPreference==="both";let sr=!0;if(Re&&(Re.birthYearMin||Re.birthYearMax)&&He.birthday){const Ri=new Date(He.birthday).getFullYear();sr=(!Re.birthYearMin||Ri>=Re.birthYearMin)&&(!Re.birthYearMax||Ri<=Re.birthYearMax)}return ht&&ft&&_n&&sr}).length,_t=(Le,Re,He)=>{const ht=ds.excludePlayerFromWeightRange(e,Le,Re,He);t(ht)},Ht=(Le,Re,He)=>{const ht=ds.includePlayerInWeightRange(e,Le,Re,He);t(ht)},tr=()=>{window.confirm("Are you sure you want to clear all tournament data? This will remove all tournaments, selections, and filters.")&&(ds.clearAllTournamentData(),t([]),l(null),a(null),Q({gender:null,handPreference:null,weightMin:null,weightMax:null}),V({gender:null,handPreference:null,weightMin:null,weightMax:null}),Z(!1))},vt=(Le,Re)=>{const He=e.find(ft=>ft.id===Le),ht=He==null?void 0:He.weightRanges.find(ft=>ft.id===Re);He&&ht&&O("/matches",{state:{tournament:He,weightRange:ht}})},Ut=(Le,Re)=>n.filter(He=>{var Ri;const ht=He.weight>=Le.min&&He.weight<=Le.max,ft=!Re.genderFilter||He.gender===Re.genderFilter,_n=!Re.handPreferenceFilter||He.handPreference===Re.handPreferenceFilter||He.handPreference==="both";let sr=!0;if(Re.birthYearMin||Re.birthYearMax){const br=He.birthday?new Date(He.birthday).getFullYear():null;br&&(Re.birthYearMin&&br<Re.birthYearMin&&(sr=!1),Re.birthYearMax&&br>Re.birthYearMax&&(sr=!1))}const yi=!((Ri=Le.excludedPlayerIds)!=null&&Ri.includes(He.id));return ht&&ft&&_n&&sr&&yi}),Ve=(Le,Re)=>{S(Le),$(Re);const He=Gne(Le,Re,x,y,w,ht=>Ut(ht,Le));L(He.pages),E(He.currentPage),T(!0)},Dn=async()=>{if(!(!M||!W))try{const Le=await Kne(M,W,x,y,w,Re=>Ut(Re,M));alert(r("tournamentCard.pdfSuccessMessage",{fileSize:Le.fileSize,totalPages:Le.totalPages,playersPerPage:y}))}catch{alert(r("tournamentCard.pdfErrorMessage"))}},Wt=(Le,Re)=>{S(Le),$(Re),me(!0)};return B.jsxs(B.Fragment,{children:[B.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-blue-50 via-white to-purple-50 flex flex-col items-center justify-start py-8 px-2",children:B.jsx("div",{className:"w-full max-w-7xl px-2 sm:px-6 lg:px-8",children:B.jsxs("div",{className:"backdrop-blur-md bg-white/80 rounded-2xl border border-gray-200 shadow-2xl p-4 sm:p-6 transition-all duration-300",children:[B.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-8",children:[B.jsxs("div",{children:[B.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight drop-shadow-sm",children:r("tournaments.title")}),B.jsxs("p",{className:"text-base text-gray-500 mt-1",children:[r("tournaments.totalTournaments"),": ",e.length]})]}),B.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:[B.jsx("button",{onClick:tr,className:"inline-flex items-center gap-2 px-3 sm:px-4 py-2 bg-gradient-to-r from-red-400 to-red-600 text-white rounded-lg shadow hover:from-red-500 hover:to-red-700 transition-all duration-200 text-sm sm:text-base font-semibold",children:r("tournaments.clearAllData")}),B.jsx("button",{onClick:()=>{f(!1),I(null),D(""),k([{id:Di(),name:"",min:0,max:0}]),K(null),te(null),oe(null),J(null),c(!0)},className:"inline-flex items-center gap-2 px-3 sm:px-4 py-2 bg-gradient-to-r from-blue-400 to-blue-600 text-white rounded-lg shadow hover:from-blue-500 hover:to-blue-700 transition-all duration-200 text-sm sm:text-base font-semibold",children:r("tournaments.createTournament")})]})]}),B.jsx("div",{className:"space-y-6 max-w-7xl mx-auto",children:e.length===0?B.jsxs("div",{className:"text-center py-12",children:[B.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-100 to-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:B.jsx("svg",{className:"w-12 h-12 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),B.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r("tournaments.noTournamentsYet")}),B.jsx("p",{className:"text-gray-600 mb-6",children:r("tournaments.createFirstTournament")}),B.jsx("button",{onClick:()=>{f(!1),I(null),D(""),k([{id:Di(),name:"",min:0,max:0}]),K(null),te(null),oe(null),J(null),c(!0)},className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-400 to-blue-600 text-white rounded-lg shadow-lg hover:from-blue-500 hover:to-blue-700 transition-all duration-200 text-base font-semibold",children:r("tournaments.createFirstTournamentButton")})]}):e.map(Le=>B.jsx(mX,{tournament:Le,players:n,onToggle:pe,onEdit:Ge,onDelete:lt,onSelectWeightRange:at,onStartTournament:vt,onExcludePlayer:_t,onIncludePlayer:Ht,getAvailablePlayersCount:Nt,selectedWeightRange:s,selectedTournament:o,onShowPDFPreview:Ve,onShowPDFColumnModal:Wt},Le.id))})]})})}),se&&B.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center p-4 z-[9998] overflow-hidden",onClick:()=>{me(!1),S(null),$(null)},children:B.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md sm:max-w-lg max-h-[85vh] overflow-y-auto mx-2",onClick:Le=>Le.stopPropagation(),children:[B.jsxs("div",{className:"flex justify-between items-center mb-8",children:[B.jsxs("div",{children:[B.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:r("tournamentCard.pdfColumnSelection")}),B.jsx("p",{className:"text-sm text-gray-600",children:r("tournamentCard.selectColumnsForPDF")})]}),B.jsx("button",{onClick:()=>me(!1),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-50 rounded-lg transition-all duration-200",children:B.jsx(rS,{className:"w-6 h-6"})})]}),B.jsx("div",{className:"mb-8",children:B.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:w.map(Le=>B.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-3 rounded-lg border border-gray-200 hover:border-blue-300 hover:bg-blue-50 transition-all duration-200",children:[B.jsx("input",{type:"checkbox",checked:x.includes(Le.id),onChange:Re=>{Re.target.checked?g([...x,Le.id]):g(x.filter(He=>He!==Le.id))},className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"}),B.jsx("span",{className:"text-sm font-medium text-gray-700",children:["name","surname","weight","gender","handPreference","birthday"].includes(Le.id)?r(`players.${Le.id}`):Le.name})]},Le.id))})}),B.jsxs("div",{className:"mb-8",children:[B.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:r("tournamentCard.playersPerPage")}),B.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[B.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:[r("tournamentCard.min"),": 1"]}),B.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:[r("tournamentCard.max"),": 40"]})]}),B.jsx("input",{type:"number",min:"1",max:"40",value:y||"",onChange:Le=>{const Re=Le.target.value;if(Re==="")d(0);else{const He=parseInt(Re);He>=1&&He<=40&&d(He)}},onBlur:Le=>{(!Le.target.value||parseInt(Le.target.value)<1)&&d(33)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-center text-base sm:text-lg font-semibold",placeholder:"33"})]}),B.jsx("div",{className:"flex justify-center",children:B.jsx("button",{onClick:()=>{if(x.length===0){alert(r("tournamentCard.atLeastOneColumn"));return}me(!1),M&&W&&Ve(M,W)},className:"px-6 sm:px-8 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg shadow-lg hover:from-blue-600 hover:to-blue-700 transition-all duration-200 text-sm sm:text-base font-semibold",children:r("tournamentCard.openPreview")})})]})}),j&&B.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-[9999] overflow-hidden",onClick:()=>{T(!1),S(null),$(null),L([]),E(0)},children:B.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-4 sm:p-6 w-full max-w-5xl max-h-[95vh] overflow-y-auto mx-2",onClick:Le=>Le.stopPropagation(),children:[B.jsxs("div",{className:"flex justify-between items-center mb-6",children:[B.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:r("tournamentCard.pdfPreview")}),B.jsxs("div",{className:"flex gap-2",children:[B.jsx("button",{onClick:()=>{T(!1),Dn()},className:"px-3 sm:px-4 py-2 bg-gradient-to-r from-red-400 to-red-600 text-white rounded-lg shadow hover:from-red-500 hover:to-red-700 transition-all duration-200 text-xs sm:text-sm font-semibold",children:r("tournamentCard.downloadPDF")}),B.jsx("button",{onClick:()=>{T(!1),M&&W&&Wt(M,W)},className:"px-3 sm:px-4 py-2 bg-gradient-to-r from-blue-400 to-blue-600 text-white rounded-lg shadow hover:from-blue-500 hover:to-blue-700 transition-all duration-200 text-xs sm:text-sm font-semibold",children:r("tournamentCard.returnToColumnSelection")}),B.jsx("button",{onClick:()=>T(!1),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-50 rounded-lg transition-all duration-200",children:B.jsx(rS,{className:"w-5 h-5"})})]})]}),B.jsxs("div",{className:"bg-gray-50 p-8 rounded-xl border-2 border-dashed border-gray-300",children:[_.length>1&&B.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 py-3 mb-4 rounded-t-lg",children:B.jsxs("div",{className:"flex justify-center items-center gap-4",children:[B.jsxs("button",{onClick:()=>E(Math.max(0,v-1)),disabled:v===0,className:"px-3 sm:px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg disabled:bg-gray-300 disabled:cursor-not-allowed hover:from-blue-600 hover:to-blue-700 transition-all duration-200 font-semibold text-xs sm:text-sm",children:["← ",r("tournamentCard.previousPage")]}),B.jsxs("span",{className:"text-sm font-semibold text-gray-700 bg-gray-100 px-4 py-2 rounded-lg",children:[r("tournamentCard.page")," ",v+1," / ",_.length]}),B.jsxs("button",{onClick:()=>E(Math.min(_.length-1,v+1)),disabled:v===_.length-1,className:"px-3 sm:px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg disabled:bg-gray-300 disabled:cursor-not-allowed hover:from-blue-600 hover:to-blue-700 transition-all duration-200 font-semibold text-xs sm:text-sm",children:[r("tournamentCard.nextPage")," →"]})]})}),B.jsx("div",{className:"flex justify-center",children:B.jsx("div",{className:"preview-content",style:{width:"210mm",height:"auto",minHeight:"297mm",padding:"10mm 15mm 15mm 15mm",boxSizing:"border-box",fontFamily:"Arial, sans-serif",fontSize:"12px",lineHeight:"1.6",color:"#000000",backgroundColor:"#ffffff",overflow:"visible",border:"1px solid #ccc",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",position:"relative",transform:"translateY(-35px)"},dangerouslySetInnerHTML:{__html:_[v]}})})]}),B.jsx("div",{className:"mt-6 text-center",children:B.jsx("p",{className:"text-sm text-gray-600",children:`Bu, PDF'inizin nasıl görüneceğinin önizlemesidir. PDF'i indirmek için üstteki "PDF İndir" butonunu kullanabilirsiniz.`})})]})}),A&&B.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 overflow-hidden",onClick:()=>{c(!1),f(!1),I(null),D(""),k([{id:Di(),name:"",min:0,max:0}]),K(null),te(null),oe(null),J(null),Q({gender:null,handPreference:null,weightMin:null,weightMax:null}),V({gender:null,handPreference:null,weightMin:null,weightMax:null})},children:B.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden transform-none",onClick:Le=>Le.stopPropagation(),children:[B.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-8 py-6 flex-shrink-0",children:[B.jsx("h2",{className:"text-3xl font-bold text-white",children:r(u?"tournaments.editTournament":"tournaments.createNewTournament")}),B.jsx("p",{className:"text-blue-100 mt-2",children:r(u?"tournaments.updateTournamentSettings":"tournaments.setupTournament")})]}),B.jsx("div",{className:"flex-1 p-8 overflow-y-auto",children:B.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[B.jsxs("div",{className:"space-y-6",children:[B.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[B.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[B.jsx("span",{className:"bg-blue-100 text-blue-600 rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold mr-3",children:"1"}),r("tournaments.details")]}),B.jsxs("div",{children:[B.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r("tournaments.tournamentName")," *"]}),B.jsx("input",{type:"text",value:F,onChange:Le=>D(Le.target.value),placeholder:r("tournaments.tournamentNamePlaceholder"),className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-800 placeholder-gray-500"})]})]}),B.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[B.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[B.jsx("span",{className:"bg-blue-100 text-blue-600 rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold mr-3",children:"2"}),r("tournaments.filters")]}),B.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r("tournaments.genderRestriction")}),B.jsxs("select",{value:u?U.gender||"":Y||"",onChange:Le=>{u?Q({...U,gender:Le.target.value||null}):K(Le.target.value||null)},className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-800",children:[B.jsx("option",{value:"",children:r("tournaments.allGenders")}),B.jsx("option",{value:"male",children:r("players.maleOnly")}),B.jsx("option",{value:"female",children:r("players.femaleOnly")})]})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r("tournaments.handPreference")}),B.jsxs("select",{value:u?U.handPreference||"":H||"",onChange:Le=>{u?Q({...U,handPreference:Le.target.value||null}):te(Le.target.value||null)},className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-800",children:[B.jsx("option",{value:"",children:r("tournaments.allHandPreferences")}),B.jsx("option",{value:"left",children:r("players.leftHandOnly")}),B.jsx("option",{value:"right",children:r("players.rightHandOnly")})]})]})]}),B.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:[B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r("tournaments.minBirthYear")}),B.jsx("input",{type:"number",value:ue||"",onChange:Le=>oe(Le.target.value?parseInt(Le.target.value):null),placeholder:r("tournaments.minBirthYearPlaceholder"),min:"1900",max:"2020",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-800 placeholder-gray-500"})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r("tournaments.maxBirthYear")}),B.jsx("input",{type:"number",value:re||"",onChange:Le=>J(Le.target.value?parseInt(Le.target.value):null),placeholder:r("tournaments.maxBirthYearPlaceholder"),min:"1900",max:"2020",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-800 placeholder-gray-500"})]})]})]})]}),B.jsx("div",{className:"space-y-6",children:B.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[B.jsxs("div",{className:"flex items-center justify-between mb-6",children:[B.jsxs("h3",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[B.jsx("span",{className:"bg-blue-100 text-blue-600 rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold mr-3",children:"3"}),r("tournaments.weightRanges")," (",C.length,")"]}),B.jsxs("button",{onClick:Te,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 font-medium",children:[B.jsx("span",{className:"text-lg",children:"+"}),r("tournaments.addRange")]})]}),B.jsx("div",{className:"space-y-4",children:C.map((Le,Re)=>B.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[B.jsxs("div",{className:"flex items-center justify-between mb-3",children:[B.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[r("tournaments.range")," #",Re+1]}),C.length>1&&B.jsx("button",{onClick:()=>De(Le.id),className:"text-red-500 hover:text-red-700 hover:bg-red-50 rounded-full p-1 transition-colors",title:"Remove this range",children:B.jsx("span",{className:"text-lg",children:"×"})})]}),B.jsxs("div",{className:"space-y-3",children:[B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r("tournaments.divisionName")}),B.jsx("input",{type:"text",value:Le.name,onChange:He=>je(Le.id,"name",He.target.value),placeholder:r("tournaments.divisionNamePlaceholder"),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-800 placeholder-gray-500"})]}),B.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[B.jsxs("div",{children:[B.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:r("tournaments.minWeight")}),B.jsx("input",{type:"number",step:"0.1",value:Le.min||"",onChange:He=>je(Le.id,"min",parseFloat(He.target.value)||0),placeholder:r("tournaments.minWeightPlaceholder"),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-800 placeholder-gray-500"})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:r("tournaments.maxWeight")}),B.jsx("input",{type:"number",step:"0.1",value:Le.max||"",onChange:He=>je(Le.id,"max",parseFloat(He.target.value)||0),placeholder:r("tournaments.maxWeightPlaceholder"),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-800 placeholder-gray-500"})]})]}),Le.min>0&&Le.max>0&&B.jsx("div",{className:"text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded",children:r("tournaments.rangeLabel",{min:Le.min.toFixed(1),max:Le.max.toFixed(1)})})]})]},Le.id))})]})})]})}),B.jsxs("div",{className:"bg-gray-50 px-8 py-6 border-t border-gray-200 flex justify-between items-center flex-shrink-0",children:[B.jsx("div",{className:"text-sm text-gray-600",children:F.trim()&&C.filter(Le=>Le.name.trim()&&Le.min>0&&Le.max>0).length>0?r(u?"tournaments.readyToSave":"tournaments.readyToCreate"):r("tournaments.completeAllFields")}),B.jsxs("div",{className:"flex space-x-3",children:[B.jsx("button",{onClick:()=>{c(!1),f(!1),I(null),D(""),k([{id:Di(),name:"",min:0,max:0}]),K(null),te(null),Q({gender:null,handPreference:null,weightMin:null,weightMax:null}),V({gender:null,handPreference:null,weightMin:null,weightMax:null})},className:"px-6 py-3 text-gray-600 hover:text-gray-800 transition-colors font-medium",children:r("common.cancel")}),B.jsx("button",{onClick:u?Bt:qe,disabled:!F.trim()||C.filter(Le=>Le.name.trim()&&Le.min>0&&Le.max>0).length===0,className:"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:bg-gray-300 disabled:cursor-not-allowed",children:r(u?"tournaments.saveChanges":"tournaments.createTournament")})]})]})]})})]})},zne=({isOpen:r,onClose:e,onConfirm:t,title:n,message:i,confirmText:s="Delete",cancelText:a="Cancel"})=>r?B.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:B.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 shadow-xl",children:[B.jsxs("div",{className:"flex items-center mb-4",children:[B.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3",children:B.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),B.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n})]}),B.jsx("p",{className:"text-gray-600 mb-6",children:i}),B.jsxs("div",{className:"flex gap-3 justify-end",children:[B.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200 font-medium",children:a}),B.jsx("button",{onClick:()=>{t(),e()},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200 font-medium",children:s})]})]})}):null,Vne=()=>B.jsx("div",{className:"flex items-center justify-center min-h-[300px] w-full",children:B.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}),qne=({fixtures:r,onFixtureSelect:e,onFixtureClose:t,activeFixtureId:n})=>{const{t:i}=Xn(),s=a=>{const o=r.find(l=>l.id===a);o&&t(a,o.name)};return!r||r.length===0?B.jsxs("div",{className:"text-center py-12",children:[B.jsx("div",{className:"relative",children:B.jsxs("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg border border-white/50 backdrop-blur-sm",children:[B.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100/20 to-purple-100/20 rounded-2xl"}),B.jsx("svg",{className:"w-10 h-10 text-blue-500 relative z-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})]})}),B.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:i("matches.noActiveFixtures")}),B.jsx("p",{className:"text-gray-600 text-sm",children:i("matches.startTournamentMessage")})]}):B.jsxs("div",{className:"space-y-6",children:[B.jsxs("div",{className:"flex items-center gap-4",children:[B.jsxs("div",{className:"relative",children:[B.jsx("div",{className:"p-3 rounded-2xl bg-gradient-to-br from-blue-500 via-indigo-500 to-purple-600 shadow-lg",children:B.jsx("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2"})})}),B.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gradient-to-br from-red-400 to-red-600 rounded-full flex items-center justify-center shadow-lg",children:B.jsx("span",{className:"text-white text-xs font-bold",children:r.length})})]}),B.jsxs("div",{children:[B.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 via-blue-900 to-indigo-900 bg-clip-text text-transparent leading-tight",children:i("matches.activeFixtures")}),B.jsxs("p",{className:"text-sm text-gray-500 font-medium",children:[r.length," ",i(r.length===1?"matches.fixture":"matches.fixtures")," ",i("matches.available")]})]})]}),B.jsx("div",{className:"-mx-2 mt-2 sm:mt-3",children:B.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2 snap-x snap-mandatory scroll-smooth px-2",children:r.map(a=>{const o=n===a.id,l={completed:{bg:"from-green-400 to-emerald-500"},active:{bg:"from-amber-400 to-orange-500"},pending:{bg:"from-blue-400 to-indigo-500"}},A=l[a.status]||l.pending;return B.jsx("div",{className:"shrink-0 w-72 sm:w-80 md:w-96 snap-start",children:B.jsx("div",{onClick:()=>e(a.id),className:`group relative cursor-pointer overflow-hidden rounded-2xl transition-colors duration-200 ${o?"bg-white border-2 border-blue-500":"bg-white/80 backdrop-blur-sm border border-gray-200/60 hover:border-blue-300"}`,children:B.jsxs("div",{className:"relative p-5",children:[B.jsxs("div",{className:"flex items-start justify-between gap-3 mb-4",children:[B.jsx("div",{className:"min-w-0 flex-1",children:B.jsx("h3",{className:"font-bold text-gray-900 text-base leading-tight group-hover:text-blue-700 transition-colors duration-200 line-clamp-2",children:a.name})}),B.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[B.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-bold bg-gradient-to-r ${A.bg} text-white`,children:[B.jsx("span",{className:"w-2 h-2 rounded-full bg-white/80"}),a.status==="completed"?i("matches.completed"):a.status==="active"?i("matches.inProgress"):i("matches.ready")]}),B.jsx("button",{onClick:c=>{c.stopPropagation(),s(a.id)},className:"p-2 rounded-xl border border-gray-200/60 text-gray-400 hover:text-red-500 hover:border-red-300 hover:bg-red-50 transition-colors duration-200",title:i("matches.deleteFixture"),children:B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0 1 16.138 21H7.862a2 2 0 0 1-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v3M4 7h16"})})})]})]}),B.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:B.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-xl text-xs font-semibold bg-gradient-to-r from-blue-100 to-indigo-100 text-blue-700 border border-blue-200/50",children:[B.jsx("svg",{className:"w-3.5 h-3.5 text-blue-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 0 1 9.288 0M15 7a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm6 3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM7 10a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"})}),a.playerCount," ",i("matches.players")]})}),B.jsx("div",{className:"flex items-center justify-end text-xs text-gray-500 border-t border-gray-100 pt-3",children:B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsx("svg",{className:"w-3.5 h-3.5 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 1 1-18 0 9 9 0 0 1 18 0z"})}),B.jsxs("span",{className:"font-medium",children:[i("matches.updated")," ",new Date(a.lastUpdated).toLocaleDateString()]})]})})]})})},a.id)})})})]})},Yne=({players:r,onMatchResult:e,onTournamentComplete:t})=>{if(r.length!==1)return B.jsx("div",{className:"p-4 text-center text-gray-600",children:"This component is designed for exactly 1 player only."});const n=r[0],[i,s]=z.useState(!1);return z.useEffect(()=>{i||(e("auto-win",n.id),t&&t({first:n.id}),s(!0))},[n.id,e,t,i]),B.jsxs("div",{className:"px-3 sm:px-6 py-6 bg-gray-50 min-h-screen",children:[B.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-blue-500",children:"Single Player Tournament"}),B.jsx("div",{className:"max-w-md mx-auto",children:B.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 border-2 border-green-300",children:B.jsxs("div",{className:"text-center",children:[B.jsx("div",{className:"text-6xl mb-4",children:"🏆"}),B.jsx("h3",{className:"text-xl font-bold text-green-700 mb-2",children:"CHAMPION"}),B.jsxs("div",{className:"bg-yellow-100 border-2 border-yellow-400 rounded-lg p-4",children:[B.jsxs("div",{className:"text-lg font-semibold text-gray-800",children:[n.name," ",n.surname]}),B.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Weight: ",n.weight," kg"]}),B.jsxs("div",{className:"text-sm text-gray-600",children:[n.gender==="male"?"Male":"Female"," • ",n.handPreference," hand"]}),n.birthday&&B.jsxs("div",{className:"text-sm text-gray-600",children:["Born: ",new Date(n.birthday).toLocaleDateString()]})]}),B.jsx("div",{className:"mt-4 text-sm text-gray-500",children:"Automatic winner by default"})]})})})]})},ph={WB1:{key:"WB1",displayName:"Winner Bracket Round 1",shortName:"WB R1",description:"Winner Bracket Round 1"},WB2:{key:"WB2",displayName:"Winner Bracket Round 2",shortName:"WB R2",description:"Winner Bracket Round 2"},WB3:{key:"WB3",displayName:"Winner Bracket Round 3",shortName:"WB R3",description:"Winner Bracket Round 3"},WB4:{key:"WB4",displayName:"Winner Bracket Round 4",shortName:"WB R4",description:"Winner Bracket Round 4"},WB5:{key:"WB5",displayName:"Winner Bracket Round 5",shortName:"WB R5",description:"Winner Bracket Round 5"},WB6:{key:"WB6",displayName:"Winner Bracket Round 6",shortName:"WB R6",description:"Winner Bracket Round 6"},WB7:{key:"WB7",displayName:"Winner Bracket Round 7",shortName:"WB R7",description:"Winner Bracket Round 7"},WB8:{key:"WB8",displayName:"Winner Bracket Round 8",shortName:"WB R8",description:"Winner Bracket Round 8"},WB_QuarterFinal:{key:"WB_QuarterFinal",displayName:"Winner Bracket Quarter Final",shortName:"WB QF",description:"Winner Bracket Quarter Final"},WB_SemiFinal:{key:"WB_SemiFinal",displayName:"Winner Bracket Semi Final",shortName:"WB SF",description:"Winner Bracket Semi Final"},LB1:{key:"LB1",displayName:"Loser Bracket Round 1",shortName:"LB R1",description:"Loser Bracket Round 1"},LB2:{key:"LB2",displayName:"Loser Bracket Round 2",shortName:"LB R2",description:"Loser Bracket Round 2"},LB3:{key:"LB3",displayName:"Loser Bracket Round 3",shortName:"LB R3",description:"Loser Bracket Round 3"},LB4:{key:"LB4",displayName:"Loser Bracket Round 4",shortName:"LB R4",description:"Loser Bracket Round 4"},LB5:{key:"LB5",displayName:"Loser Bracket Round 5",shortName:"LB R5",description:"Loser Bracket Round 5"},LB6:{key:"LB6",displayName:"Loser Bracket Round 6",shortName:"LB R6",description:"Loser Bracket Round 6"},LB7:{key:"LB7",displayName:"Loser Bracket Round 7",shortName:"LB R7",description:"Loser Bracket Round 7"},LB8:{key:"LB8",displayName:"Loser Bracket Round 8",shortName:"LB R8",description:"Loser Bracket Round 8"},LB9:{key:"LB9",displayName:"Loser Bracket Round 9",shortName:"LB R9",description:"Loser Bracket Round 9"},LB10:{key:"LB10",displayName:"Loser Bracket Round 10",shortName:"LB R10",description:"Loser Bracket Round 10"},LB11:{key:"LB11",displayName:"Loser Bracket Round 11",shortName:"LB R11",description:"Loser Bracket Round 11"},LB12:{key:"LB12",displayName:"Loser Bracket Round 12",shortName:"LB R12",description:"Loser Bracket Round 12"},LB13:{key:"LB13",displayName:"Loser Bracket Round 13",shortName:"LB R13",description:"Loser Bracket Round 13"},LB14:{key:"LB14",displayName:"Loser Bracket Round 14",shortName:"LB R14",description:"Loser Bracket Round 14"},LB15:{key:"LB15",displayName:"Loser Bracket Round 15",shortName:"LB R15",description:"Loser Bracket Round 15"},LB_Final:{key:"LB_Final",displayName:"Loser Bracket Final",shortName:"LB Final",description:"Loser Bracket Final"},"7-8":{key:"7-8",displayName:"7th/8th Place Match",shortName:"7th Place",description:"7th/8th Place Match"},"5-6":{key:"5-6",displayName:"5th/6th Place Match",shortName:"5th Place",description:"5th/6th Place Match"},"4-5":{key:"4-5",displayName:"4th/5th Place Match",shortName:"4th Place",description:"4th/5th Place Match"},"3-4":{key:"3-4",displayName:"3rd/4th Place Match",shortName:"3rd Place",description:"3rd/4th Place Match"},Final:{key:"Final",displayName:"Final",shortName:"WB Final",description:"Final"},GrandFinal:{key:"GrandFinal",displayName:"Grand Final",shortName:"Grand Final",description:"Grand Final"}},de={getRoundDescription:r=>ph[r]||{key:r,displayName:r,shortName:r,description:r},getDisplayName:r=>de.getRoundDescription(r).displayName,getShortName:r=>de.getRoundDescription(r).shortName,getDescription:r=>de.getRoundDescription(r).description,createMatchDescription:(r,e)=>{const t=de.getDescription(r);return e?`${t} - Match ${e}`:t},getAllRoundKeys:()=>Object.keys(ph),isValidRoundKey:r=>r in ph},wr=({matchId:r,fixtureId:e,player1Name:t,player2Name:n,winnerId:i,player1Id:s,player2Id:a,bracket:o,isBye:l,currentSelectedWinner:A,onWinnerSelect:c,onWinnerConfirm:u,matchTitle:f})=>{const{t:p}=Xn(),[I,F]=zt.useState(Ye.getMatchStatus(e||"default",r)),D=I==="active";zt.useEffect(()=>{F(Ye.getMatchStatus(e||"default",r))},[r,e]);const C=()=>{const Q=D?"waiting":"active";F(Q),Ye.setMatchStatus(e||"default",r,Q)},k=Q=>{if(!Q)return"";let V=l?Q.split(" - Bye")[0]:Q;const Z=/^(.*?)(?:\s*-\s*Match\s*(\d+))?$/i.exec(V);let q=V,G;Z&&(q=Z[1].trim(),G=Z[2]);const Y=Object.keys(ph).find(H=>{const te=ph[H];return te.description===q||te.displayName===q||te.shortName===q}),K=Y?p(`rounds.${Y}`):p(Q,{defaultValue:Q});return G?`${K} - ${p("matches.match")} ${G}`:K},U=Q=>{const V=(Q==null?void 0:Q.length)||0;return V<=18?"text-base lg:text-lg":V<=26?"text-sm lg:text-base":V<=34?"text-xs lg:text-sm":V<=44?"text-[11px] lg:text-xs":"text-[10px] lg:text-[11px]"};return B.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-2xl shadow-xl border border-gray-200 overflow-hidden hover:shadow-2xl transition-all duration-300 w-full max-w-md mx-auto md:max-w-md lg:max-w-full",children:[B.jsx("div",{className:`text-white p-3 md:p-3 lg:p-4 ${o==="loser"?"bg-gradient-to-r from-red-500 to-pink-500":o==="placement"?"bg-gradient-to-r from-purple-500 to-indigo-500":"bg-gradient-to-r from-green-500 to-emerald-500"}`,children:B.jsxs("div",{className:"text-center w-full",children:[B.jsx("div",{className:"text-lg md:text-xl font-bold mb-1 md:mb-2",children:k(f)}),B.jsx("button",{onClick:C,className:`mx-auto px-2 py-1 md:px-2 md:py-1.5 lg:md:px-3 lg:md:py-2 rounded-lg text-xs font-bold transition-all duration-300 shadow-md hover:shadow-lg ${D?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 hover:from-gray-200 hover:to-gray-300 border border-gray-300"}`,type:"button",children:B.jsx("div",{className:"flex items-center justify-center gap-1",children:D?B.jsxs(B.Fragment,{children:[B.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),B.jsx("span",{children:p("matches.matchInProgress")})]}):B.jsxs(B.Fragment,{children:[B.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full"}),B.jsx("span",{children:p("matches.matchWaiting")})]})})}),l&&B.jsxs("div",{className:"text-xs text-blue-100 bg-blue-500/30 px-2 py-1 rounded inline-block mt-1 md:mt-2",children:[p("matches.bye")," - ",p("matches.advancesToNextRound")]})]})}),B.jsxs("div",{className:"p-3 md:p-4 lg:p-6",children:[B.jsxs("div",{className:"flex flex-col lg:flex-row items-stretch justify-between mb-4 md:mb-4 lg:mb-6 gap-2 md:gap-3 lg:md:gap-4 min-w-0",children:[B.jsxs("div",{className:`flex-1 min-w-0 text-center p-3 md:p-3 lg:p-4 rounded-xl transition-all duration-200 cursor-pointer min-h-[100px] md:min-h-[120px] lg:min-h-[140px] flex flex-col ${i===s?"bg-green-100 border-2 border-green-400 shadow-lg ring-2 ring-green-300":A===s?"bg-green-50 border-2 border-green-300 shadow-md ring-2 ring-green-200":"bg-white border-2 border-gray-200 hover:border-green-300 hover:bg-green-50 hover:shadow-sm"}`,onClick:()=>c(s),children:[B.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[B.jsx("div",{className:`font-bold ${U(t)} text-gray-800 mb-1 break-words leading-snug`,children:t}),i===s&&B.jsx("div",{className:"mt-1 md:mt-2",children:B.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 md:px-3 md:py-1 rounded-full text-xs font-bold bg-green-500 text-white",children:["🏆 ",p("matches.winner")]})})]}),B.jsxs("div",{className:"flex items-center justify-center gap-1 md:gap-2",children:[B.jsx("span",{className:"text-base md:text-lg font-bold text-blue-600",children:"🅻"}),B.jsx("span",{className:"text-xs md:text-sm font-semibold text-gray-700 whitespace-nowrap",children:p("matches.leftTable")})]})]}),B.jsx("div",{className:"hidden lg:flex items-center justify-center px-1 md:px-2",children:B.jsx("div",{className:"text-xl md:text-2xl font-bold text-gray-400",children:p("matches.vs")})}),B.jsx("div",{className:"lg:hidden flex items-center justify-center py-1",children:B.jsx("div",{className:"text-xl font-bold text-gray-400",children:p("matches.vs")})}),B.jsxs("div",{className:`flex-1 min-w-0 text-center p-3 md:p-3 lg:p-4 rounded-xl transition-all duration-200 cursor-pointer min-h-[100px] md:min-h-[120px] lg:min-h-[140px] flex flex-col ${i===a?"bg-green-100 border-2 border-green-400 shadow-lg ring-2 ring-green-300":A===a?"bg-green-50 border-2 border-green-300 shadow-md ring-2 ring-green-200":"bg-white border-2 border-gray-200 hover:border-green-300 hover:bg-green-50 hover:shadow-sm"}`,onClick:()=>c(a),children:[B.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[B.jsx("div",{className:`font-bold ${U(n)} text-gray-800 mb-1 break-words leading-snug`,children:n}),i===a&&B.jsx("div",{className:"mt-1 md:mt-2",children:B.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 md:px-3 md:py-1 rounded-full text-xs font-bold bg-green-500 text-white",children:["🏆 ",p("matches.winner")]})})]}),B.jsxs("div",{className:"flex items-center justify-center gap-1 md:gap-2",children:[B.jsx("span",{className:"text-base md:text-lg font-bold text-blue-600",children:"🆁"}),B.jsx("span",{className:"text-xs md:text-sm font-semibold text-gray-700 whitespace-nowrap",children:p("matches.rightTable")})]})]})]}),!i&&a&&B.jsx("div",{className:"mt-4 md:mt-6 pt-3 md:pt-4 border-t border-gray-200",children:B.jsx("div",{className:"text-center",children:B.jsxs("button",{onClick:A?u:void 0,disabled:!A,className:`py-2 px-4 md:py-2 md:px-5 lg:md:py-3 lg:md:px-6 rounded-xl text-xs md:text-sm font-bold transition-all duration-200 shadow-lg transform ${A?"bg-gradient-to-r from-green-500 to-green-600 text-white hover:from-green-600 hover:to-green-700 hover:shadow-xl hover:scale-105 cursor-pointer":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:["✅ ",p("matches.confirmWinner")]})})})]})]})},Nn=({activeTab:r,onTabChange:e})=>{const{t}=Xn();return B.jsxs("div",{className:"tab-switcher",children:[B.jsx("button",{className:`tab-switcher-btn tab-switcher-btn-left tab-switcher-btn-blue ${r==="active"?"tab-switcher-btn-active tab-switcher-btn-active-blue":""}`,onClick:()=>e("active"),children:t("matches.tabActive")}),B.jsx("button",{className:`tab-switcher-btn tab-switcher-btn-purple ${r==="completed"?"tab-switcher-btn-active tab-switcher-btn-active-purple":""}`,onClick:()=>e("completed"),children:t("matches.tabCompleted")}),B.jsx("button",{className:`tab-switcher-btn tab-switcher-btn-right tab-switcher-btn-yellow ${r==="rankings"?"tab-switcher-btn-active tab-switcher-btn-active-yellow":""}`,onClick:()=>e("rankings"),children:t("matches.tabRankings")})]})},kn=({matches:r,getPlayerName:e})=>{const{t}=Xn(),[n,i]=z.useState(""),[s,a]=z.useState(!0),o=z.useMemo(()=>{let A=r.filter(c=>c.winnerId);if(s||(A=A.filter(c=>!c.isBye)),n.trim()){const c=n.toLowerCase().trim();A=A.filter(u=>{const f=e(u.player1Id).toLowerCase(),p=e(u.player2Id).toLowerCase();return f.includes(c)||p.includes(c)})}return A},[r,n,s,e]),l=A=>{if(!A)return"";const c=A.replace(/\s*-\s*Bye.*/i,"").trim(),u=/^(.*?)(?:\s*-\s*Match\s*(\d+))?$/i.exec(c);let f=c,p;u&&(f=u[1].trim(),p=u[2]);const I=Object.keys(ph).find(D=>{const C=ph[D];return C.description===f||C.displayName===f||C.shortName===f}),F=I?t(`rounds.${I}`):t(A,{defaultValue:A});return p?`${F} - ${t("matches.match")} ${p}`:F};return B.jsxs("div",{className:"w-full mx-auto mb-6 bg-transparent p-0 sm:bg-gray-50 sm:rounded-2xl sm:p-6",children:[B.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4 px-3 sm:px-0",children:[B.jsx("div",{className:"flex-1",children:B.jsxs("div",{className:"relative",children:[B.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:B.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),B.jsx("input",{type:"text",placeholder:t("completedMatches.searchPlayersPlaceholder"),value:n,onChange:A=>i(A.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-white text-gray-900 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})}),B.jsx("div",{className:"flex items-center",children:B.jsxs("button",{onClick:()=>a(!s),className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg font-semibold transition-all duration-200 ${s?"bg-blue-100 text-blue-800 hover:bg-blue-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t(s?"completedMatches.hideByeMatches":"completedMatches.showByeMatches")]})})]}),B.jsx("div",{className:"overflow-x-auto -mx-3 px-3 sm:mx-0 sm:px-0",children:B.jsxs("div",{className:"min-w-[980px]",children:[B.jsxs("div",{className:"w-full flex flex-row items-center justify-between bg-gradient-to-r from-blue-100 to-purple-100 rounded-xl px-6 py-4 shadow-sm sticky top-0 z-10",children:[B.jsx("div",{className:"flex-1 font-bold text-gray-900 text-base flex items-center gap-1",children:t("completedMatches.headers.matchNo")}),B.jsx("div",{className:"flex-1 font-bold text-gray-900 text-base flex items-center gap-1",children:t("completedMatches.headers.bracket")}),B.jsxs("div",{className:"flex-1 font-bold text-gray-900 text-base flex items-center gap-2",children:[B.jsx("span",{className:"text-2xl font-bold drop-shadow",children:"🆁"})," ",t("matches.rightTable")]}),B.jsxs("div",{className:"flex-1 font-bold text-gray-900 text-base flex items-center gap-2",children:[B.jsx("span",{className:"text-2xl font-bold drop-shadow",children:"🅻"})," ",t("matches.leftTable")]}),B.jsxs("div",{className:"flex-1 font-bold text-gray-900 text-base flex items-center gap-1",children:[B.jsx("span",{children:"🏆"})," ",t("matches.winner")]}),B.jsxs("div",{className:"flex-1 font-bold text-gray-900 text-base flex items-center gap-1",children:[B.jsx("span",{children:"❌"})," ",t("matches.loser")]})]}),B.jsx("div",{className:"max-h-[60vh] overflow-y-auto mt-2 pr-1",children:o.map((A,c)=>{const u=A.winnerId,f=A.player1Id===u?A.player2Id:A.player1Id,p=l(A.description)||A.id;return B.jsxs("div",{className:"flex flex-row items-center justify-between bg-white rounded-lg shadow-md px-6 py-4 transition-all duration-200 gap-2 overflow-hidden mb-1 hover:shadow-lg",children:[B.jsx("div",{className:"flex-1 font-semibold text-gray-500 text-base flex items-center gap-1",children:c+1}),B.jsx("div",{className:`flex-1 font-semibold text-base flex items-center gap-1 ${A.bracket==="loser"?"text-red-600":A.bracket==="placement"?"text-purple-600":"text-green-600"}`,children:p}),B.jsx("div",{className:"flex-1 text-gray-800 text-base flex items-center gap-1",children:A.isBye?e(A.player2Id)||t("matches.bye"):e(A.player2Id)||"—"}),B.jsx("div",{className:"flex-1 text-gray-800 text-base flex items-center gap-1",children:A.isBye?e(A.player1Id)||t("matches.bye"):e(A.player1Id)||"—"}),B.jsx("div",{className:"flex-1 flex items-center gap-2",children:B.jsx("span",{className:"inline-flex items-center gap-1 bg-green-100 text-green-900 font-black rounded-full px-3 py-1 text-base",children:A.isBye?t("matches.bye"):e(u)})}),B.jsx("div",{className:"flex-1 flex items-center gap-2",children:B.jsx("span",{className:"inline-flex items-center gap-1 bg-red-100 text-red-900 font-black rounded-full px-3 py-1 text-base",children:A.isBye?"—":e(f)})})]},A.id)})})]})})]})},Mn=({rankings:r,getPlayerName:e,playersLength:t})=>{const{t:n}=Xn(),i=[{key:"first",label:n("rankings.first"),icon:"🥇",color:"yellow",text:"text-yellow-800",bg:"bg-yellow-100",border:"border-yellow-400"},{key:"second",label:n("rankings.second"),icon:"🥈",color:"gray",text:"text-gray-700",bg:"bg-gray-100",border:"border-gray-400"},{key:"third",label:n("rankings.third"),icon:"🥉",color:"orange",text:"text-orange-700",bg:"bg-orange-100",border:"border-orange-400"},{key:"fourth",label:n("rankings.fourth"),icon:"🏅",color:"blue",text:"text-blue-700",bg:"bg-blue-100",border:"border-blue-400"},{key:"fifth",label:n("rankings.fifth"),icon:"🎖️",color:"purple",text:"text-purple-700",bg:"bg-purple-100",border:"border-purple-400"},{key:"sixth",label:n("rankings.sixth"),icon:"6️⃣",color:"pink",text:"text-pink-700",bg:"bg-pink-100",border:"border-pink-400"},{key:"seventh",label:n("rankings.seventh"),icon:"7️⃣",color:"green",text:"text-green-700",bg:"bg-green-100",border:"border-green-400"},{key:"eighth",label:n("rankings.eighth"),icon:"8️⃣",color:"red",text:"text-red-700",bg:"bg-red-100",border:"border-red-400"}],s=t?i.slice(0,t):i;return B.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-2 border-yellow-300 mb-6",children:[B.jsxs("h3",{className:"text-xl font-bold text-center mb-4 text-gray-800",children:["🏆 ",n("rankings.title")]}),B.jsx("div",{className:"space-y-4",children:s.map(a=>B.jsxs("div",{className:`flex items-center ${a.bg} border-2 ${a.border} rounded-lg p-4`,children:[B.jsx("div",{className:"text-3xl mr-4",children:a.icon}),B.jsxs("div",{children:[B.jsx("div",{className:`font-bold text-lg ${a.text}`,children:a.label}),B.jsx("div",{className:"text-gray-700",children:r[a.key]?e(r[a.key]):"—"})]})]},a.key))})]})},dt={createTabChangeHandler:(r,e)=>t=>{r(t),e&&Ye.updateFixtureActiveTab(e,t)},getInitialTab:r=>r?Ye.getFixtureActiveTab(r):"active"},n6=["Semifinal","Final","GrandFinal"],Xne=({players:r,onMatchResult:e,onTournamentComplete:t,fixtureId:n})=>{var T;const[i,s]=z.useState([]),[a,o]=z.useState({}),[l,A]=z.useState(!1),[c,u]=z.useState(dt.getInitialTab(n)),[f,p]=z.useState({}),[I,F]=z.useState([]),[D,C]=z.useState("Semifinal"),[k,U]=z.useState(!1),Q=dt.createTabChangeHandler(u,n),V=(_,L,v,E)=>{const x={matches:_,rankings:L,tournamentComplete:v,currentRoundKey:E,matchHistory:I,timestamp:new Date().toISOString()},g=r.map(w=>w.id).sort().join("-");Pe.saveDoubleEliminationState(2,g,x,n)},Z=()=>{try{const _=r.map(v=>v.id).sort().join("-"),L=Pe.getDoubleEliminationState(2,_,n);if(L)return s(L.matches||[]),o(L.rankings||[]),A(L.tournamentComplete||!1),C(L.currentRoundKey||"Semifinal"),F(L.matchHistory||[]),!0}catch{}return!1},q=()=>{const _=r.map(L=>L.id).sort().join("-");Pe.clearDoubleEliminationState(2,_,n)},G=()=>{if(r.length!==2)return;q();const _=[],L=[...r].sort(()=>Math.random()-.5);_.push({id:"semifinal",player1Id:L[0].id,player2Id:L[1].id,bracket:"winner",round:1,matchNumber:1,isBye:!1,description:de.getDescription("WB_SemiFinal")}),s(_),o({}),A(!1),C("Semifinal"),F([]),p({}),V(_,{},!1,"Semifinal")},Y=(_,L)=>{switch(_){case"Semifinal":return L.some(v=>v.id==="semifinal"&&v.winnerId);case"Final":return L.some(v=>v.id==="final"&&v.winnerId);case"GrandFinal":return L.some(v=>v.id==="grandfinal"&&v.winnerId);default:return!1}};function K(_){switch(_.id){case"semifinal":return"Semifinal";case"final":return"Final";case"grandfinal":return"GrandFinal";default:return"Semifinal"}}function H(_,L){switch(_){case"Final":{const v=L.find(E=>E.id==="semifinal");return v!=null&&v.winnerId?[{id:"final",player1Id:v.player2Id,player2Id:v.player1Id,bracket:"winner",round:2,matchNumber:1,isBye:!1,description:de.getDescription("Final")}]:[]}case"GrandFinal":{const v=L.find(E=>E.id==="semifinal");return v?[{id:"grandfinal",player1Id:v.player1Id,player2Id:v.player2Id,bracket:"winner",round:3,matchNumber:1,isBye:!1,description:de.getDescription("GrandFinal")}]:[]}default:return[]}}const te=(_,L)=>{k||F(W=>[...W,[...i]]);const v=i.map(W=>W.id===_?{...W,winnerId:L}:W),E=i.find(W=>W.id===_);if(!E)return;const x=E.player1Id===L?E.player2Id:E.player1Id;let g=v,w=a,h=l,y=D;if(_==="final"){const W=i.find(se=>se.id==="semifinal"),$=W==null?void 0:W.winnerId;if(L===$)w={first:L,second:x},h=!0;else{const se=H("GrandFinal",g);g=[...g,...se],y="GrandFinal"}}else if(_==="grandfinal")w={first:L,second:x},h=!0;else if(Y(D,g)){const W=n6[n6.indexOf(D)+1];if(W){const $=H(W,g);g=[...g,...$],y=W}}s(g),o(w),A(h),C(y);const d=k?I:[...I,[...i]],M={matches:g,rankings:w,tournamentComplete:h,currentRoundKey:y,matchHistory:d,timestamp:new Date().toISOString()},S=r.map(W=>W.id).sort().join("-");Pe.saveDoubleEliminationState(2,S,M,n),e&&e(_,L),h&&t&&t(w)};z.useEffect(()=>{i.length>0&&!l&&i.filter(L=>L.isBye&&!L.winnerId).forEach(L=>{L.player1Id&&!L.player2Id&&te(L.id,L.player1Id)})},[i,l]),z.useEffect(()=>{Z()||G()},[]);const ue=()=>{window.confirm("Turnuvayı sıfırlamak istediğinizden emin misiniz? Bu işlem geri alınamaz.")&&(q(),G(),p({}),F([]))},oe=_=>{const L=r.find(v=>v.id===_);return L?`${L.name} ${L.surname}`:"Unknown Player"},re=()=>{if(I.length>0){U(!0);const _=I[I.length-1],v=i.find(d=>{var M;return d.winnerId&&!((M=_.find(S=>S.id===d.id))!=null&&M.winnerId)});s(_),F(d=>d.slice(0,-1)),l&&A(!1);let E={...a};if(v){const d=v.id;(d==="final"||d==="grandfinal")&&(delete E.first,delete E.second)}o(E);const x=_[_.length-1];if(x){const d=K(x);C(d)}const g=_.map(d=>d.id);p(d=>{const M={...d};return Object.keys(M).forEach(S=>{g.includes(S)||delete M[S]}),M});const w=I.slice(0,-1),h={matches:_,rankings:E,tournamentComplete:!1,currentRoundKey:K(_[_.length-1]||_[0]),matchHistory:w,timestamp:new Date().toISOString()},y=r.map(d=>d.id).sort().join("-");Pe.saveDoubleEliminationState(2,y,h,n),setTimeout(()=>{U(!1)},100)}},J=_=>{const L=oe(_.player1Id),v=_.player2Id?oe(_.player2Id):"Bye",E=f[_.id]||null,x=h=>{p(y=>({...y,[_.id]:h}))},g=()=>{const h=f[_.id];h&&te(_.id,h)},w=()=>{p(h=>({...h,[_.id]:null}))};return B.jsx(wr,{matchId:_.id,fixtureId:n,player1Name:L,player2Name:v,winnerId:_.winnerId,player1Id:_.player1Id||"",player2Id:_.player2Id||"",bracket:_.bracket,round:_.round,matchNumber:_.matchNumber,isBye:_.isBye,matchTitle:_.description,currentSelectedWinner:E,onWinnerSelect:x,onWinnerConfirm:g,onSelectionCancel:w,playersLength:r.length})},O=i.filter(_=>!_.winnerId),j=i.filter(_=>_.winnerId);return B.jsxs("div",{className:"px-3 sm:px-6 py-6 bg-gray-50 min-h-screen",children:[n&&B.jsx("h2",{className:"text-2xl font-bold text-center mb-2 text-gray-900",children:((T=Ye.getFixtureById(n))==null?void 0:T.name)||""}),B.jsx(Nn,{activeTab:c,onTabChange:Q}),c==="active"&&B.jsx("div",{className:"flex justify-center gap-4 mb-4",children:I.length>0&&B.jsxs("button",{onClick:re,className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg shadow hover:from-blue-600 hover:to-blue-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Bir Önceki Maç"]})}),c==="rankings"&&B.jsx("div",{className:"flex justify-end mb-4",children:B.jsxs("button",{onClick:ue,className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg shadow hover:from-red-600 hover:to-red-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Turnuvayı Sıfırla"]})}),c==="active"&&B.jsx("div",{className:"flex flex-wrap justify-center gap-4 max-w-6xl mx-auto",children:O.length===0?B.jsx("div",{className:"max-w-4xl mx-auto",children:B.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl p-8 text-center shadow-lg",children:B.jsxs("div",{className:"mb-6",children:[B.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:B.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),B.jsx("h2",{className:"text-3xl font-bold text-green-800 mb-2",children:"🏆 Turnuva Tamamlandı!"}),B.jsx("p",{className:"text-green-700 text-lg mb-2",children:(()=>{const _=i.filter(v=>v.winnerId).length;let L=i.length;return`${_} / ${L} maç başarıyla tamamlandı.`})()}),B.jsx("p",{className:"text-green-700 text-lg mb-6",children:"Sonuçları ve sıralamaları görmek için aşağıdaki butona tıklayın."}),B.jsxs("button",{onClick:()=>Q("rankings"),className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold rounded-lg shadow-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200 transform hover:scale-105",children:[B.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2m0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Sıralama Sekmesine Git"]})]})})}):O.map(_=>B.jsx("div",{className:"w-full sm:w-80 md:w-96",children:J(_)},_.id))}),c==="completed"&&B.jsx(kn,{matches:j,players:r,getPlayerName:oe}),c==="rankings"&&B.jsx(Mn,{rankings:a,players:r,getPlayerName:oe,playersLength:r.length})]})},i6=["WB1","WB2","LB1","Final","GrandFinal"],Jne=({players:r,onMatchResult:e,onTournamentComplete:t,fixtureId:n})=>{var T;const[i,s]=z.useState([]),[a,o]=z.useState({}),[l,A]=z.useState(!1),[c,u]=z.useState(dt.getInitialTab(n)),[f,p]=z.useState({}),[I,F]=z.useState([]),[D,C]=z.useState("WB1"),[k,U]=z.useState(!1),Q=dt.createTabChangeHandler(u,n),V=(_,L,v,E)=>{const x={matches:_,rankings:L,tournamentComplete:v,currentRoundKey:E,matchHistory:I,timestamp:new Date().toISOString()},g=r.map(w=>w.id).sort().join("-");Pe.saveDoubleEliminationState(3,g,x,n)},Z=()=>{try{const _=r.map(v=>v.id).sort().join("-"),L=Pe.getDoubleEliminationState(3,_,n);if(L)return s(L.matches||[]),o(L.rankings||{}),A(L.tournamentComplete||!1),C(L.currentRoundKey||"WB1"),F(L.matchHistory||[]),!0}catch{}return!1},q=()=>{const _=r.map(L=>L.id).sort().join("-");Pe.clearDoubleEliminationState(3,_,n)},G=()=>{if(r.length!==3)return;q();const _=[],L=[...r].sort(()=>Math.random()-.5);_.push({id:"wb1",player1Id:L[0].id,player2Id:L[1].id,bracket:"winner",round:1,matchNumber:1,isBye:!1,description:de.getDescription("WB1")}),s(_),o({}),A(!1),C("WB1"),F([]),p({}),V(_,{},!1,"WB1")},Y=(_,L)=>{switch(_){case"WB1":return L.some(v=>v.id==="wb1"&&v.winnerId);case"WB2":return L.some(v=>v.id==="wb2"&&v.winnerId);case"LB1":return L.some(v=>v.id==="lb1"&&v.winnerId);case"Final":return L.some(v=>v.id==="final"&&v.winnerId);case"GrandFinal":return L.some(v=>v.id==="grandfinal"&&v.winnerId);default:return!1}};function K(_){switch(_.id){case"wb1":return"WB1";case"wb2":return"WB2";case"lb1":return"LB1";case"final":return"Final";case"grandfinal":return"GrandFinal";default:return"WB1"}}function H(_,L){switch(_){case"WB2":{const v=L.find(E=>E.id==="wb1");if(v!=null&&v.winnerId){const E=v.player1Id===v.winnerId?v.player2Id:v.player1Id,x=r.find(g=>g.id!==v.winnerId&&g.id!==E);return[{id:"wb2",player1Id:v.winnerId,player2Id:x.id,bracket:"winner",round:2,matchNumber:1,isBye:!1,description:de.getDescription("WB_SemiFinal")}]}return[]}case"LB1":{const v=L.find(x=>x.id==="wb1"),E=L.find(x=>x.id==="wb2");if(v!=null&&v.winnerId&&(E!=null&&E.winnerId)){const x=v.player1Id===v.winnerId?v.player2Id:v.player1Id,g=E.player1Id===E.winnerId?E.player2Id:E.player1Id;return[{id:"lb1",player1Id:x,player2Id:g,bracket:"loser",round:1,matchNumber:1,isBye:!1,description:de.getDescription("LB_Final")}]}return[]}case"Final":{const v=L.find(x=>x.id==="wb2"),E=L.find(x=>x.id==="lb1");return v!=null&&v.winnerId&&(E!=null&&E.winnerId)?[{id:"final",player1Id:v.winnerId,player2Id:E.winnerId,bracket:"winner",round:3,matchNumber:1,isBye:!1,description:de.getDescription("Final")}]:[]}case"GrandFinal":{const v=L.find(x=>x.id==="wb2"),E=L.find(x=>x.id==="final");return v!=null&&v.winnerId&&(E!=null&&E.winnerId)&&E.winnerId!==v.winnerId?[{id:"grandfinal",player1Id:v.winnerId,player2Id:E.winnerId,bracket:"winner",round:4,matchNumber:1,isBye:!1,description:de.getDescription("GrandFinal")}]:[]}default:return[]}}const te=(_,L)=>{k||F(W=>[...W,[...i]]);const v=i.map(W=>W.id===_?{...W,winnerId:L}:W),E=i.find(W=>W.id===_);if(!E)return;const x=E.player1Id===L?E.player2Id:E.player1Id;let g=v,w=a,h=l,y=D;if(Y(D,g)){const W=i6[i6.indexOf(D)+1];if(W){const $=H(W,g);g=[...g,...$],y=W}}if(_==="lb1")w={...w,third:x};else if(_==="final"){const W=i.find(se=>se.id==="wb2"),$=i.find(se=>se.id==="lb1");L===(W==null?void 0:W.winnerId)&&(w={first:L,second:x,third:($==null?void 0:$.player1Id)===($==null?void 0:$.winnerId)?$==null?void 0:$.player2Id:$==null?void 0:$.player1Id},h=!0)}else if(_==="grandfinal"){const W=i.find($=>$.id==="lb1");w={first:L,second:x,third:(W==null?void 0:W.player1Id)===(W==null?void 0:W.winnerId)?W==null?void 0:W.player2Id:W==null?void 0:W.player1Id},h=!0}h||(o(w),V(g,w,!1,y)),s(g),o(w),A(h),C(y);const d=k?I:[...I,[...i]],M={matches:g,rankings:w,tournamentComplete:h,currentRoundKey:y,matchHistory:d,timestamp:new Date().toISOString()},S=r.map(W=>W.id).sort().join("-");Pe.saveDoubleEliminationState(3,S,M,n),e&&e(_,L),h&&t&&t(w)};z.useEffect(()=>{i.length>0&&!l&&i.filter(L=>L.isBye&&!L.winnerId).forEach(L=>{L.player1Id&&!L.player2Id&&te(L.id,L.player1Id)})},[i,l]),z.useEffect(()=>{Z()||G()},[]);const ue=()=>{window.confirm("Turnuvayı sıfırlamak istediğinizden emin misiniz? Bu işlem geri alınamaz.")&&(q(),G(),p({}),F([]))},oe=_=>{const L=r.find(v=>v.id===_);return L?`${L.name} ${L.surname}`:"Unknown Player"},re=()=>{if(I.length>0){U(!0);const _=I[I.length-1],v=i.find(d=>{var M;return d.winnerId&&!((M=_.find(S=>S.id===d.id))!=null&&M.winnerId)});s(_),F(d=>d.slice(0,-1)),l&&A(!1);let E={...a};if(v){const d=v.id;d==="final"||d==="grandfinal"?(delete E.first,delete E.second):d==="lb1"&&delete E.third}o(E);const x=_[_.length-1];if(x){const d=K(x);C(d)}const g=_.map(d=>d.id);p(d=>{const M={...d};return Object.keys(M).forEach(S=>{g.includes(S)||delete M[S]}),M});const w=I.slice(0,-1),h={matches:_,rankings:E,tournamentComplete:!1,currentRoundKey:K(_[_.length-1]||_[0]),matchHistory:w,timestamp:new Date().toISOString()},y=r.map(d=>d.id).sort().join("-");Pe.saveDoubleEliminationState(3,y,h,n),setTimeout(()=>{U(!1)},100)}},J=_=>{if(_.id==="final"){const h=oe(_.player2Id),y=_.player1Id?oe(_.player1Id):"Bye",d=f[_.id]||null;return B.jsx(wr,{matchId:_.id,fixtureId:n,player1Name:h,player2Name:y,winnerId:_.winnerId,player1Id:_.player2Id||"",player2Id:_.player1Id||"",bracket:_.bracket,round:_.round,matchNumber:_.matchNumber,isBye:_.isBye,matchTitle:_.description,currentSelectedWinner:d,onWinnerSelect:M=>p(S=>({...S,[_.id]:M})),onWinnerConfirm:()=>{const M=f[_.id];M&&te(_.id,M)},onSelectionCancel:()=>p(M=>({...M,[_.id]:null})),playersLength:r.length})}const L=oe(_.player1Id),v=_.player2Id?oe(_.player2Id):"Bye",E=f[_.id]||null,x=h=>{p(y=>({...y,[_.id]:h}))},g=()=>{const h=f[_.id];h&&te(_.id,h)},w=()=>{p(h=>({...h,[_.id]:null}))};return B.jsx(wr,{matchId:_.id,fixtureId:n,player1Name:L,player2Name:v,winnerId:_.winnerId,player1Id:_.player1Id||"",player2Id:_.player2Id||"",bracket:_.bracket,round:_.round,matchNumber:_.matchNumber,isBye:_.isBye,matchTitle:_.description,currentSelectedWinner:E,onWinnerSelect:x,onWinnerConfirm:g,onSelectionCancel:w,playersLength:r.length})},O=i.filter(_=>!_.winnerId),j=i.filter(_=>_.winnerId);return B.jsxs("div",{className:"px-3 sm:px-6 py-6 bg-gray-50 min-h-screen",children:[n&&B.jsx("h2",{className:"text-2xl font-bold text-center mb-2 text-gray-900",children:((T=Ye.getFixtureById(n))==null?void 0:T.name)||""}),B.jsx(Nn,{activeTab:c,onTabChange:Q}),c==="active"&&B.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[B.jsxs("button",{onClick:ue,className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg shadow hover:from-red-600 hover:to-red-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Turnuvayı Sıfırla"]}),I.length>0&&B.jsxs("button",{onClick:re,className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg shadow hover:from-blue-600 hover:to-blue-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Bir Önceki Maç"]})]}),c==="active"&&B.jsx("div",{className:"flex flex-wrap justify-center gap-4 max-w-6xl mx-auto",children:O.length===0?B.jsx("div",{className:"max-w-4xl mx-auto",children:B.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl p-8 text-center shadow-lg",children:B.jsxs("div",{className:"mb-6",children:[B.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:B.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),B.jsx("h2",{className:"text-3xl font-bold text-green-800 mb-2",children:"🏆 Turnuva Tamamlandı!"}),B.jsx("p",{className:"text-green-700 text-lg mb-2",children:(()=>{const _=i.filter(v=>v.winnerId).length;let L=i.length;return`${_} / ${L} maç başarıyla tamamlandı.`})()}),B.jsx("p",{className:"text-green-700 text-lg mb-6",children:"Sonuçları ve sıralamaları görmek için aşağıdaki butona tıklayın."}),B.jsxs("button",{onClick:()=>Q("rankings"),className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold rounded-lg shadow-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200 transform hover:scale-105",children:[B.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2m0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Sıralama Sekmesine Git"]})]})})}):O.map(_=>B.jsx("div",{className:"w-full sm:w-80 md:w-96",children:J(_)},_.id))}),c==="completed"&&B.jsx(kn,{matches:j,players:r,getPlayerName:oe}),c==="rankings"&&B.jsx(Mn,{rankings:a,players:r,getPlayerName:oe,playersLength:r.length})]})},JI=["WB_QuarterFinal","LB_Final1","WB_SemiFinal","LB_Final","Final","GrandFinal"],Zne=({players:r,onTournamentComplete:e,fixtureId:t})=>{var oe;const[n,i]=z.useState([]),[s,a]=z.useState({}),[o,l]=z.useState(!1),[A,c]=z.useState(dt.getInitialTab(t)),[u,f]=z.useState({}),[p,I]=z.useState([]),[F,D]=z.useState("WB_QuarterFinal"),[C,k]=z.useState(!1),U=(re,J,O,j)=>{const T={matches:re,rankings:J,tournamentComplete:O,currentRoundKey:j,matchHistory:p,timestamp:new Date().toISOString()},_=r.map(L=>L.id).sort().join("-");Pe.saveDoubleEliminationState(4,_,T,t)},Q=()=>{try{const re=r.map(O=>O.id).sort().join("-"),J=Pe.getDoubleEliminationState(4,re,t);if(J)return i(J.matches||[]),a(J.rankings||{}),l(J.tournamentComplete||!1),D(J.currentRoundKey||"WB_QuarterFinal"),I(J.matchHistory||[]),!0}catch{}return!1},V=()=>{const re=r.map(J=>J.id).sort().join("-");Pe.clearDoubleEliminationState(4,re,t)},Z=()=>{if(r.length!==4)return;V();const re=[...r].sort(()=>Math.random()-.5),J=[{id:"wbqf-1",player1Id:re[0].id,player2Id:re[1].id,bracket:"winner",round:1,matchNumber:1,isBye:!1,description:de.getDescription("WB_QuarterFinal")},{id:"wbqf-2",player1Id:re[2].id,player2Id:re[3].id,bracket:"winner",round:1,matchNumber:2,isBye:!1,description:de.getDescription("WB_QuarterFinal")}];i(J),a({}),l(!1),D("WB_QuarterFinal"),U(J,{},!1,"WB_QuarterFinal")};z.useEffect(()=>{r.length===4&&(Q()||Z())},[r]);function q(re){return re.id.startsWith("wbqf")?"WB_QuarterFinal":re.id==="lbfinal1"?"LB_Final1":re.id==="wbsemi"?"WB_SemiFinal":re.id==="lbfinal"?"LB_Final":re.id==="final"?"Final":re.id==="grandfinal"?"GrandFinal":"WB_QuarterFinal"}function G(re,J){const O=J.filter(j=>q(j)===re);return O.length>0&&O.every(j=>j.winnerId)}z.useEffect(()=>{if(n.length===0)return;const re=JI.indexOf(F);if(re===-1||re===JI.length-1||!G(F,n))return;const J=JI[re+1],O=Y(J,n);O.length>0&&(i([...n,...O]),D(J),U([...n,...O],s,o,J))},[n,F]);function Y(re,J){switch(re){case"LB_Final1":{const O=J.find(T=>T.id==="wbqf-1"),j=J.find(T=>T.id==="wbqf-2");return O!=null&&O.winnerId&&(j!=null&&j.winnerId)?[{id:"lbfinal1",player1Id:O.player1Id===O.winnerId?O.player2Id:O.player1Id,player2Id:j.player1Id===j.winnerId?j.player2Id:j.player1Id,bracket:"loser",round:2,matchNumber:1,isBye:!1,description:de.getDescription("LB1")}]:[]}case"WB_SemiFinal":{const O=J.find(T=>T.id==="wbqf-1"),j=J.find(T=>T.id==="wbqf-2");return O!=null&&O.winnerId&&(j!=null&&j.winnerId)?[{id:"wbsemi",player1Id:O.winnerId,player2Id:j.winnerId,bracket:"winner",round:3,matchNumber:1,isBye:!1,description:de.getDescription("WB_SemiFinal")}]:[]}case"LB_Final":{const O=J.find(T=>T.id==="lbfinal1"),j=J.find(T=>T.id==="wbsemi");if(O!=null&&O.winnerId&&(j!=null&&j.winnerId)){const T=j.player1Id===j.winnerId?j.player2Id:j.player1Id;return[{id:"lbfinal",player1Id:O.winnerId,player2Id:T,bracket:"loser",round:4,matchNumber:1,isBye:!1,description:de.getDescription("LB_Final")}]}return[]}case"Final":{const O=J.find(_=>_.id==="wbsemi"),j=J.find(_=>_.id==="lbfinal1"),T=J.find(_=>_.id==="lbfinal");if(O!=null&&O.winnerId&&(j!=null&&j.winnerId)){const _=(T==null?void 0:T.winnerId)||j.winnerId;return[{id:"final",player1Id:O.winnerId,player2Id:_,bracket:"winner",round:5,matchNumber:1,isBye:!1,description:de.getDescription("Final")}]}return[]}case"GrandFinal":{const O=J.find(T=>T.id==="final"),j=J.find(T=>T.id==="wbsemi");return O!=null&&O.winnerId&&(j!=null&&j.winnerId)&&O.winnerId!==j.winnerId?[{id:"grandfinal",player1Id:j.winnerId,player2Id:O.winnerId,bracket:"winner",round:6,matchNumber:1,isBye:!1,description:de.getDescription("GrandFinal")}]:[]}default:return[]}}z.useEffect(()=>{if(!o){const re=n.find(E=>E.id==="final"&&E.winnerId),J=n.find(E=>E.id==="grandfinal"&&E.winnerId),O=n.find(E=>E.id==="lbfinal1"&&E.winnerId),j=n.find(E=>E.id==="lbfinal"&&E.winnerId);let T="",_="",L="",v="";if(O&&(v=O.player1Id===O.winnerId?O.player2Id:O.player1Id),j&&(L=j.player1Id===j.winnerId?j.player2Id:j.player1Id),J)T=J.winnerId,_=J.player1Id===J.winnerId?J.player2Id:J.player1Id,a({first:T,second:_,third:L,fourth:v}),l(!0),U(n,{first:T,second:_,third:L,fourth:v},!0,F),e&&e({first:T,second:_,third:L,fourth:v});else if(re){const E=n.find(x=>x.id==="wbsemi"&&x.winnerId);re.winnerId===(E==null?void 0:E.winnerId)&&(T=re.winnerId,_=re.player1Id===re.winnerId?re.player2Id:re.player1Id,a({first:T,second:_,third:L,fourth:v}),l(!0),U(n,{first:T,second:_,third:L,fourth:v},!0,F),e&&e({first:T,second:_,third:L,fourth:v}))}}},[n,o]);const K=re=>{const J=r.find(O=>O.id===re);return J?`${J.name} ${J.surname}`:"Unknown"},H=()=>{if(p.length>0){k(!0);const re=p[p.length-1],O=n.find(x=>{var g;return x.winnerId&&!((g=re.find(w=>w.id===x.id))!=null&&g.winnerId)});i(re),I(x=>x.slice(0,-1)),o&&l(!1);let j={...s};if(O){const x=O.id;x==="final"||x==="grandfinal"?(delete j.first,delete j.second):(x==="lb-final"||x==="lb-final1")&&(delete j.third,delete j.fourth)}a(j);const T=re[re.length-1];if(T){const x=q(T);D(x)}const _=re.map(x=>x.id);f(x=>{const g={...x};return Object.keys(g).forEach(w=>{_.includes(w)||delete g[w]}),g});const L=p.slice(0,-1),v={matches:re,rankings:j,tournamentComplete:!1,currentRoundKey:q(re[re.length-1]||re[0]),matchHistory:L,timestamp:new Date().toISOString()},E=r.map(x=>x.id).sort().join("-");Pe.saveDoubleEliminationState(4,E,v,t),setTimeout(()=>{k(!1)},100)}},te=re=>{if(re.id==="grandfinal"){const v=K(re.player2Id),E=re.player1Id?K(re.player1Id):"TBD",x=u[re.id]||null;return B.jsx(wr,{matchId:re.id,fixtureId:t,player1Name:v,player2Name:E,winnerId:re.winnerId,player1Id:re.player2Id||"",player2Id:re.player1Id||"",bracket:re.bracket,round:re.round,matchNumber:re.matchNumber,isBye:re.isBye,matchTitle:re.description,currentSelectedWinner:x,onWinnerSelect:g=>{re.winnerId||f(w=>({...w,[re.id]:g}))},onWinnerConfirm:()=>{x&&(C||I(g=>[...g,[...n]]),f(g=>({...g,[re.id]:null})),i(n.map(g=>g.id===re.id?{...g,winnerId:x}:g)))},onSelectionCancel:()=>{f(g=>({...g,[re.id]:null}))},playersLength:r.length})}const J=K(re.player1Id),O=re.player2Id?K(re.player2Id):"TBD",j=u[re.id]||null,T=v=>{re.winnerId||f(E=>({...E,[re.id]:v}))},_=()=>{j&&(C||I(v=>[...v,[...n]]),f(v=>({...v,[re.id]:null})),i(n.map(v=>v.id===re.id?{...v,winnerId:j}:v)))},L=()=>{f(v=>({...v,[re.id]:null}))};return B.jsx(wr,{matchId:re.id,fixtureId:t,player1Name:J,player2Name:O,winnerId:re.winnerId,player1Id:re.player1Id,player2Id:re.player2Id,bracket:re.bracket,round:re.round,matchNumber:re.matchNumber,isBye:re.isBye,currentSelectedWinner:j,onWinnerSelect:T,onWinnerConfirm:_,onSelectionCancel:L,playersLength:r.length,matchTitle:re.description})};if(r.length!==4)return B.jsxs("div",{className:"text-center p-8",children:[B.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Hata"}),B.jsx("p",{className:"text-gray-600",children:"4 kişilik turnuva için tam olarak 4 oyuncu gerekli."}),B.jsxs("p",{className:"text-gray-600",children:["Mevcut oyuncu sayısı: ",r.length]})]});const ue=n.filter(re=>!re.winnerId);return B.jsxs("div",{className:"px-3 sm:px-6 py-6 bg-gray-50 min-h-screen",children:[t&&B.jsx("h2",{className:"text-2xl font-bold text-center mb-2 text-gray-900",children:((oe=Ye.getFixtureById(t))==null?void 0:oe.name)||""}),B.jsx(Nn,{activeTab:A,onTabChange:dt.createTabChangeHandler(c,t)}),A==="active"&&B.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[B.jsxs("button",{onClick:()=>{window.confirm("Turnuvayı sıfırlamak istediğinizden emin misiniz? Bu işlem geri alınamaz.")&&(V(),Z(),f({}),I([]))},className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg shadow hover:from-red-600 hover:to-red-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Turnuvayı Sıfırla"]}),p.length>0&&B.jsxs("button",{onClick:H,className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg shadow hover:from-blue-600 hover:to-blue-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Bir Önceki Maç"]})]}),A==="active"&&B.jsx("div",{className:"flex flex-wrap justify-center gap-4 max-w-6xl mx-auto",children:ue.length===0?B.jsx("div",{className:"max-w-4xl mx-auto",children:B.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl p-8 text-center shadow-lg",children:B.jsxs("div",{className:"mb-6",children:[B.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:B.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),B.jsx("h2",{className:"text-3xl font-bold text-green-800 mb-2",children:"🏆 Turnuva Tamamlandı!"}),B.jsx("p",{className:"text-green-700 text-lg mb-2",children:(()=>{const re=n.filter(O=>O.winnerId).length;let J=n.length;return`${re} / ${J} maç başarıyla tamamlandı.`})()}),B.jsx("p",{className:"text-green-700 text-lg mb-6",children:"Sonuçları ve sıralamaları görmek için aşağıdaki butona tıklayın."}),B.jsxs("button",{onClick:()=>dt.createTabChangeHandler(c,t)("rankings"),className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold rounded-lg shadow-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200 transform hover:scale-105",children:[B.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2m0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Sıralama Sekmesine Git"]})]})})}):ue.map(re=>B.jsx("div",{className:"w-full sm:w-80 md:w-96",children:te(re)},re.id))}),A==="completed"&&B.jsx(kn,{matches:n,players:r,getPlayerName:K}),A==="rankings"&&B.jsx(Mn,{rankings:s,players:r,getPlayerName:K,playersLength:r.length})]})},s6=["WB1","WB2","LB1","WB3","LB2","LB_Final","Place45","Final","GrandFinal"],eie=({players:r,onMatchResult:e,onTournamentComplete:t,fixtureId:n})=>{var J;const[i,s]=z.useState([]),[a,o]=z.useState({}),[l,A]=z.useState(!1),[c,u]=z.useState("WB1"),[f,p]=z.useState(dt.getInitialTab(n)),[I,F]=z.useState({}),[D,C]=z.useState([]),[k,U]=z.useState(!1),Q=(O,j,T,_)=>{const L={matches:O,rankings:j,tournamentComplete:T,currentRoundKey:_,matchHistory:D,timestamp:new Date().toISOString()},v=r.map(E=>E.id).sort().join("-");Pe.saveDoubleEliminationState(5,v,L,n)},V=()=>{try{const O=r.map(T=>T.id).sort().join("-"),j=Pe.getDoubleEliminationState(5,O,n);if(j)return s(j.matches||[]),o(j.rankings||{}),A(j.tournamentComplete||!1),u(j.currentRoundKey||"WB1"),C(j.matchHistory||[]),!0}catch{}return!1},Z=()=>{const O=r.map(j=>j.id).sort().join("-");Pe.clearDoubleEliminationState(5,O,n)},q=()=>{if(r.length!==5)return;Z();const O=[...r].sort(()=>Math.random()-.5),j=[{id:"wb1",player1Id:O[0].id,player2Id:O[1].id,bracket:"winner",round:1,matchNumber:1,isBye:!1,description:de.getDescription("WB1")},{id:"wb1_bye_2",player1Id:O[2].id,player2Id:"",winnerId:O[2].id,bracket:"winner",round:1,matchNumber:2,isBye:!0,description:`${de.createMatchDescription("WB1",2)} - Bye`},{id:"wb1_bye_3",player1Id:O[3].id,player2Id:"",winnerId:O[3].id,bracket:"winner",round:1,matchNumber:3,isBye:!0,description:`${de.createMatchDescription("WB1",3)} - Bye`},{id:"wb1_bye_4",player1Id:O[4].id,player2Id:"",winnerId:O[4].id,bracket:"winner",round:1,matchNumber:4,isBye:!0,description:`${de.createMatchDescription("WB1",4)} - Bye`}];s(j),o({}),A(!1),u("WB1"),F({}),C([])},G=(O,j)=>{switch(O){case"WB1":return j.some(T=>T.id==="wb1"&&T.winnerId);case"WB2":return j.filter(T=>T.id.startsWith("wb2-")&&T.winnerId).length===2;case"LB1":return j.some(T=>T.id==="lb1"&&T.winnerId);case"WB3":return j.some(T=>T.id==="wb3"&&T.winnerId);case"LB2":return j.some(T=>T.id==="lb2"&&T.winnerId);case"LB_Final":return j.some(T=>T.id==="lb_final"&&T.winnerId);case"Place45":return j.some(T=>T.id==="place45"&&T.winnerId);case"Final":return j.some(T=>T.id==="final"&&T.winnerId);case"GrandFinal":return j.some(T=>T.id==="grandfinal"&&T.winnerId);default:return!1}};function Y(O){return O.id==="wb1"?"WB1":O.id.startsWith("wb2-")?"WB2":O.id==="lb1"?"LB1":O.id==="wb3"?"WB3":O.id==="lb2"?"LB2":O.id==="lb_final"?"LB_Final":O.id==="place45"?"Place45":O.id==="final"?"Final":O.id==="grandfinal"?"GrandFinal":"WB1"}function K(O,j){switch(O){case"WB2":{const T=j.find(E=>E.id==="wb1");if(!(T!=null&&T.winnerId))return[];const _=T.player1Id,L=T.player2Id,v=r.filter(E=>E.id!==_&&E.id!==L);return[{id:"wb2-1",player1Id:v[0].id,player2Id:v[1].id,bracket:"winner",round:2,matchNumber:1,isBye:!1,description:de.getDescription("WB_QuarterFinal")},{id:"wb2-2",player1Id:T.winnerId,player2Id:v[2].id,bracket:"winner",round:2,matchNumber:2,isBye:!1,description:de.getDescription("WB_QuarterFinal")}]}case"LB1":{const _=j.filter(L=>L.id.startsWith("wb2-")).map(L=>L.player1Id===L.winnerId?L.player2Id:L.player1Id).filter(Boolean);return _.length===2?[{id:"lb1",player1Id:_[0],player2Id:_[1],bracket:"loser",round:1,matchNumber:1,isBye:!1,description:de.getDescription("LB1")}]:[]}case"WB3":{const T=j.filter(_=>_.id.startsWith("wb2-")&&_.winnerId);return T.length===2?[{id:"wb3",player1Id:T[0].winnerId,player2Id:T[1].winnerId,bracket:"winner",round:3,matchNumber:1,isBye:!1,description:de.getDescription("WB_SemiFinal")}]:[]}case"LB2":{const T=j.find(L=>L.id==="wb1"),_=j.find(L=>L.id==="lb1");return T&&(_!=null&&_.winnerId)?[{id:"lb2",player1Id:T.player1Id===T.winnerId?T.player2Id:T.player1Id,player2Id:_.winnerId,bracket:"loser",round:2,matchNumber:1,isBye:!1,description:de.getDescription("LB2")}]:[]}case"LB_Final":{const T=j.find(L=>L.id==="wb3"),_=j.find(L=>L.id==="lb2");return T&&(_!=null&&_.winnerId)?[{id:"lb_final",player1Id:T.player1Id===T.winnerId?T.player2Id:T.player1Id,player2Id:_.winnerId,bracket:"loser",round:3,matchNumber:1,isBye:!1,description:de.getDescription("LB_Final")}]:[]}case"Place45":{const T=j.find(L=>L.id==="lb1"),_=j.find(L=>L.id==="lb2");if(T&&_){const L=T.player1Id===T.winnerId?T.player2Id:T.player1Id,v=_.player1Id===_.winnerId?_.player2Id:_.player1Id;return[{id:"place45",player1Id:L,player2Id:v,bracket:"placement",round:1,matchNumber:1,isBye:!1,description:de.getDescription("4-5")}]}return[]}case"Final":{const T=j.find(L=>L.id==="wb3"),_=j.find(L=>L.id==="lb_final");return T!=null&&T.winnerId&&(_!=null&&_.winnerId)?[{id:"final",player1Id:T.winnerId,player2Id:_.winnerId,bracket:"winner",round:4,matchNumber:1,isBye:!1,description:de.getDescription("Final")}]:[]}case"GrandFinal":{const T=j.find(L=>L.id==="wb3"),_=j.find(L=>L.id==="final");return T!=null&&T.winnerId&&(_!=null&&_.winnerId)&&_.winnerId!==T.winnerId?[{id:"grandfinal",player1Id:T.winnerId,player2Id:_.winnerId,bracket:"winner",round:5,matchNumber:1,isBye:!1,description:de.getDescription("GrandFinal")}]:[]}default:return[]}}const H=(O,j)=>{k||C(y=>[...y,[...i]]);const T=i.find(y=>y.id===O);if(!T)return;const _=T.player1Id===j?T.player2Id:T.player1Id||"";let L=i.map(y=>y.id===O?{...y,winnerId:j}:y),v={...a},E=l,x=c;if(G(c,L)){const y=s6[s6.indexOf(c)+1];if(y)if(y==="GrandFinal"){const d=L.find(S=>S.id==="wb3"),M=L.find(S=>S.id==="final");if(d!=null&&d.winnerId&&(M!=null&&M.winnerId)&&M.winnerId!==d.winnerId){const S=K(y,L);L=[...L,...S],x=y}}else{const d=K(y,L);L=[...L,...d],x=y}}if(O==="lb_final")v={...v,third:_};else if(O==="place45")v={...v,fourth:j,fifth:_};else if(O==="final"){const y=i.find(d=>d.id==="wb3");j===(y==null?void 0:y.winnerId)&&(v={...v,first:j,second:_},E=!0)}else O==="grandfinal"&&(v={...v,first:j,second:_},E=!0);E||(o(v),Q(L,v,!1,x)),s(L),o(v),A(E),u(x);const g=k?D:[...D,[...i]],w={matches:L,rankings:v,tournamentComplete:E,currentRoundKey:x,matchHistory:g,timestamp:new Date().toISOString()},h=r.map(y=>y.id).sort().join("-");Pe.saveDoubleEliminationState(5,h,w,n),e&&e(O,j),E&&t&&t(v)};z.useEffect(()=>{i.length>0&&!l&&i.filter(j=>j.isBye&&!j.winnerId).forEach(j=>{j.player1Id&&!j.player2Id&&H(j.id,j.player1Id)})},[i,l]),z.useEffect(()=>{V()||q()},[]);const te=O=>{if(!O)return"";const j=r.find(T=>T.id===O);return j?`${j.name} ${j.surname}`:""},ue=()=>{if(D.length>0){U(!0);const O=D[D.length-1],T=i.find(w=>{var h;return w.winnerId&&!((h=O.find(y=>y.id===w.id))!=null&&h.winnerId)});s(O),C(w=>w.slice(0,-1)),l&&A(!1);let _={...a};if(T){const w=T.id;w==="final"||w==="grandfinal"?(delete _.first,delete _.second):w==="lb_final"?delete _.third:w==="place45"&&(delete _.fourth,delete _.fifth)}o(_);const L=O[O.length-1];if(L){const w=Y(L);u(w)}const v=O.map(w=>w.id);F(w=>{const h={...w};return Object.keys(h).forEach(y=>{v.includes(y)||delete h[y]}),h});const E=D.slice(0,-1),x={matches:O,rankings:_,tournamentComplete:!1,currentRoundKey:Y(O[O.length-1]||O[0]),matchHistory:E,timestamp:new Date().toISOString()},g=r.map(w=>w.id).sort().join("-");Pe.saveDoubleEliminationState(5,g,x,n),setTimeout(()=>{U(!1)},100)}},oe=O=>{if(O.id==="grandfinal"){const v=te(O.player2Id),E=O.player1Id?te(O.player1Id):"",x=I[O.id]||null;return B.jsx(wr,{matchId:O.id,fixtureId:n,player1Name:v,player2Name:E,winnerId:O.winnerId,player1Id:O.player2Id||"",player2Id:O.player1Id||"",bracket:O.bracket,round:O.round,matchNumber:O.matchNumber,isBye:O.isBye,matchTitle:O.description,currentSelectedWinner:x,playersLength:r.length,onWinnerSelect:g=>{F(w=>({...w,[O.id]:g}))},onWinnerConfirm:()=>{x&&(H(O.id,x),F(g=>({...g,[O.id]:null})))},onSelectionCancel:()=>{F(g=>({...g,[O.id]:null}))}},O.id)}const j=I[O.id]||null,T=v=>{F(E=>({...E,[O.id]:v}))},_=()=>{j&&(H(O.id,j),F(v=>({...v,[O.id]:null})))},L=()=>{F(v=>({...v,[O.id]:null}))};return B.jsx(wr,{matchId:O.id,fixtureId:n,player1Name:te(O.player1Id||""),player2Name:te(O.player2Id||""),winnerId:O.winnerId,player1Id:O.player1Id||"",player2Id:O.player2Id||"",bracket:O.bracket,round:O.round,matchNumber:O.matchNumber,isBye:O.isBye,matchTitle:O.description,currentSelectedWinner:j,playersLength:r.length,onWinnerSelect:T,onWinnerConfirm:_,onSelectionCancel:L},O.id)};if(r.length!==5)return B.jsx("div",{className:"text-center p-4",children:"Bu component sadece 5 oyuncu için tasarlanmıştır."});const re=i.filter(O=>!O.winnerId);return B.jsxs("div",{className:"px-3 sm:px-6 py-6 bg-gray-50 min-h-screen",children:[n&&B.jsx("h2",{className:"text-2xl font-bold text-center mb-2 text-gray-900",children:((J=Ye.getFixtureById(n))==null?void 0:J.name)||""}),B.jsx(Nn,{activeTab:f,onTabChange:dt.createTabChangeHandler(p,n)}),f==="active"&&B.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[B.jsxs("button",{onClick:()=>{window.confirm("Turnuvayı sıfırlamak istediğinizden emin misiniz? Bu işlem geri alınamaz.")&&(Z(),q(),F({}),C([]))},className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg shadow hover:from-red-600 hover:to-red-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Turnuvayı Sıfırla"]}),D.length>0&&B.jsxs("button",{onClick:ue,className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg shadow hover:from-blue-600 hover:to-blue-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Bir Önceki Maç"]})]}),f==="active"&&B.jsx("div",{className:"flex flex-wrap justify-center gap-4 max-w-6xl mx-auto",children:re.length===0?B.jsx("div",{className:"max-w-4xl mx-auto",children:B.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl p-8 text-center shadow-lg",children:B.jsxs("div",{className:"mb-6",children:[B.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:B.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),B.jsx("h2",{className:"text-3xl font-bold text-green-800 mb-2",children:"🏆 Turnuva Tamamlandı!"}),B.jsx("p",{className:"text-green-700 text-lg mb-2",children:(()=>{const O=i.filter(T=>T.winnerId).length;let j=i.length;return`${O} / ${j} maç başarıyla tamamlandı.`})()}),B.jsx("p",{className:"text-green-700 text-lg mb-6",children:"Sonuçları ve sıralamaları görmek için aşağıdaki butona tıklayın."}),B.jsxs("button",{onClick:()=>dt.createTabChangeHandler(p,n)("rankings"),className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold rounded-lg shadow-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200 transform hover:scale-105",children:[B.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2m0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Sıralama Sekmesine Git"]})]})})}):re.map(O=>B.jsx("div",{className:"w-full sm:w-80 md:w-96",children:oe(O)},O.id))}),f==="completed"&&B.jsx(kn,{matches:i,players:r,getPlayerName:te}),f==="rankings"&&B.jsx(Mn,{rankings:a,players:r,getPlayerName:te,playersLength:r.length})]})},a6=["WB1","WB2","LB1","LB2","WB3","LB_Final","Place56","Final","GrandFinal"],tie=({players:r,onMatchResult:e,onTournamentComplete:t,fixtureId:n})=>{var J;const[i,s]=z.useState([]),[a,o]=z.useState({}),[l,A]=z.useState(!1),[c,u]=z.useState("WB1"),[f,p]=z.useState(dt.getInitialTab(n)),[I,F]=z.useState({}),[D,C]=z.useState([]),[k,U]=z.useState(!1),Q=(O,j,T,_)=>{const L={matches:O,rankings:j,tournamentComplete:T,currentRoundKey:_,matchHistory:D,timestamp:new Date().toISOString()},v=r.map(E=>E.id).sort().join("-");Pe.saveDoubleEliminationState(6,v,L,n)},V=()=>{try{const O=r.map(T=>T.id).sort().join("-"),j=Pe.getDoubleEliminationState(6,O,n);if(j)return s(j.matches||[]),o(j.rankings||{}),A(j.tournamentComplete||!1),u(j.currentRoundKey||"WB1"),C(j.matchHistory||[]),!0}catch{}return!1},Z=()=>{const O=r.map(j=>j.id).sort().join("-");Pe.clearDoubleEliminationState(6,O,n)},q=()=>{if(r.length!==6)return;Z();const O=[...r].sort(()=>Math.random()-.5),j=[{id:"wb1-1",player1Id:O[0].id,player2Id:O[1].id,bracket:"winner",round:1,matchNumber:1,isBye:!1,description:de.getDescription("WB1")},{id:"wb1-2",player1Id:O[2].id,player2Id:O[3].id,bracket:"winner",round:1,matchNumber:2,isBye:!1,description:de.getDescription("WB1")},{id:"wb1_bye_5",player1Id:O[4].id,player2Id:"",winnerId:O[4].id,bracket:"winner",round:1,matchNumber:3,isBye:!0,description:`${de.createMatchDescription("WB1",3)} - Bye`},{id:"wb1_bye_6",player1Id:O[5].id,player2Id:"",winnerId:O[5].id,bracket:"winner",round:1,matchNumber:4,isBye:!0,description:`${de.createMatchDescription("WB1",4)} - Bye`}];s(j),o({}),A(!1),u("WB1"),F({}),C([])},G=(O,j)=>{switch(O){case"WB1":return j.filter(T=>T.id.startsWith("wb1-")&&T.winnerId).length===2;case"WB2":return j.filter(T=>T.id.startsWith("wb2-")&&T.winnerId).length===2;case"LB1":return j.filter(T=>T.id.startsWith("lb1-")&&T.winnerId).length===2;case"LB2":return j.some(T=>T.id==="lb2"&&T.winnerId);case"WB3":return j.some(T=>T.id==="wb3"&&T.winnerId);case"LB_Final":return j.some(T=>T.id==="lb_final"&&T.winnerId);case"Place56":return j.some(T=>T.id==="place56"&&T.winnerId);case"Final":return j.some(T=>T.id==="final"&&T.winnerId);case"GrandFinal":return j.some(T=>T.id==="grandfinal"&&T.winnerId);default:return!1}};function Y(O){return O.id.startsWith("wb1-")?"WB1":O.id.startsWith("wb2-")?"WB2":O.id.startsWith("lb1-")?"LB1":O.id==="lb2"?"LB2":O.id==="wb3"?"WB3":O.id==="lb_final"?"LB_Final":O.id==="place56"?"Place56":O.id==="final"?"Final":O.id==="grandfinal"?"GrandFinal":"WB1"}function K(O,j){switch(O){case"WB2":{const T=j.filter(v=>v.id.startsWith("wb1-")&&v.winnerId);if(T.length!==2)return[];const _=T.flatMap(v=>[v.player1Id,v.player2Id]),L=r.filter(v=>!_.includes(v.id));return[{id:"wb2-1",player1Id:T[0].winnerId,player2Id:T[1].winnerId,bracket:"winner",round:2,matchNumber:1,isBye:!1,description:de.getDescription("WB_QuarterFinal")},{id:"wb2-2",player1Id:L[0].id,player2Id:L[1].id,bracket:"winner",round:2,matchNumber:2,isBye:!1,description:de.getDescription("WB_QuarterFinal")}]}case"LB1":{const T=j.filter(L=>L.id.startsWith("wb1-")&&L.winnerId),_=j.filter(L=>L.id.startsWith("wb2-")&&L.winnerId);if(T.length===2&&_.length===2){const L=T.map(E=>E.player1Id===E.winnerId?E.player2Id:E.player1Id),v=_.map(E=>E.player1Id===E.winnerId?E.player2Id:E.player1Id);return[{id:"lb1-1",player1Id:L[0],player2Id:L[1],bracket:"loser",round:1,matchNumber:1,isBye:!1,description:de.getDescription("LB1")},{id:"lb1-2",player1Id:v[0],player2Id:v[1],bracket:"loser",round:1,matchNumber:2,isBye:!1,description:de.getDescription("LB1")}]}return[]}case"LB2":{const T=j.filter(_=>_.id.startsWith("lb1-")&&_.winnerId);return T.length===2?[{id:"lb2",player1Id:T[0].winnerId,player2Id:T[1].winnerId,bracket:"loser",round:2,matchNumber:1,isBye:!1,description:de.getDescription("LB2")}]:[]}case"WB3":{const T=j.filter(_=>_.id.startsWith("wb2-")&&_.winnerId);return T.length===2?[{id:"wb3",player1Id:T[0].winnerId,player2Id:T[1].winnerId,bracket:"winner",round:3,matchNumber:1,isBye:!1,description:de.getDescription("WB_SemiFinal")}]:[]}case"LB_Final":{const T=j.find(L=>L.id==="wb3"),_=j.find(L=>L.id==="lb2");return T!=null&&T.winnerId&&(_!=null&&_.winnerId)?[{id:"lb_final",player1Id:T.player1Id===T.winnerId?T.player2Id:T.player1Id,player2Id:_.winnerId,bracket:"loser",round:3,matchNumber:1,isBye:!1,description:de.getDescription("LB_Final")}]:[]}case"Place56":{const T=j.filter(_=>_.id.startsWith("lb1-"));if(T.length===2){const _=T.map(L=>L.player1Id===L.winnerId?L.player2Id:L.player1Id).filter(Boolean);if(_.length===2)return[{id:"place56",player1Id:_[0],player2Id:_[1],bracket:"placement",round:1,matchNumber:1,isBye:!1,description:de.getDescription("5-6")}]}return[]}case"Final":{const T=j.find(L=>L.id==="wb3"),_=j.find(L=>L.id==="lb_final");return T!=null&&T.winnerId&&(_!=null&&_.winnerId)?[{id:"final",player1Id:T.winnerId,player2Id:_.winnerId,bracket:"winner",round:4,matchNumber:1,isBye:!1,description:de.getDescription("Final")}]:[]}case"GrandFinal":{const T=j.find(L=>L.id==="wb3"),_=j.find(L=>L.id==="final");return T!=null&&T.winnerId&&(_!=null&&_.winnerId)&&_.winnerId!==T.winnerId?[{id:"grandfinal",player1Id:T.winnerId,player2Id:_.winnerId,bracket:"winner",round:5,matchNumber:1,isBye:!1,description:de.getDescription("GrandFinal")}]:[]}default:return[]}}const H=(O,j)=>{k||C(y=>[...y,[...i]]);const T=i.find(y=>y.id===O);if(!T)return;const _=T.player1Id===j?T.player2Id:T.player1Id||"";let L=i.map(y=>y.id===O?{...y,winnerId:j}:y),v={...a},E=l,x=c;if(G(c,L)){const y=a6[a6.indexOf(c)+1];if(y)if(y==="GrandFinal"){const d=L.find(S=>S.id==="wb3"),M=L.find(S=>S.id==="final");if(d!=null&&d.winnerId&&(M!=null&&M.winnerId)&&M.winnerId!==d.winnerId){const S=K(y,L);L=[...L,...S],x=y}}else{const d=K(y,L);L=[...L,...d],x=y}}if(O==="lb2")v={...v,fourth:_};else if(O==="lb_final")v={...v,third:_};else if(O==="place56")v={...v,fifth:j,sixth:_};else if(O==="final"){const y=i.find(d=>d.id==="wb3");j===(y==null?void 0:y.winnerId)&&(v={...v,first:j,second:_},E=!0)}else O==="grandfinal"&&(v={...v,first:j,second:_},E=!0);E||(o(v),Q(L,v,!1,x)),s(L),o(v),A(E),u(x);const g=k?D:[...D,[...i]],w={matches:L,rankings:v,tournamentComplete:E,currentRoundKey:x,matchHistory:g,timestamp:new Date().toISOString()},h=r.map(y=>y.id).sort().join("-");Pe.saveDoubleEliminationState(6,h,w,n),e&&e(O,j),E&&t&&t(v)};z.useEffect(()=>{i.length>0&&!l&&i.filter(j=>j.isBye&&!j.winnerId).forEach(j=>{j.player1Id&&!j.player2Id&&H(j.id,j.player1Id)})},[i,l]),z.useEffect(()=>{V()||q()},[]);const te=O=>{if(!O)return"";const j=r.find(T=>T.id===O);return j?`${j.name} ${j.surname}`:""},ue=()=>{if(D.length>0){U(!0);const O=D[D.length-1],T=i.find(w=>{var h;return w.winnerId&&!((h=O.find(y=>y.id===w.id))!=null&&h.winnerId)});s(O),C(w=>w.slice(0,-1)),l&&A(!1);let _={...a};if(T){const w=T.id;w==="final"||w==="grandfinal"?(delete _.first,delete _.second):w==="lb_final"?delete _.third:w==="lb2"?delete _.fourth:w==="place56"&&(delete _.fifth,delete _.sixth)}o(_);const L=O[O.length-1];if(L){const w=Y(L);u(w)}const v=O.map(w=>w.id);F(w=>{const h={...w};return Object.keys(h).forEach(y=>{v.includes(y)||delete h[y]}),h});const E=D.slice(0,-1),x={matches:O,rankings:_,tournamentComplete:!1,currentRoundKey:Y(O[O.length-1]||O[0]),matchHistory:E,timestamp:new Date().toISOString()},g=r.map(w=>w.id).sort().join("-");Pe.saveDoubleEliminationState(6,g,x,n),setTimeout(()=>{U(!1)},100)}},oe=O=>{if(O.id==="grandfinal"){const v=te(O.player2Id),E=O.player1Id?te(O.player1Id):"",x=I[O.id]||null,g=y=>{F(d=>({...d,[O.id]:y}))},w=()=>{x&&(H(O.id,x),F(y=>({...y,[O.id]:null})))},h=()=>{F(y=>({...y,[O.id]:null}))};return B.jsx(wr,{matchId:O.id,fixtureId:n,player1Name:v,player2Name:E,winnerId:O.winnerId,player1Id:O.player2Id||"",player2Id:O.player1Id||"",bracket:O.bracket,round:O.round,matchNumber:O.matchNumber,isBye:O.isBye,matchTitle:O.description,currentSelectedWinner:x,playersLength:r.length,onWinnerSelect:g,onWinnerConfirm:w,onSelectionCancel:h},O.id)}const j=I[O.id]||null,T=v=>{F(E=>({...E,[O.id]:v}))},_=()=>{j&&(H(O.id,j),F(v=>({...v,[O.id]:null})))},L=()=>{F(v=>({...v,[O.id]:null}))};return B.jsx(wr,{matchId:O.id,fixtureId:n,player1Name:te(O.player1Id||""),player2Name:te(O.player2Id||""),winnerId:O.winnerId,player1Id:O.player1Id||"",player2Id:O.player2Id||"",bracket:O.bracket,round:O.round,matchNumber:O.matchNumber,isBye:O.isBye,matchTitle:O.description,currentSelectedWinner:j,playersLength:r.length,onWinnerSelect:T,onWinnerConfirm:_,onSelectionCancel:L},O.id)};if(r.length!==6)return B.jsx("div",{className:"text-center p-4",children:"Bu component sadece 6 oyuncu için tasarlanmıştır."});const re=i.filter(O=>!O.winnerId);return B.jsxs("div",{className:"px-3 sm:px-6 py-6 bg-gray-50 min-h-screen",children:[n&&B.jsx("h2",{className:"text-2xl font-bold text-center mb-2 text-gray-900",children:((J=Ye.getFixtureById(n))==null?void 0:J.name)||""}),B.jsx(Nn,{activeTab:f,onTabChange:dt.createTabChangeHandler(p,n)}),f==="active"&&B.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[B.jsxs("button",{onClick:()=>{window.confirm("Turnuvayı sıfırlamak istediğinizden emin misiniz? Bu işlem geri alınamaz.")&&(Z(),q(),F({}),C([]))},className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg shadow hover:from-red-600 hover:to-red-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Turnuvayı Sıfırla"]}),D.length>0&&B.jsxs("button",{onClick:ue,className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg shadow hover:from-blue-600 hover:to-blue-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Bir Önceki Maç"]})]}),f==="active"&&B.jsx("div",{className:"flex flex-wrap justify-center gap-4 max-w-6xl mx-auto",children:re.length===0?B.jsx("div",{className:"max-w-4xl mx-auto",children:B.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl p-8 text-center shadow-lg",children:B.jsxs("div",{className:"mb-6",children:[B.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:B.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),B.jsx("h2",{className:"text-3xl font-bold text-green-800 mb-2",children:"🏆 Turnuva Tamamlandı!"}),B.jsx("p",{className:"text-green-700 text-lg mb-2",children:(()=>{const O=i.filter(T=>T.winnerId).length;let j=i.length;return`${O} / ${j} maç başarıyla tamamlandı.`})()}),B.jsx("p",{className:"text-green-700 text-lg mb-6",children:"Sonuçları ve sıralamaları görmek için aşağıdaki butona tıklayın."}),B.jsxs("button",{onClick:()=>dt.createTabChangeHandler(p,n)("rankings"),className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold rounded-lg shadow-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200 transform hover:scale-105",children:[B.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2m0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Sıralama Sekmesine Git"]})]})})}):re.map(O=>B.jsx("div",{className:"w-full sm:w-80 md:w-96",children:oe(O)},O.id))}),f==="completed"&&B.jsx(kn,{matches:i,players:r,getPlayerName:te}),f==="rankings"&&B.jsx(Mn,{rankings:a,players:r,getPlayerName:te,playersLength:r.length})]})},ZI=["WB1","LB1","WB2","LB2","WB3","LB3","LB4","Placement5-6","Final","GrandFinal"],rie=({players:r,onMatchResult:e,onTournamentComplete:t,fixtureId:n})=>{var j;const[i,s]=z.useState([]),[a,o]=z.useState({}),[l,A]=z.useState(!1),[c,u]=z.useState("WB1"),[f,p]=z.useState({}),[I,F]=z.useState(dt.getInitialTab(n)),[D,C]=z.useState([]),[k,U]=z.useState(!1),Q=(T,_,L,v)=>{const E={matches:T,rankings:_,tournamentComplete:L,currentRoundKey:v,matchHistory:D,timestamp:new Date().toISOString()},x=r.map(g=>g.id).sort().join("-");Pe.saveDoubleEliminationState(7,x,E,n)},V=()=>{try{const T=r.map(L=>L.id).sort().join("-"),_=Pe.getDoubleEliminationState(7,T,n);if(_)return s(_.matches||[]),o(_.rankings||{}),A(_.tournamentComplete||!1),u(_.currentRoundKey||"WB1"),C(_.matchHistory||[]),!0}catch{}return!1},Z=()=>{const T=r.map(_=>_.id).sort().join("-");Pe.clearDoubleEliminationState(7,T,n)},q=()=>{Z();const T=[],_=[...r].sort(()=>Math.random()-.5);r.length===7&&(T.push({id:"wb1-1",player1Id:_[0].id,player2Id:_[1].id,bracket:"winner",round:1,matchNumber:1,isBye:!1,description:de.createMatchDescription("WB1",1)}),T.push({id:"wb1-2",player1Id:_[2].id,player2Id:_[3].id,bracket:"winner",round:1,matchNumber:2,isBye:!1,description:de.createMatchDescription("WB1",2)}),T.push({id:"wb1-3",player1Id:_[4].id,player2Id:_[5].id,bracket:"winner",round:1,matchNumber:3,isBye:!1,description:de.createMatchDescription("WB1",3)}),T.push({id:"wb1-bye",player1Id:_[6].id,player2Id:"",bracket:"winner",round:1,matchNumber:4,isBye:!0,description:"Bye - Otomatik geçiş"})),s(T),o({}),A(!1),u("WB1"),Q(T,{},!1,"WB1")};z.useEffect(()=>{r.length===7&&(V()||q())},[]),z.useEffect(()=>{if(i.filter(_=>_.isBye&&!_.winnerId).length>0){const _=i.map(L=>L.isBye&&!L.winnerId?{...L,winnerId:L.player1Id}:L);s(_),Q(_,a,l,c)}},[i,a,l,c]),z.useEffect(()=>{if(l&&i.length>0){const T=te(i);JSON.stringify(T)!==JSON.stringify(a)&&(o(T),Q(i,T,l,c))}},[i,l,c]);const G=(T,_)=>{const L=_.filter(x=>Y(x)===T),v=L.filter(x=>!x.isBye),E=L.filter(x=>x.isBye);return v.length===0&&E.length>0?E.every(x=>x.winnerId):v.length>0&&v.every(x=>x.winnerId)&&E.every(x=>x.winnerId)};function Y(T){return T.id.startsWith("wb1")?"WB1":T.id.startsWith("lb1")?"LB1":T.id.startsWith("wb2")?"WB2":T.id.startsWith("lb2")?"LB2":T.id.startsWith("wb3")?"WB3":T.id.startsWith("lb3")?"LB3":T.id.startsWith("lb4")?"LB4":T.id==="placement5-6"?"Placement5-6":T.id==="final"?"Final":T.id==="grandfinal"?"GrandFinal":"WB1"}z.useEffect(()=>{if(i.length===0)return;const T=ZI.indexOf(c);if(T===-1||T===ZI.length-1||!G(c,i))return;const _=ZI[T+1],L=K(_,i);L.length>0&&(s([...i,...L]),u(_),Q([...i,...L],a,l,_))},[i,c]);function K(T,_){switch(T){case"LB1":{const L=_.find(x=>x.id==="wb1-1"),v=_.find(x=>x.id==="wb1-2"),E=_.find(x=>x.id==="wb1-3");if(L!=null&&L.winnerId&&(v!=null&&v.winnerId)&&(E!=null&&E.winnerId)){const x=L.player1Id===L.winnerId?L.player2Id:L.player1Id,g=v.player1Id===v.winnerId?v.player2Id:v.player1Id,w=E.player1Id===E.winnerId?E.player2Id:E.player1Id;return[{id:"lb1-1",player1Id:x,player2Id:g,bracket:"loser",round:1,matchNumber:1,isBye:!1,description:de.createMatchDescription("LB1",1)},{id:"lb1-bye",player1Id:w,player2Id:"",bracket:"loser",round:1,matchNumber:2,isBye:!0,description:"Bye - Otomatik geçiş"}]}return[]}case"WB2":{const L=_.find(g=>g.id==="wb1-1"),v=_.find(g=>g.id==="wb1-2"),E=_.find(g=>g.id==="wb1-3"),x=_.find(g=>g.id==="wb1-bye");return L!=null&&L.winnerId&&(v!=null&&v.winnerId)&&(E!=null&&E.winnerId)&&(x!=null&&x.winnerId)?[{id:"wb2-1",player1Id:L.winnerId,player2Id:v.winnerId,bracket:"winner",round:2,matchNumber:1,isBye:!1,description:de.getDescription("WB_QuarterFinal")},{id:"wb2-2",player1Id:E.winnerId,player2Id:x.winnerId,bracket:"winner",round:2,matchNumber:2,isBye:!1,description:de.getDescription("WB_QuarterFinal")}]:[]}case"LB2":{const L=_.find(g=>g.id==="lb1-1"),v=_.find(g=>g.id==="lb1-bye"),E=_.find(g=>g.id==="wb2-1"),x=_.find(g=>g.id==="wb2-2");if(L!=null&&L.winnerId&&(v!=null&&v.winnerId)&&(E!=null&&E.winnerId)&&(x!=null&&x.winnerId)){const g=E.player1Id===E.winnerId?E.player2Id:E.player1Id,w=x.player1Id===x.winnerId?x.player2Id:x.player1Id;return[{id:"lb2-1",player1Id:L.winnerId,player2Id:v.winnerId,bracket:"loser",round:2,matchNumber:1,isBye:!1,description:de.createMatchDescription("LB2",1)},{id:"lb2-2",player1Id:g,player2Id:w,bracket:"loser",round:2,matchNumber:2,isBye:!1,description:de.createMatchDescription("LB2",2)}]}return[]}case"WB3":{const L=_.find(E=>E.id==="wb2-1"),v=_.find(E=>E.id==="wb2-2");return L!=null&&L.winnerId&&(v!=null&&v.winnerId)?[{id:"wb3",player1Id:L.winnerId,player2Id:v.winnerId,bracket:"winner",round:3,matchNumber:1,isBye:!1,description:de.getDescription("WB_SemiFinal")}]:[]}case"LB3":{const L=_.find(E=>E.id==="lb2-1"),v=_.find(E=>E.id==="lb2-2");return L!=null&&L.winnerId&&(v!=null&&v.winnerId)?[{id:"lb3",player1Id:L.winnerId,player2Id:v.winnerId,bracket:"loser",round:3,matchNumber:1,isBye:!1,description:de.getDescription("LB3")}]:[]}case"LB4":{const L=_.find(E=>E.id==="lb3"),v=_.find(E=>E.id==="wb3");if(L!=null&&L.winnerId&&(v!=null&&v.winnerId)){const E=v.player1Id===v.winnerId?v.player2Id:v.player1Id;return[{id:"lb4",player1Id:L.winnerId,player2Id:E,bracket:"loser",round:4,matchNumber:1,isBye:!1,description:de.getDescription("LB_Final")}]}return[]}case"Placement5-6":{const L=_.find(E=>E.id==="lb2-1"),v=_.find(E=>E.id==="lb2-2");if(L!=null&&L.winnerId&&(v!=null&&v.winnerId)){const E=L.player1Id===L.winnerId?L.player2Id:L.player1Id,x=v.player1Id===v.winnerId?v.player2Id:v.player1Id;return[{id:"placement5-6",player1Id:E,player2Id:x,bracket:"placement",round:4,matchNumber:1,isBye:!1,description:de.getDescription("5-6")}]}return[]}case"Final":{const L=_.find(E=>E.id==="wb3"),v=_.find(E=>E.id==="lb4");return L!=null&&L.winnerId&&(v!=null&&v.winnerId)?[{id:"final",player1Id:L.winnerId,player2Id:v.winnerId,bracket:"winner",round:5,matchNumber:1,isBye:!1,description:de.getDescription("Final")}]:[]}case"GrandFinal":{const L=_.find(E=>E.id==="final"),v=_.find(E=>E.id==="wb3");return L!=null&&L.winnerId&&(v!=null&&v.winnerId)&&L.winnerId!==v.winnerId?[{id:"grandfinal",player1Id:v.winnerId,player2Id:L.winnerId,bracket:"winner",round:6,matchNumber:1,isBye:!1,description:de.getDescription("GrandFinal")}]:[]}default:return[]}}const H=(T,_)=>{k||C(M=>[...M,[...i]]);const L=i.map(M=>M.id===T?{...M,winnerId:_}:M),v=i.find(M=>M.id===T);if(!v)return;const E=v.player1Id===_?v.player2Id:v.player1Id;let x=L,g=a,w=l;if(T==="final"){const M=x.find(S=>S.id==="wb3");_===(M==null?void 0:M.winnerId)&&(g={...g,first:_,second:E},w=!0)}else T==="grandfinal"?(g={...g,first:_,second:E},w=!0):T==="lb4"?g={...g,third:E}:T==="placement5-6"?g={...g,fifth:_,sixth:E}:T==="lb3"?g={...g,fourth:E}:T==="lb1-1"&&(g={...g,seventh:E});s(x),o(g),A(w),p(M=>({...M,[T]:null})),e&&e(T,_,E),w&&t&&t(g);const h=k?D:[...D,[...i]],y={matches:x,rankings:g,tournamentComplete:w,currentRoundKey:c,matchHistory:h,timestamp:new Date().toISOString()},d=r.map(M=>M.id).sort().join("-");Pe.saveDoubleEliminationState(7,d,y,n)},te=T=>{const _={},L=T.find(h=>h.id==="final"),v=T.find(h=>h.id==="grandfinal"),E=T.find(h=>h.id==="lb4"),x=T.find(h=>h.id==="lb3"),g=T.find(h=>h.id==="placement5-6"),w=T.find(h=>h.id==="lb1-1");if(v!=null&&v.winnerId)_.first=v.winnerId,_.second=v.player1Id===v.winnerId?v.player2Id:v.player1Id;else if(L!=null&&L.winnerId){const h=T.find(y=>y.id==="wb3");L.winnerId===(h==null?void 0:h.winnerId)&&(_.first=L.winnerId,_.second=L.player1Id===L.winnerId?L.player2Id:L.player1Id)}return E!=null&&E.winnerId&&(_.third=E.player1Id===E.winnerId?E.player2Id:E.player1Id),g!=null&&g.winnerId&&(_.fifth=g.winnerId,_.sixth=g.player1Id===g.winnerId?g.player2Id:g.player1Id),x!=null&&x.winnerId&&(_.fourth=x.player1Id===x.winnerId?x.player2Id:x.player1Id),w!=null&&w.winnerId&&(_.seventh=w.player1Id===w.winnerId?w.player2Id:w.player1Id),_},ue=T=>{const _=r.find(L=>L.id===T);return _?`${_.name} ${_.surname}`:"Unknown Player"},oe=()=>{if(D.length>0){U(!0);const T=D[D.length-1],L=i.find(y=>{var d;return y.winnerId&&!((d=T.find(M=>M.id===y.id))!=null&&d.winnerId)});s(T),C(y=>y.slice(0,-1)),l&&A(!1);let v={...a};if(L){const y=L.id;y==="final"||y==="grandfinal"?(delete v.first,delete v.second):y==="lb4"?delete v.third:y==="placement5-6"&&(delete v.fifth,delete v.sixth)}o(v);const E=T[T.length-1];if(E){const y=Y(E);u(y)}const x=T.map(y=>y.id);p(y=>{const d={...y};return Object.keys(d).forEach(M=>{x.includes(M)||delete d[M]}),d});const g=D.slice(0,-1),w={matches:T,rankings:v,tournamentComplete:!1,currentRoundKey:Y(T[T.length-1]||T[0]),matchHistory:g,timestamp:new Date().toISOString()},h=r.map(y=>y.id).sort().join("-");Pe.saveDoubleEliminationState(7,h,w,n),setTimeout(()=>{U(!1)},100)}},re=T=>{if(T.id==="grandfinal"){const w=ue(T.player2Id),h=T.player1Id?ue(T.player1Id):"Bye",y=f[T.id]||null,d=W=>{p($=>({...$,[T.id]:W}))},M=()=>{y&&(H(T.id,y),p(W=>({...W,[T.id]:null})))},S=()=>{p(W=>({...W,[T.id]:null}))};return B.jsx(wr,{matchId:T.id,fixtureId:n,player1Name:w,player2Name:h,winnerId:T.winnerId,player1Id:T.player2Id||"",player2Id:T.player1Id||"",bracket:T.bracket,round:T.round,matchNumber:T.matchNumber,isBye:T.isBye,matchTitle:T.description,currentSelectedWinner:y,playersLength:r.length,onWinnerSelect:d,onWinnerConfirm:M,onSelectionCancel:S},T.id)}const _=ue(T.player1Id),L=T.player2Id?ue(T.player2Id):"Bye",v=f[T.id]||null,E=w=>{p(h=>({...h,[T.id]:w}))},x=()=>{const w=f[T.id];w&&H(T.id,w)},g=()=>{p(w=>({...w,[T.id]:null}))};return B.jsx(wr,{matchId:T.id,fixtureId:n,player1Name:_,player2Name:L,winnerId:T.winnerId,player1Id:T.player1Id||"",player2Id:T.player2Id||"",bracket:T.bracket,round:T.round,matchNumber:T.matchNumber,isBye:T.isBye,currentSelectedWinner:v,onWinnerSelect:E,onWinnerConfirm:x,onSelectionCancel:g,playersLength:r.length,matchTitle:T.description})},J=i.filter(T=>!T.winnerId),O=i.filter(T=>T.winnerId);return r.length!==7?B.jsx("div",{className:"p-4 text-center text-gray-600",children:"Bu bileşen tam olarak 7 oyuncu için tasarlanmıştır."}):B.jsxs("div",{className:"px-3 sm:px-6 py-6 bg-gray-50 min-h-screen",children:[n&&B.jsx("h2",{className:"text-2xl font-bold text-center mb-2 text-gray-900",children:((j=Ye.getFixtureById(n))==null?void 0:j.name)||""}),B.jsx(Nn,{activeTab:I,onTabChange:dt.createTabChangeHandler(F,n)}),I==="active"&&B.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[B.jsxs("button",{onClick:()=>{window.confirm("Turnuvayı sıfırlamak istediğinizden emin misiniz? Bu işlem geri alınamaz.")&&(Z(),q(),p({}),C([]))},className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg shadow hover:from-red-600 hover:to-red-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Turnuvayı Sıfırla"]}),D.length>0&&B.jsxs("button",{onClick:oe,className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg shadow hover:from-blue-600 hover:to-blue-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Bir Önceki Maç"]})]}),I==="active"&&B.jsx("div",{children:J.length===0?B.jsx("div",{className:"max-w-4xl mx-auto",children:B.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl p-8 text-center shadow-lg",children:B.jsxs("div",{className:"mb-6",children:[B.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:B.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),B.jsx("h2",{className:"text-3xl font-bold text-green-800 mb-2",children:"🏆 Turnuva Tamamlandı!"}),B.jsxs("p",{className:"text-green-700 text-lg mb-6",children:[O.length," maç başarıyla tamamlandı. Sonuçları ve sıralamaları görmek için aşağıdaki butona tıklayın."]}),B.jsxs("button",{onClick:()=>dt.createTabChangeHandler(F,n)("rankings"),className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold rounded-lg shadow-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200 transform hover:scale-105",children:[B.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Sıralama Sekmesine Git"]})]})})}):B.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-6 justify-items-center",children:J.map(re)})}),I==="completed"&&B.jsx(kn,{matches:i,players:r,getPlayerName:ue}),I==="rankings"&&B.jsx(Mn,{rankings:a,players:r,getPlayerName:ue,playersLength:r.length})]})},lv=["WB1","LB1","WB2","LB2","WB3","LB3","7-8","LB4","5-6","Final","GrandFinal"],nie=({players:r,onMatchResult:e,onTournamentComplete:t,fixtureId:n})=>{var T;const[i,s]=z.useState([]),[a,o]=z.useState({}),[l,A]=z.useState(!1),[c,u]=z.useState(dt.getInitialTab(n)),[f,p]=z.useState({}),[I,F]=z.useState([]),[D,C]=z.useState("WB1"),[k,U]=z.useState(!1),Q=(_,L,v,E)=>{const x={matches:_,rankings:L,tournamentComplete:v,currentRoundKey:E,matchHistory:I,timestamp:new Date().toISOString()},g=r.map(w=>w.id).sort().join("-");Pe.saveDoubleEliminationState(8,g,x,n)},V=()=>{try{const _=r.map(v=>v.id).sort().join("-"),L=Pe.getDoubleEliminationState(8,_,n);if(L)return s(L.matches||[]),o(L.rankings||{}),A(L.tournamentComplete||!1),C(L.currentRoundKey||"WB1"),F(L.matchHistory||[]),!0}catch{}return!1},Z=()=>{const _=r.map(L=>L.id).sort().join("-");Pe.clearDoubleEliminationState(8,_,n)},q=(_,L)=>{switch(_){case"WB1":return L.filter(v=>v.id.startsWith("wb1-"));case"LB1":return L.filter(v=>v.id.startsWith("lb1-"));case"WB2":return L.filter(v=>v.id.startsWith("wb2-"));case"LB2":return L.filter(v=>v.id.startsWith("lb2-"));case"WB3":return L.filter(v=>v.id==="wb3");case"LB3":return L.filter(v=>v.id==="lb3");case"7-8":return L.filter(v=>v.id==="place78");case"LB4":return L.filter(v=>v.id==="lb4");case"5-6":return L.filter(v=>v.id==="place56");case"Final":return L.filter(v=>v.id==="final");case"GrandFinal":return L.filter(v=>v.id==="grandfinal");default:return[]}},G=(_,L)=>{const v=q(_,L);return v.length>0&&v.every(E=>E.winnerId)},Y=_=>{const L=lv.indexOf(_);return L<lv.length-1?lv[L+1]:null},K=(_,L)=>{const v=[];switch(_){case"LB1":{const x=L.filter(g=>g.id.startsWith("wb1-")).map(g=>g.player1Id===g.winnerId?g.player2Id:g.player1Id);v.push({id:"lb1-1",player1Id:x[0],player2Id:x[1],bracket:"loser",round:1,matchNumber:1,isBye:!1,description:de.createMatchDescription("LB1",1)}),v.push({id:"lb1-2",player1Id:x[2],player2Id:x[3],bracket:"loser",round:1,matchNumber:2,isBye:!1,description:de.createMatchDescription("LB1",2)});break}case"WB2":{const x=L.filter(g=>g.id.startsWith("wb1-")).map(g=>g.winnerId);v.push({id:"wb2-1",player1Id:x[0],player2Id:x[1],bracket:"winner",round:2,matchNumber:1,isBye:!1,description:de.createMatchDescription("WB2",1)}),v.push({id:"wb2-2",player1Id:x[2],player2Id:x[3],bracket:"winner",round:2,matchNumber:2,isBye:!1,description:de.createMatchDescription("WB2",2)});break}case"LB2":{const x=L.filter($=>$.id.startsWith("lb1-")).map($=>$.winnerId),w=L.filter($=>$.id.startsWith("wb2-")).map($=>$.player1Id===$.winnerId?$.player2Id:$.player1Id),y=L.filter($=>$.id.startsWith("wb1-")).map($=>[$.player1Id,$.player2Id]),M=(($,se)=>{for(let me=0;me<$.length;me++)for(let pe=me+1;pe<$.length;pe++){const at=[$[me],$[pe]].sort();if(!se.some(De=>De.sort().join(",")===at.join(",")))return[$[me],$[pe]]}return[$[0],$[1]]})([...x,...w],y),S=[x[0],x[1]].filter($=>!M.includes($)),W=w.filter($=>!M.includes($));v.push({id:"lb2-1",player1Id:M[0],player2Id:M[1],bracket:"loser",round:2,matchNumber:1,isBye:!1,description:de.createMatchDescription("LB2",1)}),v.push({id:"lb2-2",player1Id:S[0]||W[0],player2Id:S[1]||W[1],bracket:"loser",round:2,matchNumber:2,isBye:!1,description:de.createMatchDescription("LB2",2)});break}case"WB3":{const x=L.filter(g=>g.id.startsWith("wb2-")).map(g=>g.winnerId);v.push({id:"wb3",player1Id:x[0],player2Id:x[1],bracket:"winner",round:3,matchNumber:1,isBye:!1,description:de.getDescription("WB_SemiFinal")});break}case"LB3":{const x=L.filter(g=>g.id.startsWith("lb2-")).map(g=>g.winnerId);v.push({id:"lb3",player1Id:x[0],player2Id:x[1],bracket:"loser",round:3,matchNumber:1,isBye:!1,description:de.getDescription("LB3")});break}case"7-8":{const x=L.filter(g=>g.id.startsWith("lb1-")).map(g=>g.player1Id===g.winnerId?g.player2Id:g.player1Id);v.push({id:"place78",player1Id:x[0],player2Id:x[1],bracket:"placement",round:3,matchNumber:1,isBye:!1,description:de.getDescription("7-8")});break}case"LB4":{const E=L.find(g=>g.id==="lb3").winnerId,x=L.find(g=>g.id==="wb3").player1Id===L.find(g=>g.id==="wb3").winnerId?L.find(g=>g.id==="wb3").player2Id:L.find(g=>g.id==="wb3").player1Id;v.push({id:"lb4",player1Id:E,player2Id:x,bracket:"loser",round:4,matchNumber:1,isBye:!1,description:de.getDescription("LB_Final")});break}case"5-6":{const x=L.filter(g=>g.id.startsWith("lb2-")).map(g=>g.player1Id===g.winnerId?g.player2Id:g.player1Id);v.push({id:"place56",player1Id:x[0],player2Id:x[1],bracket:"placement",round:4,matchNumber:1,isBye:!1,description:de.getDescription("5-6")});break}case"Final":{const E=L.find(g=>g.id==="wb3").winnerId,x=L.find(g=>g.id==="lb4").winnerId;v.push({id:"final",player1Id:E,player2Id:x,bracket:"winner",round:5,matchNumber:1,isBye:!1,description:de.getDescription("Final")});break}case"GrandFinal":{const E=L.find(g=>g.id==="final"),x=L.find(g=>g.id==="wb3").winnerId;E.winnerId!==x&&v.push({id:"grandfinal",player1Id:x,player2Id:E.winnerId,bracket:"winner",round:6,matchNumber:1,isBye:!1,description:de.getDescription("GrandFinal")});break}}return v},H=()=>{Z();const _=[],L=[...r].sort(()=>Math.random()-.5);r.length===8&&(_.push({id:"wb1-1",player1Id:L[0].id,player2Id:L[1].id,bracket:"winner",round:1,matchNumber:1,isBye:!1,description:de.createMatchDescription("WB1",1)}),_.push({id:"wb1-2",player1Id:L[2].id,player2Id:L[3].id,bracket:"winner",round:1,matchNumber:2,isBye:!1,description:de.createMatchDescription("WB1",2)}),_.push({id:"wb1-3",player1Id:L[4].id,player2Id:L[5].id,bracket:"winner",round:1,matchNumber:3,isBye:!1,description:de.createMatchDescription("WB1",3)}),_.push({id:"wb1-4",player1Id:L[6].id,player2Id:L[7].id,bracket:"winner",round:1,matchNumber:4,isBye:!1,description:de.createMatchDescription("WB1",4)})),s(_),o({}),A(!1),C("WB1"),Q(_,{},!1,"WB1")};z.useEffect(()=>{r.length===8&&(V()||H())},[]),z.useEffect(()=>{if(i.filter(L=>L.isBye&&!L.winnerId).length>0){const L=i.map(x=>x.isBye&&!x.winnerId?{...x,winnerId:x.player1Id}:x);s(L);const v={matches:L,rankings:a,tournamentComplete:l,currentRoundKey:D,matchHistory:I,timestamp:new Date().toISOString()},E=r.map(x=>x.id).sort().join("-");Pe.saveDoubleEliminationState(8,E,v,n)}},[i,a,l,D,I]),z.useEffect(()=>{if(!k&&G(D,i)){const _=Y(D);if(_){const L=K(_,i);if(L.length>0){const v=[...i,...L];s(v),C(_);const E={matches:v,rankings:a,tournamentComplete:l,currentRoundKey:_,matchHistory:I,timestamp:new Date().toISOString()},x=r.map(g=>g.id).sort().join("-");Pe.saveDoubleEliminationState(8,x,E,n)}}}},[i,D,a,l,k,I]);const te=(_,L)=>{k||F(S=>[...S,[...i]]);const v=i.map(S=>S.id===_?{...S,winnerId:L}:S),E=i.find(S=>S.id===_);if(!E)return;const x=E.player1Id===L?E.player2Id:E.player1Id;let g=v,w=a,h=l;if(_==="place78")w={...w,seventh:L,eighth:x};else if(_==="place56")w={...w,fifth:L,sixth:x};else if(_==="lb3")w={...w,fourth:x};else if(_==="lb4")w={...w,third:x};else if(_==="final"){const S=g.find(W=>W.id==="wb3").winnerId;L===S&&(w={...w,first:L,second:x},h=!0)}else _==="grandfinal"&&(w={...w,first:L,second:x},h=!0);s(g),o(w),A(h);const y=k?I:[...I,[...i]],d={matches:g,rankings:w,tournamentComplete:h,currentRoundKey:D,matchHistory:y,timestamp:new Date().toISOString()},M=r.map(S=>S.id).sort().join("-");Pe.saveDoubleEliminationState(8,M,d,n),e&&e(_,L),h&&t&&t(w)},ue=_=>{const L=r.find(v=>v.id===_);return L?`${L.name} ${L.surname}`:"Unknown"},oe=_=>{for(const L of lv)if(q(L,[_]).length>0)return L;return"WB1"},re=()=>{if(I.length>0){U(!0);const _=I[I.length-1],v=i.find(d=>{var M;return d.winnerId&&!((M=_.find(S=>S.id===d.id))!=null&&M.winnerId)});s(_),F(d=>d.slice(0,-1)),l&&A(!1);let E={...a};if(v){const d=v.id;d==="place78"?(delete E.seventh,delete E.eighth):d==="place56"?(delete E.fifth,delete E.sixth):d==="lb3"?delete E.fourth:d==="lb4"?delete E.third:(d==="final"||d==="grandfinal")&&(delete E.first,delete E.second)}o(E);const x=_[_.length-1];if(x){const d=oe(x);C(d)}const g=_.map(d=>d.id);p(d=>{const M={...d};return Object.keys(M).forEach(S=>{g.includes(S)||delete M[S]}),M});const w=I.slice(0,-1),h={matches:_,rankings:E,tournamentComplete:!1,currentRoundKey:oe(_[_.length-1]||_[0]),matchHistory:w,timestamp:new Date().toISOString()},y=r.map(d=>d.id).sort().join("-");Pe.saveDoubleEliminationState(8,y,h,n),setTimeout(()=>{U(!1)},100)}},J=_=>{if(_.id==="grandfinal"){const h=ue(_.player2Id),y=_.player1Id?ue(_.player1Id):"TBD",d=f[_.id]||null,M=$=>{_.winnerId||p(se=>({...se,[_.id]:$}))},S=()=>{d&&(te(_.id,d),p($=>({...$,[_.id]:null})))},W=()=>{p($=>({...$,[_.id]:null}))};return B.jsx(wr,{matchId:_.id,fixtureId:n,player1Name:h,player2Name:y,winnerId:_.winnerId,player1Id:_.player2Id||"",player2Id:_.player1Id||"",bracket:_.bracket,round:_.round,matchNumber:_.matchNumber,isBye:_.isBye,matchTitle:_.description,currentSelectedWinner:d,playersLength:r.length,onWinnerSelect:M,onWinnerConfirm:S,onSelectionCancel:W},_.id)}const L=ue(_.player1Id),v=_.player2Id?ue(_.player2Id):"TBD",E=f[_.id]||null,x=h=>{_.winnerId||p(y=>({...y,[_.id]:h}))},g=()=>{E&&(te(_.id,E),p(h=>({...h,[_.id]:null})))},w=()=>{p(h=>({...h,[_.id]:null}))};return B.jsx(wr,{matchId:_.id,fixtureId:n,player1Name:L,player2Name:v,winnerId:_.winnerId,player1Id:_.player1Id||"",player2Id:_.player2Id||"",bracket:_.bracket,round:_.round,matchNumber:_.matchNumber,isBye:_.isBye,currentSelectedWinner:E,onWinnerSelect:x,onWinnerConfirm:g,onSelectionCancel:w,playersLength:r.length,matchTitle:_.description})};if(r.length!==8)return B.jsx("div",{className:"p-4 text-center text-gray-600",children:"This component is designed for exactly 8 players."});const O=i.filter(_=>!_.winnerId),j=q(D,i);return B.jsxs("div",{className:"px-3 sm:px-6 py-6 bg-gray-50 min-h-screen",children:[n&&B.jsx("h2",{className:"text-2xl font-bold text-center mb-2 text-gray-900",children:((T=Ye.getFixtureById(n))==null?void 0:T.name)||""}),B.jsx(Nn,{activeTab:c,onTabChange:dt.createTabChangeHandler(u,n)}),c==="active"&&B.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[B.jsxs("button",{onClick:()=>{window.confirm("Turnuvayı sıfırlamak istediğinizden emin misiniz? Bu işlem geri alınamaz.")&&(Z(),H(),p({}),F([]))},className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg shadow hover:from-red-600 hover:to-red-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Turnuvayı Sıfırla"]}),I.length>0&&B.jsxs("button",{onClick:re,className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg shadow hover:from-blue-600 hover:to-blue-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Bir Önceki Maç"]})]}),c==="active"&&!l&&j.length>0&&B.jsx("div",{className:"flex justify-center mb-4",children:B.jsxs("button",{onClick:()=>{j.filter(L=>!L.isBye&&!L.winnerId).forEach(L=>{const v=Math.random()<.5?L.player1Id:L.player2Id;te(L.id,v)})},className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg shadow hover:from-green-600 hover:to-green-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Bu Turun Kazananlarını Otomatik Seç"]})}),c==="active"&&B.jsx("div",{className:"flex flex-wrap justify-center gap-4 max-w-6xl mx-auto",children:O.length===0?B.jsx("div",{className:"max-w-4xl mx-auto",children:B.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl p-8 text-center shadow-lg",children:B.jsxs("div",{className:"mb-6",children:[B.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:B.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),B.jsx("h2",{className:"text-3xl font-bold text-green-800 mb-2",children:"🏆 Turnuva Tamamlandı!"}),B.jsx("p",{className:"text-green-700 text-lg mb-2",children:(()=>{const _=i.filter(v=>v.winnerId).length;let L=0;return r.length===8&&(L=i.some(v=>v.id==="grandfinal")?15:14),`${_} / ${L} maç başarıyla tamamlandı.`})()}),B.jsx("p",{className:"text-green-700 text-lg mb-6",children:"Sonuçları ve sıralamaları görmek için aşağıdaki butona tıklayın."}),B.jsxs("button",{onClick:()=>dt.createTabChangeHandler(u,n)("rankings"),className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold rounded-lg shadow-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200 transform hover:scale-105",children:[B.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Sıralama Sekmesine Git"]})]})})}):O.map(_=>B.jsx("div",{className:"w-full sm:w-80 md:w-96",children:J(_)},_.id))}),c==="completed"&&B.jsx(kn,{matches:i,players:r,getPlayerName:ue}),c==="rankings"&&B.jsx(Mn,{rankings:a,players:r,getPlayerName:ue})]})},Nm=["WB1","WB2","LB1","LB2","WB3","LB3","WB4","LB4","7-8","LB5","5-6","Final","GrandFinal"],iie=({players:r,onTournamentComplete:e,fixtureId:t})=>{var oe;const[n,i]=z.useState([]),[s,a]=z.useState({}),[o,l]=z.useState(!1),[A,c]=z.useState("WB1");z.useState("active");const[u,f]=z.useState(dt.getInitialTab(t)),[p,I]=z.useState({}),[,F]=z.useState(null),[D,C]=z.useState([]),[,k]=z.useState(!1),U=(re,J,O,j)=>{const T={matches:re,rankings:J,tournamentComplete:O,currentRoundKey:j,matchHistory:D,timestamp:new Date().toISOString()},_=r.map(L=>L.id).sort().join("-");Pe.saveDoubleEliminationState(9,_,T,t)},Q=()=>{try{const re=r.map(O=>O.id).sort().join("-"),J=Pe.getDoubleEliminationState(9,re,t);if(J)return i(J.matches||[]),a(J.rankings||{}),l(J.tournamentComplete||!1),c(J.currentRoundKey||"WB1"),C(J.matchHistory||[]),F(null),!0}catch{}return!1},V=()=>{const re=r.map(J=>J.id).sort().join("-");Pe.clearDoubleEliminationState(9,re,t)},Z=()=>{V();const re=[...r].sort(()=>Math.random()-.5),O=16-r.length,j=re.slice(0,O),T=re.slice(O),_=[];for(let L=0;L<T.length;L+=2)L+1<T.length&&_.push({id:`wb1_${Math.floor(L/2)+1}`,player1Id:T[L].id,player2Id:T[L+1].id,bracket:"winner",round:1,matchNumber:Math.floor(L/2)+1,isBye:!1,description:de.createMatchDescription("WB1",Math.floor(L/2)+1)});j.forEach((L,v)=>{_.push({id:`wb1_bye_${v+1}`,player1Id:L.id,player2Id:"",bracket:"winner",round:1,matchNumber:_.length+1,isBye:!0,description:`${de.getDescription("WB1")} - Bye for ${L.name} ${L.surname}`})}),i(_),a({}),l(!1),c("WB1")};z.useEffect(()=>{r.length>=9&&r.length<=11&&(Q()||Z())},[]),z.useEffect(()=>{if(n.filter(J=>J.isBye&&!J.winnerId).length>0){const J=n.map(O=>O.isBye&&!O.winnerId?{...O,winnerId:O.player1Id}:O);i(J),U(J,s,o,A)}},[n,s,o,A]);const q=(re,J)=>{const O=J.filter(j=>G(j)===re&&!j.isBye);return O.length>0&&O.every(j=>j.winnerId)};function G(re){return re.id.startsWith("wb1")?"WB1":re.id.startsWith("wb2")?"WB2":re.id.startsWith("wb3")?"WB3":re.id.startsWith("wb4")?"WB4":re.id.startsWith("lb1")?"LB1":re.id.startsWith("lb2")?"LB2":re.id.startsWith("lb3")?"LB3":re.id.startsWith("lb4")?"LB4":re.id.startsWith("lb5")?"LB5":re.id==="seventh_eighth"?"7-8":re.id==="fifth_sixth"?"5-6":re.id==="final"?"Final":re.id==="grandfinal"?"GrandFinal":"WB1"}z.useEffect(()=>{if(n.length===0)return;const re=Nm.indexOf(A);if(re===-1||re===Nm.length-1||!q(A,n))return;const J=Nm[re+1],O=Y(J,n);O.length>0&&(i([...n,...O]),c(J),U([...n,...O],s,o,J))},[n,A]);function Y(re,J){switch(re){case"WB2":{const O=J.filter(L=>G(L)==="WB1"&&L.winnerId&&!L.isBye).map(L=>L.winnerId),j=J.filter(L=>G(L)==="WB1"&&L.isBye).map(L=>L.player1Id),T=[...O,...j],_=[];for(let L=0;L<T.length;L+=2)L+1<T.length&&_.push({id:`wb2_${Math.floor(L/2)+1}`,player1Id:T[L],player2Id:T[L+1],bracket:"winner",round:2,matchNumber:Math.floor(L/2)+1,isBye:!1,description:de.createMatchDescription("WB2",Math.floor(L/2)+1)});return _}case"LB1":{const O=J.filter(g=>G(g)==="WB1"&&g.winnerId&&!g.isBye).map(g=>g.player1Id===g.winnerId?g.player2Id:g.player1Id),j=J.filter(g=>G(g)==="WB2"&&g.winnerId).map(g=>g.player1Id===g.winnerId?g.player2Id:g.player1Id),T=[...O,...j],L=8-T.length,v=[],E=T.slice(0,L),x=T.slice(L);E.forEach((g,w)=>{v.push({id:`lb1_bye_${w+1}`,player1Id:g,player2Id:"",bracket:"loser",round:1,matchNumber:w+1,isBye:!0,description:`${de.getDescription("LB1")} - Bye for ${H(g)}`})});for(let g=0;g<x.length;g+=2)g+1<x.length&&v.push({id:`lb1_${Math.floor(g/2)+1}`,player1Id:x[g],player2Id:x[g+1],bracket:"loser",round:1,matchNumber:E.length+Math.floor(g/2)+1,isBye:!1,description:de.createMatchDescription("LB1",Math.floor(g/2)+1)});return v}case"LB2":{const O=J.filter(L=>G(L)==="LB1"&&L.winnerId&&!L.isBye).map(L=>L.winnerId),j=J.filter(L=>G(L)==="LB1"&&L.isBye).map(L=>L.player1Id),T=[...O,...j],_=[];for(let L=0;L<T.length;L+=2)L+1<T.length&&_.push({id:`lb2_${Math.floor(L/2)+1}`,player1Id:T[L],player2Id:T[L+1],bracket:"loser",round:2,matchNumber:Math.floor(L/2)+1,isBye:!1,description:de.createMatchDescription("LB2",Math.floor(L/2)+1)});return _}case"WB3":{const O=J.filter(T=>G(T)==="WB2"&&T.winnerId).map(T=>T.winnerId),j=[];for(let T=0;T<O.length;T+=2)T+1<O.length&&j.push({id:`wb3_${Math.floor(T/2)+1}`,player1Id:O[T],player2Id:O[T+1],bracket:"winner",round:3,matchNumber:Math.floor(T/2)+1,isBye:!1,description:de.createMatchDescription("WB_QuarterFinal",Math.floor(T/2)+1)});return j}case"LB3":{const O=J.filter(L=>G(L)==="WB3"&&L.winnerId).map(L=>L.player1Id===L.winnerId?L.player2Id:L.player1Id),j=J.filter(L=>G(L)==="LB2"&&L.winnerId).map(L=>L.winnerId),T=[...O,...j],_=[];for(let L=0;L<T.length;L+=2)L+1<T.length&&_.push({id:`lb3_${Math.floor(L/2)+1}`,player1Id:T[L],player2Id:T[L+1],bracket:"loser",round:3,matchNumber:Math.floor(L/2)+1,isBye:!1,description:de.createMatchDescription("LB3",Math.floor(L/2)+1)});return _}case"WB4":{const O=J.filter(j=>G(j)==="WB3"&&j.winnerId).map(j=>j.winnerId);return O.length>=2?[{id:"wb4_semifinal",player1Id:O[0],player2Id:O[1],bracket:"winner",round:4,matchNumber:1,isBye:!1,description:de.getDescription("WB_SemiFinal")}]:[]}case"LB4":{const O=J.filter(j=>G(j)==="LB3"&&j.winnerId).map(j=>j.winnerId);return O.length>=2?[{id:"lb4_final",player1Id:O[0],player2Id:O[1],bracket:"loser",round:4,matchNumber:1,isBye:!1,description:de.getDescription("LB4")}]:[]}case"7-8":{const O=J.filter(j=>G(j)==="LB2"&&j.winnerId).map(j=>j.player1Id===j.winnerId?j.player2Id:j.player1Id);return O.length>=2?[{id:"seventh_eighth",player1Id:O[0],player2Id:O[1],bracket:"placement",round:4,matchNumber:2,isBye:!1,description:de.getDescription("7-8")}]:[]}case"LB5":{const O=J.find(T=>T.id==="wb4_semifinal"),j=J.find(T=>T.id==="lb4_final");return O&&O.winnerId&&j&&j.winnerId?[{id:"lb5_final",player1Id:O.player1Id===O.winnerId?O.player2Id:O.player1Id,player2Id:j.winnerId,bracket:"loser",round:5,matchNumber:1,isBye:!1,description:de.getDescription("LB_Final")}]:[]}case"5-6":{const O=J.filter(j=>G(j)==="LB3"&&j.winnerId).map(j=>j.player1Id===j.winnerId?j.player2Id:j.player1Id);return O.length>=2?[{id:"fifth_sixth",player1Id:O[0],player2Id:O[1],bracket:"placement",round:5,matchNumber:2,isBye:!1,description:de.getDescription("5-6")}]:[]}case"Final":{const O=J.find(T=>T.id==="wb4_semifinal"),j=J.find(T=>T.id==="lb5_final");return O&&O.winnerId&&j&&j.winnerId?[{id:"final",player1Id:O.winnerId,player2Id:j.winnerId,bracket:"winner",round:6,matchNumber:1,isBye:!1,description:de.getDescription("Final")}]:[]}case"GrandFinal":{const O=J.find(j=>j.id==="final");return O&&O.winnerId&&O.player1Id&&O.player2Id&&O.winnerId===O.player2Id?[{id:"grandfinal",player1Id:O.player2Id,player2Id:O.player1Id,bracket:"winner",round:7,matchNumber:1,isBye:!1,description:de.getDescription("GrandFinal")}]:[]}default:return[]}}const K=(re,J)=>{C(_=>[..._,[...n]]),F(n.find(_=>_.id===re)||null);const O=n.map(_=>_.id===re?{..._,winnerId:J}:_);let j={...s};const T=n.find(_=>_.id===re);if(T){if(T.id==="seventh_eighth"&&(j.seventh=J,j.eighth=T.player1Id===J?T.player2Id:T.player1Id),T.id==="fifth_sixth"&&(j.fifth=J,j.sixth=T.player1Id===J?T.player2Id:T.player1Id),T.id==="lb4_final"){const _=T.player1Id===J?T.player2Id:T.player1Id;j.fourth=_}if(T.id==="lb5_final"){const _=T.player1Id===J?T.player2Id:T.player1Id;j.third=_}if(T.id==="final"){const _=n.find(L=>L.id==="final");_&&_.player1Id&&_.player2Id&&J===_.player1Id&&(j.first=J,j.second=T.player1Id===J?T.player2Id:T.player1Id)}T.id==="grandfinal"&&(j.first=J,j.second=T.player1Id===J?T.player2Id:T.player1Id)}i(O),a(j),U(O,j,o,A),T&&(T.id==="final"||T.id==="grandfinal")&&e&&e(j)},H=re=>{if(!re)return"";const J=r.find(O=>O.id===re);return J?`${J.name} ${J.surname}`:""},te=()=>{if(D.length>0){k(!0);const re=D[D.length-1],O=n.find(x=>{var g;return x.winnerId&&!((g=re.find(w=>w.id===x.id))!=null&&g.winnerId)});i(re),C(x=>x.slice(0,-1)),o&&l(!1);let j={...s};if(O){const x=O.id;x==="final"||x==="grandfinal"?(delete j.first,delete j.second):x==="lb_final"?delete j.third:x==="place56"&&(delete j.fifth,delete j.sixth)}a(j);const T=re[re.length-1];if(T){const x=G(T);c(x)}const _=re.map(x=>x.id);I(x=>{const g={...x};return Object.keys(g).forEach(w=>{_.includes(w)||delete g[w]}),g});const L=D.slice(0,-1),v={matches:re,rankings:j,tournamentComplete:!1,currentRoundKey:G(re[re.length-1]||re[0]),matchHistory:L,timestamp:new Date().toISOString()},E=r.map(x=>x.id).sort().join("-");Pe.saveDoubleEliminationState(9,E,v,t),setTimeout(()=>{k(!1)},100)}},ue=re=>{const J=H(re.player1Id),O=re.player2Id?H(re.player2Id):"TBD",j=p[re.id]||null,T=v=>{re.winnerId||I(E=>({...E,[re.id]:v}))},_=()=>{j&&(K(re.id,j),I(v=>({...v,[re.id]:null})))},L=()=>{I(v=>({...v,[re.id]:null}))};return B.jsx(wr,{matchId:re.id,fixtureId:t,player1Name:J,player2Name:O,winnerId:re.winnerId,player1Id:re.player1Id||"",player2Id:re.player2Id||"",bracket:re.bracket,round:re.round,matchNumber:re.matchNumber,isBye:re.isBye,currentSelectedWinner:j,onWinnerSelect:T,onWinnerConfirm:_,onSelectionCancel:L,playersLength:r.length,matchTitle:re.description})};return r.length<9||r.length>11?B.jsx("div",{className:"p-4 text-center text-gray-600",children:"This component is designed for 9-11 players only."}):B.jsxs("div",{className:"px-3 sm:px-6 py-6 bg-gray-50 min-h-screen",children:[t&&B.jsx("h2",{className:"text-2xl font-bold text-center mb-2 text-gray-900",children:((oe=Ye.getFixtureById(t))==null?void 0:oe.name)||""}),B.jsx(Nn,{activeTab:u,onTabChange:dt.createTabChangeHandler(f,t)}),u==="active"&&B.jsx("div",{className:"text-center mb-6",children:B.jsxs("div",{className:"flex justify-center gap-4",children:[B.jsxs("button",{onClick:()=>{window.confirm("Turnuvayı sıfırlamak istediğinizden emin misiniz? Bu işlem geri alınamaz.")&&(V(),Z(),I({}),C([]))},className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg shadow hover:from-red-600 hover:to-red-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Turnuvayı Sıfırla"]}),D.length>0&&B.jsxs("button",{onClick:te,className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg shadow hover:from-blue-600 hover:to-blue-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Bir Önceki Maç"]})]})}),u==="active"&&!o&&n.filter(J=>G(J)===A&&!J.isBye&&!J.winnerId).length>0&&B.jsx("div",{className:"flex justify-center mb-4",children:B.jsxs("button",{onClick:()=>{n.filter(J=>G(J)===A&&!J.isBye&&!J.winnerId).forEach(J=>{const O=Math.random()<.5?J.player1Id:J.player2Id;K(J.id,O)})},className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg shadow hover:from-green-600 hover:to-green-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Bu Turun Kazananlarını Otomatik Seç"]})}),u==="active"&&B.jsx(B.Fragment,{children:B.jsx("div",{className:"flex flex-wrap justify-center gap-4 max-w-6xl mx-auto",children:(()=>{const re=n.filter(J=>G(J)===A&&!J.isBye&&!J.winnerId);return re.length===0?B.jsx("div",{className:"max-w-4xl mx-auto",children:B.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl p-8 text-center shadow-lg",children:B.jsxs("div",{className:"mb-6",children:[B.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:B.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),B.jsx("h2",{className:"text-3xl font-bold text-green-800 mb-2",children:"🏆 Turnuva Tamamlandı!"}),B.jsx("p",{className:"text-green-700 text-lg mb-2",children:(()=>{const J=n.filter(T=>!T.isBye),O=J.filter(T=>T.winnerId).length,j=J.length;return`${O} / ${j} maç başarıyla tamamlandı.`})()}),B.jsx("p",{className:"text-green-700 text-lg mb-6",children:"Sonuçları ve sıralamaları görmek için aşağıdaki butona tıklayın."}),B.jsxs("button",{onClick:()=>dt.createTabChangeHandler(f,t)("rankings"),className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold rounded-lg shadow-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200 transform hover:scale-105",children:[B.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Sıralama Sekmesine Git"]})]})})}):re.map(J=>B.jsx("div",{className:"w-full sm:w-80 md:w-96",children:ue(J)},J.id))})()})}),u==="completed"&&B.jsx(kn,{matches:[...n].sort((re,J)=>{const O=Nm.indexOf(G(re)),j=Nm.indexOf(G(J));return O!==j?O-j:re.round-J.round||re.matchNumber-J.matchNumber}),players:r,getPlayerName:H}),u==="rankings"&&B.jsx(Mn,{rankings:s,players:r,getPlayerName:H})]})},eC=["WB_R1","LB_R1","WB_R2","LB_R2","LB_R3","WB_R3","LB_R4","WB_R4","LB_R5","7-8","LB_FINAL","5-6","FINAL","GRAND_FINAL"],sie=({players:r,onTournamentComplete:e,fixtureId:t})=>{var re;const[n,i]=z.useState([]),[s,a]=z.useState({}),[o,l]=z.useState(!1),[A,c]=z.useState("WB_R1");z.useState("active");const[u,f]=z.useState(dt.getInitialTab(t)),[p,I]=z.useState({}),[,F]=z.useState(null),[D,C]=z.useState([]),[,k]=z.useState(!1),U=(J,O,j,T)=>{const _={matches:J,rankings:O,tournamentComplete:j,currentRoundKey:T,matchHistory:D,timestamp:new Date().toISOString()},L=r.map(v=>v.id).sort().join("-");Pe.saveDoubleEliminationState(12,L,_,t)},Q=()=>{try{const J=r.map(j=>j.id).sort().join("-"),O=Pe.getDoubleEliminationState(12,J,t);if(O)return i(O.matches||[]),a(O.rankings||{}),l(O.tournamentComplete||!1),c(O.currentRoundKey||"WB_R1"),C(O.matchHistory||[]),F(null),!0}catch{}return!1},V=()=>{const J=r.map(O=>O.id).sort().join("-");Pe.clearDoubleEliminationState(12,J,t)},Z=()=>{V();const J=[...r].sort(()=>Math.random()-.5),j=16-r.length,T=J.slice(0,j),_=J.slice(j),L=[];for(let v=0;v<_.length;v+=2)v+1<_.length&&L.push({id:`wb_r1_${Math.floor(v/2)+1}`,player1Id:_[v].id,player2Id:_[v+1].id,bracket:"winner",round:1,matchNumber:Math.floor(v/2)+1,isBye:!1,description:de.createMatchDescription("WB1",Math.floor(v/2)+1)});T.forEach((v,E)=>{L.push({id:`wb_r1_bye_${E+1}`,player1Id:v.id,player2Id:"",bracket:"winner",round:1,matchNumber:L.length+1,isBye:!0,description:`${de.getDescription("WB1")} - Bye for ${v.name} ${v.surname}`})}),i(L),a({}),l(!1),c("WB_R1")},q=(J,O)=>{C(L=>[...L,[...n]]),F(n.find(L=>L.id===J)||null);const j=n.map(L=>L.id===J?{...L,winnerId:O}:L);let T={...s};const _=n.find(L=>L.id===J);if(_){if(_.id==="seventh_eighth"&&(T.seventh=O,T.eighth=_.player1Id===O?_.player2Id:_.player1Id),_.id==="fifth_sixth"&&(T.fifth=O,T.sixth=_.player1Id===O?_.player2Id:_.player1Id),_.id==="lb_r5"){const L=_.player1Id===O?_.player2Id:_.player1Id;T.fourth=L}if(_.id==="lb_final"){const L=_.player1Id===O?_.player2Id:_.player1Id;T.third=L}if(_.id==="final"){const L=n.find(v=>v.id==="final");L&&L.player1Id&&L.player2Id&&O===L.player1Id&&(T.first=O,T.second=_.player1Id===O?_.player2Id:_.player1Id)}_.id==="grand_final"&&(T.first=O,T.second=_.player1Id===O?_.player2Id:_.player1Id)}i(j),a(T),U(j,T,o,A),_&&(_.id==="final"||_.id==="grand_final")&&e&&e(T)};z.useEffect(()=>{r.length>=12&&r.length<=16&&(Q()||Z())},[]),z.useEffect(()=>{if(n.filter(O=>O.isBye&&!O.winnerId).length>0){const O=n.map(j=>j.isBye&&!j.winnerId?{...j,winnerId:j.player1Id}:j);i(O),U(O,s,o,A)}},[n,s,o,A]);const G=(J,O)=>{const j=O.filter(L=>Y(L)===J),T=j.filter(L=>!L.isBye),_=j.filter(L=>L.isBye);return T.length===0&&_.length>0?!0:T.length>0&&T.every(L=>L.winnerId)};function Y(J){return J.id.startsWith("wb_r1")?"WB_R1":J.id.startsWith("lb_r1")?"LB_R1":J.id.startsWith("wb_r2")?"WB_R2":J.id.startsWith("lb_r2")?"LB_R2":J.id.startsWith("lb_r3")?"LB_R3":J.id.startsWith("wb_r3")?"WB_R3":J.id.startsWith("lb_r4")?"LB_R4":J.id.startsWith("wb_r4")?"WB_R4":J.id.startsWith("lb_r5")?"LB_R5":J.id==="seventh_eighth"?"7-8":J.id==="lb_final"?"LB_FINAL":J.id==="fifth_sixth"?"5-6":J.id==="final"?"FINAL":J.id==="grand_final"?"GRAND_FINAL":"WB_R1"}z.useEffect(()=>{if(n.length===0)return;const J=eC.indexOf(A);if(J===-1||J===eC.length-1||!G(A,n))return;const O=eC[J+1],j=K(O,n);j.length>0&&(i([...n,...j]),c(O),U([...n,...j],s,o,O))},[n,A]);function K(J,O){switch(J){case"LB_R1":{const j=O.filter(x=>Y(x)==="WB_R1"&&x.winnerId&&!x.isBye).map(x=>x.player1Id===x.winnerId?x.player2Id:x.player1Id),_=8-j.length,L=j.slice(0,_),v=j.slice(_),E=[];L.forEach((x,g)=>{E.push({id:`lb_r1_bye_${g+1}`,player1Id:x,player2Id:"",bracket:"loser",round:1,matchNumber:g+1,isBye:!0,description:`${de.getDescription("LB1")} - Bye for ${H(x)}`})});for(let x=0;x<v.length;x+=2)x+1<v.length&&E.push({id:`lb_r1_${Math.floor(x/2)+1}`,player1Id:v[x],player2Id:v[x+1],bracket:"loser",round:1,matchNumber:L.length+Math.floor(x/2)+1,isBye:!1,description:de.createMatchDescription("LB1",Math.floor(x/2)+1)});return E}case"WB_R2":{const j=O.filter(v=>Y(v)==="WB_R1"&&v.winnerId&&!v.isBye).map(v=>v.winnerId),T=O.filter(v=>Y(v)==="WB_R1"&&v.isBye).map(v=>v.player1Id),_=[...j,...T],L=[];for(let v=0;v<_.length;v+=2)v+1<_.length&&L.push({id:`wb_r2_${Math.floor(v/2)+1}`,player1Id:_[v],player2Id:_[v+1],bracket:"winner",round:2,matchNumber:Math.floor(v/2)+1,isBye:!1,description:de.createMatchDescription("WB2",Math.floor(v/2)+1)});return L}case"LB_R2":{const j=O.filter(E=>Y(E)==="LB_R1"&&E.winnerId&&!E.isBye).map(E=>E.winnerId),T=O.filter(E=>Y(E)==="LB_R1"&&E.isBye).map(E=>E.player1Id),_=O.filter(E=>Y(E)==="WB_R2"&&E.winnerId).map(E=>E.player1Id===E.winnerId?E.player2Id:E.player1Id),L=[...j,...T,..._],v=[];for(let E=0;E<L.length;E+=2)E+1<L.length&&v.push({id:`lb_r2_${Math.floor(E/2)+1}`,player1Id:L[E],player2Id:L[E+1],bracket:"loser",round:2,matchNumber:Math.floor(E/2)+1,isBye:!1,description:de.createMatchDescription("LB2",Math.floor(E/2)+1)});return v}case"LB_R3":{const j=O.filter(_=>Y(_)==="LB_R2"&&_.winnerId).map(_=>_.winnerId),T=[];for(let _=0;_<j.length;_+=2)_+1<j.length&&T.push({id:`lb_r3_${Math.floor(_/2)+1}`,player1Id:j[_],player2Id:j[_+1],bracket:"loser",round:3,matchNumber:Math.floor(_/2)+1,isBye:!1,description:de.createMatchDescription("LB3",Math.floor(_/2)+1)});return T}case"WB_R3":{const j=O.filter(_=>Y(_)==="WB_R2"&&_.winnerId).map(_=>_.winnerId),T=[];for(let _=0;_<j.length;_+=2)_+1<j.length&&T.push({id:`wb_r3_${Math.floor(_/2)+1}`,player1Id:j[_],player2Id:j[_+1],bracket:"winner",round:3,matchNumber:Math.floor(_/2)+1,isBye:!1,description:de.createMatchDescription("WB_QuarterFinal",Math.floor(_/2)+1)});return T}case"LB_R4":{const j=O.filter(v=>Y(v)==="WB_R3"&&v.winnerId).map(v=>v.player1Id===v.winnerId?v.player2Id:v.player1Id),_=[...O.filter(v=>Y(v)==="LB_R3"&&v.winnerId).map(v=>v.winnerId),...j],L=[];for(let v=0;v<_.length;v+=2)v+1<_.length&&L.push({id:`lb_r4_${Math.floor(v/2)+1}`,player1Id:_[v],player2Id:_[v+1],bracket:"loser",round:4,matchNumber:Math.floor(v/2)+1,isBye:!1,description:de.createMatchDescription("LB4",Math.floor(v/2)+1)});return L}case"WB_R4":{const j=O.filter(T=>Y(T)==="WB_R3"&&T.winnerId).map(T=>T.winnerId);return j.length>=2?[{id:"wb_r4_semifinal",player1Id:j[0],player2Id:j[1],bracket:"winner",round:4,matchNumber:1,isBye:!1,description:de.getDescription("WB_SemiFinal")}]:[]}case"LB_R5":{const j=O.filter(T=>Y(T)==="LB_R4"&&T.winnerId).map(T=>T.winnerId);return j.length>=2?[{id:"lb_r5",player1Id:j[0],player2Id:j[1],bracket:"loser",round:5,matchNumber:1,isBye:!1,description:de.getDescription("LB5")}]:[]}case"7-8":{const j=O.filter(T=>Y(T)==="LB_R3"&&T.winnerId).map(T=>T.player1Id===T.winnerId?T.player2Id:T.player1Id);return j.length>=2?[{id:"seventh_eighth",player1Id:j[0],player2Id:j[1],bracket:"placement",round:5,matchNumber:2,isBye:!1,description:de.getDescription("7-8")}]:[]}case"LB_FINAL":{const j=O.find(_=>_.id==="wb_r4_semifinal"),T=O.find(_=>_.id==="lb_r5");return j&&j.winnerId&&T&&T.winnerId?[{id:"lb_final",player1Id:j.player1Id===j.winnerId?j.player2Id:j.player1Id,player2Id:T.winnerId,bracket:"loser",round:6,matchNumber:1,isBye:!1,description:de.getDescription("LB_Final")}]:[]}case"5-6":{const j=O.filter(T=>Y(T)==="LB_R4"&&T.winnerId).map(T=>T.player1Id===T.winnerId?T.player2Id:T.player1Id);return j.length>=2?[{id:"fifth_sixth",player1Id:j[0],player2Id:j[1],bracket:"placement",round:6,matchNumber:2,isBye:!1,description:de.getDescription("5-6")}]:[]}case"FINAL":{const j=O.find(_=>_.id==="wb_r4_semifinal"),T=O.find(_=>_.id==="lb_final");return j&&j.winnerId&&T&&T.winnerId?[{id:"final",player1Id:j.winnerId,player2Id:T.winnerId,bracket:"winner",round:7,matchNumber:1,isBye:!1,description:de.getDescription("Final")}]:[]}case"GRAND_FINAL":{const j=O.find(T=>T.id==="final");return j&&j.winnerId&&j.player1Id&&j.player2Id&&j.winnerId===j.player2Id?[{id:"grand_final",player1Id:j.player2Id,player2Id:j.player1Id,bracket:"winner",round:8,matchNumber:1,isBye:!1,description:de.getDescription("GrandFinal")}]:[]}default:return[]}}const H=J=>{if(!J)return"";const O=r.find(j=>j.id===J);return O?`${O.name} ${O.surname}`:""},te=()=>{if(D.length>0){k(!0);const J=D[D.length-1],j=n.find(g=>{var w;return g.winnerId&&!((w=J.find(h=>h.id===g.id))!=null&&w.winnerId)});i(J),C(g=>g.slice(0,-1)),o&&l(!1);let T={...s};if(j){const g=j.id;g==="final"||g==="grand_final"?(delete T.first,delete T.second):g==="lb_final"?delete T.third:g==="place56"&&(delete T.fifth,delete T.sixth)}a(T);const _=J[J.length-1];if(_){const g=Y(_);c(g)}const L=J.map(g=>g.id);I(g=>{const w={...g};return Object.keys(w).forEach(h=>{L.includes(h)||delete w[h]}),w});const v=D.slice(0,-1),E={matches:J,rankings:T,tournamentComplete:!1,currentRoundKey:Y(J[J.length-1]||J[0]),matchHistory:v,timestamp:new Date().toISOString()},x=r.map(g=>g.id).sort().join("-");Pe.saveDoubleEliminationState(12,x,E,t),setTimeout(()=>{k(!1)},100)}},ue=J=>{const O=H(J.player1Id),j=J.player2Id?H(J.player2Id):"TBD",T=p[J.id]||null,_=E=>{J.winnerId||I(x=>({...x,[J.id]:E}))},L=()=>{T&&(q(J.id,T),I(E=>({...E,[J.id]:null})))},v=()=>{I(E=>({...E,[J.id]:null}))};return J.id==="grand_final"?B.jsx(wr,{matchId:J.id,fixtureId:t,player1Name:O,player2Name:j,winnerId:J.winnerId,player1Id:J.player1Id||"",player2Id:J.player2Id||"",bracket:J.bracket,round:J.round,matchNumber:J.matchNumber,isBye:J.isBye,currentSelectedWinner:T,onWinnerSelect:_,onWinnerConfirm:L,onSelectionCancel:v,playersLength:r.length,matchTitle:J.description}):B.jsx(wr,{matchId:J.id,fixtureId:t,player1Name:O,player2Name:j,winnerId:J.winnerId,player1Id:J.player1Id||"",player2Id:J.player2Id||"",bracket:J.bracket,round:J.round,matchNumber:J.matchNumber,isBye:J.isBye,currentSelectedWinner:T,onWinnerSelect:_,onWinnerConfirm:L,onSelectionCancel:v,playersLength:r.length,matchTitle:J.description})},oe=n.filter(J=>!J.winnerId&&!J.isBye);return B.jsxs("div",{className:"px-3 sm:px-6 py-6 bg-gray-50 min-h-screen",children:[t&&B.jsx("h2",{className:"text-2xl font-bold text-center mb-2 text-gray-900",children:((re=Ye.getFixtureById(t))==null?void 0:re.name)||""}),B.jsx(Nn,{activeTab:u,onTabChange:dt.createTabChangeHandler(f,t)}),u==="active"&&B.jsx("div",{className:"text-center mb-6",children:B.jsxs("div",{className:"flex justify-center gap-4",children:[B.jsxs("button",{onClick:()=>{window.confirm("Turnuvayı sıfırlamak istediğinizden emin misiniz? Bu işlem geri alınamaz.")&&(V(),Z(),I({}),C([]),F(null))},className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg shadow hover:from-red-600 hover:to-red-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Turnuvayı Sıfırla"]}),D.length>0&&B.jsxs("button",{onClick:te,className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg shadow hover:from-blue-600 hover:to-blue-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Bir Önceki Maç"]})]})}),u==="active"&&!o&&oe.length>0&&B.jsx("div",{className:"flex justify-center mb-4",children:B.jsxs("button",{onClick:()=>{oe.forEach(J=>{const O=Math.random()<.5?J.player1Id:J.player2Id;q(J.id,O)})},className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg shadow hover:from-green-600 hover:to-green-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Aktif Maçların Kazananlarını Otomatik Seç"]})}),u==="active"&&B.jsx("div",{className:"flex flex-wrap justify-center gap-4 max-w-6xl mx-auto",children:oe.length===0?B.jsx("div",{className:"max-w-4xl mx-auto",children:B.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl p-8 text-center shadow-lg",children:B.jsxs("div",{className:"mb-6",children:[B.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:B.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),B.jsx("h2",{className:"text-3xl font-bold text-green-800 mb-2",children:"🏆 Turnuva Tamamlandı!"}),B.jsx("p",{className:"text-green-700 text-lg mb-2",children:(()=>{const J=n.filter(T=>!T.isBye),O=J.filter(T=>T.winnerId).length,j=J.length;return`${O} / ${j} maç başarıyla tamamlandı.`})()}),B.jsx("p",{className:"text-green-700 text-lg mb-6",children:"Sonuçları ve sıralamaları görmek için aşağıdaki butona tıklayın."}),B.jsxs("button",{onClick:()=>dt.createTabChangeHandler(f,t)("rankings"),className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold rounded-lg shadow-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200 transform hover:scale-105",children:[B.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Sıralama Sekmesine Git"]})]})})}):oe.map(J=>B.jsx("div",{className:"w-full sm:w-80 md:w-96",children:ue(J)},J.id))}),u==="completed"&&B.jsx(kn,{matches:n,players:r,getPlayerName:H}),u==="rankings"&&B.jsx(Mn,{rankings:s,players:r,getPlayerName:H})]})},km=["WB_R1","WB_R2","LB_R1","LB_R2","WB_R3","LB_R3","LB_R4","WB_R4","LB_R5","YARI_FINAL","LB_R6","7-8","LB_FINAL","5-6","FINAL","GRAND_FINAL"],aie=({players:r,onMatchResult:e,onTournamentComplete:t,fixtureId:n})=>{var _;const[i,s]=z.useState([]),[a,o]=z.useState({}),[l,A]=z.useState(!1),[c,u]=z.useState("WB_R1"),[f,p]=z.useState(dt.getInitialTab(n)),[I,F]=z.useState({}),[,D]=z.useState(null),[C,k]=z.useState([]),[,U]=z.useState(!1),Q=(L,v,E,x)=>{const g={matches:L,rankings:v,tournamentComplete:E,currentRoundKey:x,matchHistory:C,timestamp:new Date().toISOString()},w=r.map(h=>h.id).sort().join("-");Pe.saveDoubleEliminationState(17,w,g,n)},V=()=>{try{const L=r.map(E=>E.id).sort().join("-"),v=Pe.getDoubleEliminationState(17,L,n);if(v)return s(v.matches||[]),o(v.rankings||{}),A(v.tournamentComplete||!1),u(v.currentRoundKey||"WB_R1"),k(v.matchHistory||[]),D(null),!0}catch{}return!1},Z=()=>{const L=r.map(v=>v.id).sort().join("-");Pe.clearDoubleEliminationState(17,L,n)},q=()=>{Z();const L=[...r].sort(()=>Math.random()-.5),E=32-r.length,x=L.slice(0,E),g=L.slice(E),w=[];for(let h=0;h<g.length;h+=2)h+1<g.length&&w.push({id:`wb_r1_${Math.floor(h/2)+1}`,player1Id:g[h].id,player2Id:g[h+1].id,bracket:"winner",round:1,matchNumber:Math.floor(h/2)+1,isBye:!1,description:de.createMatchDescription("WB1",Math.floor(h/2)+1)});x.forEach((h,y)=>{w.push({id:`wb_r1_bye_${y+1}`,player1Id:h.id,player2Id:"",bracket:"winner",round:1,matchNumber:w.length+1,isBye:!0,description:`${de.getDescription("WB1")} - Bye for ${h.name} ${h.surname}`})}),s(w),o({}),A(!1),u("WB_R1")};z.useEffect(()=>{r.length>=17&&r.length<=23&&(V()||q())},[r]),z.useEffect(()=>{if(i.filter(v=>v.isBye&&!v.winnerId).length>0){const v=i.map(E=>E.isBye&&!E.winnerId?{...E,winnerId:E.player1Id}:E);s(v),Q(v,a,l,c)}},[i,a,l,c]);const G=(L,v)=>{const E=v.filter(x=>Y(x)===L&&!x.isBye);return E.length>0&&E.every(x=>x.winnerId)};function Y(L){return L.id.startsWith("wb_r1")?"WB_R1":L.id.startsWith("wb_r2")?"WB_R2":L.id.startsWith("lb_r1")?"LB_R1":L.id.startsWith("lb_r2")?"LB_R2":L.id.startsWith("wb_r3")?"WB_R3":L.id.startsWith("lb_r3")?"LB_R3":L.id.startsWith("lb_r4")?"LB_R4":L.id.startsWith("wb_r4")?"WB_R4":L.id.startsWith("lb_r5")?"LB_R5":L.id==="yari_final"?"YARI_FINAL":L.id.startsWith("lb_r6")?"LB_R6":L.id==="seventh_eighth"?"7-8":L.id==="lb_final"?"LB_FINAL":L.id==="fifth_sixth"?"5-6":L.id==="final"?"FINAL":L.id==="grand_final"?"GRAND_FINAL":"WB_R1"}z.useEffect(()=>{if(i.length===0)return;const L=km.indexOf(c);if(L===-1||L===km.length-1||!G(c,i))return;const v=km[L+1],E=oe();E.length>0&&(s([...i,...E]),u(v),Q([...i,...E],a,l,v))},[i,c]);const K=L=>{if(!L)return"";const v=r.find(E=>E.id===L);return v?`${v.name} ${v.surname}`:""},H=()=>{if(C.length>0){U(!0);const L=C[C.length-1],E=i.find(g=>{var w;return g.winnerId&&!((w=L.find(h=>h.id===g.id))!=null&&w.winnerId)});s(L),k(g=>g.slice(0,-1)),l&&A(!1);let x={...a};if(E){const g=E.id;g==="final"&&(delete x.first,delete x.second),g==="grand_final"&&(delete x.first,delete x.second),g==="lb_final"&&(delete x.third,delete x.fourth),g==="fifth_sixth"&&(delete x.fifth,delete x.sixth),g==="seventh_eighth"&&(delete x.seventh,delete x.eighth)}if(o(x),L.length>0){const g=L[L.length-1],w=Y(g);u(w)}F(g=>{const w={...g};return Object.keys(w).forEach(h=>{L.find(y=>y.id===h)||delete w[h]}),w}),Q(L,x,!1,c),setTimeout(()=>U(!1),100)}},te=L=>r.find(v=>v.id===L),ue=(L,v)=>{k(w=>[...w,[...i]]),D(i.find(w=>w.id===L)||null);const E=i.map(w=>w.id===L?{...w,winnerId:v}:w);let x={...a};const g=i.find(w=>w.id===L);g&&(g.id==="seventh_eighth"&&(x.seventh=v,x.eighth=g.player1Id===v?g.player2Id:g.player1Id),g.id==="fifth_sixth"&&(x.fifth=v,x.sixth=g.player1Id===v?g.player2Id:g.player1Id),g.id==="lb_final"&&(x.third=v,x.fourth=g.player1Id===v?g.player2Id:g.player1Id),g.id,(g.id==="final"||g.id==="grand_final")&&(x.first=v,x.second=g.player1Id===v?g.player2Id:g.player1Id)),s(E),o(x),Q(E,x,l,c),g&&(g.id.toLowerCase().includes("final")||g.id.toLowerCase().includes("grand"))&&t&&t(x)};function oe(){const L=i,v=km.indexOf(c);switch(km[v+1]){case"WB_R2":{const x=L.filter(d=>Y(d)==="WB_R1"),g=x.filter(d=>d.winnerId&&!d.isBye).map(d=>d.winnerId),w=x.filter(d=>d.isBye).map(d=>d.player1Id),h=[...g,...w],y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`wb_r2_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"winner",round:2,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("WB2",Math.floor(d/2)+1)});return y}case"LB_R1":{const x=L.filter(se=>Y(se)==="WB_R1"),g=L.filter(se=>Y(se)==="WB_R2"),w=x.filter(se=>se.winnerId&&!se.isBye).map(se=>se.player1Id===se.winnerId?se.player2Id:se.player1Id),h=g.filter(se=>se.winnerId).map(se=>se.player1Id===se.winnerId?se.player2Id:se.player1Id),y=[...w,...h],d=16-y.length,M=[...y].sort((se,me)=>te(me).weight-te(se).weight),S=M.slice(0,d),W=M.slice(d),$=[];S.forEach((se,me)=>{$.push({id:`lb_r1_bye_${me+1}`,player1Id:se,player2Id:"",bracket:"loser",round:1,matchNumber:me+1,isBye:!0,description:`${de.getDescription("LB1")} - Bye for ${K(se)}`})});for(let se=0;se<W.length;se+=2)se+1<W.length&&$.push({id:`lb_r1_${Math.floor(se/2)+1}`,player1Id:W[se],player2Id:W[se+1],bracket:"loser",round:1,matchNumber:S.length+Math.floor(se/2)+1,isBye:!1,description:de.createMatchDescription("LB1",Math.floor(se/2)+1)});return $}case"LB_R2":{const x=L.filter(d=>Y(d)==="LB_R1"),g=x.filter(d=>d.winnerId&&!d.isBye).map(d=>d.winnerId),w=x.filter(d=>d.isBye).map(d=>d.player1Id),h=[...g,...w],y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`lb_r2_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"loser",round:2,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("LB2",Math.floor(d/2)+1)});return y}case"WB_R3":{const g=L.filter(h=>Y(h)==="WB_R2").filter(h=>h.winnerId).map(h=>h.winnerId),w=[];for(let h=0;h<g.length;h+=2)h+1<g.length&&w.push({id:`wb_r3_${Math.floor(h/2)+1}`,player1Id:g[h],player2Id:g[h+1],bracket:"winner",round:3,matchNumber:Math.floor(h/2)+1,isBye:!1,description:de.createMatchDescription("WB3",Math.floor(h/2)+1)});return w}case"LB_R3":{const x=L.filter(M=>Y(M)==="LB_R2"),g=L.filter(M=>Y(M)==="WB_R3"),w=x.filter(M=>M.winnerId).map(M=>M.winnerId),h=g.filter(M=>M.winnerId).map(M=>M.player1Id===M.winnerId?M.player2Id:M.player1Id),y=[...w,...h],d=[];for(let M=0;M<y.length;M+=2)M+1<y.length&&d.push({id:`lb_r3_${Math.floor(M/2)+1}`,player1Id:y[M],player2Id:y[M+1],bracket:"loser",round:3,matchNumber:Math.floor(M/2)+1,isBye:!1,description:de.createMatchDescription("LB3",Math.floor(M/2)+1)});return d}case"LB_R4":{const g=L.filter(h=>Y(h)==="LB_R3").filter(h=>h.winnerId).map(h=>h.winnerId),w=[];for(let h=0;h<g.length;h+=2)h+1<g.length&&w.push({id:`lb_r4_${Math.floor(h/2)+1}`,player1Id:g[h],player2Id:g[h+1],bracket:"loser",round:4,matchNumber:Math.floor(h/2)+1,isBye:!1,description:de.createMatchDescription("LB4",Math.floor(h/2)+1)});return w}case"WB_R4":{const g=L.filter(h=>Y(h)==="WB_R3").filter(h=>h.winnerId).map(h=>h.winnerId),w=[];for(let h=0;h<g.length;h+=2)h+1<g.length&&w.push({id:`wb_r4_${Math.floor(h/2)+1}`,player1Id:g[h],player2Id:g[h+1],bracket:"winner",round:4,matchNumber:Math.floor(h/2)+1,isBye:!1,description:de.createMatchDescription("WB_QuarterFinal",Math.floor(h/2)+1)});return w}case"LB_R5":{const x=L.filter(M=>Y(M)==="WB_R4"),g=L.filter(M=>Y(M)==="LB_R4"),w=x.filter(M=>M.winnerId).map(M=>M.player1Id===M.winnerId?M.player2Id:M.player1Id),h=g.filter(M=>M.winnerId).map(M=>M.winnerId),y=[...w,...h],d=[];for(let M=0;M<y.length;M+=2)M+1<y.length&&d.push({id:`lb_r5_${Math.floor(M/2)+1}`,player1Id:y[M],player2Id:y[M+1],bracket:"loser",round:5,matchNumber:Math.floor(M/2)+1,isBye:!1,description:de.createMatchDescription("LB5",Math.floor(M/2)+1)});return d}case"YARI_FINAL":{const g=L.filter(w=>Y(w)==="WB_R4").filter(w=>w.winnerId).map(w=>w.winnerId);return g.length>=2?[{id:"yari_final",player1Id:g[0],player2Id:g[1],bracket:"winner",round:5,matchNumber:1,isBye:!1,description:de.getDescription("WB_SemiFinal")}]:[]}case"LB_R6":{const g=L.filter(w=>Y(w)==="LB_R5").filter(w=>w.winnerId).map(w=>w.winnerId);return g.length>=2?[{id:"lb_r6",player1Id:g[0],player2Id:g[1],bracket:"loser",round:6,matchNumber:1,isBye:!1,description:de.getDescription("LB6")}]:[]}case"7-8":{const g=L.filter(w=>Y(w)==="LB_R4").filter(w=>w.winnerId).map(w=>w.player1Id===w.winnerId?w.player2Id:w.player1Id);return g.length>=2?[{id:"seventh_eighth",player1Id:g[0],player2Id:g[1],bracket:"placement",round:4,matchNumber:1,isBye:!1,description:de.getDescription("7-8")}]:[]}case"LB_FINAL":{const x=L.find(w=>w.id==="yari_final"),g=L.find(w=>w.id==="lb_r6");if(x&&g&&x.winnerId&&g.winnerId){const w=x.player1Id===x.winnerId?x.player2Id:x.player1Id;return[{id:"lb_final",player1Id:g.winnerId,player2Id:w,bracket:"loser",round:7,matchNumber:1,isBye:!1,description:de.getDescription("LB_Final")}]}return[]}case"5-6":{const g=L.filter(w=>Y(w)==="LB_R5").filter(w=>w.winnerId).map(w=>w.player1Id===w.winnerId?w.player2Id:w.player1Id);return g.length>=2?[{id:"fifth_sixth",player1Id:g[0],player2Id:g[1],bracket:"placement",round:5,matchNumber:1,isBye:!1,description:de.getDescription("5-6")}]:[]}case"FINAL":{const x=L.find(w=>w.id==="yari_final"),g=L.find(w=>w.id==="lb_final");return x&&g&&x.winnerId&&g.winnerId?[{id:"final",player1Id:x.winnerId,player2Id:g.winnerId,bracket:"winner",round:8,matchNumber:1,isBye:!1,description:de.getDescription("Final")}]:[]}case"GRAND_FINAL":{const x=L.find(g=>g.id==="final");if(x&&x.winnerId){const g=L.find(h=>h.id==="yari_final"),w=L.find(h=>h.id==="lb_final");if(g&&w&&w.winnerId===x.winnerId)return[{id:"grand_final",player1Id:g.winnerId,player2Id:w.winnerId,bracket:"winner",round:9,matchNumber:1,isBye:!1,description:de.getDescription("GrandFinal")}]}return[]}default:return[]}}const re=(L,v)=>{F(E=>({...E,[L]:v}))},J=L=>{I[L]&&(ue(L,I[L]),F(v=>({...v,[L]:null})))},O=L=>{F(v=>({...v,[L]:null}))},j=L=>{const v=K(L.player1Id),E=L.player2Id?K(L.player2Id):"TBD",x=I[L.id]||null;return L.id==="grand_final"?B.jsx(wr,{matchId:L.id,player1Name:E,player2Name:v,winnerId:L.winnerId,player1Id:L.player2Id||"",player2Id:L.player1Id||"",bracket:L.bracket,round:L.round,matchNumber:L.matchNumber,isBye:L.isBye,currentSelectedWinner:x,onWinnerSelect:g=>re(L.id,g),onWinnerConfirm:()=>J(L.id),onSelectionCancel:()=>O(L.id),playersLength:r.length,matchTitle:L.description}):B.jsx(wr,{matchId:L.id,fixtureId:n,player1Name:v,player2Name:E,winnerId:L.winnerId,player1Id:L.player1Id||"",player2Id:L.player2Id||"",bracket:L.bracket,round:L.round,matchNumber:L.matchNumber,isBye:L.isBye,currentSelectedWinner:x,onWinnerSelect:g=>re(L.id,g),onWinnerConfirm:()=>J(L.id),onSelectionCancel:()=>O(L.id),playersLength:r.length,matchTitle:L.description})},T=i.filter(L=>Y(L)===c);return B.jsxs("div",{className:"px-3 sm:px-6 py-6 bg-gray-50 min-h-screen",children:[B.jsxs("div",{className:"text-center mb-6",children:[n&&B.jsx("h2",{className:"text-2xl font-bold text-center mb-2 text-gray-900",children:((_=Ye.getFixtureById(n))==null?void 0:_.name)||""}),B.jsx(Nn,{activeTab:f,onTabChange:dt.createTabChangeHandler(p,n)})]}),f==="active"&&B.jsxs(B.Fragment,{children:[B.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[B.jsxs("button",{onClick:()=>{window.confirm("Turnuvayı sıfırlamak istediğinizden emin misiniz? Bu işlem geri alınamaz.")&&(Z(),q(),F({}),k([]),D(null))},className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg shadow hover:from-red-600 hover:to-red-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Turnuvayı Sıfırla"]}),C.length>0&&B.jsxs("button",{onClick:H,className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg shadow hover:from-blue-600 hover:to-blue-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Bir Önceki Maç"]})]}),(()=>{const L=i.filter(E=>!E.isBye&&!E.winnerId),v=T.filter(E=>!E.isBye&&!E.winnerId);return L.length===0?B.jsx("div",{className:"max-w-4xl mx-auto",children:B.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl p-8 text-center shadow-lg",children:B.jsxs("div",{className:"mb-6",children:[B.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:B.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),B.jsx("h2",{className:"text-3xl font-bold text-green-800 mb-2",children:"🏆 Turnuva Tamamlandı!"}),B.jsx("p",{className:"text-green-700 text-lg mb-2",children:(()=>{const E=i.filter(w=>!w.isBye),x=E.filter(w=>w.winnerId).length,g=E.length;return`${x} / ${g} maç başarıyla tamamlandı.`})()}),B.jsx("p",{className:"text-green-700 text-lg mb-6",children:"Sonuçları ve sıralamaları görmek için aşağıdaki butona tıklayın."}),B.jsxs("button",{onClick:()=>dt.createTabChangeHandler(p,n)("rankings"),className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold rounded-lg shadow-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200 transform hover:scale-105",children:[B.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2m0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Sıralama Sekmesine Git"]})]})})}):B.jsxs(B.Fragment,{children:[!l&&v.length>0&&B.jsx("div",{className:"flex justify-center mb-4",children:B.jsxs("button",{onClick:()=>{v.forEach(E=>{const x=Math.random()<.5?E.player1Id:E.player2Id;ue(E.id,x)})},className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg shadow hover:from-green-600 hover:to-green-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Bu Turun Kazananlarını Otomatik Seç"]})}),B.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-w-7xl mx-auto",children:v.map(j)})]})})()]}),f==="completed"&&B.jsx(kn,{matches:i,players:r,getPlayerName:K}),f==="rankings"&&B.jsx(Mn,{rankings:a,players:r,getPlayerName:K}),!l&&f==="active"&&B.jsxs("div",{className:"mt-6 text-center",children:[B.jsx("div",{className:"text-sm text-gray-600",children:(()=>{const L=i.filter(x=>!x.isBye),v=L.filter(x=>x.winnerId).length,E=L.length;return`${v} / ${E} maç tamamlandı`})()}),B.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2 max-w-xs mx-auto",children:B.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${(()=>{const L=i.filter(x=>!x.isBye),v=L.filter(x=>x.winnerId).length,E=L.length;return E>0?v/E*100:0})()}%`}})})]})]})},Mm=["WB1","LB1","WB2","LB2","LB3","WB3","LB4","LB5","WB4","LB6","YariFinal","LB7","7-8","LBFinal","5-6","Final","GrandFinal"],oie=({players:r,resetKey:e,onTournamentComplete:t,fixtureId:n})=>{var L;const[i,s]=z.useState([]),[a,o]=z.useState({}),[l,A]=z.useState(!1),[c,u]=z.useState("WB1"),[f,p]=z.useState(!1),[I,F]=z.useState(dt.getInitialTab(n)),[D,C]=z.useState({}),[,k]=z.useState(null),[U,Q]=z.useState([]),[,V]=z.useState(!1);z.useEffect(()=>{if(c==="LB1"){const v=i.filter(E=>H(E)==="LB1");if(v.length>0&&v.every(E=>E.isBye)){p(!0);const E=setTimeout(()=>{const x=te();s([...i,...x]),u("WB2"),p(!1)},3e3);return()=>clearTimeout(E)}else p(!1)}else p(!1)},[c,i]);const Z=(v,E,x,g)=>{const w={matches:v,rankings:E,tournamentComplete:x,currentRoundKey:g,matchHistory:U,timestamp:new Date().toISOString()},h=r.map(y=>y.id).sort().join("-");Pe.saveDoubleEliminationState(24,h,w,n)},q=()=>{try{const v=r.map(x=>x.id).sort().join("-"),E=Pe.getDoubleEliminationState(24,v,n);if(E)return s(E.matches||[]),o(E.rankings||{}),A(E.tournamentComplete||!1),u(E.currentRoundKey||"WB1"),Q(E.matchHistory||[]),k(null),!0}catch{}return!1},G=()=>{const v=r.map(E=>E.id).sort().join("-");Pe.clearDoubleEliminationState(24,v,n),Q([])},Y=()=>{G();const v=[...r].sort(()=>Math.random()-.5),x=32-r.length,g=v.slice(0,x),w=v.slice(x),h=[];for(let y=0;y<w.length;y+=2)y+1<w.length&&h.push({id:`wb1_${Math.floor(y/2)+1}`,player1Id:w[y].id,player2Id:w[y+1].id,bracket:"winner",round:1,matchNumber:Math.floor(y/2)+1,isBye:!1,description:de.createMatchDescription("WB1",Math.floor(y/2)+1)});g.forEach((y,d)=>{h.push({id:`wb1_bye_${d+1}`,player1Id:y.id,player2Id:"",bracket:"winner",round:1,matchNumber:h.length+1,isBye:!0,description:`${de.getDescription("WB1")} - Bye for ${y.name} ${y.surname}`})}),s(h),o({}),A(!1),u("WB1"),Q([])};z.useEffect(()=>{r.length>=24&&r.length<=32&&(q()||Y())},[r]),z.useEffect(()=>{typeof e<"u"&&Y()},[e]),z.useEffect(()=>{if(i.filter(E=>E.isBye&&!E.winnerId).length>0){const E=i.map(x=>x.isBye&&!x.winnerId?{...x,winnerId:x.player1Id}:x);s(E),Z(E,a,l,c)}},[i,a,l,c]);const K=(v,E)=>{const x=E.filter(g=>H(g)===v&&!g.isBye);return x.length>0&&x.every(g=>g.winnerId)};function H(v){return v.id.startsWith("wb1")?"WB1":v.id.startsWith("lb1")?"LB1":v.id.startsWith("wb2")?"WB2":v.id.startsWith("lb2")?"LB2":v.id.startsWith("lb3")?"LB3":v.id.startsWith("wb3")?"WB3":v.id.startsWith("lb4")?"LB4":v.id.startsWith("lb5")?"LB5":v.id.startsWith("wb4")?"WB4":v.id.startsWith("lb6")?"LB6":v.id==="yarifinal"?"YariFinal":v.id.startsWith("lb7")?"LB7":v.id==="seventh_eighth"?"7-8":v.id==="lbfinal"?"LBFinal":v.id==="fifth_sixth"?"5-6":v.id==="final"?"Final":v.id==="grandfinal"?"GrandFinal":"WB1"}z.useEffect(()=>{if(i.length===0)return;const v=Mm.indexOf(c);if(v===-1||v===Mm.length-1||!K(c,i))return;const E=Mm[v+1],x=te();x.length>0&&(s([...i,...x]),u(E),Z([...i,...x],a,l,E))},[i,c]);function te(){const v=i,E=Mm.indexOf(c);switch(Mm[E+1]){case"LB1":{const w=v.filter(W=>H(W)==="WB1").filter(W=>W.winnerId&&!W.isBye).map(W=>W.player1Id===W.winnerId?W.player2Id:W.player1Id),y=16-w.length,d=w.slice(0,y),M=w.slice(y),S=[];d.forEach((W,$)=>{S.push({id:`lb1_bye_${$+1}`,player1Id:W,player2Id:"",bracket:"loser",round:1,matchNumber:$+1,isBye:!0,description:`${de.getDescription("LB1")} - Bye for ${oe(W)}`})});for(let W=0;W<M.length;W+=2)W+1<M.length&&S.push({id:`lb1_${Math.floor(W/2)+1}`,player1Id:M[W],player2Id:M[W+1],bracket:"loser",round:1,matchNumber:y+Math.floor(W/2)+1,isBye:!1,description:de.createMatchDescription("LB1",Math.floor(W/2)+1)});return S}case"WB2":{const g=v.filter(M=>H(M)==="WB1"),w=g.filter(M=>M.winnerId&&!M.isBye).map(M=>M.winnerId),h=g.filter(M=>M.isBye).map(M=>M.player1Id),y=[...w,...h],d=[];for(let M=0;M<y.length;M+=2)M+1<y.length&&d.push({id:`wb2_${Math.floor(M/2)+1}`,player1Id:y[M],player2Id:y[M+1],bracket:"winner",round:2,matchNumber:Math.floor(M/2)+1,isBye:!1,description:de.createMatchDescription("WB2",Math.floor(M/2)+1)});return d}case"LB2":{const g=v.filter(W=>H(W)==="LB1"),w=g.filter(W=>W.winnerId&&!W.isBye).map(W=>W.winnerId),h=g.filter(W=>W.isBye).map(W=>W.player1Id),d=v.filter(W=>H(W)==="WB2").filter(W=>W.winnerId).map(W=>W.player1Id===W.winnerId?W.player2Id:W.player1Id),M=[...w,...h,...d],S=[];for(let W=0;W<M.length;W+=2)W+1<M.length&&S.push({id:`lb2_${Math.floor(W/2)+1}`,player1Id:M[W],player2Id:M[W+1],bracket:"loser",round:2,matchNumber:Math.floor(W/2)+1,isBye:!1,description:de.createMatchDescription("LB2",Math.floor(W/2)+1)});return S}case"LB3":{const w=v.filter(y=>H(y)==="LB2").filter(y=>y.winnerId).map(y=>y.winnerId),h=[];for(let y=0;y<w.length;y+=2)y+1<w.length&&h.push({id:`lb3_${Math.floor(y/2)+1}`,player1Id:w[y],player2Id:w[y+1],bracket:"loser",round:3,matchNumber:Math.floor(y/2)+1,isBye:!1,description:de.createMatchDescription("LB3",Math.floor(y/2)+1)});return h}case"WB3":{const w=v.filter(y=>H(y)==="WB2").filter(y=>y.winnerId).map(y=>y.winnerId),h=[];for(let y=0;y<w.length;y+=2)y+1<w.length&&h.push({id:`wb3_${Math.floor(y/2)+1}`,player1Id:w[y],player2Id:w[y+1],bracket:"winner",round:3,matchNumber:Math.floor(y/2)+1,isBye:!1,description:de.createMatchDescription("WB3",Math.floor(y/2)+1)});return h}case"LB4":{const w=v.filter(S=>H(S)==="WB3").filter(S=>S.winnerId).map(S=>S.player1Id===S.winnerId?S.player2Id:S.player1Id),y=v.filter(S=>H(S)==="LB3").filter(S=>S.winnerId).map(S=>S.winnerId),d=[...w,...y],M=[];for(let S=0;S<d.length;S+=2)S+1<d.length&&M.push({id:`lb4_${Math.floor(S/2)+1}`,player1Id:d[S],player2Id:d[S+1],bracket:"loser",round:4,matchNumber:Math.floor(S/2)+1,isBye:!1,description:de.createMatchDescription("LB4",Math.floor(S/2)+1)});return M}case"LB5":{const w=v.filter(y=>H(y)==="LB4").filter(y=>y.winnerId).map(y=>y.winnerId),h=[];for(let y=0;y<w.length;y+=2)y+1<w.length&&h.push({id:`lb5_${Math.floor(y/2)+1}`,player1Id:w[y],player2Id:w[y+1],bracket:"loser",round:5,matchNumber:Math.floor(y/2)+1,isBye:!1,description:de.createMatchDescription("LB5",Math.floor(y/2)+1)});return h}case"WB4":{const w=v.filter(y=>H(y)==="WB3").filter(y=>y.winnerId).map(y=>y.winnerId),h=[];for(let y=0;y<w.length;y+=2)y+1<w.length&&h.push({id:`wb4_${Math.floor(y/2)+1}`,player1Id:w[y],player2Id:w[y+1],bracket:"winner",round:4,matchNumber:Math.floor(y/2)+1,isBye:!1,description:de.getDescription("WB_QuarterFinal")});return h}case"LB6":{const w=v.filter(S=>H(S)==="WB4").filter(S=>S.winnerId).map(S=>S.player1Id===S.winnerId?S.player2Id:S.player1Id),y=v.filter(S=>H(S)==="LB5").filter(S=>S.winnerId).map(S=>S.winnerId),d=[...w,...y],M=[];for(let S=0;S<d.length;S+=2)S+1<d.length&&M.push({id:`lb6_${Math.floor(S/2)+1}`,player1Id:d[S],player2Id:d[S+1],bracket:"loser",round:6,matchNumber:Math.floor(S/2)+1,isBye:!1,description:de.createMatchDescription("LB6",Math.floor(S/2)+1)});return M}case"YariFinal":{const w=v.filter(h=>H(h)==="WB4").filter(h=>h.winnerId).map(h=>h.winnerId);return w.length>=2?[{id:"yarifinal",player1Id:w[0],player2Id:w[1],bracket:"winner",round:7,matchNumber:1,isBye:!1,description:de.getDescription("WB_SemiFinal")}]:[]}case"LB7":{const w=v.filter(h=>H(h)==="LB6").filter(h=>h.winnerId).map(h=>h.winnerId);return w.length>=2?[{id:"lb7",player1Id:w[0],player2Id:w[1],bracket:"loser",round:7,matchNumber:1,isBye:!1,description:de.getDescription("LB7")}]:[]}case"7-8":{const w=v.filter(h=>H(h)==="LB5").filter(h=>h.winnerId).map(h=>h.player1Id===h.winnerId?h.player2Id:h.player1Id);return w.length>=2?[{id:"seventh_eighth",player1Id:w[0],player2Id:w[1],bracket:"placement",round:7,matchNumber:2,isBye:!1,description:de.getDescription("7-8")}]:[]}case"LBFinal":{const g=v.find(h=>h.id==="yarifinal"),w=v.find(h=>h.id==="lb7");if(g&&g.winnerId&&w&&w.winnerId){const h=g.player1Id===g.winnerId?g.player2Id:g.player1Id;return[{id:"lbfinal",player1Id:w.winnerId,player2Id:h,bracket:"loser",round:8,matchNumber:1,isBye:!1,description:de.getDescription("LB_Final")}]}return[]}case"5-6":{const w=v.filter(h=>H(h)==="LB6").filter(h=>h.winnerId).map(h=>h.player1Id===h.winnerId?h.player2Id:h.player1Id);return w.length>=2?[{id:"fifth_sixth",player1Id:w[0],player2Id:w[1],bracket:"placement",round:8,matchNumber:2,isBye:!1,description:de.getDescription("5-6")}]:[]}case"Final":{const g=v.find(h=>h.id==="yarifinal"),w=v.find(h=>h.id==="lbfinal");return g&&g.winnerId&&w&&w.winnerId?[{id:"final",player1Id:g.winnerId,player2Id:w.winnerId,bracket:"winner",round:9,matchNumber:1,isBye:!1,description:de.getDescription("Final")}]:[]}case"GrandFinal":{const g=v.find(w=>w.id==="final");return g&&g.winnerId&&g.player1Id&&g.player2Id&&g.winnerId===g.player2Id?[{id:"grandfinal",player1Id:g.player2Id,player2Id:g.player1Id,bracket:"winner",round:10,matchNumber:1,isBye:!1,description:de.getDescription("GrandFinal")}]:[]}default:return[]}}const ue=(v,E)=>{Q(d=>[...d,[...i]]),k(i.find(d=>d.id===v)||null);const x=i.map(d=>d.id===v?{...d,winnerId:E}:d);let g={...a},w=l;const h=i.find(d=>d.id===v);if(!h)return;const y=h.player1Id===E?h.player2Id:h.player1Id;if(h.id==="seventh_eighth"&&(g.seventh=E,g.eighth=y),h.id==="fifth_sixth"&&(g.fifth=E,g.sixth=y),h.id==="lb7"&&(g.fourth=y),h.id==="lbfinal"&&(g.third=y),h.id==="final"){const d=i.find(M=>M.id==="final");d&&E===d.player1Id&&(g.first=E,g.second=y,w=!0)}h.id==="grandfinal"&&(g.first=E,g.second=y,w=!0),s(x),o(g),A(w),Z(x,g,w,c),w&&t&&t(g)},oe=v=>{if(!v)return"";const E=r.find(x=>x.id===v);return E?`${E.name} ${E.surname}`:""},re=()=>{if(U.length>0){V(!0);const v=U[U.length-1],x=i.find(S=>{var W;return S.winnerId&&!((W=v.find($=>$.id===S.id))!=null&&W.winnerId)});s(v),Q(S=>S.slice(0,-1)),l&&A(!1);let g={...a};if(x){const S=x.id;S==="final"||S==="grandfinal"?(delete g.first,delete g.second):S==="lbfinal"?delete g.third:S==="seventh_eighth"?(delete g.seventh,delete g.eighth):S==="fifth_sixth"?(delete g.fifth,delete g.sixth):S==="lb7"&&delete g.fourth}o(g);const w=v[v.length-1];if(w){const S=H(w);u(S)}const h=v.map(S=>S.id);C(S=>{const W={...S};return Object.keys(W).forEach($=>{h.includes($)||delete W[$]}),W});const y=U.slice(0,-1),d={matches:v,rankings:g,tournamentComplete:!1,currentRoundKey:H(v[v.length-1]||v[0]),matchHistory:y,timestamp:new Date().toISOString()},M=r.map(S=>S.id).sort().join("-");Pe.saveDoubleEliminationState(24,M,d,n),setTimeout(()=>{V(!1)},100)}},J=(v,E)=>{C(x=>({...x,[v]:E}))},O=v=>{D[v]&&(ue(v,D[v]),C(E=>({...E,[v]:null})))},j=v=>{C(E=>({...E,[v]:null}))},T=v=>{const E=oe(v.player1Id),x=v.player2Id?oe(v.player2Id):"TBD",g=D[v.id]||null;return B.jsx(wr,{matchId:v.id,fixtureId:n,player1Name:E,player2Name:x,winnerId:v.winnerId,player1Id:v.player1Id||"",player2Id:v.player2Id||"",bracket:v.bracket,round:v.round,matchNumber:v.matchNumber,isBye:v.isBye,currentSelectedWinner:g,onWinnerSelect:w=>J(v.id,w),onWinnerConfirm:()=>O(v.id),onSelectionCancel:()=>j(v.id),playersLength:r.length,matchTitle:v.description})},_=i.filter(v=>H(v)===c);return B.jsxs("div",{className:"px-3 sm:px-6 py-6 bg-gray-50 min-h-screen",children:[n&&B.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-900",children:((L=Ye.getFixtureById(n))==null?void 0:L.name)||""}),B.jsx(Nn,{activeTab:I,onTabChange:dt.createTabChangeHandler(F,n)}),B.jsx("div",{className:"max-w-4xl mx-auto"}),I==="active"&&B.jsxs(B.Fragment,{children:[B.jsx("div",{className:"text-center mb-6",children:B.jsxs("div",{className:"flex justify-center gap-4",children:[B.jsxs("button",{onClick:()=>{window.confirm("Turnuvayı sıfırlamak istediğinizden emin misiniz? Bu işlem geri alınamaz.")&&(G(),Y(),C({}),Q([]),k(null))},className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg shadow hover:from-red-600 hover:to-red-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Turnuvayı Sıfırla"]}),U.length>0&&B.jsxs("button",{onClick:re,className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg shadow hover:from-blue-600 hover:to-blue-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Bir Önceki Maç"]})]})}),l?B.jsx("div",{className:"max-w-4xl mx-auto",children:B.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl p-8 text-center shadow-lg",children:B.jsxs("div",{className:"mb-6",children:[B.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:B.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),B.jsx("h2",{className:"text-3xl font-bold text-green-800 mb-2",children:"🏆 Turnuva Tamamlandı!"}),B.jsx("p",{className:"text-green-700 text-lg mb-6",children:"Tüm maçlar başarıyla tamamlandı. Sonuçları ve sıralamaları görmek için aşağıdaki butona tıklayın."}),B.jsxs("button",{onClick:()=>dt.createTabChangeHandler(F,n)("rankings"),className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold rounded-lg shadow-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200 transform hover:scale-105",children:[B.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Sıralama Sekmesine Git"]})]})})}):B.jsxs(B.Fragment,{children:[_.filter(E=>!E.isBye&&!E.winnerId).length>0&&B.jsx("div",{className:"flex justify-center mb-4",children:B.jsxs("button",{onClick:()=>{_.filter(E=>!E.isBye&&!E.winnerId).forEach(E=>{const x=Math.random()<.5?E.player1Id:E.player2Id;ue(E.id,x)})},className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg shadow hover:from-green-600 hover:to-green-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Bu Turun Kazananlarını Otomatik Seç"]})}),B.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4 max-w-7xl w-full mx-auto",children:_.filter(v=>!v.isBye&&!v.winnerId).map(T)})]})]}),I==="completed"&&B.jsx(kn,{matches:i,players:r,getPlayerName:oe}),I==="rankings"&&B.jsx(Mn,{rankings:a,players:r,getPlayerName:oe}),c==="LB1"&&_.length>0&&_.every(v=>v.isBye)&&B.jsx("div",{className:"text-center text-blue-600 mb-4 font-semibold",children:f?"LB R1'de herkes bye geçti, WB R2ye geçiliyor...":"Tüm oyuncular bye geçti, bir sonraki tur başlatılıyor..."}),!l&&I==="active"&&B.jsxs("div",{className:"mt-6 text-center",children:[B.jsx("div",{className:"text-sm text-gray-600",children:(()=>{const v=i.filter(g=>!g.isBye),E=v.filter(g=>g.winnerId).length,x=v.length;return`${E} / ${x} maç tamamlandı`})()}),B.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2 max-w-xs mx-auto",children:B.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${(()=>{const v=i.filter(g=>!g.isBye),E=v.filter(g=>g.winnerId).length,x=v.length;return x>0?E/x*100:0})()}%`}})})]})]})},Dm=["WB1","WB2","LB1","LB2","WB3","LB3","LB4","WB4","LB5","LB6","WB5","LB7","YariFinal","LB8","7-8","LBFinal","5-6","Final","GrandFinal"],lie=({players:r,resetKey:e,onTournamentComplete:t,fixtureId:n})=>{var x;const[i,s]=z.useState([]),[a,o]=z.useState({}),[l,A]=z.useState(!1),[c,u]=z.useState("WB1"),[f,p]=z.useState(!1),[I,F]=z.useState(dt.getInitialTab(n)),[D,C]=z.useState({}),[,k]=z.useState(null),[U,Q]=z.useState([]),[,V]=z.useState(!1);z.useEffect(()=>{if(c==="LB1"){const g=i.filter(w=>H(w)==="LB1");if(g.length>0&&g.every(w=>w.isBye)){p(!0);const w=setTimeout(()=>{const h=te();s([...i,...h]),u("LB2"),p(!1)},3e3);return()=>clearTimeout(w)}else p(!1)}else p(!1)},[c,i]);const Z=(g,w,h,y)=>{const d={matches:g,rankings:w,tournamentComplete:h,currentRoundKey:y,matchHistory:U,timestamp:new Date().toISOString()},M=r.map(S=>S.id).sort().join("-");Pe.saveDoubleEliminationState(33,M,d,n)},q=()=>{try{const g=r.map(h=>h.id).sort().join("-"),w=Pe.getDoubleEliminationState(33,g,n);if(w)return s(w.matches||[]),o(w.rankings||{}),A(w.tournamentComplete||!1),u(w.currentRoundKey||"WB1"),Q(w.matchHistory||[]),k(null),!0}catch{}return!1},G=()=>{const g=r.map(w=>w.id).sort().join("-");Pe.clearDoubleEliminationState(33,g,n),Q([])},Y=()=>{G();const g=[...r].sort(()=>Math.random()-.5),h=64-r.length,y=g.slice(0,h),d=g.slice(h),M=[];for(let S=0;S<d.length;S+=2)S+1<d.length&&M.push({id:`wb1_${Math.floor(S/2)+1}`,player1Id:d[S].id,player2Id:d[S+1].id,bracket:"winner",round:1,matchNumber:Math.floor(S/2)+1,isBye:!1,description:de.createMatchDescription("WB1",Math.floor(S/2)+1)});y.forEach((S,W)=>{M.push({id:`wb1_bye_${W+1}`,player1Id:S.id,player2Id:"",bracket:"winner",round:1,matchNumber:M.length+1,isBye:!0,description:`${de.getDescription("WB1")} - Bye for ${S.name} ${S.surname}`})}),s(M),o({}),A(!1),u("WB1"),Q([])};z.useEffect(()=>{r.length>=33&&r.length<=47&&(q()||Y())},[r]),z.useEffect(()=>{typeof e<"u"&&Y()},[e]),z.useEffect(()=>{if(i.filter(w=>w.isBye&&!w.winnerId).length>0){const w=i.map(h=>h.isBye&&!h.winnerId?{...h,winnerId:h.player1Id}:h);s(w),Z(w,a,l,c)}},[i,a,l,c]),z.useEffect(()=>{if(l&&i.length>0){const g=O(i);JSON.stringify(g)!==JSON.stringify(a)&&(o(g),Z(i,g,l,c))}},[i,l,c]);const K=(g,w)=>{const h=w.filter(M=>H(M)===g),y=h.filter(M=>!M.isBye),d=h.filter(M=>M.isBye);return y.length===0&&d.length>0?!0:y.length>0&&y.every(M=>M.winnerId)};function H(g){return g.id.startsWith("wb1")?"WB1":g.id.startsWith("wb2")?"WB2":g.id.startsWith("lb1")?"LB1":g.id.startsWith("lb2")?"LB2":g.id.startsWith("wb3")?"WB3":g.id.startsWith("lb3")?"LB3":g.id.startsWith("lb4")?"LB4":g.id.startsWith("wb4")?"WB4":g.id.startsWith("lb5")?"LB5":g.id.startsWith("lb6")?"LB6":g.id.startsWith("wb5")?"WB5":g.id.startsWith("lb7")?"LB7":g.id==="yarifinal"?"YariFinal":g.id.startsWith("lb8")?"LB8":g.id==="seventh_eighth"?"7-8":g.id==="lbfinal"?"LBFinal":g.id==="fifth_sixth"?"5-6":g.id==="final"?"Final":g.id==="grandfinal"?"GrandFinal":"WB1"}z.useEffect(()=>{if(i.length===0)return;const g=Dm.indexOf(c);if(g===-1||g===Dm.length-1||!K(c,i))return;const w=Dm[g+1],h=te();h.length>0&&(s([...i,...h]),u(w),Z([...i,...h],a,l,w))},[i,c]);function te(){const g=i,w=Dm.indexOf(c);switch(Dm[w+1]){case"WB2":{const y=g.filter($=>H($)==="WB1"),d=y.filter($=>$.winnerId&&!$.isBye).map($=>$.winnerId),M=y.filter($=>$.isBye).map($=>$.player1Id),S=[...d,...M],W=[];for(let $=0;$<S.length;$+=2)$+1<S.length&&W.push({id:`wb2_${Math.floor($/2)+1}`,player1Id:S[$],player2Id:S[$+1],bracket:"winner",round:2,matchNumber:Math.floor($/2)+1,isBye:!1,description:de.createMatchDescription("WB2",Math.floor($/2)+1)});return W}case"LB1":{const d=g.filter(Te=>H(Te)==="WB1").filter(Te=>Te.winnerId&&!Te.isBye).map(Te=>Te.player1Id===Te.winnerId?Te.player2Id:Te.player1Id),S=g.filter(Te=>H(Te)==="WB2").filter(Te=>Te.winnerId).map(Te=>Te.player1Id===Te.winnerId?Te.player2Id:Te.player1Id),W=[...d,...S],se=32-W.length,me=W.slice(0,se),pe=W.slice(se),at=[];me.forEach((Te,De)=>{at.push({id:`lb1_bye_${De+1}`,player1Id:Te,player2Id:"",bracket:"loser",round:1,matchNumber:De+1,isBye:!0,description:`${de.getDescription("LB1")} - Bye for ${j(Te)}`})});for(let Te=0;Te<pe.length;Te+=2)Te+1<pe.length&&at.push({id:`lb1_${Math.floor(Te/2)+1}`,player1Id:pe[Te],player2Id:pe[Te+1],bracket:"loser",round:1,matchNumber:se+Math.floor(Te/2)+1,isBye:!1,description:de.createMatchDescription("LB1",Math.floor(Te/2)+1)});return at}case"LB2":{const y=g.filter($=>H($)==="LB1"),d=y.filter($=>$.winnerId&&!$.isBye).map($=>$.winnerId),M=y.filter($=>$.isBye).map($=>$.player1Id),S=[...d,...M],W=[];for(let $=0;$<S.length;$+=2)$+1<S.length&&W.push({id:`lb2_${Math.floor($/2)+1}`,player1Id:S[$],player2Id:S[$+1],bracket:"loser",round:2,matchNumber:Math.floor($/2)+1,isBye:!1,description:de.createMatchDescription("LB2",Math.floor($/2)+1)});return W}case"WB3":{const d=g.filter(S=>H(S)==="WB2").filter(S=>S.winnerId).map(S=>S.winnerId),M=[];for(let S=0;S<d.length;S+=2)S+1<d.length&&M.push({id:`wb3_${Math.floor(S/2)+1}`,player1Id:d[S],player2Id:d[S+1],bracket:"winner",round:3,matchNumber:Math.floor(S/2)+1,isBye:!1,description:de.createMatchDescription("WB3",Math.floor(S/2)+1)});return M}case"LB3":{const d=g.filter(se=>H(se)==="LB2").filter(se=>se.winnerId).map(se=>se.winnerId),S=g.filter(se=>H(se)==="WB3").filter(se=>se.winnerId).map(se=>se.player1Id===se.winnerId?se.player2Id:se.player1Id),W=[...d,...S],$=[];for(let se=0;se<W.length;se+=2)se+1<W.length&&$.push({id:`lb3_${Math.floor(se/2)+1}`,player1Id:W[se],player2Id:W[se+1],bracket:"loser",round:3,matchNumber:Math.floor(se/2)+1,isBye:!1,description:de.createMatchDescription("LB3",Math.floor(se/2)+1)});return $}case"LB4":{const d=g.filter(S=>H(S)==="LB3").filter(S=>S.winnerId).map(S=>S.winnerId),M=[];for(let S=0;S<d.length;S+=2)S+1<d.length&&M.push({id:`lb4_${Math.floor(S/2)+1}`,player1Id:d[S],player2Id:d[S+1],bracket:"loser",round:4,matchNumber:Math.floor(S/2)+1,isBye:!1,description:de.createMatchDescription("LB4",Math.floor(S/2)+1)});return M}case"WB4":{const d=g.filter(S=>H(S)==="WB3").filter(S=>S.winnerId).map(S=>S.winnerId),M=[];for(let S=0;S<d.length;S+=2)S+1<d.length&&M.push({id:`wb4_${Math.floor(S/2)+1}`,player1Id:d[S],player2Id:d[S+1],bracket:"winner",round:4,matchNumber:Math.floor(S/2)+1,isBye:!1,description:de.getDescription("WB4")});return M}case"LB5":{const d=g.filter(se=>H(se)==="LB4").filter(se=>se.winnerId).map(se=>se.winnerId),S=g.filter(se=>H(se)==="WB4").filter(se=>se.winnerId).map(se=>se.player1Id===se.winnerId?se.player2Id:se.player1Id),W=[...d,...S],$=[];for(let se=0;se<W.length;se+=2)se+1<W.length&&$.push({id:`lb5_${Math.floor(se/2)+1}`,player1Id:W[se],player2Id:W[se+1],bracket:"loser",round:5,matchNumber:Math.floor(se/2)+1,isBye:!1,description:de.createMatchDescription("LB5",Math.floor(se/2)+1)});return $}case"LB6":{const d=g.filter(S=>H(S)==="LB5").filter(S=>S.winnerId).map(S=>S.winnerId),M=[];for(let S=0;S<d.length;S+=2)S+1<d.length&&M.push({id:`lb6_${Math.floor(S/2)+1}`,player1Id:d[S],player2Id:d[S+1],bracket:"loser",round:6,matchNumber:Math.floor(S/2)+1,isBye:!1,description:de.createMatchDescription("LB6",Math.floor(S/2)+1)});return M}case"WB5":{const d=g.filter(S=>H(S)==="WB4").filter(S=>S.winnerId).map(S=>S.winnerId),M=[];for(let S=0;S<d.length;S+=2)S+1<d.length&&M.push({id:`wb5_${Math.floor(S/2)+1}`,player1Id:d[S],player2Id:d[S+1],bracket:"winner",round:5,matchNumber:Math.floor(S/2)+1,isBye:!1,description:de.createMatchDescription("WB_QuarterFinal",Math.floor(S/2)+1)});return M}case"LB7":{const d=g.filter(se=>H(se)==="WB5").filter(se=>se.winnerId).map(se=>se.player1Id===se.winnerId?se.player2Id:se.player1Id),S=g.filter(se=>H(se)==="LB6").filter(se=>se.winnerId).map(se=>se.winnerId),W=[...d,...S],$=[];for(let se=0;se<W.length;se+=2)se+1<W.length&&$.push({id:`lb7_${Math.floor(se/2)+1}`,player1Id:W[se],player2Id:W[se+1],bracket:"loser",round:7,matchNumber:Math.floor(se/2)+1,isBye:!1,description:de.createMatchDescription("LB7",Math.floor(se/2)+1)});return $}case"YariFinal":{const d=g.filter(M=>H(M)==="WB5").filter(M=>M.winnerId).map(M=>M.winnerId);return d.length>=2?[{id:"yarifinal",player1Id:d[0],player2Id:d[1],bracket:"winner",round:6,matchNumber:1,isBye:!1,description:de.getDescription("WB_SemiFinal")}]:[]}case"LB8":{const d=g.filter(S=>H(S)==="LB7").filter(S=>S.winnerId).map(S=>S.winnerId),M=[];for(let S=0;S<d.length;S+=2)S+1<d.length&&M.push({id:`lb8_${Math.floor(S/2)+1}`,player1Id:d[S],player2Id:d[S+1],bracket:"loser",round:8,matchNumber:Math.floor(S/2)+1,isBye:!1,description:de.createMatchDescription("LB8",Math.floor(S/2)+1)});return M}case"7-8":{const d=g.filter(M=>H(M)==="LB6").filter(M=>M.winnerId).map(M=>M.player1Id===M.winnerId?M.player2Id:M.player1Id);return d.length>=2?[{id:"seventh_eighth",player1Id:d[0],player2Id:d[1],bracket:"placement",round:7,matchNumber:1,isBye:!1,description:de.getDescription("7-8")}]:[]}case"LBFinal":{const d=g.filter(W=>H(W)==="YariFinal").filter(W=>W.winnerId).map(W=>W.player1Id===W.winnerId?W.player2Id:W.player1Id),S=g.filter(W=>H(W)==="LB8").filter(W=>W.winnerId).map(W=>W.winnerId);return d.length>0&&S.length>0?[{id:"lbfinal",player1Id:d[0],player2Id:S[0],bracket:"loser",round:9,matchNumber:1,isBye:!1,description:de.getDescription("LB_Final")}]:[]}case"5-6":{const d=g.filter(M=>H(M)==="LB7").filter(M=>M.winnerId).map(M=>M.player1Id===M.winnerId?M.player2Id:M.player1Id);return d.length>=2?[{id:"fifth_sixth",player1Id:d[0],player2Id:d[1],bracket:"placement",round:8,matchNumber:1,isBye:!1,description:de.getDescription("5-6")}]:[]}case"Final":{const d=g.filter(W=>H(W)==="YariFinal").filter(W=>W.winnerId).map(W=>W.winnerId),S=g.filter(W=>H(W)==="LBFinal").filter(W=>W.winnerId).map(W=>W.winnerId);return d.length>0&&S.length>0?[{id:"final",player1Id:d[0],player2Id:S[0],bracket:"winner",round:7,matchNumber:1,isBye:!1,description:de.getDescription("Final")}]:[]}case"GrandFinal":{const y=g.filter($=>H($)==="Final"),d=y.filter($=>$.winnerId).map($=>$.winnerId),M=y.filter($=>$.winnerId).map($=>$.player1Id===$.winnerId?$.player2Id:$.player1Id),W=g.filter($=>H($)==="LBFinal").filter($=>$.winnerId).map($=>$.winnerId)[0];return d.length>0&&M.length>0&&W&&d[0]===W?[{id:"grandfinal",player1Id:d[0],player2Id:M[0],bracket:"winner",round:8,matchNumber:1,isBye:!1,description:de.getDescription("GrandFinal")}]:[]}}return[]}const ue=(g,w)=>{Q(h=>[...h,[...i]]),k(i.find(h=>h.id===g)||null),s(h=>{var S;const y=h.map(W=>W.id===g?{...W,winnerId:w}:W),d=y.find(W=>W.id==="final"),M=y.find(W=>W.id==="grandfinal");if(d!=null&&d.winnerId){const W=(S=y.find(se=>se.id==="lbfinal"))==null?void 0:S.winnerId,$=d.winnerId;if(!(W&&$===W)){const se=O(y);o(se),A(!0),Z(y,se,!0,c),t&&t(se)}}else if(M!=null&&M.winnerId){const W=O(y);o(W),A(!0),Z(y,W,!0,c),t&&t(W)}return Z(y,a,l,c),y})},oe=(g,w)=>{C(h=>({...h,[g]:w}))},re=g=>{D[g]&&(ue(g,D[g]),C(w=>({...w,[g]:null})))},J=g=>{C(w=>({...w,[g]:null}))},O=g=>{const w={},h=g.find($=>$.id==="final"),y=g.find($=>$.id==="grandfinal");if(y!=null&&y.winnerId)w.first=y.winnerId,w.second=y.winnerId===y.player1Id?y.player2Id:y.player1Id;else if(h!=null&&h.winnerId){const $=g.find(pe=>pe.id==="lbfinal"),se=$==null?void 0:$.winnerId,me=h.winnerId;(!se||me!==se)&&(w.first=h.winnerId,w.second=h.winnerId===h.player1Id?h.player2Id:h.player1Id)}const d=g.find($=>$.id==="lbfinal");d!=null&&d.winnerId&&(w.third=d.winnerId===d.player1Id?d.player2Id:d.player1Id);const M=g.find($=>$.id==="lb8_1");M!=null&&M.winnerId&&(w.fourth=M.winnerId===M.player1Id?M.player2Id:M.player1Id);const S=g.find($=>$.id==="fifth_sixth");S!=null&&S.winnerId&&(w.fifth=S.winnerId,w.sixth=S.winnerId===S.player1Id?S.player2Id:S.player1Id);const W=g.find($=>$.id==="seventh_eighth");return W!=null&&W.winnerId&&(w.seventh=W.winnerId,w.eighth=W.winnerId===W.player1Id?W.player2Id:W.player1Id),w},j=g=>{const w=r.find(h=>h.id===g);return w?`${w.name} ${w.surname}`:"Unknown Player"},T=()=>{if(U.length>0){V(!0);const g=U[U.length-1],h=i.find(se=>{var me;return se.winnerId&&!((me=g.find(pe=>pe.id===se.id))!=null&&me.winnerId)});s(g),Q(se=>se.slice(0,-1)),l&&A(!1);let y={...a};if(h){const se=h.id;se==="final"||se==="grandfinal"?(delete y.first,delete y.second):se==="lbfinal"?delete y.third:se==="seventh_eighth"?(delete y.seventh,delete y.eighth):se==="fifth_sixth"?(delete y.fifth,delete y.sixth):se==="lb8"&&delete y.fourth}o(y);const d=g[g.length-1];if(d){const se=H(d);u(se)}const M=g.map(se=>se.id);C(se=>{const me={...se};return Object.keys(me).forEach(pe=>{M.includes(pe)||delete me[pe]}),me});const S=U.slice(0,-1),W={matches:g,rankings:y,tournamentComplete:!1,currentRoundKey:H(g[g.length-1]||g[0]),matchHistory:S,timestamp:new Date().toISOString()},$=r.map(se=>se.id).sort().join("-");Pe.saveDoubleEliminationState(33,$,W,n),setTimeout(()=>{V(!1)},100)}},_=g=>{const w=j(g.player1Id),h=g.player2Id?j(g.player2Id):"TBD",y=D[g.id]||null;return B.jsx(wr,{matchId:g.id,fixtureId:n,player1Name:w,player2Name:h,winnerId:g.winnerId,player1Id:g.player1Id||"",player2Id:g.player2Id||"",bracket:g.bracket,round:g.round,matchNumber:g.matchNumber,isBye:g.isBye,currentSelectedWinner:y,onWinnerSelect:d=>oe(g.id,d),onWinnerConfirm:()=>re(g.id),onSelectionCancel:()=>J(g.id),playersLength:r.length,matchTitle:g.description})};if(r.length<33||r.length>47)return B.jsxs("div",{className:"text-center p-8",children:[B.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Uygun Olmayan Oyuncu Sayısı"}),B.jsxs("p",{className:"text-gray-600",children:["Bu turnuva formatı 33-47 oyuncu arası için tasarlanmıştır. Mevcut oyuncu sayısı: ",r.length]})]});const L=i.filter(g=>H(g)===c),v=O(i),E=!!(v.first&&v.second);return B.jsxs("div",{className:"px-3 sm:px-6 py-6 bg-gray-50 min-h-screen",children:[n&&B.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-900",children:((x=Ye.getFixtureById(n))==null?void 0:x.name)||""}),B.jsx(Nn,{activeTab:I,onTabChange:dt.createTabChangeHandler(F,n)}),B.jsx("div",{className:"max-w-4xl mx-auto"}),I==="active"&&B.jsxs(B.Fragment,{children:[B.jsx("div",{className:"text-center mb-6",children:B.jsxs("div",{className:"flex justify-center gap-4",children:[B.jsxs("button",{onClick:()=>{window.confirm("Turnuvayı sıfırlamak istediğinizden emin misiniz? Bu işlem geri alınamaz.")&&(G(),Y(),C({}),Q([]),k(null))},className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg shadow hover:from-red-600 hover:to-red-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Turnuvayı Sıfırla"]}),U.length>0&&B.jsxs("button",{onClick:T,className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg shadow hover:from-blue-600 hover:to-blue-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Bir Önceki Maç"]})]})}),E?B.jsx("div",{className:"max-w-4xl mx-auto",children:B.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl p-8 text-center shadow-lg",children:B.jsxs("div",{className:"mb-6",children:[B.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:B.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),B.jsx("h2",{className:"text-3xl font-bold text-green-800 mb-2",children:"🏆 Turnuva Tamamlandı!"}),B.jsx("p",{className:"text-green-700 text-lg mb-6",children:"Tüm maçlar başarıyla tamamlandı. Sonuçları ve sıralamaları görmek için aşağıdaki butona tıklayın."}),B.jsxs("button",{onClick:()=>dt.createTabChangeHandler(F,n)("rankings"),className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold rounded-lg shadow-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200 transform hover:scale-105",children:[B.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Sıralama Sekmesine Git"]})]})})}):B.jsxs(B.Fragment,{children:[L.filter(w=>!w.isBye&&!w.winnerId).length>0&&B.jsx("div",{className:"flex justify-center mb-4",children:B.jsxs("button",{onClick:()=>{L.filter(w=>!w.isBye&&!w.winnerId).forEach(w=>{const h=Math.random()<.5?w.player1Id:w.player2Id;ue(w.id,h)})},className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg shadow hover:from-green-600 hover:to-green-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Bu Turun Kazananlarını Otomatik Seç"]})}),B.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4 max-w-7xl w-full mx-auto",children:L.filter(g=>!g.isBye&&!g.winnerId).map(_)})]})]}),I==="completed"&&B.jsx(kn,{matches:i,players:r,getPlayerName:j}),I==="rankings"&&B.jsx(Mn,{rankings:O(i),players:r,getPlayerName:j}),c==="LB1"&&L.length>0&&L.every(g=>g.isBye)&&B.jsx("div",{className:"text-center text-blue-600 mb-4 font-semibold",children:f?"LB R1'de herkes bye geçti, LB R2'ye geçiliyor...":"Tüm oyuncular bye geçti, bir sonraki tur başlatılıyor..."}),!l&&I==="active"&&B.jsxs("div",{className:"mt-6 text-center",children:[B.jsx("div",{className:"text-sm text-gray-600",children:(()=>{const g=i.filter(y=>!y.isBye),w=g.filter(y=>y.winnerId).length,h=g.length;return`${w} / ${h} maç tamamlandı`})()}),B.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2 max-w-xs mx-auto",children:B.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${(()=>{const g=i.filter(y=>!y.isBye),w=g.filter(y=>y.winnerId).length,h=g.length;return h>0?w/h*100:0})()}%`}})})]})]})},_m=["WB1","LB1","WB2","LB2","LB3","WB3","LB4","LB5","WB4","LB6","LB7","WB5","LB8","YariFinal","LB9","7-8","LBFinal","5-6","Final","GrandFinal"],Aie=({players:r,resetKey:e,onTournamentComplete:t,fixtureId:n})=>{var E;const[i,s]=z.useState([]),[a,o]=z.useState({}),[l,A]=z.useState(!1),[c,u]=z.useState("WB1"),[f,p]=z.useState(dt.getInitialTab(n)),[I,F]=z.useState({}),[,D]=z.useState(null),[C,k]=z.useState([]),[,U]=z.useState(!1),Q=(x,g,w,h)=>{const y={matches:x,rankings:g,tournamentComplete:w,currentRoundKey:h,matchHistory:C,timestamp:new Date().toISOString()},d=r.map(M=>M.id).sort().join("-");Pe.saveDoubleEliminationState(48,d,y,n)},V=()=>{try{const x=r.map(w=>w.id).sort().join("-"),g=Pe.getDoubleEliminationState(48,x,n);if(g)return s(g.matches||[]),o(g.rankings||{}),A(g.tournamentComplete||!1),u(g.currentRoundKey||"WB1"),k(g.matchHistory||[]),D(null),!0}catch{}return!1},Z=()=>{const x=r.map(g=>g.id).sort().join("-");Pe.clearDoubleEliminationState(48,x,n),k([])},q=()=>{Z();const x=[...r].sort(()=>Math.random()-.5),w=64-r.length,h=x.slice(0,w),y=x.slice(w),d=[];for(let M=0;M<y.length;M+=2)M+1<y.length&&d.push({id:`wb1_${Math.floor(M/2)+1}`,player1Id:y[M].id,player2Id:y[M+1].id,bracket:"winner",round:1,matchNumber:Math.floor(M/2)+1,isBye:!1,description:de.createMatchDescription("WB1",Math.floor(M/2)+1)});h.forEach((M,S)=>{d.push({id:`wb1_bye_${S+1}`,player1Id:M.id,player2Id:"",bracket:"winner",round:1,matchNumber:d.length+1,isBye:!0,description:`${de.getDescription("WB1")} - Bye for ${M.name} ${M.surname}`})}),s(d),o({}),A(!1),u("WB1"),k([])};z.useEffect(()=>{r.length>=48&&r.length<=64&&(V()||q())},[r]),z.useEffect(()=>{typeof e<"u"&&q()},[e]);const G=z.useRef(new Set);z.useEffect(()=>{if(i.filter(g=>g.isBye&&!g.winnerId&&!G.current.has(g.id)).length>0){const g=i.map(w=>w.isBye&&!w.winnerId&&!G.current.has(w.id)?(G.current.add(w.id),{...w,winnerId:w.player1Id}):w);s(g),Q(g,a,l,c)}},[i.length,l,c]),z.useEffect(()=>{if(l&&i.length>0){const x=re(i);JSON.stringify(x)!==JSON.stringify(a)&&(o(x),Q(i,x,l,c))}},[i,l,c]);const Y=(x,g)=>{const w=g.filter(d=>K(d)===x),h=w.filter(d=>!d.isBye),y=w.filter(d=>d.isBye);return h.length===0&&y.length>0?!0:h.length>0&&h.every(d=>d.winnerId)};function K(x){return x.id.startsWith("wb1")?"WB1":x.id.startsWith("lb1")?"LB1":x.id.startsWith("wb2")?"WB2":x.id.startsWith("lb2")?"LB2":x.id.startsWith("lb3")?"LB3":x.id.startsWith("wb3")?"WB3":x.id.startsWith("lb4")?"LB4":x.id.startsWith("lb5")?"LB5":x.id.startsWith("wb4")?"WB4":x.id.startsWith("lb6")?"LB6":x.id.startsWith("lb7")?"LB7":x.id.startsWith("wb5")?"WB5":x.id.startsWith("lb8")?"LB8":x.id==="yarifinal"?"YariFinal":x.id.startsWith("lb9")?"LB9":x.id==="seventh_eighth"?"7-8":x.id==="lbfinal"?"LBFinal":x.id==="fifth_sixth"?"5-6":x.id==="final"?"Final":x.id==="grandfinal"?"GrandFinal":"WB1"}z.useEffect(()=>{if(i.length===0)return;const x=_m.indexOf(c);if(x===-1||x===_m.length-1||!Y(c,i))return;const g=_m[x+1],w=H();w.length>0&&(s([...i,...w]),u(g),Q([...i,...w],a,l,g))},[i,c]);function H(){const x=i,g=_m.indexOf(c);switch(_m[g+1]){case"LB1":{const y=x.filter(se=>K(se)==="WB1").filter(se=>se.winnerId&&!se.isBye).map(se=>se.player1Id===se.winnerId?se.player2Id:se.player1Id),M=32-y.length,S=y.slice(0,M),W=y.slice(M),$=[];S.forEach((se,me)=>{$.push({id:`lb1_bye_${me+1}`,player1Id:se,player2Id:"",bracket:"loser",round:1,matchNumber:me+1,isBye:!0,description:`${de.getDescription("LB1")} - Bye for ${te(se)}`})});for(let se=0;se<W.length;se+=2)se+1<W.length&&$.push({id:`lb1_${Math.floor(se/2)+1}`,player1Id:W[se],player2Id:W[se+1],bracket:"loser",round:1,matchNumber:M+Math.floor(se/2)+1,isBye:!1,description:de.createMatchDescription("LB1",Math.floor(se/2)+1)});return $}case"WB2":{const h=x.filter(W=>K(W)==="WB1"),y=h.filter(W=>W.winnerId&&!W.isBye).map(W=>W.winnerId),d=h.filter(W=>W.isBye).map(W=>W.player1Id),M=[...y,...d],S=[];for(let W=0;W<M.length;W+=2)W+1<M.length&&S.push({id:`wb2_${Math.floor(W/2)+1}`,player1Id:M[W],player2Id:M[W+1],bracket:"winner",round:2,matchNumber:Math.floor(W/2)+1,isBye:!1,description:de.createMatchDescription("WB2",Math.floor(W/2)+1)});return S}case"LB2":{const h=x.filter(se=>K(se)==="LB1"),y=h.filter(se=>se.winnerId&&!se.isBye).map(se=>se.winnerId),d=h.filter(se=>se.isBye).map(se=>se.player1Id),S=x.filter(se=>K(se)==="WB2").filter(se=>se.winnerId).map(se=>se.player1Id===se.winnerId?se.player2Id:se.player1Id),W=[...y,...d,...S],$=[];for(let se=0;se<W.length;se+=2)se+1<W.length&&$.push({id:`lb2_${Math.floor(se/2)+1}`,player1Id:W[se],player2Id:W[se+1],bracket:"loser",round:2,matchNumber:Math.floor(se/2)+1,isBye:!1,description:de.createMatchDescription("LB2",Math.floor(se/2)+1)});return $}case"WB3":{const y=x.filter(M=>K(M)==="WB2").filter(M=>M.winnerId).map(M=>M.winnerId),d=[];for(let M=0;M<y.length;M+=2)M+1<y.length&&d.push({id:`wb3_${Math.floor(M/2)+1}`,player1Id:y[M],player2Id:y[M+1],bracket:"winner",round:3,matchNumber:Math.floor(M/2)+1,isBye:!1,description:de.createMatchDescription("WB3",Math.floor(M/2)+1)});return d}case"LB3":{const y=x.filter($=>K($)==="LB2").filter($=>$.winnerId).map($=>$.winnerId),M=x.filter($=>K($)==="WB3").filter($=>$.winnerId).map($=>$.player1Id===$.winnerId?$.player2Id:$.player1Id),S=[...y,...M],W=[];for(let $=0;$<S.length;$+=2)$+1<S.length&&W.push({id:`lb3_${Math.floor($/2)+1}`,player1Id:S[$],player2Id:S[$+1],bracket:"loser",round:3,matchNumber:Math.floor($/2)+1,isBye:!1,description:de.createMatchDescription("LB3",Math.floor($/2)+1)});return W}case"WB4":{const y=x.filter(M=>K(M)==="WB3").filter(M=>M.winnerId).map(M=>M.winnerId),d=[];for(let M=0;M<y.length;M+=2)M+1<y.length&&d.push({id:`wb4_${Math.floor(M/2)+1}`,player1Id:y[M],player2Id:y[M+1],bracket:"winner",round:4,matchNumber:Math.floor(M/2)+1,isBye:!1,description:de.createMatchDescription("WB4",Math.floor(M/2)+1)});return d}case"LB4":{const y=x.filter($=>K($)==="LB3").filter($=>$.winnerId).map($=>$.winnerId),M=x.filter($=>K($)==="WB3").filter($=>$.winnerId).map($=>$.player1Id===$.winnerId?$.player2Id:$.player1Id),S=[...y,...M],W=[];for(let $=0;$<S.length;$+=2)$+1<S.length&&W.push({id:`lb4_${Math.floor($/2)+1}`,player1Id:S[$],player2Id:S[$+1],bracket:"loser",round:4,matchNumber:Math.floor($/2)+1,isBye:!1,description:de.createMatchDescription("LB4",Math.floor($/2)+1)});return W}case"LB5":{const y=x.filter(M=>K(M)==="LB4").filter(M=>M.winnerId).map(M=>M.winnerId),d=[];for(let M=0;M<y.length;M+=2)M+1<y.length&&d.push({id:`lb5_${Math.floor(M/2)+1}`,player1Id:y[M],player2Id:y[M+1],bracket:"loser",round:5,matchNumber:Math.floor(M/2)+1,isBye:!1,description:de.createMatchDescription("LB5",Math.floor(M/2)+1)});return d}case"WB5":{const y=x.filter(M=>K(M)==="WB4").filter(M=>M.winnerId).map(M=>M.winnerId),d=[];for(let M=0;M<y.length;M+=2)M+1<y.length&&d.push({id:`wb5_${Math.floor(M/2)+1}`,player1Id:y[M],player2Id:y[M+1],bracket:"winner",round:5,matchNumber:Math.floor(M/2)+1,isBye:!1,description:de.createMatchDescription("WB_QuarterFinal",Math.floor(M/2)+1)});return d}case"LB6":{const y=x.filter($=>K($)==="WB4").filter($=>$.winnerId).map($=>$.player1Id===$.winnerId?$.player2Id:$.player1Id),M=x.filter($=>K($)==="LB5").filter($=>$.winnerId).map($=>$.winnerId),S=[...y,...M],W=[];for(let $=0;$<S.length;$+=2)$+1<S.length&&W.push({id:`lb6_${Math.floor($/2)+1}`,player1Id:S[$],player2Id:S[$+1],bracket:"loser",round:6,matchNumber:Math.floor($/2)+1,isBye:!1,description:de.createMatchDescription("LB6",Math.floor($/2)+1)});return W}case"LB7":{const y=x.filter(M=>K(M)==="LB6").filter(M=>M.winnerId).map(M=>M.winnerId),d=[];for(let M=0;M<y.length;M+=2)M+1<y.length&&d.push({id:`lb7_${Math.floor(M/2)+1}`,player1Id:y[M],player2Id:y[M+1],bracket:"loser",round:7,matchNumber:Math.floor(M/2)+1,isBye:!1,description:de.createMatchDescription("LB7",Math.floor(M/2)+1)});return d}case"LB8":{const y=x.filter(S=>K(S)==="WB5").filter(S=>S.winnerId).map(S=>S.player1Id===S.winnerId?S.player2Id:S.player1Id),M=x.filter(S=>K(S)==="LB7").filter(S=>S.winnerId).map(S=>S.winnerId);return y.length>=2&&M.length>=2?[{id:"lb8_1",player1Id:M[0],player2Id:y[0],bracket:"loser",round:8,matchNumber:1,isBye:!1,description:de.createMatchDescription("LB8",1)},{id:"lb8_2",player1Id:y[1],player2Id:M[1],bracket:"loser",round:8,matchNumber:2,isBye:!1,description:de.createMatchDescription("LB8",2)}]:[]}case"YariFinal":{const y=x.filter(d=>K(d)==="WB5").filter(d=>d.winnerId).map(d=>d.winnerId);return y.length>=2?[{id:"yarifinal",player1Id:y[0],player2Id:y[1],bracket:"winner",round:6,matchNumber:1,isBye:!1,description:de.getDescription("WB_SemiFinal")}]:[]}case"LB9":{const y=x.filter(d=>K(d)==="LB8").filter(d=>d.winnerId).map(d=>d.winnerId);return y.length>=2?[{id:"lb9_1",player1Id:y[0],player2Id:y[1],bracket:"loser",round:9,matchNumber:1,isBye:!1,description:de.createMatchDescription("LB9",1)}]:[]}case"7-8":{const y=x.filter(d=>K(d)==="LB7").filter(d=>d.winnerId).map(d=>d.player1Id===d.winnerId?d.player2Id:d.player1Id);return y.length>=2?[{id:"seventh_eighth",player1Id:y[0],player2Id:y[1],bracket:"placement",round:8,matchNumber:1,isBye:!1,description:de.getDescription("7-8")}]:[]}case"LBFinal":{const y=x.filter(S=>K(S)==="YariFinal").filter(S=>S.winnerId).map(S=>S.player1Id===S.winnerId?S.player2Id:S.player1Id),M=x.filter(S=>K(S)==="LB9").filter(S=>S.winnerId).map(S=>S.winnerId);return y.length>0&&M.length>0?[{id:"lbfinal",player1Id:y[0],player2Id:M[0],bracket:"loser",round:10,matchNumber:1,isBye:!1,description:de.getDescription("LB_Final")}]:[]}case"5-6":{const y=x.filter(d=>K(d)==="LB8").filter(d=>d.winnerId).map(d=>d.player1Id===d.winnerId?d.player2Id:d.player1Id);return y.length>=2?[{id:"fifth_sixth",player1Id:y[0],player2Id:y[1],bracket:"placement",round:9,matchNumber:1,isBye:!1,description:de.getDescription("5-6")}]:[]}case"Final":{const y=x.filter(S=>K(S)==="YariFinal").filter(S=>S.winnerId).map(S=>S.winnerId),M=x.filter(S=>K(S)==="LBFinal").filter(S=>S.winnerId).map(S=>S.winnerId);return y.length>0&&M.length>0?[{id:"final",player1Id:y[0],player2Id:M[0],bracket:"winner",round:11,matchNumber:1,isBye:!1,description:de.getDescription("Final")}]:[]}case"GrandFinal":{const h=x.filter(W=>K(W)==="Final"),y=h.filter(W=>W.winnerId).map(W=>W.winnerId),d=h.filter(W=>W.winnerId).map(W=>W.player1Id===W.winnerId?W.player2Id:W.player1Id),S=x.filter(W=>K(W)==="LBFinal").filter(W=>W.winnerId).map(W=>W.winnerId)[0];return y.length>0&&d.length>0&&S&&y[0]===S?[{id:"grandfinal",player1Id:y[0],player2Id:d[0],bracket:"winner",round:12,matchNumber:1,isBye:!1,description:de.getDescription("GrandFinal")}]:[]}}return[]}const te=x=>{const g=r.find(w=>w.id===x);return g?`${g.name} ${g.surname}`:"Unknown Player"},ue=()=>{if(C.length>0){U(!0);const x=C[C.length-1],w=i.find($=>{var se;return $.winnerId&&!((se=x.find(me=>me.id===$.id))!=null&&se.winnerId)});s(x),k($=>$.slice(0,-1)),l&&A(!1);let h={...a};if(w){const $=w.id;$==="final"||$==="grandfinal"?(delete h.first,delete h.second):$==="lbfinal"?delete h.third:$==="seventh_eighth"?(delete h.seventh,delete h.eighth):$==="fifth_sixth"?(delete h.fifth,delete h.sixth):$==="lb9_1"&&delete h.fourth}o(h);const y=x[x.length-1];if(y){const $=K(y);u($)}const d=x.map($=>$.id);F($=>{const se={...$};return Object.keys(se).forEach(me=>{d.includes(me)||delete se[me]}),se});const M=C.slice(0,-1),S={matches:x,rankings:h,tournamentComplete:!1,currentRoundKey:K(x[x.length-1]||x[0]),matchHistory:M,timestamp:new Date().toISOString()},W=r.map($=>$.id).sort().join("-");Pe.saveDoubleEliminationState(48,W,S,n),setTimeout(()=>{U(!1)},100)}},oe=(x,g)=>{k(w=>[...w,[...i]]),D(i.find(w=>w.id===x)||null),s(w=>{var M;const h=w.map(S=>S.id===x?{...S,winnerId:g}:S),y=h.find(S=>S.id==="final"),d=h.find(S=>S.id==="grandfinal");if(y!=null&&y.winnerId){const S=(M=h.find($=>$.id==="lbfinal"))==null?void 0:M.winnerId,W=y.winnerId;if(!(S&&W===S)){const $=re(h);o($),A(!0),Q(h,$,!0,c),t&&t($)}}else if(d!=null&&d.winnerId){const S=re(h);o(S),A(!0),Q(h,S,!0,c),t&&t(S)}return Q(h,a,l,c),h})},re=x=>{const g={},w=x.find(me=>me.id==="final"),h=x.find(me=>me.id==="grandfinal"),y=x.find(me=>me.id==="lbfinal"),d=y==null?void 0:y.winnerId,M=w==null?void 0:w.winnerId,S=d&&M&&M===d;h!=null&&h.winnerId?(g.first=h.winnerId,g.second=h.winnerId===h.player1Id?h.player2Id:h.player1Id):w!=null&&w.winnerId&&!S&&(g.first=w.winnerId,g.second=w.winnerId===w.player1Id?w.player2Id:w.player1Id),y!=null&&y.winnerId&&(g.third=y.winnerId===y.player1Id?y.player2Id:y.player1Id);const W=x.find(me=>me.id==="lb9_1");W!=null&&W.winnerId&&(g.fourth=W.winnerId===W.player1Id?W.player2Id:W.player1Id);const $=x.find(me=>me.id==="fifth_sixth");$!=null&&$.winnerId&&(g.fifth=$.winnerId,g.sixth=$.winnerId===$.player1Id?$.player2Id:$.player1Id);const se=x.find(me=>me.id==="seventh_eighth");return se!=null&&se.winnerId&&(g.seventh=se.winnerId,g.eighth=se.winnerId===se.player1Id?se.player2Id:se.player1Id),g},J=(x,g)=>{F(w=>({...w,[x]:g}))},O=x=>{I[x]&&(oe(x,I[x]),F(g=>({...g,[x]:null})))},j=x=>{F(g=>({...g,[x]:null}))},T=x=>{const g=te(x.player1Id),w=x.player2Id?te(x.player2Id):"TBD",h=I[x.id]||null;return B.jsx(wr,{matchId:x.id,fixtureId:n,player1Name:g,player2Name:w,winnerId:x.winnerId,player1Id:x.player1Id||"",player2Id:x.player2Id||"",bracket:x.bracket,round:x.round,matchNumber:x.matchNumber,isBye:x.isBye,currentSelectedWinner:h,onWinnerSelect:y=>J(x.id,y),onWinnerConfirm:()=>O(x.id),onSelectionCancel:()=>j(x.id),playersLength:r.length,matchTitle:x.description})};if(r.length<48||r.length>64)return B.jsxs("div",{className:"text-center p-8",children:[B.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Uygun Olmayan Oyuncu Sayısı"}),B.jsxs("p",{className:"text-gray-600",children:["Bu turnuva formatı 48-64 oyuncu arası için tasarlanmıştır. Mevcut oyuncu sayısı: ",r.length]})]});const _=i.filter(x=>K(x)===c),L=re(i),v=!!(L.first&&L.second);return B.jsxs("div",{className:"px-3 sm:px-6 py-6 bg-gray-50 min-h-screen",children:[n&&B.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-900",children:((E=Ye.getFixtureById(n))==null?void 0:E.name)||""}),B.jsx(Nn,{activeTab:f,onTabChange:dt.createTabChangeHandler(p,n)}),B.jsx("div",{className:"max-w-4xl mx-auto"}),f==="active"&&B.jsxs(B.Fragment,{children:[B.jsx("div",{className:"text-center mb-6",children:B.jsxs("div",{className:"flex justify-center gap-4",children:[B.jsxs("button",{onClick:()=>{window.confirm("Turnuvayı sıfırlamak istediğinizden emin misiniz? Bu işlem geri alınamaz.")&&(Z(),q(),F({}),k([]),D(null))},className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg shadow hover:from-red-600 hover:to-red-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Turnuvayı Sıfırla"]}),C.length>0&&B.jsxs("button",{onClick:ue,className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg shadow hover:from-blue-600 hover:to-blue-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Bir Önceki Maç"]})]})}),v?B.jsx("div",{className:"max-w-4xl mx-auto",children:B.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl p-8 text-center shadow-lg",children:B.jsxs("div",{className:"mb-6",children:[B.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:B.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),B.jsx("h2",{className:"text-3xl font-bold text-green-800 mb-2",children:"🏆 Turnuva Tamamlandı!"}),B.jsx("p",{className:"text-green-700 text-lg mb-6",children:"Tüm maçlar başarıyla tamamlandı. Sonuçları ve sıralamaları görmek için aşağıdaki butona tıklayın."}),B.jsxs("button",{onClick:()=>dt.createTabChangeHandler(p,n)("rankings"),className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold rounded-lg shadow-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200 transform hover:scale-105",children:[B.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Sıralama Sekmesine Git"]})]})})}):B.jsxs(B.Fragment,{children:[_.filter(g=>!g.isBye&&!g.winnerId).length>0&&B.jsx("div",{className:"flex justify-center mb-4",children:B.jsxs("button",{onClick:()=>{_.filter(g=>!g.isBye&&!g.winnerId).forEach(g=>{const w=Math.random()<.5?g.player1Id:g.player2Id;oe(g.id,w)})},className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg shadow hover:from-green-600 hover:to-green-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Bu Turun Kazananlarını Otomatik Seç"]})}),B.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4 max-w-7xl w-full mx-auto",children:_.filter(x=>!x.isBye&&!x.winnerId).map(T)})]})]}),f==="completed"&&B.jsx(kn,{matches:i,players:r,getPlayerName:te}),f==="rankings"&&B.jsx(Mn,{rankings:re(i),players:r,getPlayerName:te})]})},Um=["WB1","WB2","LB1","LB2","WB3","LB3","LB4","WB4","LB5","LB6","WB5","LB7","LB8","WB6","LB9","YariFinal","LB10","7-8","LBFinal","5-6","Final","GrandFinal"],cie=({players:r,resetKey:e,onTournamentComplete:t,fixtureId:n})=>{var v;const[i,s]=z.useState([]),[a,o]=z.useState({}),[l,A]=z.useState(!1),[c,u]=z.useState("WB1");z.useState(!1);const[f,p]=z.useState(dt.getInitialTab(n)),[I,F]=z.useState({}),[,D]=z.useState(null),[C,k]=z.useState([]),[,U]=z.useState(!1),Q=(E,x,g,w)=>{const h={matches:E,rankings:x,tournamentComplete:g,currentRoundKey:w,matchHistory:C,timestamp:new Date().toISOString()},y=r.map(d=>d.id).sort().join("-");Pe.saveDoubleEliminationState(65,y,h,n)},V=()=>{try{const E=r.map(g=>g.id).sort().join("-"),x=Pe.getDoubleEliminationState(65,E,n);if(x)return s(x.matches||[]),o(x.rankings||{}),A(x.tournamentComplete||!1),x.tournamentComplete&&x.currentRoundKey?u(x.currentRoundKey):u(x.currentRoundKey||"WB1"),k(x.matchHistory||[]),D(null),!0}catch{}return!1},Z=()=>{const E=r.map(x=>x.id).sort().join("-");Pe.clearDoubleEliminationState(65,E,n),k([])},q=()=>{Z();const E=[...r].sort(()=>Math.random()-.5),g=128-r.length,w=E.slice(0,g),h=E.slice(g),y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`wb1_${Math.floor(d/2)+1}`,player1Id:h[d].id,player2Id:h[d+1].id,bracket:"winner",round:1,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("WB1",Math.floor(d/2)+1)});w.forEach((d,M)=>{y.push({id:`wb1_bye_${M+1}`,player1Id:d.id,player2Id:"",bracket:"winner",round:1,matchNumber:y.length+1,isBye:!0,description:`${de.getDescription("WB1")} - Bye for ${d.name} ${d.surname}`})}),s(y),o({}),A(!1),u("WB1"),k([])};z.useEffect(()=>{r.length>=65&&r.length<=95&&(V()||q())},[r]),z.useEffect(()=>{if(i.length===0)return;const E=i.find(w=>w.id==="grandfinal"),x=i.find(w=>w.id==="final"),g=i.find(w=>w.id==="lbfinal");if(E!=null&&E.winnerId&&(!l||c!=="GrandFinal")){const w=oe(i);o(w),A(!0),u("GrandFinal"),Q(i,w,!0,"GrandFinal");return}if(x!=null&&x.winnerId&&(g!=null&&g.winnerId)&&x.winnerId!==g.winnerId&&!l){const w=oe(i);o(w),A(!0),u("Final"),Q(i,w,!0,"Final")}},[i]),z.useEffect(()=>{typeof e<"u"&&q()},[e]),z.useEffect(()=>{if(i.filter(x=>x.isBye&&!x.winnerId).length>0){const x=i.map(g=>g.isBye&&!g.winnerId?{...g,winnerId:g.player1Id}:g);s(x),Q(x,a,l,c)}},[i,a,l,c]),z.useEffect(()=>{if(l&&i.length>0){const E=oe(i);JSON.stringify(E)!==JSON.stringify(a)&&(o(E),Q(i,E,l,c))}},[i,l,c]);const G=(E,x)=>{const g=x.filter(y=>Y(y)===E),w=g.filter(y=>!y.isBye),h=g.filter(y=>y.isBye);return w.length===0&&h.length>0?!0:w.length>0&&w.every(y=>y.winnerId)};function Y(E){return E.id.startsWith("wb1")?"WB1":E.id.startsWith("wb2")?"WB2":E.id.startsWith("lb10")?"LB10":E.id.startsWith("lb1")?"LB1":E.id.startsWith("lb2")?"LB2":E.id.startsWith("wb3")?"WB3":E.id.startsWith("lb3")?"LB3":E.id.startsWith("lb4")?"LB4":E.id.startsWith("wb4")?"WB4":E.id.startsWith("lb5")?"LB5":E.id.startsWith("lb6")?"LB6":E.id.startsWith("wb5")?"WB5":E.id.startsWith("lb7")?"LB7":E.id.startsWith("lb8")?"LB8":E.id.startsWith("wb6")?"WB6":E.id.startsWith("lb9")?"LB9":E.id.startsWith("yarifinal")?"YariFinal":E.id==="seventh_eighth"?"7-8":E.id.startsWith("lbfinal")?"LBFinal":E.id.startsWith("fifth_sixth")?"5-6":E.id.startsWith("final")?"Final":E.id.startsWith("grandfinal")?"GrandFinal":"WB1"}z.useEffect(()=>{if(i.length===0)return;const E=Um.indexOf(c);if(E===-1||E===Um.length-1||!G(c,i))return;const x=Um[E+1];if(x==="GrandFinal"&&i.some(h=>h.id==="grandfinal"))return;const g=K();if(g.length>0){const w=new Set(i.map(y=>y.id)),h=g.filter(y=>!w.has(y.id));if(h.length===0)return;s([...i,...h]),u(x),Q([...i,...h],a,l,x)}},[i,c]);function K(){const E=i,x=Um.indexOf(c);switch(Um[x+1]){case"WB1":{const w=[...r].sort((W,$)=>$.weight-W.weight),y=128-r.length,d=w.slice(0,y),M=w.slice(y),S=[];for(let W=0;W<M.length;W+=2)W+1<M.length&&S.push({id:`wb1_${Math.floor(W/2)+1}`,player1Id:M[W].id,player2Id:M[W+1].id,bracket:"winner",round:1,matchNumber:Math.floor(W/2)+1,isBye:!1,description:de.createMatchDescription("WB1",Math.floor(W/2)+1)});return d.forEach((W,$)=>{S.push({id:`wb1_bye_${$+1}`,player1Id:W.id,player2Id:"",bracket:"winner",round:1,matchNumber:S.length+1,isBye:!0,description:`${de.getDescription("WB1")} - Bye for ${W.name} ${W.surname}`})}),S}case"WB2":{const w=E.filter(M=>Y(M)==="WB1"&&M.winnerId&&!M.isBye).map(M=>M.winnerId),h=E.filter(M=>Y(M)==="WB1"&&M.isBye).map(M=>M.player1Id),y=[...w,...h];if(y.length!==64)return[];const d=[];for(let M=0;M<y.length;M+=2)M+1<y.length&&d.push({id:`wb2_${Math.floor(M/2)+1}`,player1Id:y[M],player2Id:y[M+1],bracket:"winner",round:2,matchNumber:Math.floor(M/2)+1,isBye:!1,description:de.createMatchDescription("WB2",Math.floor(M/2)+1)});return d}case"LB1":{const h=E.filter(me=>Y(me)==="WB2").filter(me=>!me.isBye);if(h.length===0||!h.every(me=>me.winnerId))return[];const y=E.filter(me=>Y(me)==="WB1"&&me.winnerId&&!me.isBye).map(me=>me.player1Id===me.winnerId?me.player2Id:me.player1Id).filter(Boolean),d=E.filter(me=>Y(me)==="WB2"&&me.winnerId&&!me.isBye).map(me=>me.player1Id===me.winnerId?me.player2Id:me.player1Id).filter(Boolean),M=[...y,...d];if(M.length<33||M.length>63)return[];const S=64-M.length,W=M.slice(0,S),$=M.slice(S),se=[];W.forEach((me,pe)=>{se.push({id:`lb1_bye_${pe+1}`,player1Id:me,player2Id:"",bracket:"loser",round:1,matchNumber:pe+1,isBye:!0,description:`${de.getDescription("LB1")} - Bye for ${H(me)}`})});for(let me=0;me<$.length;me+=2)me+1<$.length&&se.push({id:`lb1_${Math.floor(me/2)+1}`,player1Id:$[me],player2Id:$[me+1],bracket:"loser",round:1,matchNumber:S+Math.floor(me/2)+1,isBye:!1,description:de.createMatchDescription("LB1",Math.floor(me/2)+1)});return se}case"LB2":{const w=[...E.filter(y=>Y(y)==="LB1"&&y.winnerId&&!y.isBye).map(y=>y.winnerId),...E.filter(y=>Y(y)==="LB1"&&y.isBye).map(y=>y.player1Id)];if(w.length!==32)return[];const h=[];for(let y=0;y<w.length;y+=2)y+1<w.length&&h.push({id:`lb2_${Math.floor(y/2)+1}`,player1Id:w[y],player2Id:w[y+1],bracket:"loser",round:2,matchNumber:Math.floor(y/2)+1,isBye:!1,description:de.createMatchDescription("LB2",Math.floor(y/2)+1)});return h}case"WB3":{const w=E.filter(y=>Y(y)==="WB2"&&y.winnerId&&!y.isBye).map(y=>y.winnerId);if(w.length!==32)return[];const h=[];for(let y=0;y<w.length;y+=2)y+1<w.length&&h.push({id:`wb3_${Math.floor(y/2)+1}`,player1Id:w[y],player2Id:w[y+1],bracket:"winner",round:3,matchNumber:Math.floor(y/2)+1,isBye:!1,description:de.createMatchDescription("WB3",Math.floor(y/2)+1)});return h}case"LB3":{const w=E.filter(M=>Y(M)==="LB2"&&M.winnerId&&!M.isBye).map(M=>M.winnerId),h=E.filter(M=>Y(M)==="WB3"&&M.winnerId&&!M.isBye).map(M=>M.player1Id===M.winnerId?M.player2Id:M.player1Id).filter(Boolean),y=[...w,...h];if(y.length!==32)return[];const d=[];for(let M=0;M<y.length;M+=2)M+1<y.length&&d.push({id:`lb3_${Math.floor(M/2)+1}`,player1Id:y[M],player2Id:y[M+1],bracket:"loser",round:3,matchNumber:Math.floor(M/2)+1,isBye:!1,description:de.createMatchDescription("LB3",Math.floor(M/2)+1)});return d}case"LB4":{const w=E.filter(y=>Y(y)==="LB3"&&y.winnerId&&!y.isBye).map(y=>y.winnerId);if(w.length!==16)return[];const h=[];for(let y=0;y<w.length;y+=2)y+1<w.length&&h.push({id:`lb4_${Math.floor(y/2)+1}`,player1Id:w[y],player2Id:w[y+1],bracket:"loser",round:4,matchNumber:Math.floor(y/2)+1,isBye:!1,description:de.createMatchDescription("LB4",Math.floor(y/2)+1)});return h}case"WB4":{const w=E.filter(y=>Y(y)==="WB3"&&y.winnerId&&!y.isBye).map(y=>y.winnerId);if(w.length!==16)return[];const h=[];for(let y=0;y<w.length;y+=2)y+1<w.length&&h.push({id:`wb4_${Math.floor(y/2)+1}`,player1Id:w[y],player2Id:w[y+1],bracket:"winner",round:4,matchNumber:Math.floor(y/2)+1,isBye:!1,description:de.createMatchDescription("WB4",Math.floor(y/2)+1)});return h}case"LB5":{const w=E.filter(M=>Y(M)==="LB4"&&M.winnerId&&!M.isBye).map(M=>M.winnerId),h=E.filter(M=>Y(M)==="WB4"&&M.winnerId&&!M.isBye).map(M=>M.player1Id===M.winnerId?M.player2Id:M.player1Id).filter(Boolean),y=[...w,...h];if(y.length!==16)return[];const d=[];for(let M=0;M<y.length;M+=2)M+1<y.length&&d.push({id:`lb5_${Math.floor(M/2)+1}`,player1Id:y[M],player2Id:y[M+1],bracket:"loser",round:5,matchNumber:Math.floor(M/2)+1,isBye:!1,description:de.createMatchDescription("LB5",Math.floor(M/2)+1)});return d}case"LB6":{const w=E.filter(y=>Y(y)==="LB5"&&y.winnerId&&!y.isBye).map(y=>y.winnerId);if(w.length!==8)return[];const h=[];for(let y=0;y<w.length;y+=2)y+1<w.length&&h.push({id:`lb6_${Math.floor(y/2)+1}`,player1Id:w[y],player2Id:w[y+1],bracket:"loser",round:6,matchNumber:Math.floor(y/2)+1,isBye:!1,description:de.createMatchDescription("LB6",Math.floor(y/2)+1)});return h}case"WB5":{const w=E.filter(y=>Y(y)==="WB4"&&y.winnerId&&!y.isBye).map(y=>y.winnerId);if(w.length!==8)return[];const h=[];for(let y=0;y<w.length;y+=2)y+1<w.length&&h.push({id:`wb5_${Math.floor(y/2)+1}`,player1Id:w[y],player2Id:w[y+1],bracket:"winner",round:5,matchNumber:Math.floor(y/2)+1,isBye:!1,description:de.createMatchDescription("WB5",Math.floor(y/2)+1)});return h}case"LB7":{const w=E.filter(M=>Y(M)==="LB6"&&M.winnerId&&!M.isBye).map(M=>M.winnerId),h=E.filter(M=>Y(M)==="WB5"&&M.winnerId&&!M.isBye).map(M=>M.player1Id===M.winnerId?M.player2Id:M.player1Id).filter(Boolean),y=[...w,...h];if(y.length!==8)return[];const d=[];for(let M=0;M<y.length;M+=2)M+1<y.length&&d.push({id:`lb7_${Math.floor(M/2)+1}`,player1Id:y[M],player2Id:y[M+1],bracket:"loser",round:7,matchNumber:Math.floor(M/2)+1,isBye:!1,description:de.createMatchDescription("LB7",Math.floor(M/2)+1)});return d}case"LB8":{const w=E.filter(y=>Y(y)==="LB7"&&y.winnerId&&!y.isBye).map(y=>y.winnerId);if(w.length!==4)return[];const h=[];for(let y=0;y<w.length;y+=2)y+1<w.length&&h.push({id:`lb8_${Math.floor(y/2)+1}`,player1Id:w[y],player2Id:w[y+1],bracket:"loser",round:8,matchNumber:Math.floor(y/2)+1,isBye:!1,description:de.createMatchDescription("LB8",Math.floor(y/2)+1)});return h}case"WB6":{const w=E.filter(y=>Y(y)==="WB5"&&y.winnerId&&!y.isBye).map(y=>y.winnerId);if(w.length!==4)return[];const h=[];for(let y=0;y<w.length;y+=2)y+1<w.length&&h.push({id:`wb6_${Math.floor(y/2)+1}`,player1Id:w[y],player2Id:w[y+1],bracket:"winner",round:6,matchNumber:Math.floor(y/2)+1,isBye:!1,description:de.createMatchDescription("WB_QuarterFinal",Math.floor(y/2)+1)});return h}case"LB9":{const w=E.filter(M=>Y(M)==="WB6"&&M.winnerId&&!M.isBye).map(M=>M.player1Id===M.winnerId?M.player2Id:M.player1Id).filter(Boolean),y=[...E.filter(M=>Y(M)==="LB8"&&M.winnerId&&!M.isBye).map(M=>M.winnerId),...w];if(y.length!==4)return[];const d=[];for(let M=0;M<y.length;M+=2)M+1<y.length&&d.push({id:`lb9_${Math.floor(M/2)+1}`,player1Id:y[M],player2Id:y[M+1],bracket:"loser",round:9,matchNumber:Math.floor(M/2)+1,isBye:!1,description:de.createMatchDescription("LB9",Math.floor(M/2)+1)});return d}case"YariFinal":{const w=E.filter(y=>Y(y)==="WB6"&&y.winnerId&&!y.isBye).map(y=>y.winnerId);if(w.length!==2)return[];const h=[];for(let y=0;y<w.length;y+=2)y+1<w.length&&h.push({id:`yarifinal_${Math.floor(y/2)+1}`,player1Id:w[y],player2Id:w[y+1],bracket:"winner",round:7,matchNumber:Math.floor(y/2)+1,isBye:!1,description:de.getDescription("WB_SemiFinal")});return h}case"LB10":{const w=E.filter(y=>Y(y)==="LB9"&&y.winnerId&&!y.isBye).map(y=>y.winnerId);if(w.length!==2)return[];const h=[];for(let y=0;y<w.length;y+=2)y+1<w.length&&h.push({id:`lb10_${Math.floor(y/2)+1}`,player1Id:w[y],player2Id:w[y+1],bracket:"loser",round:10,matchNumber:Math.floor(y/2)+1,isBye:!1,description:de.createMatchDescription("LB10",Math.floor(y/2)+1)});return h}case"7-8":{const w=E.filter(h=>Y(h)==="LB8"&&h.winnerId&&!h.isBye).map(h=>h.player1Id===h.winnerId?h.player2Id:h.player1Id).filter(Boolean);return w.length!==2?[]:[{id:"seventh_eighth",player1Id:w[0],player2Id:w[1],bracket:"placement",round:10,matchNumber:1,isBye:!1,description:de.getDescription("7-8")}]}case"LBFinal":{const w=E.filter(S=>Y(S)==="YariFinal"&&S.winnerId&&!S.isBye),h=w[w.length-1];let y;h&&(y=h.player1Id===h.winnerId?h.player2Id:h.player1Id);const d=E.find(S=>Y(S)==="LB10"&&S.winnerId&&!S.isBye),M=d==null?void 0:d.winnerId;return!y||!M?[]:[{id:"lbfinal",player1Id:M,player2Id:y,bracket:"loser",round:11,matchNumber:1,isBye:!1,description:de.getDescription("LB_Final")}]}case"5-6":{const w=E.filter(h=>Y(h)==="LB9"&&h.winnerId&&!h.isBye).map(h=>h.player1Id===h.winnerId?h.player2Id:h.player1Id).filter(Boolean);return w.length!==2?[]:[{id:"fifth_sixth",player1Id:w[0],player2Id:w[1],bracket:"placement",round:9,matchNumber:1,isBye:!1,description:de.getDescription("5-6")}]}case"Final":{const w=E.filter(y=>Y(y)==="YariFinal"&&y.winnerId&&!y.isBye).map(y=>y.winnerId),h=E.filter(y=>Y(y)==="LBFinal"&&y.winnerId&&!y.isBye).map(y=>y.winnerId);return w.length!==1||h.length!==1?[]:[{id:"final",player1Id:w[0],player2Id:h[0],bracket:"winner",round:12,matchNumber:1,isBye:!1,description:de.getDescription("Final")}]}case"GrandFinal":{const w=E.find(M=>Y(M)==="Final"&&M.winnerId&&!M.isBye),h=E.find(M=>Y(M)==="LBFinal"&&M.winnerId&&!M.isBye);if(!w||!h)return[];const y=w.winnerId,d=h.winnerId;if(y===d&&y){const M=y===w.player1Id?w.player2Id:w.player1Id;if(M&&M!=="")return[{id:"grandfinal",player1Id:y,player2Id:M,bracket:"winner",round:13,matchNumber:1,isBye:!1,description:de.getDescription("GrandFinal")}]}return[]}default:return[]}}const H=E=>{const x=r.find(g=>g.id===E);return x?`${x.name} ${x.surname}`:"Unknown Player"},te=()=>{if(C.length>0){U(!0);const E=C[C.length-1],g=i.find(W=>{var $;return W.winnerId&&!(($=E.find(se=>se.id===W.id))!=null&&$.winnerId)}),w=C.slice(0,-1);s(E),k(w),l&&A(!1);let h={...a};if(g){const W=g.id;W==="final"||W==="grandfinal"?(delete h.first,delete h.second):W==="lbfinal"?delete h.third:W==="seventh_eighth"?(delete h.seventh,delete h.eighth):W==="fifth_sixth"?(delete h.fifth,delete h.sixth):W==="lb10_1"&&delete h.fourth}o(h);const y=E[E.length-1];if(y){const W=Y(y);u(W)}const d=E.map(W=>W.id);F(W=>{const $={...W};return Object.keys($).forEach(se=>{d.includes(se)||delete $[se]}),$});const M={matches:E,rankings:h,tournamentComplete:!1,currentRoundKey:Y(E[E.length-1]||E[0]),matchHistory:w,timestamp:new Date().toISOString()},S=r.map(W=>W.id).sort().join("-");Pe.saveDoubleEliminationState(65,S,M,n),setTimeout(()=>{U(!1)},100)}},ue=(E,x)=>{const g=[...C,[...i]];k(g),D(i.find(w=>w.id===E)||null),s(w=>{var M;const h=w.map(S=>S.id===E?{...S,winnerId:x}:S),y=h.find(S=>S.id==="final"),d=h.find(S=>S.id==="grandfinal");if(y!=null&&y.winnerId){const S=(M=h.find($=>$.id==="lbfinal"))==null?void 0:M.winnerId,W=y.winnerId;if(!(S&&W===S)){const $=oe(h);o($),A(!0),t&&t($||a);const se={matches:h,rankings:$||a,tournamentComplete:!0,currentRoundKey:c,matchHistory:g,timestamp:new Date().toISOString()},me=r.map(pe=>pe.id).sort().join("-");Pe.saveDoubleEliminationState(65,me,se,n)}}else if(d!=null&&d.winnerId){const S=oe(h);o(S),A(!0),u("GrandFinal"),t&&t(S||a);const W={matches:h,rankings:S||a,tournamentComplete:!0,currentRoundKey:"GrandFinal",matchHistory:g,timestamp:new Date().toISOString()},$=r.map(se=>se.id).sort().join("-");Pe.saveDoubleEliminationState(65,$,W,n)}else{const S={matches:h,rankings:a,tournamentComplete:l,currentRoundKey:c,matchHistory:g,timestamp:new Date().toISOString()},W=r.map($=>$.id).sort().join("-");Pe.saveDoubleEliminationState(65,W,S,n)}return h})},oe=E=>{const x={},g=E.find(se=>se.id==="final"),w=E.find(se=>se.id==="grandfinal"),h=E.find(se=>se.id==="lbfinal"),y=h==null?void 0:h.winnerId,d=g==null?void 0:g.winnerId,M=y&&d&&d===y;w!=null&&w.winnerId?(x.first=w.winnerId,x.second=w.winnerId===w.player1Id?w.player2Id:w.player1Id):g!=null&&g.winnerId&&!M&&(x.first=g.winnerId,x.second=g.winnerId===g.player1Id?g.player2Id:g.player1Id),h!=null&&h.winnerId&&(x.third=h.winnerId===h.player1Id?h.player2Id:h.player1Id);const S=E.find(se=>se.id==="lb10_1");S!=null&&S.winnerId&&(x.fourth=S.winnerId===S.player1Id?S.player2Id:S.player1Id);const W=E.find(se=>se.id==="fifth_sixth");W!=null&&W.winnerId&&(x.fifth=W.winnerId,x.sixth=W.winnerId===W.player1Id?W.player2Id:W.player1Id);const $=E.find(se=>se.id==="seventh_eighth");return $!=null&&$.winnerId&&(x.seventh=$.winnerId,x.eighth=$.winnerId===$.player1Id?$.player2Id:$.player1Id),x},re=(E,x)=>{F(g=>({...g,[E]:x}))},J=E=>{I[E]&&(ue(E,I[E]),F(x=>({...x,[E]:null})))},O=E=>{F(x=>({...x,[E]:null}))},j=E=>{const x=H(E.player1Id),g=E.player2Id?H(E.player2Id):"TBD",w=I[E.id]||null;return B.jsx(wr,{matchId:E.id,fixtureId:n,player1Name:x,player2Name:g,winnerId:E.winnerId,player1Id:E.player1Id||"",player2Id:E.player2Id||"",bracket:E.bracket,round:E.round,matchNumber:E.matchNumber,isBye:E.isBye,currentSelectedWinner:w,onWinnerSelect:h=>re(E.id,h),onWinnerConfirm:()=>J(E.id),onSelectionCancel:()=>O(E.id),playersLength:r.length,matchTitle:E.description})};if(r.length<65||r.length>95)return B.jsxs("div",{className:"text-center p-8",children:[B.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Uygun Olmayan Oyuncu Sayısı"}),B.jsxs("p",{className:"text-gray-600",children:["Bu turnuva formatı 65-95 oyuncu arası için tasarlanmıştır. Mevcut oyuncu sayısı: ",r.length]})]});const T=i.filter(E=>Y(E)===c),_=oe(i),L=!!(_.first&&_.second);return B.jsxs("div",{className:"px-3 sm:px-6 py-6 bg-gray-50 min-h-screen",children:[n&&B.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-900",children:((v=Ye.getFixtureById(n))==null?void 0:v.name)||""}),B.jsx(Nn,{activeTab:f,onTabChange:dt.createTabChangeHandler(p,n)}),B.jsx("div",{className:"max-w-4xl mx-auto"}),f==="active"&&B.jsxs(B.Fragment,{children:[B.jsx("div",{className:"text-center mb-6",children:B.jsxs("div",{className:"flex justify-center gap-4",children:[B.jsxs("button",{onClick:()=>{window.confirm("Turnuvayı sıfırlamak istediğinizden emin misiniz? Bu işlem geri alınamaz.")&&(Z(),q(),F({}),k([]),D(null))},className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg shadow hover:from-red-600 hover:to-red-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Turnuvayı Sıfırla"]}),C.length>0&&B.jsxs("button",{onClick:te,className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg shadow hover:from-blue-600 hover:to-blue-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Bir Önceki Maç"]})]})}),L?B.jsx("div",{className:"max-w-4xl mx-auto",children:B.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl p-8 text-center shadow-lg",children:B.jsxs("div",{className:"mb-6",children:[B.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:B.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),B.jsx("h2",{className:"text-3xl font-bold text-green-800 mb-2",children:"🏆 Turnuva Tamamlandı!"}),B.jsx("p",{className:"text-green-700 text-lg mb-6",children:"Tüm maçlar başarıyla tamamlandı. Sonuçları ve sıralamaları görmek için aşağıdaki butona tıklayın."}),B.jsxs("button",{onClick:()=>dt.createTabChangeHandler(p,n)("rankings"),className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold rounded-lg shadow-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200 transform hover:scale-105",children:[B.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Sıralama Sekmesine Git"]})]})})}):B.jsxs(B.Fragment,{children:[T.filter(x=>!x.isBye&&!x.winnerId).length>0&&B.jsx("div",{className:"flex justify-center mb-4",children:B.jsxs("button",{onClick:()=>{T.filter(x=>!x.isBye&&!x.winnerId).forEach(x=>{const g=Math.random()<.5?x.player1Id:x.player2Id;ue(x.id,g)})},className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg shadow hover:from-green-600 hover:to-green-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Bu Turun Kazananlarını Otomatik Seç"]})}),B.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4 max-w-7xl w-full mx-auto",children:T.filter(E=>!E.isBye&&!E.winnerId).map(j)})]})]}),f==="completed"&&B.jsx(kn,{matches:i,players:r,getPlayerName:H}),f==="rankings"&&B.jsx(Mn,{rankings:oe(i),players:r,getPlayerName:H})]})},Pm=["WB1","LB1","WB2","LB2","LB3","WB3","LB4","LB5","WB4","LB6","LB7","WB5","LB8","LB9","WB6","LB10","YariFinal","LB11","7-8","LBFinal","5-6","Final","GrandFinal"],uie=({players:r,resetKey:e,onTournamentComplete:t,fixtureId:n})=>{var _;const[i,s]=z.useState([]),[a,o]=z.useState({}),[l,A]=z.useState(!1),[c,u]=z.useState("WB1"),[,f]=z.useState(!1),[p,I]=z.useState(dt.getInitialTab(n)),[F,D]=z.useState({}),[,C]=z.useState(null),[k,U]=z.useState([]),Q=(L,v,E,x)=>{const g={matches:L,rankings:v,tournamentComplete:E,currentRoundKey:x,matchHistory:k,timestamp:new Date().toISOString()},w=r.map(h=>h.id).sort().join("-");Pe.saveDoubleEliminationState(96,w,g,n)},V=()=>{try{const L=r.map(E=>E.id).sort().join("-"),v=Pe.getDoubleEliminationState(96,L,n);if(v)return s(v.matches||[]),o(v.rankings||{}),A(v.tournamentComplete||!1),u(v.currentRoundKey||"WB1"),U(v.matchHistory||[]),C(null),!0}catch{}return!1},Z=()=>{const L=r.map(v=>v.id).sort().join("-");Pe.clearDoubleEliminationState(96,L,n),U([])},q=()=>{Z();const L=[...r].sort(()=>Math.random()-.5),E=128-r.length,x=L.slice(0,E),g=L.slice(E),w=[];for(let h=0;h<g.length;h+=2)h+1<g.length&&w.push({id:`wb1_${Math.floor(h/2)+1}`,player1Id:g[h].id,player2Id:g[h+1].id,bracket:"winner",round:1,matchNumber:Math.floor(h/2)+1,isBye:!1,description:de.createMatchDescription("WB1",Math.floor(h/2)+1)});x.forEach((h,y)=>{w.push({id:`wb1_bye_${y+1}`,player1Id:h.id,player2Id:"",bracket:"winner",round:1,matchNumber:w.length+1,isBye:!0,description:`${de.getDescription("WB1")} - Bye for ${h.name} ${h.surname}`})}),s(w),o({}),A(!1),u("WB1")};z.useEffect(()=>{r.length>=96&&r.length<=128&&(V()||q())},[r]),z.useEffect(()=>{typeof e<"u"&&q()},[e]),z.useEffect(()=>{if(i.filter(v=>v.isBye&&!v.winnerId).length>0){const v=i.map(E=>E.isBye&&!E.winnerId?{...E,winnerId:E.player1Id}:E);s(v),Q(v,a,l,c)}},[i,a,l,c]),z.useEffect(()=>{if(l&&i.length>0){const L=oe(i);JSON.stringify(L)!==JSON.stringify(a)&&(o(L),Q(i,L,l,c))}},[i,l,c]);const G=(L,v)=>{const E=v.filter(w=>Y(w)===L),x=E.filter(w=>!w.isBye),g=E.filter(w=>w.isBye);return x.length===0&&g.length>0?!0:x.length>0&&x.every(w=>w.winnerId)};function Y(L){return L.id.startsWith("wb1")?"WB1":L.id.startsWith("wb2")?"WB2":L.id.startsWith("wb3")?"WB3":L.id.startsWith("wb4")?"WB4":L.id.startsWith("wb5")?"WB5":L.id.startsWith("wb6")?"WB6":L.id.startsWith("lb10")?"LB10":L.id.startsWith("lb11")?"LB11":L.id.startsWith("lb1")?"LB1":L.id.startsWith("lb2")?"LB2":L.id.startsWith("lb3")?"LB3":L.id.startsWith("lb4")?"LB4":L.id.startsWith("lb5")?"LB5":L.id.startsWith("lb6")?"LB6":L.id.startsWith("lb7")?"LB7":L.id.startsWith("lb8")?"LB8":L.id.startsWith("lb9")?"LB9":L.id.startsWith("yarifinal")?"YariFinal":L.id==="seventh_eighth"?"7-8":L.id==="lbfinal"?"LBFinal":L.id==="fifth_sixth"?"5-6":L.id==="final"?"Final":L.id==="grandfinal"?"GrandFinal":"WB1"}z.useEffect(()=>{if(i.length===0)return;const L=Pm.indexOf(c);if(L===-1||L===Pm.length-1||!G(c,i))return;const v=Pm[L+1],E=K();E.length>0&&(s([...i,...E]),u(v),Q([...i,...E],a,l,v))},[i]);function K(){const L=i,v=Pm.indexOf(c);switch(Pm[v+1]){case"WB1":{const x=[...r].sort(()=>Math.random()-.5),w=128-r.length,h=x.slice(0,w),y=x.slice(w),d=[];for(let M=0;M<y.length;M+=2)M+1<y.length&&d.push({id:`wb1_${Math.floor(M/2)+1}`,player1Id:y[M].id,player2Id:y[M+1].id,bracket:"winner",round:1,matchNumber:Math.floor(M/2)+1,isBye:!1,description:de.createMatchDescription("WB1",Math.floor(M/2)+1)});return h.forEach((M,S)=>{d.push({id:`wb1_bye_${S+1}`,player1Id:M.id,player2Id:"",bracket:"winner",round:1,matchNumber:d.length+1,isBye:!0,description:`${de.getDescription("WB1")} - Bye for ${M.name} ${M.surname}`})}),d}case"LB1":{const g=L.filter(M=>Y(M)==="WB1"&&M.winnerId&&!M.isBye).map(M=>M.player1Id===M.winnerId?M.player2Id:M.player1Id).filter(Boolean),w=64-g.length,h=g.slice(0,w),y=g.slice(w),d=[];h.forEach((M,S)=>{d.push({id:`lb1_bye_${S+1}`,player1Id:M,player2Id:"",bracket:"loser",round:1,matchNumber:S+1,isBye:!0,description:`${de.getDescription("LB1")} - Bye for ${H(M)}`})});for(let M=0;M<y.length;M+=2)M+1<y.length&&d.push({id:`lb1_${Math.floor(M/2)+1}`,player1Id:y[M],player2Id:y[M+1],bracket:"loser",round:1,matchNumber:w+Math.floor(M/2)+1,isBye:!1,description:de.createMatchDescription("LB1",Math.floor(M/2)+1)});return d}case"WB2":{const x=L.filter(y=>Y(y)==="WB1"&&y.winnerId&&!y.isBye).map(y=>y.winnerId),g=L.filter(y=>Y(y)==="WB1"&&y.isBye).map(y=>y.player1Id),w=[...x,...g];if(w.length!==64)return[];const h=[];for(let y=0;y<w.length;y+=2)y+1<w.length&&h.push({id:`wb2_${Math.floor(y/2)+1}`,player1Id:w[y],player2Id:w[y+1],bracket:"winner",round:2,matchNumber:Math.floor(y/2)+1,isBye:!1,description:de.createMatchDescription("WB2",Math.floor(y/2)+1)});return h}case"LB2":{const x=[...L.filter(y=>Y(y)==="LB1"&&y.winnerId&&!y.isBye).map(y=>y.winnerId),...L.filter(y=>Y(y)==="LB1"&&y.isBye).map(y=>y.player1Id)],g=L.filter(y=>Y(y)==="WB2"&&y.winnerId&&!y.isBye).map(y=>y.player1Id===y.winnerId?y.player2Id:y.player1Id).filter(Boolean),w=[...x,...g];if(w.length!==64)return[];const h=[];for(let y=0;y<w.length;y+=2)y+1<w.length&&h.push({id:`lb2_${Math.floor(y/2)+1}`,player1Id:w[y],player2Id:w[y+1],bracket:"loser",round:2,matchNumber:Math.floor(y/2)+1,isBye:!1,description:de.createMatchDescription("LB2",Math.floor(y/2)+1)});return h}case"LB3":{const x=L.filter(w=>Y(w)==="LB2"&&w.winnerId&&!w.isBye).map(w=>w.winnerId);if(x.length!==32)return[];const g=[];for(let w=0;w<x.length;w+=2)w+1<x.length&&g.push({id:`lb3_${Math.floor(w/2)+1}`,player1Id:x[w],player2Id:x[w+1],bracket:"loser",round:3,matchNumber:Math.floor(w/2)+1,isBye:!1,description:de.createMatchDescription("LB3",Math.floor(w/2)+1)});return g}case"WB3":{const x=L.filter(w=>Y(w)==="WB2"&&w.winnerId&&!w.isBye).map(w=>w.winnerId);if(x.length!==32)return[];const g=[];for(let w=0;w<x.length;w+=2)w+1<x.length&&g.push({id:`wb3_${Math.floor(w/2)+1}`,player1Id:x[w],player2Id:x[w+1],bracket:"winner",round:3,matchNumber:Math.floor(w/2)+1,isBye:!1,description:de.createMatchDescription("WB3",Math.floor(w/2)+1)});return g}case"LB4":{const x=L.filter(y=>Y(y)==="LB3"&&y.winnerId&&!y.isBye).map(y=>y.winnerId),g=L.filter(y=>Y(y)==="WB3"&&y.winnerId&&!y.isBye).map(y=>y.player1Id===y.winnerId?y.player2Id:y.player1Id).filter(Boolean),w=[...x,...g];if(w.length!==32)return[];const h=[];for(let y=0;y<w.length;y+=2)y+1<w.length&&h.push({id:`lb4_${Math.floor(y/2)+1}`,player1Id:w[y],player2Id:w[y+1],bracket:"loser",round:4,matchNumber:Math.floor(y/2)+1,isBye:!1,description:de.createMatchDescription("LB4",Math.floor(y/2)+1)});return h}case"LB5":{const x=L.filter(w=>Y(w)==="LB4"&&w.winnerId&&!w.isBye).map(w=>w.winnerId);if(x.length!==16)return[];const g=[];for(let w=0;w<x.length;w+=2)w+1<x.length&&g.push({id:`lb5_${Math.floor(w/2)+1}`,player1Id:x[w],player2Id:x[w+1],bracket:"loser",round:5,matchNumber:Math.floor(w/2)+1,isBye:!1,description:de.createMatchDescription("LB5",Math.floor(w/2)+1)});return g}case"WB4":{const x=L.filter(w=>Y(w)==="WB3"&&w.winnerId&&!w.isBye).map(w=>w.winnerId);if(x.length!==16)return[];const g=[];for(let w=0;w<x.length;w+=2)w+1<x.length&&g.push({id:`wb4_${Math.floor(w/2)+1}`,player1Id:x[w],player2Id:x[w+1],bracket:"winner",round:4,matchNumber:Math.floor(w/2)+1,isBye:!1,description:de.createMatchDescription("WB4",Math.floor(w/2)+1)});return g}case"LB6":{const x=L.filter(y=>Y(y)==="LB5"&&y.winnerId&&!y.isBye).map(y=>y.winnerId),g=L.filter(y=>Y(y)==="WB4"&&y.winnerId&&!y.isBye).map(y=>y.player1Id===y.winnerId?y.player2Id:y.player1Id).filter(Boolean),w=[...x,...g];if(w.length!==16)return[];const h=[];for(let y=0;y<w.length;y+=2)y+1<w.length&&h.push({id:`lb6_${Math.floor(y/2)+1}`,player1Id:w[y],player2Id:w[y+1],bracket:"loser",round:6,matchNumber:Math.floor(y/2)+1,isBye:!1,description:de.createMatchDescription("LB6",Math.floor(y/2)+1)});return h}case"LB7":{const x=L.filter(w=>Y(w)==="LB6"&&w.winnerId&&!w.isBye).map(w=>w.winnerId);if(x.length!==8)return[];const g=[];for(let w=0;w<x.length;w+=2)w+1<x.length&&g.push({id:`lb7_${Math.floor(w/2)+1}`,player1Id:x[w],player2Id:x[w+1],bracket:"loser",round:7,matchNumber:Math.floor(w/2)+1,isBye:!1,description:de.createMatchDescription("LB7",Math.floor(w/2)+1)});return g}case"WB5":{const x=L.filter(w=>Y(w)==="WB4"&&w.winnerId&&!w.isBye).map(w=>w.winnerId);if(x.length!==8)return[];const g=[];for(let w=0;w<x.length;w+=2)w+1<x.length&&g.push({id:`wb5_${Math.floor(w/2)+1}`,player1Id:x[w],player2Id:x[w+1],bracket:"winner",round:5,matchNumber:Math.floor(w/2)+1,isBye:!1,description:de.createMatchDescription("WB5",Math.floor(w/2)+1)});return g}case"LB8":{const x=L.filter(y=>Y(y)==="LB7"&&y.winnerId&&!y.isBye).map(y=>y.winnerId),g=L.filter(y=>Y(y)==="WB5"&&y.winnerId&&!y.isBye).map(y=>y.player1Id===y.winnerId?y.player2Id:y.player1Id).filter(Boolean),w=[...x,...g];if(w.length!==8)return[];const h=[];for(let y=0;y<w.length;y+=2)y+1<w.length&&h.push({id:`lb8_${Math.floor(y/2)+1}`,player1Id:w[y],player2Id:w[y+1],bracket:"loser",round:8,matchNumber:Math.floor(y/2)+1,isBye:!1,description:de.createMatchDescription("LB8",Math.floor(y/2)+1)});return h}case"LB9":{const x=L.filter(w=>Y(w)==="LB8"&&w.winnerId&&!w.isBye).map(w=>w.winnerId);if(x.length!==4)return[];const g=[];for(let w=0;w<x.length;w+=2)w+1<x.length&&g.push({id:`lb9_${Math.floor(w/2)+1}`,player1Id:x[w],player2Id:x[w+1],bracket:"loser",round:9,matchNumber:Math.floor(w/2)+1,isBye:!1,description:de.createMatchDescription("LB9",Math.floor(w/2)+1)});return g}case"WB6":{const x=L.filter(w=>Y(w)==="WB5"&&w.winnerId&&!w.isBye).map(w=>w.winnerId);if(x.length!==4)return[];const g=[];for(let w=0;w<x.length;w+=2)w+1<x.length&&g.push({id:`wb6_${Math.floor(w/2)+1}`,player1Id:x[w],player2Id:x[w+1],bracket:"winner",round:6,matchNumber:Math.floor(w/2)+1,isBye:!1,description:de.createMatchDescription("WB_QuarterFinal",Math.floor(w/2)+1)});return g}case"LB10":{const x=L.filter(y=>Y(y)==="LB9"&&y.winnerId&&!y.isBye).map(y=>y.winnerId),g=L.filter(y=>Y(y)==="WB6"&&y.winnerId&&!y.isBye).map(y=>y.player1Id===y.winnerId?y.player2Id:y.player1Id).filter(Boolean),w=[...x,...g];if(w.length!==4)return[];const h=[];for(let y=0;y<w.length;y+=2)y+1<w.length&&h.push({id:`lb10_${Math.floor(y/2)+1}`,player1Id:w[y],player2Id:w[y+1],bracket:"loser",round:10,matchNumber:Math.floor(y/2)+1,isBye:!1,description:de.createMatchDescription("LB10",Math.floor(y/2)+1)});return h}case"YariFinal":{const x=L.filter(w=>Y(w)==="WB6"&&w.winnerId&&!w.isBye).map(w=>w.winnerId);if(x.length!==2)return[];const g=[];for(let w=0;w<x.length;w+=2)w+1<x.length&&g.push({id:`yarifinal_${Math.floor(w/2)+1}`,player1Id:x[w],player2Id:x[w+1],bracket:"winner",round:7,matchNumber:Math.floor(w/2)+1,isBye:!1,description:de.getDescription("WB_SemiFinal")});return g}case"LB11":{const x=L.filter(w=>Y(w)==="LB10"&&w.winnerId&&!w.isBye).map(w=>w.winnerId);if(x.length!==2)return[];const g=[];for(let w=0;w<x.length;w+=2)w+1<x.length&&g.push({id:`lb11_${Math.floor(w/2)+1}`,player1Id:x[w],player2Id:x[w+1],bracket:"loser",round:11,matchNumber:Math.floor(w/2)+1,isBye:!1,description:de.createMatchDescription("LB11",Math.floor(w/2)+1)});return g}case"7-8":{const x=L.filter(g=>Y(g)==="LB9"&&g.winnerId&&!g.isBye).map(g=>g.player1Id===g.winnerId?g.player2Id:g.player1Id).filter(Boolean);return x.length!==2?[]:[{id:"seventh_eighth",player1Id:x[0],player2Id:x[1],bracket:"placement",round:8,matchNumber:1,isBye:!1,description:de.getDescription("7-8")}]}case"LBFinal":{const x=L.filter(w=>Y(w)==="YariFinal"&&w.winnerId&&!w.isBye).map(w=>w.player1Id===w.winnerId?w.player2Id:w.player1Id).filter(Boolean),g=L.filter(w=>Y(w)==="LB11"&&w.winnerId&&!w.isBye).map(w=>w.winnerId);return x.length!==1||g.length!==1?[]:[{id:"lbfinal",player1Id:g[0],player2Id:x[0],bracket:"loser",round:12,matchNumber:1,isBye:!1,description:de.getDescription("LB_Final")}]}case"5-6":{const x=L.filter(g=>Y(g)==="LB10"&&g.winnerId&&!g.isBye).map(g=>g.player1Id===g.winnerId?g.player2Id:g.player1Id).filter(Boolean);return x.length!==2?[]:[{id:"fifth_sixth",player1Id:x[0],player2Id:x[1],bracket:"placement",round:9,matchNumber:1,isBye:!1,description:de.getDescription("5-6")}]}case"Final":{const x=L.filter(w=>Y(w)==="YariFinal"&&w.winnerId&&!w.isBye).map(w=>w.winnerId),g=L.filter(w=>Y(w)==="LBFinal"&&w.winnerId&&!w.isBye).map(w=>w.winnerId);return x.length!==1||g.length!==1?[]:[{id:"final",player1Id:x[0],player2Id:g[0],bracket:"winner",round:13,matchNumber:1,isBye:!1,description:de.getDescription("Final")}]}case"GrandFinal":{const x=L.find(y=>Y(y)==="Final"&&y.winnerId&&!y.isBye),g=L.find(y=>Y(y)==="LBFinal"&&y.winnerId&&!y.isBye);if(!x||!g)return[];const w=x.winnerId,h=g.winnerId;if(w===h&&w){const y=w===x.player1Id?x.player2Id:x.player1Id;if(y&&y!=="")return[{id:"grandfinal",player1Id:w,player2Id:y,bracket:"winner",round:14,matchNumber:1,isBye:!1,description:de.getDescription("GrandFinal")}]}return[]}default:return[]}}const H=L=>{const v=r.find(E=>E.id===L);return v?`${v.name} ${v.surname}`:"Unknown Player"},te=()=>{if(k.length>0){f(!0);const L=k[k.length-1],E=i.find(M=>{var S;return M.winnerId&&!((S=L.find(W=>W.id===M.id))!=null&&S.winnerId)}),x=k.slice(0,-1);s(L),U(x),l&&A(!1);let g={...a};if(E){const M=E.id;M==="final"||M==="grandfinal"?(delete g.first,delete g.second):M==="lbfinal"?delete g.third:M==="seventh_eighth"?(delete g.seventh,delete g.eighth):M==="fifth_sixth"?(delete g.fifth,delete g.sixth):M==="lb11_1"&&delete g.fourth}o(g);const w=L[L.length-1];if(w){const M=Y(w);u(M)}const h=L.map(M=>M.id);D(M=>{const S={...M};return Object.keys(S).forEach(W=>{h.includes(W)||delete S[W]}),S});const y={matches:L,rankings:g,tournamentComplete:!1,currentRoundKey:Y(L[L.length-1]||L[0]),matchHistory:x,timestamp:new Date().toISOString()},d=r.map(M=>M.id).sort().join("-");Pe.saveDoubleEliminationState(96,d,y,n),setTimeout(()=>{f(!1)},100)}},ue=(L,v)=>{const E=[...k,[...i]];U(E),C(i.find(x=>x.id===L)||null),s(x=>{var y;const g=x.map(d=>d.id===L?{...d,winnerId:v}:d),w=g.find(d=>d.id==="final"),h=g.find(d=>d.id==="grandfinal");if(w!=null&&w.winnerId){const d=(y=g.find(S=>S.id==="lbfinal"))==null?void 0:y.winnerId,M=w.winnerId;if(d&&M===d){const S={matches:g,rankings:a,tournamentComplete:!1,currentRoundKey:c,matchHistory:E,timestamp:new Date().toISOString()},W=r.map($=>$.id).sort().join("-");Pe.saveDoubleEliminationState(96,W,S,n)}else{const S=oe(g);o(S),A(!0),t&&t(S||a);const W={matches:g,rankings:S||a,tournamentComplete:!0,currentRoundKey:c,matchHistory:E,timestamp:new Date().toISOString()},$=r.map(se=>se.id).sort().join("-");Pe.saveDoubleEliminationState(96,$,W,n)}}else if(h!=null&&h.winnerId){const d=oe(g);o(d),A(!0),t&&t(d||a);const M={matches:g,rankings:d||a,tournamentComplete:!0,currentRoundKey:c,matchHistory:E,timestamp:new Date().toISOString()},S=r.map(W=>W.id).sort().join("-");Pe.saveDoubleEliminationState(96,S,M,n)}else{const d={matches:g,rankings:a,tournamentComplete:l,currentRoundKey:c,matchHistory:E,timestamp:new Date().toISOString()},M=r.map(S=>S.id).sort().join("-");Pe.saveDoubleEliminationState(96,M,d,n)}return g})},oe=L=>{const v={},E=L.find(W=>W.id==="final"),x=L.find(W=>W.id==="grandfinal"),g=L.find(W=>W.id==="lbfinal"),w=g==null?void 0:g.winnerId,h=E==null?void 0:E.winnerId,y=w&&h&&h===w;x!=null&&x.winnerId?(v.first=x.winnerId,v.second=x.winnerId===x.player1Id?x.player2Id:x.player1Id):E!=null&&E.winnerId&&!y&&(v.first=E.winnerId,v.second=E.winnerId===E.player1Id?E.player2Id:E.player1Id),g!=null&&g.winnerId&&(v.third=g.winnerId===g.player1Id?g.player2Id:g.player1Id);const d=L.find(W=>W.id==="lb11_1");d!=null&&d.winnerId&&(v.fourth=d.winnerId===d.player1Id?d.player2Id:d.player1Id);const M=L.find(W=>W.id==="fifth_sixth");M!=null&&M.winnerId&&(v.fifth=M.winnerId,v.sixth=M.winnerId===M.player1Id?M.player2Id:M.player1Id);const S=L.find(W=>W.id==="seventh_eighth");return S!=null&&S.winnerId&&(v.seventh=S.winnerId,v.eighth=S.winnerId===S.player1Id?S.player2Id:S.player1Id),v},re=(L,v)=>{D(E=>({...E,[L]:v}))},J=L=>{F[L]&&(ue(L,F[L]),D(v=>({...v,[L]:null})))},O=L=>{D(v=>({...v,[L]:null}))},j=L=>{const v=H(L.player1Id),E=L.player2Id?H(L.player2Id):"TBD",x=F[L.id]||null;return B.jsx(wr,{matchId:L.id,fixtureId:n,player1Name:v,player2Name:E,winnerId:L.winnerId,player1Id:L.player1Id||"",player2Id:L.player2Id||"",bracket:L.bracket,round:L.round,matchNumber:L.matchNumber,isBye:L.isBye,currentSelectedWinner:x,onWinnerSelect:g=>re(L.id,g),onWinnerConfirm:()=>J(L.id),onSelectionCancel:()=>O(L.id),playersLength:r.length,matchTitle:L.description})};if(r.length<96||r.length>128)return B.jsxs("div",{className:"text-center p-8",children:[B.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Uygun Olmayan Oyuncu Sayısı"}),B.jsxs("p",{className:"text-gray-600",children:["Bu turnuva formatı 96-128 oyuncu arası için tasarlanmıştır. Mevcut oyuncu sayısı: ",r.length]})]});const T=i.filter(L=>Y(L)===c);return B.jsxs("div",{className:"px-3 sm:px-6 py-6 bg-gray-50 min-h-screen",children:[n&&B.jsx("div",{className:"mb-6 flex justify-between items-center",children:B.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:((_=Ye.getFixtureById(n))==null?void 0:_.name)||""})}),B.jsx(Nn,{activeTab:p,onTabChange:dt.createTabChangeHandler(I,n)}),B.jsx("div",{className:"max-w-4xl mx-auto"}),p==="active"&&B.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[B.jsxs("button",{onClick:()=>{Z(),q(),D({}),U([]),C(null)},className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg shadow hover:from-red-600 hover:to-red-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Turnuvayı Sıfırla"]}),k.length>0&&B.jsxs("button",{onClick:te,className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg shadow hover:from-blue-600 hover:to-blue-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Bir Önceki Maç"]}),!l&&T.filter(L=>!L.isBye&&!L.winnerId).length>0&&B.jsxs("button",{onClick:()=>{T.filter(L=>!L.isBye&&!L.winnerId).forEach(L=>{const v=Math.random()<.5?L.player1Id:L.player2Id;ue(L.id,v)})},className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg shadow hover:from-green-600 hover:to-green-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Bu Turun Kazananlarını Otomatik Seç"]})]}),p==="active"&&B.jsx(B.Fragment,{children:(()=>{const L=oe(i);return!!(L.first&&L.second)})()?B.jsx("div",{className:"max-w-4xl mx-auto",children:B.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl p-8 text-center shadow-lg",children:B.jsxs("div",{className:"mb-6",children:[B.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:B.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),B.jsx("h2",{className:"text-3xl font-bold text-green-800 mb-2",children:"🏆 Turnuva Tamamlandı!"}),B.jsx("p",{className:"text-green-700 text-lg mb-6",children:"Tüm maçlar başarıyla tamamlandı. Sonuçları ve sıralamaları görmek için aşağıdaki butona tıklayın."}),B.jsxs("button",{onClick:()=>dt.createTabChangeHandler(I,n)("rankings"),className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold rounded-lg shadow-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200 transform hover:scale-105",children:[B.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Sıralama Sekmesine Git"]})]})})}):B.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4 max-w-7xl w-full mx-auto",children:T.filter(L=>!L.isBye&&!L.winnerId).map(j)})}),p==="completed"&&B.jsx(kn,{matches:i,players:r,getPlayerName:H}),p==="rankings"&&B.jsx(Mn,{rankings:oe(i),players:r,getPlayerName:H})]})},Tm=["WB1","WB2","LB1","LB2","WB3","LB3","LB4","WB4","LB5","LB6","WB5","LB7","LB8","WB6","LB9","LB10","WB7","LB11","YariFinal","LB12","7-8","LBFinal","5-6","Final","GrandFinal"],die=({players:r,resetKey:e,onMatchResult:t,onTournamentComplete:n,fixtureId:i})=>{var L;const[s,a]=z.useState([]),[o,l]=z.useState({}),[A,c]=z.useState(!1),[u,f]=z.useState("WB1"),[,p]=z.useState(!1),[I,F]=z.useState(dt.getInitialTab(i)),[D,C]=z.useState({}),[,k]=z.useState(null),[U,Q]=z.useState([]),V=(v,E,x,g)=>{const w={matches:v,rankings:E,tournamentComplete:x,currentRoundKey:g,matchHistory:U,timestamp:new Date().toISOString()},h=r.map(y=>y.id).sort().join("-");Pe.saveDoubleEliminationState(129,h,w,i)},Z=()=>{try{const v=r.map(x=>x.id).sort().join("-"),E=Pe.getDoubleEliminationState(129,v,i);if(E)return a(E.matches||[]),l(E.rankings||{}),c(E.tournamentComplete||!1),f(E.currentRoundKey||"WB1"),Q(E.matchHistory||[]),k(null),!0}catch{}return!1},q=()=>{const v=r.map(E=>E.id).sort().join("-");Pe.clearDoubleEliminationState(129,v,i),Q([])},G=()=>{q();const v=[...r].sort(()=>Math.random()-.5),x=256-r.length,g=v.slice(0,x),w=v.slice(x),h=[];for(let y=0;y<w.length;y+=2)y+1<w.length&&h.push({id:`wb1_${Math.floor(y/2)+1}`,player1Id:w[y].id,player2Id:w[y+1].id,bracket:"winner",round:1,matchNumber:Math.floor(y/2)+1,isBye:!1,description:de.createMatchDescription("WB1",Math.floor(y/2)+1)});g.forEach((y,d)=>{h.push({id:`wb1_bye_${d+1}`,player1Id:y.id,player2Id:"",bracket:"winner",round:1,matchNumber:h.length+1,isBye:!0,description:`${de.getDescription("WB1")} - Bye for ${y.name} ${y.surname}`})}),a(h),l({}),c(!1),f("WB1")};z.useEffect(()=>{r.length>=129&&r.length<=191&&(Z()||G())},[]),z.useEffect(()=>{typeof e<"u"&&G()},[e]),z.useEffect(()=>{if(s.filter(E=>E.isBye&&!E.winnerId).length>0){const E=s.map(x=>x.isBye&&!x.winnerId?{...x,winnerId:x.player1Id}:x);a(E),V(E,o,A,u)}},[s,o,A,u]),z.useEffect(()=>{if(A&&s.length>0){const v=re(s);JSON.stringify(v)!==JSON.stringify(o)&&(l(v),V(s,v,A,u))}},[s,A,u]);const Y=(v,E)=>{const x=E.filter(h=>K(h)===v),g=x.filter(h=>!h.isBye),w=x.filter(h=>h.isBye);return g.length===0&&w.length>0?!0:g.length>0&&g.every(h=>h.winnerId)};function K(v){return v.id.startsWith("wb1")?"WB1":v.id.startsWith("wb2")?"WB2":v.id.startsWith("wb3")?"WB3":v.id.startsWith("wb4")?"WB4":v.id.startsWith("wb5")?"WB5":v.id.startsWith("wb6")?"WB6":v.id.startsWith("wb7")?"WB7":v.id.startsWith("lb10")?"LB10":v.id.startsWith("lb11")?"LB11":v.id.startsWith("lb12")?"LB12":v.id.startsWith("lb1")?"LB1":v.id.startsWith("lb2")?"LB2":v.id.startsWith("lb3")?"LB3":v.id.startsWith("lb4")?"LB4":v.id.startsWith("lb5")?"LB5":v.id.startsWith("lb6")?"LB6":v.id.startsWith("lb7")?"LB7":v.id.startsWith("lb8")?"LB8":v.id.startsWith("lb9")?"LB9":v.id.startsWith("yarifinal")?"YariFinal":v.id==="seventh_eighth"?"7-8":v.id==="lbfinal"?"LBFinal":v.id==="fifth_sixth"?"5-6":v.id==="final"?"Final":v.id==="grandfinal"?"GrandFinal":"WB1"}z.useEffect(()=>{if(s.length===0)return;const v=Tm.indexOf(u);if(v===-1||v===Tm.length-1||!Y(u,s))return;const E=Tm[v+1],x=H();if(x.length>0){const g=[...s,...x];a(g),f(E),V(g,o,A,E)}},[s]);function H(){const v=s,E=Tm.indexOf(u);switch(Tm[E+1]){case"WB2":{const g=v.filter(d=>K(d)==="WB1"&&d.winnerId&&!d.isBye).map(d=>d.winnerId),w=v.filter(d=>K(d)==="WB1"&&d.isBye).map(d=>d.player1Id),h=[...g,...w];if(h.length!==128)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`wb2_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"winner",round:2,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("WB2",Math.floor(d/2)+1)});return y}case"LB1":{const g=v.filter(W=>K(W)==="WB1"&&W.winnerId&&!W.isBye).map(W=>W.player1Id===W.winnerId?W.player2Id:W.player1Id).filter(Boolean),w=v.filter(W=>K(W)==="WB2"&&W.winnerId&&!W.isBye).map(W=>W.player1Id===W.winnerId?W.player2Id:W.player1Id).filter(Boolean),h=[...g,...w],y=128-h.length,d=h.slice(0,y),M=h.slice(y),S=[];d.forEach((W,$)=>{S.push({id:`lb1_bye_${$+1}`,player1Id:W,player2Id:"",bracket:"loser",round:1,matchNumber:$+1,isBye:!0,description:de.getDescription("LB1")+" - Bye for "+te(W)})});for(let W=0;W<M.length;W+=2)W+1<M.length&&S.push({id:`lb1_${Math.floor(W/2)+1}`,player1Id:M[W],player2Id:M[W+1],bracket:"loser",round:1,matchNumber:y+Math.floor(W/2)+1,isBye:!1,description:de.createMatchDescription("LB1",Math.floor(W/2)+1)});return S}case"LB2":{const g=[...v.filter(h=>K(h)==="LB1"&&h.winnerId&&!h.isBye).map(h=>h.winnerId),...v.filter(h=>K(h)==="LB1"&&h.isBye).map(h=>h.player1Id)];if(g.length!==64)return[];const w=[];for(let h=0;h<g.length;h+=2)h+1<g.length&&w.push({id:`lb2_${Math.floor(h/2)+1}`,player1Id:g[h],player2Id:g[h+1],bracket:"loser",round:2,matchNumber:Math.floor(h/2)+1,isBye:!1,description:de.createMatchDescription("LB2",Math.floor(h/2)+1)});return w}case"WB3":{const g=v.filter(h=>K(h)==="WB2"&&h.winnerId&&!h.isBye).map(h=>h.winnerId);if(g.length!==64)return[];const w=[];for(let h=0;h<g.length;h+=2)h+1<g.length&&w.push({id:`wb3_${Math.floor(h/2)+1}`,player1Id:g[h],player2Id:g[h+1],bracket:"winner",round:3,matchNumber:Math.floor(h/2)+1,isBye:!1,description:de.createMatchDescription("WB3",Math.floor(h/2)+1)});return w}case"LB3":{const g=v.filter(d=>K(d)==="LB2"&&d.winnerId&&!d.isBye).map(d=>d.winnerId),w=v.filter(d=>K(d)==="WB3"&&d.winnerId&&!d.isBye).map(d=>d.player1Id===d.winnerId?d.player2Id:d.player1Id).filter(Boolean),h=[...g,...w];if(h.length!==64)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`lb3_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"loser",round:3,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("LB3",Math.floor(d/2)+1)});return y}case"LB4":{const g=v.filter(h=>K(h)==="LB3"&&h.winnerId&&!h.isBye).map(h=>h.winnerId);if(g.length!==32)return[];const w=[];for(let h=0;h<g.length;h+=2)h+1<g.length&&w.push({id:`lb4_${Math.floor(h/2)+1}`,player1Id:g[h],player2Id:g[h+1],bracket:"loser",round:4,matchNumber:Math.floor(h/2)+1,isBye:!1,description:de.createMatchDescription("LB4",Math.floor(h/2)+1)});return w}case"WB4":{const g=v.filter(h=>K(h)==="WB3"&&h.winnerId&&!h.isBye).map(h=>h.winnerId);if(g.length!==32)return[];const w=[];for(let h=0;h<g.length;h+=2)h+1<g.length&&w.push({id:`wb4_${Math.floor(h/2)+1}`,player1Id:g[h],player2Id:g[h+1],bracket:"winner",round:4,matchNumber:Math.floor(h/2)+1,isBye:!1,description:de.createMatchDescription("WB4",Math.floor(h/2)+1)});return w}case"LB5":{const g=v.filter(d=>K(d)==="LB4"&&d.winnerId&&!d.isBye).map(d=>d.winnerId),w=v.filter(d=>K(d)==="WB4"&&d.winnerId&&!d.isBye).map(d=>d.player1Id===d.winnerId?d.player2Id:d.player1Id).filter(Boolean),h=[...g,...w];if(h.length!==32)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`lb5_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"loser",round:5,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("LB5",Math.floor(d/2)+1)});return y}case"LB6":{const g=v.filter(h=>K(h)==="LB5"&&h.winnerId&&!h.isBye).map(h=>h.winnerId);if(g.length!==16)return[];const w=[];for(let h=0;h<g.length;h+=2)h+1<g.length&&w.push({id:`lb6_${Math.floor(h/2)+1}`,player1Id:g[h],player2Id:g[h+1],bracket:"loser",round:6,matchNumber:Math.floor(h/2)+1,isBye:!1,description:de.createMatchDescription("LB6",Math.floor(h/2)+1)});return w}case"WB5":{const g=v.filter(h=>K(h)==="WB4"&&h.winnerId&&!h.isBye).map(h=>h.winnerId);if(g.length!==16)return[];const w=[];for(let h=0;h<g.length;h+=2)h+1<g.length&&w.push({id:`wb5_${Math.floor(h/2)+1}`,player1Id:g[h],player2Id:g[h+1],bracket:"winner",round:5,matchNumber:Math.floor(h/2)+1,isBye:!1,description:de.createMatchDescription("WB5",Math.floor(h/2)+1)});return w}case"LB7":{const g=v.filter(d=>K(d)==="LB6"&&d.winnerId&&!d.isBye).map(d=>d.winnerId),w=v.filter(d=>K(d)==="WB5"&&d.winnerId&&!d.isBye).map(d=>d.player1Id===d.winnerId?d.player2Id:d.player1Id).filter(Boolean),h=[...g,...w];if(h.length!==16)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`lb7_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"loser",round:7,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("LB7",Math.floor(d/2)+1)});return y}case"LB8":{const g=v.filter(h=>K(h)==="LB7"&&h.winnerId&&!h.isBye).map(h=>h.winnerId);if(g.length!==8)return[];const w=[];for(let h=0;h<g.length;h+=2)h+1<g.length&&w.push({id:`lb8_${Math.floor(h/2)+1}`,player1Id:g[h],player2Id:g[h+1],bracket:"loser",round:8,matchNumber:Math.floor(h/2)+1,isBye:!1,description:de.createMatchDescription("LB8",Math.floor(h/2)+1)});return w}case"WB6":{const g=v.filter(h=>K(h)==="WB5"&&h.winnerId&&!h.isBye).map(h=>h.winnerId);if(g.length!==8)return[];const w=[];for(let h=0;h<g.length;h+=2)h+1<g.length&&w.push({id:`wb6_${Math.floor(h/2)+1}`,player1Id:g[h],player2Id:g[h+1],bracket:"winner",round:6,matchNumber:Math.floor(h/2)+1,isBye:!1,description:de.createMatchDescription("WB6",Math.floor(h/2)+1)});return w}case"LB9":{const g=v.filter(d=>K(d)==="LB8"&&d.winnerId&&!d.isBye).map(d=>d.winnerId),w=v.filter(d=>K(d)==="WB6"&&d.winnerId&&!d.isBye).map(d=>d.player1Id===d.winnerId?d.player2Id:d.player1Id).filter(Boolean),h=[...g,...w];if(h.length!==8)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`lb9_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"loser",round:9,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("LB9",Math.floor(d/2)+1)});return y}case"LB10":{const g=v.filter(h=>K(h)==="LB9"&&h.winnerId&&!h.isBye).map(h=>h.winnerId);if(g.length!==4)return[];const w=[];for(let h=0;h<g.length;h+=2)h+1<g.length&&w.push({id:`lb10_${Math.floor(h/2)+1}`,player1Id:g[h],player2Id:g[h+1],bracket:"loser",round:10,matchNumber:Math.floor(h/2)+1,isBye:!1,description:de.createMatchDescription("LB10",Math.floor(h/2)+1)});return w}case"WB7":{const g=v.filter(h=>K(h)==="WB6"&&h.winnerId&&!h.isBye).map(h=>h.winnerId);if(g.length!==4)return[];const w=[];for(let h=0;h<g.length;h+=2)h+1<g.length&&w.push({id:`wb7_${Math.floor(h/2)+1}`,player1Id:g[h],player2Id:g[h+1],bracket:"winner",round:7,matchNumber:Math.floor(h/2)+1,isBye:!1,description:de.createMatchDescription("WB_QuarterFinal",Math.floor(h/2)+1)});return w}case"LB11":{const g=v.filter(d=>K(d)==="LB10"&&d.winnerId&&!d.isBye).map(d=>d.winnerId),w=v.filter(d=>K(d)==="WB7"&&d.winnerId&&!d.isBye).map(d=>d.player1Id===d.winnerId?d.player2Id:d.player1Id).filter(Boolean),h=[...g,...w];if(h.length!==4)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`lb11_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"loser",round:11,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("LB11",Math.floor(d/2)+1)});return y}case"YariFinal":{const g=v.filter(h=>K(h)==="WB7"&&h.winnerId&&!h.isBye).map(h=>h.winnerId);if(g.length!==2)return[];const w=[];for(let h=0;h<g.length;h+=2)h+1<g.length&&w.push({id:`yarifinal_${Math.floor(h/2)+1}`,player1Id:g[h],player2Id:g[h+1],bracket:"winner",round:8,matchNumber:Math.floor(h/2)+1,isBye:!1,description:de.createMatchDescription("WB_SemiFinal",Math.floor(h/2)+1)});return w}case"LB12":{const g=v.filter(h=>K(h)==="LB11"&&h.winnerId&&!h.isBye).map(h=>h.winnerId);if(g.length!==2)return[];const w=[];for(let h=0;h<g.length;h+=2)h+1<g.length&&w.push({id:`lb12_${Math.floor(h/2)+1}`,player1Id:g[h],player2Id:g[h+1],bracket:"loser",round:12,matchNumber:Math.floor(h/2)+1,isBye:!1,description:de.createMatchDescription("LB12",Math.floor(h/2)+1)});return w}case"7-8":{const g=v.filter(w=>K(w)==="LB10"&&w.winnerId&&!w.isBye).map(w=>w.player1Id===w.winnerId?w.player2Id:w.player1Id).filter(Boolean);return g.length!==2?[]:[{id:"seventh_eighth",player1Id:g[0],player2Id:g[1],bracket:"placement",round:13,matchNumber:1,isBye:!1,description:de.getDescription("7-8")}]}case"LBFinal":{const g=v.filter(h=>K(h)==="YariFinal"&&h.winnerId&&!h.isBye).map(h=>h.player1Id===h.winnerId?h.player2Id:h.player1Id).filter(Boolean),w=v.filter(h=>K(h)==="LB12"&&h.winnerId&&!h.isBye).map(h=>h.winnerId);return g.length!==1||w.length!==1?[]:[{id:"lbfinal",player1Id:w[0],player2Id:g[0],bracket:"loser",round:13,matchNumber:1,isBye:!1,description:de.getDescription("LB_Final")}]}case"5-6":{const g=v.filter(w=>K(w)==="LB11"&&w.winnerId&&!w.isBye).map(w=>w.player1Id===w.winnerId?w.player2Id:w.player1Id).filter(Boolean);return g.length!==2?[]:[{id:"fifth_sixth",player1Id:g[0],player2Id:g[1],bracket:"placement",round:14,matchNumber:1,isBye:!1,description:de.getDescription("5-6")}]}case"Final":{const g=v.filter(h=>K(h)==="YariFinal"&&h.winnerId&&!h.isBye).map(h=>h.winnerId),w=v.filter(h=>K(h)==="LBFinal"&&h.winnerId&&!h.isBye).map(h=>h.winnerId);return g.length!==1||w.length!==1?[]:[{id:"final",player1Id:g[0],player2Id:w[0],bracket:"winner",round:14,matchNumber:1,isBye:!1,description:de.getDescription("Final")}]}case"GrandFinal":{const g=v.find(d=>K(d)==="Final"&&d.winnerId&&!d.isBye),w=v.find(d=>K(d)==="LBFinal"&&d.winnerId&&!d.isBye);if(!g||!w)return[];const h=g.winnerId,y=w.winnerId;if(h===y&&h){const d=h===g.player1Id?g.player2Id:g.player1Id;if(d&&d!=="")return[{id:"grandfinal",player1Id:h,player2Id:d,bracket:"winner",round:15,matchNumber:1,isBye:!1,description:de.getDescription("GrandFinal")}]}return[]}default:return[]}}const te=v=>{const E=r.find(x=>x.id===v);return E?`${E.name} ${E.surname}`:"Unknown Player"},ue=()=>{if(U.length>0){p(!0);const v=U[U.length-1],x=s.find(S=>{var W;return S.winnerId&&!((W=v.find($=>$.id===S.id))!=null&&W.winnerId)}),g=U.slice(0,-1);a(v),Q(g),A&&c(!1);let w={...o};if(x){const S=x.id;S==="final"||S==="grandfinal"?(delete w.first,delete w.second):S==="lbfinal"?delete w.third:S==="seventh_eighth"?(delete w.seventh,delete w.eighth):S==="fifth_sixth"?(delete w.fifth,delete w.sixth):S==="lb12_1"&&delete w.fourth}l(w);const h=v[v.length-1];if(h){const S=K(h);f(S)}const y=v.map(S=>S.id);C(S=>{const W={...S};return Object.keys(W).forEach($=>{y.includes($)||delete W[$]}),W});const d={matches:v,rankings:w,tournamentComplete:!1,currentRoundKey:K(v[v.length-1]||v[0]),matchHistory:g,timestamp:new Date().toISOString()},M=r.map(S=>S.id).sort().join("-");Pe.saveDoubleEliminationState(129,M,d,i),setTimeout(()=>{p(!1)},100)}},oe=(v,E)=>{const x=[...U,[...s]];Q(x),k(s.find(g=>g.id===v)||null),a(g=>{var M;const w=g.map(S=>S.id===v?{...S,winnerId:E}:S),h=re(w);if(l(h),t){const S=w.find(W=>W.id===v);if(S){const W=S.player1Id===E?S.player2Id:S.player1Id;t("double-elimination",E,W)}}const y=w.find(S=>S.id==="final"),d=w.find(S=>S.id==="grandfinal");if(y!=null&&y.winnerId){const S=(M=w.find($=>$.id==="lbfinal"))==null?void 0:M.winnerId,W=y.winnerId;if(S&&W===S){const $={matches:w,rankings:h,tournamentComplete:!1,currentRoundKey:u,matchHistory:x,timestamp:new Date().toISOString()},se=r.map(me=>me.id).sort().join("-");Pe.saveDoubleEliminationState(129,se,$,i)}else{c(!0),n&&n(h||o);const $={matches:w,rankings:h||o,tournamentComplete:!0,currentRoundKey:u,matchHistory:x,timestamp:new Date().toISOString()},se=r.map(me=>me.id).sort().join("-");Pe.saveDoubleEliminationState(129,se,$,i)}}else if(d!=null&&d.winnerId){c(!0),n&&n(h||o);const S={matches:w,rankings:h||o,tournamentComplete:!0,currentRoundKey:u,matchHistory:x,timestamp:new Date().toISOString()},W=r.map($=>$.id).sort().join("-");Pe.saveDoubleEliminationState(129,W,S,i)}else{const S={matches:w,rankings:h,tournamentComplete:A,currentRoundKey:u,matchHistory:x,timestamp:new Date().toISOString()},W=r.map($=>$.id).sort().join("-");Pe.saveDoubleEliminationState(129,W,S,i)}return w})},re=v=>{const E={},x=v.find($=>$.id==="final"),g=v.find($=>$.id==="grandfinal"),w=v.find($=>$.id==="lbfinal"),h=w==null?void 0:w.winnerId,y=x==null?void 0:x.winnerId,d=h&&y&&y===h;g!=null&&g.winnerId?(E.first=g.winnerId,E.second=g.winnerId===g.player1Id?g.player2Id:g.player1Id):x!=null&&x.winnerId&&!d&&(E.first=x.winnerId,E.second=x.winnerId===x.player1Id?x.player2Id:x.player1Id),w!=null&&w.winnerId&&(E.third=w.winnerId===w.player1Id?w.player2Id:w.player1Id);const M=v.find($=>$.id==="lb12_1");M!=null&&M.winnerId&&(E.fourth=M.winnerId===M.player1Id?M.player2Id:M.player1Id);const S=v.find($=>$.id==="fifth_sixth");S!=null&&S.winnerId&&(E.fifth=S.winnerId,E.sixth=S.winnerId===S.player1Id?S.player2Id:S.player1Id);const W=v.find($=>$.id==="seventh_eighth");return W!=null&&W.winnerId&&(E.seventh=W.winnerId,E.eighth=W.winnerId===W.player1Id?W.player2Id:W.player1Id),E},J=(v,E)=>{C(x=>({...x,[v]:E}))},O=v=>{D[v]&&(oe(v,D[v]),C(E=>({...E,[v]:null})))},j=v=>{C(E=>({...E,[v]:null}))},T=v=>{const E=te(v.player1Id),x=v.player2Id?te(v.player2Id):"TBD",g=D[v.id]||null;return B.jsx(wr,{matchId:v.id,fixtureId:i,player1Name:E,player2Name:x,winnerId:v.winnerId,player1Id:v.player1Id||"",player2Id:v.player2Id||"",bracket:v.bracket,round:v.round,matchNumber:v.matchNumber,isBye:v.isBye,currentSelectedWinner:g,onWinnerSelect:w=>J(v.id,w),onWinnerConfirm:()=>O(v.id),onSelectionCancel:()=>j(v.id),playersLength:r.length,matchTitle:v.description})};if(r.length<129||r.length>191)return B.jsxs("div",{className:"text-center p-8",children:[B.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Uygun Olmayan Oyuncu Sayısı"}),B.jsxs("p",{className:"text-gray-600",children:["Bu turnuva formatı 129-191 oyuncu arası için tasarlanmıştır. Mevcut oyuncu sayısı: ",r.length]})]});const _=s.filter(v=>K(v)===u);return B.jsxs("div",{className:"px-3 sm:px-6 py-6 bg-gray-50 min-h-screen",children:[i&&B.jsx("div",{className:"mb-6 flex justify-between items-center",children:B.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:((L=Ye.getFixtureById(i))==null?void 0:L.name)||""})}),B.jsx(Nn,{activeTab:I,onTabChange:dt.createTabChangeHandler(F,i)}),B.jsx("div",{className:"max-w-4xl mx-auto"}),I==="active"&&B.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[B.jsxs("button",{onClick:()=>{q(),G(),C({}),Q([]),k(null)},className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg shadow hover:from-red-600 hover:to-red-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Turnuvayı Sıfırla"]}),U.length>0&&B.jsxs("button",{onClick:ue,className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg shadow hover:from-blue-600 hover:to-blue-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Bir Önceki Maç"]}),!A&&_.filter(v=>!v.isBye&&!v.winnerId).length>0&&B.jsxs("button",{onClick:()=>{_.filter(v=>!v.isBye&&!v.winnerId).forEach(v=>{const E=Math.random()<.5?v.player1Id:v.player2Id;oe(v.id,E)})},className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg shadow hover:from-green-600 hover:to-green-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Bu Turun Kazananlarını Otomatik Seç"]})]}),I==="active"&&B.jsx(B.Fragment,{children:(()=>{const v=re(s);return!!(v.first&&v.second)})()?B.jsx("div",{className:"max-w-4xl mx-auto",children:B.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl p-8 text-center shadow-lg",children:B.jsxs("div",{className:"mb-6",children:[B.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:B.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),B.jsx("h2",{className:"text-3xl font-bold text-green-800 mb-2",children:"🏆 Turnuva Tamamlandı!"}),B.jsx("p",{className:"text-green-700 text-lg mb-6",children:"Tüm maçlar başarıyla tamamlandı. Sonuçları ve sıralamaları görmek için aşağıdaki butona tıklayın."}),B.jsxs("button",{onClick:()=>dt.createTabChangeHandler(F,i)("rankings"),className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold rounded-lg shadow-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200 transform hover:scale-105",children:[B.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Sıralama Sekmesine Git"]})]})})}):B.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4 max-w-7xl w-full mx-auto",children:_.filter(v=>!v.isBye&&!v.winnerId).map(T)})}),I==="completed"&&B.jsx(kn,{matches:s,players:r,getPlayerName:te}),I==="rankings"&&B.jsx(Mn,{rankings:re(s),players:r,getPlayerName:te})]})},Rm=["WB1","LB1","WB2","LB2","LB3","WB3","LB4","LB5","WB4","LB6","LB7","WB5","LB8","LB9","WB6","LB10","LB11","WB7","LB12","YariFinal","LB13","7-8","LBFinal","5-6","Final","GrandFinal"],hie=({players:r,resetKey:e,onMatchResult:t,onTournamentComplete:n,fixtureId:i})=>{var L;const[s,a]=z.useState([]),[o,l]=z.useState({}),[A,c]=z.useState(!1),[u,f]=z.useState("WB1"),[,p]=z.useState(!1),[I,F]=z.useState(dt.getInitialTab(i)),[D,C]=z.useState({}),[,k]=z.useState(null),[U,Q]=z.useState([]),V=(v,E,x,g)=>{const w={matches:v,rankings:E,tournamentComplete:x,currentRoundKey:g,matchHistory:U,timestamp:new Date().toISOString()},h=r.map(y=>y.id).sort().join("-");Pe.saveDoubleEliminationState(192,h,w,i)},Z=()=>{try{const v=r.map(x=>x.id).sort().join("-"),E=Pe.getDoubleEliminationState(192,v,i);if(E)return a(E.matches||[]),l(E.rankings||{}),c(E.tournamentComplete||!1),f(E.currentRoundKey||"WB1"),Q(E.matchHistory||[]),k(null),!0}catch{}return!1},q=()=>{const v=r.map(E=>E.id).sort().join("-");Pe.clearDoubleEliminationState(192,v,i),Q([])},G=()=>{q();const v=[...r].sort(()=>Math.random()-.5),x=256-r.length,g=v.slice(0,x),w=v.slice(x),h=[];for(let y=0;y<w.length;y+=2)y+1<w.length&&h.push({id:`wb1_${Math.floor(y/2)+1}`,player1Id:w[y].id,player2Id:w[y+1].id,bracket:"winner",round:1,matchNumber:Math.floor(y/2)+1,isBye:!1,description:de.createMatchDescription("WB1",Math.floor(y/2)+1)});g.forEach((y,d)=>{h.push({id:`wb1_bye_${d+1}`,player1Id:y.id,player2Id:"",bracket:"winner",round:1,matchNumber:h.length+1,isBye:!0,description:`${de.getDescription("WB1")} - Bye for ${y.name} ${y.surname}`})}),a(h),l({}),c(!1),f("WB1")};z.useEffect(()=>{r.length>=192&&r.length<=256&&(Z()||G())},[]),z.useEffect(()=>{typeof e<"u"&&G()},[e]),z.useEffect(()=>{if(s.filter(E=>E.isBye&&!E.winnerId).length>0){const E=s.map(x=>x.isBye&&!x.winnerId?{...x,winnerId:x.player1Id}:x);a(E),V(E,o,A,u)}},[s,o,A,u]),z.useEffect(()=>{if(A&&s.length>0){const v=re(s);JSON.stringify(v)!==JSON.stringify(o)&&(l(v),V(s,v,A,u))}},[s,A,u]);const Y=(v,E)=>{const x=E.filter(h=>K(h)===v),g=x.filter(h=>!h.isBye),w=x.filter(h=>h.isBye);return g.length===0&&w.length>0?!0:g.length>0&&g.every(h=>h.winnerId)};function K(v){return v.id.startsWith("wb1")?"WB1":v.id.startsWith("wb2")?"WB2":v.id.startsWith("wb3")?"WB3":v.id.startsWith("wb4")?"WB4":v.id.startsWith("wb5")?"WB5":v.id.startsWith("wb6")?"WB6":v.id.startsWith("wb7")?"WB7":v.id.startsWith("lb10")?"LB10":v.id.startsWith("lb11")?"LB11":v.id.startsWith("lb12")?"LB12":v.id.startsWith("lb13")?"LB13":v.id.startsWith("lb1")?"LB1":v.id.startsWith("lb2")?"LB2":v.id.startsWith("lb3")?"LB3":v.id.startsWith("lb4")?"LB4":v.id.startsWith("lb5")?"LB5":v.id.startsWith("lb6")?"LB6":v.id.startsWith("lb7")?"LB7":v.id.startsWith("lb8")?"LB8":v.id.startsWith("lb9")?"LB9":v.id.startsWith("yarifinal")?"YariFinal":v.id==="seventh_eighth"?"7-8":v.id==="lbfinal"?"LBFinal":v.id==="fifth_sixth"?"5-6":v.id==="final"?"Final":v.id==="grandfinal"?"GrandFinal":"WB1"}z.useEffect(()=>{if(s.length===0)return;const v=Rm.indexOf(u);if(v===-1||v===Rm.length-1||!Y(u,s))return;const E=Rm[v+1],x=H();if(x.length>0){const g=[...s,...x];a(g),f(E),V(g,o,A,E)}},[s]),z.useEffect(()=>{},[u,s]);function H(){const v=s,E=Rm.indexOf(u);switch(Rm[E+1]){case"LB1":{const w=v.filter(S=>K(S)==="WB1"&&S.winnerId&&!S.isBye).map(S=>S.player1Id===S.winnerId?S.player2Id:S.player1Id).filter(Boolean),h=128-w.length,y=w.slice(0,h),d=w.slice(h),M=[];y.forEach((S,W)=>{M.push({id:`lb1_bye_${W+1}`,player1Id:S,player2Id:"",bracket:"loser",round:1,matchNumber:W+1,isBye:!0,description:`${de.getDescription("LB1")} - Bye for ${te(S)}`})});for(let S=0;S<d.length;S+=2)S+1<d.length&&M.push({id:`lb1_${Math.floor(S/2)+1}`,player1Id:d[S],player2Id:d[S+1],bracket:"loser",round:1,matchNumber:h+Math.floor(S/2)+1,isBye:!1,description:de.createMatchDescription("LB1",Math.floor(S/2)+1)});return M}case"WB2":{const g=v.filter(d=>K(d)==="WB1"&&d.winnerId&&!d.isBye).map(d=>d.winnerId),w=v.filter(d=>K(d)==="WB1"&&d.isBye).map(d=>d.player1Id),h=[...g,...w];if(h.length!==128)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`wb2_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"winner",round:2,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("WB2",Math.floor(d/2)+1)});return y}case"LB2":{const g=[...v.filter(d=>K(d)==="LB1"&&d.winnerId&&!d.isBye).map(d=>d.winnerId),...v.filter(d=>K(d)==="LB1"&&d.isBye).map(d=>d.player1Id)],w=v.filter(d=>K(d)==="WB2"&&d.winnerId&&!d.isBye).map(d=>d.player1Id===d.winnerId?d.player2Id:d.player1Id).filter(Boolean),h=[...g,...w];if(h.length!==128)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`lb2_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"loser",round:2,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("LB2",Math.floor(d/2)+1)});return y}case"LB3":{const g=v.filter(h=>K(h)==="LB2"&&h.winnerId&&!h.isBye).map(h=>h.winnerId);if(g.length!==64)return[];const w=[];for(let h=0;h<g.length;h+=2)h+1<g.length&&w.push({id:`lb3_${Math.floor(h/2)+1}`,player1Id:g[h],player2Id:g[h+1],bracket:"loser",round:3,matchNumber:Math.floor(h/2)+1,isBye:!1,description:de.createMatchDescription("LB3",Math.floor(h/2)+1)});return w}case"WB3":{const g=v.filter(h=>K(h)==="WB2"&&h.winnerId&&!h.isBye).map(h=>h.winnerId);if(g.length!==64)return[];const w=[];for(let h=0;h<g.length;h+=2)h+1<g.length&&w.push({id:`wb3_${Math.floor(h/2)+1}`,player1Id:g[h],player2Id:g[h+1],bracket:"winner",round:3,matchNumber:Math.floor(h/2)+1,isBye:!1,description:de.createMatchDescription("WB3",Math.floor(h/2)+1)});return w}case"LB4":{const g=v.filter(d=>K(d)==="LB3"&&d.winnerId&&!d.isBye).map(d=>d.winnerId),w=v.filter(d=>K(d)==="WB3"&&d.winnerId&&!d.isBye).map(d=>d.player1Id===d.winnerId?d.player2Id:d.player1Id).filter(Boolean),h=[...g,...w];if(h.length!==64)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`lb4_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"loser",round:4,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("LB4",Math.floor(d/2)+1)});return y}case"LB5":{const g=v.filter(h=>K(h)==="LB4"&&h.winnerId&&!h.isBye).map(h=>h.winnerId);if(g.length!==32)return[];const w=[];for(let h=0;h<g.length;h+=2)h+1<g.length&&w.push({id:`lb5_${Math.floor(h/2)+1}`,player1Id:g[h],player2Id:g[h+1],bracket:"loser",round:5,matchNumber:Math.floor(h/2)+1,isBye:!1,description:de.createMatchDescription("LB5",Math.floor(h/2)+1)});return w}case"WB4":{const g=v.filter(h=>K(h)==="WB3"&&h.winnerId&&!h.isBye).map(h=>h.winnerId);if(g.length!==32)return[];const w=[];for(let h=0;h<g.length;h+=2)h+1<g.length&&w.push({id:`wb4_${Math.floor(h/2)+1}`,player1Id:g[h],player2Id:g[h+1],bracket:"winner",round:4,matchNumber:Math.floor(h/2)+1,isBye:!1,description:de.createMatchDescription("WB4",Math.floor(h/2)+1)});return w}case"LB6":{const g=v.filter(d=>K(d)==="LB5"&&d.winnerId&&!d.isBye).map(d=>d.winnerId),w=v.filter(d=>K(d)==="WB4"&&d.winnerId&&!d.isBye).map(d=>d.player1Id===d.winnerId?d.player2Id:d.player1Id).filter(Boolean),h=[...g,...w];if(h.length!==32)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`lb6_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"loser",round:6,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("LB6",Math.floor(d/2)+1)});return y}case"LB7":{const g=v.filter(h=>K(h)==="LB6"&&h.winnerId&&!h.isBye).map(h=>h.winnerId);if(g.length!==16)return[];const w=[];for(let h=0;h<g.length;h+=2)h+1<g.length&&w.push({id:`lb7_${Math.floor(h/2)+1}`,player1Id:g[h],player2Id:g[h+1],bracket:"loser",round:7,matchNumber:Math.floor(h/2)+1,isBye:!1,description:de.createMatchDescription("LB7",Math.floor(h/2)+1)});return w}case"WB5":{const g=v.filter(h=>K(h)==="WB4"&&h.winnerId&&!h.isBye).map(h=>h.winnerId);if(g.length!==16)return[];const w=[];for(let h=0;h<g.length;h+=2)h+1<g.length&&w.push({id:`wb5_${Math.floor(h/2)+1}`,player1Id:g[h],player2Id:g[h+1],bracket:"winner",round:5,matchNumber:Math.floor(h/2)+1,isBye:!1,description:de.createMatchDescription("WB5",Math.floor(h/2)+1)});return w}case"LB8":{const g=v.filter(d=>K(d)==="LB7"&&d.winnerId&&!d.isBye).map(d=>d.winnerId),w=v.filter(d=>K(d)==="WB5"&&d.winnerId&&!d.isBye).map(d=>d.player1Id===d.winnerId?d.player2Id:d.player1Id).filter(Boolean),h=[...g,...w];if(h.length!==16)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`lb8_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"loser",round:8,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("LB8",Math.floor(d/2)+1)});return y}case"LB9":{const g=v.filter(h=>K(h)==="LB8"&&h.winnerId&&!h.isBye).map(h=>h.winnerId);if(g.length!==8)return[];const w=[];for(let h=0;h<g.length;h+=2)h+1<g.length&&w.push({id:`lb9_${Math.floor(h/2)+1}`,player1Id:g[h],player2Id:g[h+1],bracket:"loser",round:9,matchNumber:Math.floor(h/2)+1,isBye:!1,description:de.createMatchDescription("LB9",Math.floor(h/2)+1)});return w}case"WB6":{const g=v.filter(h=>K(h)==="WB5"&&h.winnerId&&!h.isBye).map(h=>h.winnerId);if(g.length!==8)return[];const w=[];for(let h=0;h<g.length;h+=2)h+1<g.length&&w.push({id:`wb6_${Math.floor(h/2)+1}`,player1Id:g[h],player2Id:g[h+1],bracket:"winner",round:6,matchNumber:Math.floor(h/2)+1,isBye:!1,description:de.createMatchDescription("WB6",Math.floor(h/2)+1)});return w}case"LB10":{const g=v.filter(d=>K(d)==="LB9"&&d.winnerId&&!d.isBye).map(d=>d.winnerId),w=v.filter(d=>K(d)==="WB6"&&d.winnerId&&!d.isBye).map(d=>d.player1Id===d.winnerId?d.player2Id:d.player1Id).filter(Boolean),h=[...g,...w];if(h.length!==8)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`lb10_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"loser",round:10,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("LB10",Math.floor(d/2)+1)});return y}case"LB11":{const g=v.filter(h=>K(h)==="LB10"&&h.winnerId&&!h.isBye).map(h=>h.winnerId);if(g.length!==4)return[];const w=[];for(let h=0;h<g.length;h+=2)h+1<g.length&&w.push({id:`lb11_${Math.floor(h/2)+1}`,player1Id:g[h],player2Id:g[h+1],bracket:"loser",round:11,matchNumber:Math.floor(h/2)+1,isBye:!1,description:de.createMatchDescription("LB11",Math.floor(h/2)+1)});return w}case"WB7":{const g=v.filter(h=>K(h)==="WB6"&&h.winnerId&&!h.isBye).map(h=>h.winnerId);if(g.length!==4)return[];const w=[];for(let h=0;h<g.length;h+=2)h+1<g.length&&w.push({id:`wb7_${Math.floor(h/2)+1}`,player1Id:g[h],player2Id:g[h+1],bracket:"winner",round:7,matchNumber:Math.floor(h/2)+1,isBye:!1,description:de.createMatchDescription("WB_QuarterFinal",Math.floor(h/2)+1)});return w}case"LB12":{const g=v.filter(d=>K(d)==="LB11"&&d.winnerId&&!d.isBye).map(d=>d.winnerId),w=v.filter(d=>K(d)==="WB7"&&d.winnerId&&!d.isBye).map(d=>d.player1Id===d.winnerId?d.player2Id:d.player1Id).filter(Boolean),h=[...g,...w];if(h.length!==4)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`lb12_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"loser",round:12,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("LB12",Math.floor(d/2)+1)});return y}case"YariFinal":{const g=v.filter(h=>K(h)==="WB7"&&h.winnerId&&!h.isBye).map(h=>h.winnerId);if(g.length!==2)return[];const w=[];for(let h=0;h<g.length;h+=2)h+1<g.length&&w.push({id:`yarifinal_${Math.floor(h/2)+1}`,player1Id:g[h],player2Id:g[h+1],bracket:"winner",round:8,matchNumber:Math.floor(h/2)+1,isBye:!1,description:de.getDescription("WB_SemiFinal")});return w}case"LB13":{const g=v.filter(h=>K(h)==="LB12"&&h.winnerId&&!h.isBye).map(h=>h.winnerId);if(g.length!==2)return[];const w=[];for(let h=0;h<g.length;h+=2)h+1<g.length&&w.push({id:`lb13_${Math.floor(h/2)+1}`,player1Id:g[h],player2Id:g[h+1],bracket:"loser",round:13,matchNumber:Math.floor(h/2)+1,isBye:!1,description:de.createMatchDescription("LB13",Math.floor(h/2)+1)});return w}case"7-8":{const g=v.filter(w=>K(w)==="LB11"&&w.winnerId&&!w.isBye).map(w=>w.player1Id===w.winnerId?w.player2Id:w.player1Id).filter(Boolean);return g.length!==2?[]:[{id:"seventh_eighth",player1Id:g[0],player2Id:g[1],bracket:"placement",round:14,matchNumber:1,isBye:!1,description:de.getDescription("7-8")}]}case"LBFinal":{const g=v.filter(h=>K(h)==="YariFinal"&&h.winnerId&&!h.isBye).map(h=>h.player1Id===h.winnerId?h.player2Id:h.player1Id).filter(Boolean),w=v.filter(h=>K(h)==="LB13"&&h.winnerId&&!h.isBye).map(h=>h.winnerId);return g.length!==1||w.length!==1?[]:[{id:"lbfinal",player1Id:w[0],player2Id:g[0],bracket:"loser",round:15,matchNumber:1,isBye:!1,description:de.getDescription("LB_Final")}]}case"5-6":{const g=v.filter(w=>K(w)==="LB12"&&w.winnerId&&!w.isBye).map(w=>w.player1Id===w.winnerId?w.player2Id:w.player1Id).filter(Boolean);return g.length!==2?[]:[{id:"fifth_sixth",player1Id:g[0],player2Id:g[1],bracket:"placement",round:16,matchNumber:1,isBye:!1,description:de.getDescription("5-6")}]}case"Final":{const g=v.filter(h=>K(h)==="YariFinal"&&h.winnerId&&!h.isBye).map(h=>h.winnerId),w=v.filter(h=>K(h)==="LBFinal"&&h.winnerId&&!h.isBye).map(h=>h.winnerId);return g.length!==1||w.length!==1?[]:[{id:"final",player1Id:g[0],player2Id:w[0],bracket:"winner",round:17,matchNumber:1,isBye:!1,description:de.getDescription("Final")}]}case"GrandFinal":{const g=v.find(d=>K(d)==="Final"&&d.winnerId&&!d.isBye),w=v.find(d=>K(d)==="LBFinal"&&d.winnerId&&!d.isBye);if(!g||!w)return[];const h=g.winnerId,y=w.winnerId;if(h===y&&h){const d=h===g.player1Id?g.player2Id:g.player1Id;if(d&&d!=="")return[{id:"grandfinal",player1Id:h,player2Id:d,bracket:"winner",round:18,matchNumber:1,isBye:!1,description:de.getDescription("GrandFinal")}]}return[]}default:return[]}}const te=v=>{const E=r.find(x=>x.id===v);return E?`${E.name} ${E.surname}`:"Unknown Player"},ue=()=>{if(U.length>0){p(!0);const v=U[U.length-1],x=s.find(S=>{var W;return S.winnerId&&!((W=v.find($=>$.id===S.id))!=null&&W.winnerId)}),g=U.slice(0,-1);a(v),Q(g),A&&c(!1);let w={...o};if(x){const S=x.id;S==="final"||S==="grandfinal"?(delete w.first,delete w.second):S==="lbfinal"?delete w.third:S==="seventh_eighth"?(delete w.seventh,delete w.eighth):S==="fifth_sixth"?(delete w.fifth,delete w.sixth):S==="lb13_1"&&delete w.fourth}l(w);const h=v[v.length-1];if(h){const S=K(h);f(S)}const y=v.map(S=>S.id);C(S=>{const W={...S};return Object.keys(W).forEach($=>{y.includes($)||delete W[$]}),W});const d={matches:v,rankings:w,tournamentComplete:!1,currentRoundKey:K(v[v.length-1]||v[0]),matchHistory:g,timestamp:new Date().toISOString()},M=r.map(S=>S.id).sort().join("-");Pe.saveDoubleEliminationState(192,M,d,i),setTimeout(()=>{p(!1)},100)}},oe=(v,E)=>{const x=[...U,[...s]];Q(x),k(s.find(g=>g.id===v)||null),a(g=>{var M;const w=g.map(S=>S.id===v?{...S,winnerId:E}:S),h=re(w);if(l(h),t){const S=w.find(W=>W.id===v);if(S){const W=S.player1Id===E?S.player2Id:S.player1Id;t("double-elimination",E,W)}}const y=w.find(S=>S.id==="final"),d=w.find(S=>S.id==="grandfinal");if(y!=null&&y.winnerId){const S=(M=w.find($=>$.id==="lbfinal"))==null?void 0:M.winnerId,W=y.winnerId;if(S&&W===S){const $={matches:w,rankings:h,tournamentComplete:!1,currentRoundKey:u,matchHistory:x,timestamp:new Date().toISOString()},se=r.map(me=>me.id).sort().join("-");Pe.saveDoubleEliminationState(192,se,$,i)}else{c(!0),n&&n(h);const $={matches:w,rankings:h,tournamentComplete:!0,currentRoundKey:u,matchHistory:x,timestamp:new Date().toISOString()},se=r.map(me=>me.id).sort().join("-");Pe.saveDoubleEliminationState(192,se,$,i)}}else if(d!=null&&d.winnerId){c(!0),n&&n(h);const S={matches:w,rankings:h,tournamentComplete:!0,currentRoundKey:u,matchHistory:x,timestamp:new Date().toISOString()},W=r.map($=>$.id).sort().join("-");Pe.saveDoubleEliminationState(192,W,S,i)}else{const S={matches:w,rankings:h,tournamentComplete:A,currentRoundKey:u,matchHistory:x,timestamp:new Date().toISOString()},W=r.map($=>$.id).sort().join("-");Pe.saveDoubleEliminationState(192,W,S,i)}return w})},re=v=>{const E={},x=v.find($=>$.id==="final"),g=v.find($=>$.id==="grandfinal"),w=v.find($=>$.id==="lbfinal"),h=w==null?void 0:w.winnerId,y=x==null?void 0:x.winnerId,d=h&&y&&y===h;g!=null&&g.winnerId?(E.first=g.winnerId,E.second=g.winnerId===g.player1Id?g.player2Id:g.player1Id):x!=null&&x.winnerId&&!d&&(E.first=x.winnerId,E.second=x.winnerId===x.player1Id?x.player2Id:x.player1Id),w!=null&&w.winnerId&&(E.third=w.winnerId===w.player1Id?w.player2Id:w.player1Id);const M=v.find($=>$.id==="lb13_1");M!=null&&M.winnerId&&(E.fourth=M.winnerId===M.player1Id?M.player2Id:M.player1Id);const S=v.find($=>$.id==="fifth_sixth");S!=null&&S.winnerId&&(E.fifth=S.winnerId,E.sixth=S.winnerId===S.player1Id?S.player2Id:S.player1Id);const W=v.find($=>$.id==="seventh_eighth");return W!=null&&W.winnerId&&(E.seventh=W.winnerId,E.eighth=W.winnerId===W.player1Id?W.player2Id:W.player1Id),E},J=(v,E)=>{C(x=>({...x,[v]:E}))},O=v=>{D[v]&&(oe(v,D[v]),C(E=>({...E,[v]:null})))},j=v=>{C(E=>({...E,[v]:null}))},T=v=>{const E=te(v.player1Id),x=v.player2Id?te(v.player2Id):"TBD",g=D[v.id]||null;return B.jsx(wr,{matchId:v.id,fixtureId:i,player1Name:E,player2Name:x,winnerId:v.winnerId,player1Id:v.player1Id||"",player2Id:v.player2Id||"",bracket:v.bracket,round:v.round,matchNumber:v.matchNumber,isBye:v.isBye,currentSelectedWinner:g,onWinnerSelect:w=>J(v.id,w),onWinnerConfirm:()=>O(v.id),onSelectionCancel:()=>j(v.id),playersLength:r.length,matchTitle:v.description})};if(r.length<192||r.length>256)return B.jsxs("div",{className:"text-center p-8",children:[B.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Uygun Olmayan Oyuncu Sayısı"}),B.jsxs("p",{className:"text-gray-600",children:["Bu turnuva formatı 192-256 oyuncu arası için tasarlanmıştır. Mevcut oyuncu sayısı: ",r.length]})]});const _=s.filter(v=>K(v)===u);return B.jsxs("div",{className:"px-3 sm:px-6 py-6 bg-gray-50 min-h-screen",children:[i&&B.jsx("div",{className:"mb-6 flex justify-between items-center",children:B.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:((L=Ye.getFixtureById(i))==null?void 0:L.name)||""})}),B.jsx(Nn,{activeTab:I,onTabChange:dt.createTabChangeHandler(F,i)}),B.jsx("div",{className:"max-w-4xl mx-auto"}),I==="active"&&B.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[B.jsxs("button",{onClick:()=>{q(),G(),C({}),Q([]),k(null)},className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg shadow hover:from-red-600 hover:to-red-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Turnuvayı Sıfırla"]}),U.length>0&&B.jsxs("button",{onClick:ue,className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg shadow hover:from-blue-600 hover:to-blue-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Bir Önceki Maç"]}),!A&&_.filter(v=>!v.isBye&&!v.winnerId).length>0&&B.jsxs("button",{onClick:()=>{_.filter(v=>!v.isBye&&!v.winnerId).forEach(v=>{const E=Math.random()<.5?v.player1Id:v.player2Id;oe(v.id,E)})},className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg shadow hover:from-green-600 hover:to-green-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Bu Turun Kazananlarını Otomatik Seç"]})]}),I==="active"&&B.jsx(B.Fragment,{children:(()=>{const v=re(s);return!!(v.first&&v.second)})()?B.jsx("div",{className:"max-w-4xl mx-auto",children:B.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl p-8 text-center shadow-lg",children:B.jsxs("div",{className:"mb-6",children:[B.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:B.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),B.jsx("h2",{className:"text-3xl font-bold text-green-800 mb-2",children:"🏆 Turnuva Tamamlandı!"}),B.jsx("p",{className:"text-green-700 text-lg mb-6",children:"Tüm maçlar başarıyla tamamlandı. Sonuçları ve sıralamaları görmek için aşağıdaki butona tıklayın."}),B.jsxs("button",{onClick:()=>dt.createTabChangeHandler(F,i)("rankings"),className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold rounded-lg shadow-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200 transform hover:scale-105",children:[B.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Sıralama Sekmesine Git"]})]})})}):B.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4 max-w-7xl w-full mx-auto",children:_.filter(v=>!v.isBye&&!v.winnerId).map(T)})}),I==="completed"&&B.jsx(kn,{matches:s,players:r,getPlayerName:te}),I==="rankings"&&B.jsx(Mn,{rankings:re(s),players:r,getPlayerName:te})]})},Qm=["WB1","WB2","LB1","LB2","WB3","LB3","LB4","WB4","LB5","LB6","WB5","LB7","LB8","WB6","LB9","LB10","WB7","LB11","LB12","WB8","LB13","YariFinal","LB14","7-8","LBFinal","5-6","Final","GrandFinal"],fie=({players:r,resetKey:e,onMatchResult:t,onTournamentComplete:n,fixtureId:i})=>{var E;const[s,a]=z.useState([]),[o,l]=z.useState({}),[A,c]=z.useState(!1),[u,f]=z.useState("WB1"),[,p]=z.useState(!1),[I,F]=z.useState(dt.getInitialTab(i)),[D,C]=z.useState({}),[,k]=z.useState(null),[U,Q]=z.useState([]),V=(x,g,w,h)=>{const y={matches:x,rankings:g,tournamentComplete:w,currentRoundKey:h,matchHistory:U,timestamp:new Date().toISOString()},d=r.map(M=>M.id).sort().join("-");Pe.saveDoubleEliminationState(257,d,y,i)},Z=()=>{try{const x=r.map(w=>w.id).sort().join("-"),g=Pe.getDoubleEliminationState(257,x,i);if(g)return a(g.matches||[]),l(g.rankings||{}),c(g.tournamentComplete||!1),f(g.currentRoundKey||"WB1"),Q(g.matchHistory||[]),k(null),!0}catch{}return!1},q=()=>{const x=r.map(g=>g.id).sort().join("-");Pe.clearDoubleEliminationState(257,x,i),Q([])},G=()=>{q();const x=[...r].sort(()=>Math.random()-.5),w=512-r.length,h=x.slice(0,w),y=x.slice(w),d=[];for(let M=0;M<y.length;M+=2)M+1<y.length&&d.push({id:`wb1_${Math.floor(M/2)+1}`,player1Id:y[M].id,player2Id:y[M+1].id,bracket:"winner",round:1,matchNumber:Math.floor(M/2)+1,isBye:!1,description:de.createMatchDescription("WB1",Math.floor(M/2)+1),timestamp:Date.now()});h.forEach((M,S)=>{d.push({id:`wb1_bye_${S+1}`,player1Id:M.id,player2Id:"",bracket:"winner",round:1,matchNumber:d.length+1,isBye:!0,description:`${de.getDescription("WB1")} - Bye for ${M.name} ${M.surname}`,timestamp:Date.now()})}),a(d),l({}),c(!1),f("WB1")};zt.useEffect(()=>{r.length>=257&&r.length<=383&&(Z()||G())},[]),zt.useEffect(()=>{typeof e<"u"&&G()},[e]),zt.useEffect(()=>{if(s.filter(g=>g.isBye&&!g.winnerId).length>0){const g=s.map(w=>w.isBye&&!w.winnerId?{...w,winnerId:w.player1Id}:w);a(g),V(g,o,A,u)}},[s,o,A,u]),zt.useEffect(()=>{if(A&&s.length>0){const x=re(s);JSON.stringify(x)!==JSON.stringify(o)&&(l(x),V(s,x,A,u))}},[s,A,u]);const Y=(x,g)=>{const w=g.filter(d=>K(d)===x),h=w.filter(d=>!d.isBye),y=w.filter(d=>d.isBye);return h.length===0&&y.length>0?!0:h.length>0&&h.every(d=>d.winnerId)};function K(x){return x.id.startsWith("wb1")?"WB1":x.id.startsWith("wb2")?"WB2":x.id.startsWith("wb3")?"WB3":x.id.startsWith("wb4")?"WB4":x.id.startsWith("wb5")?"WB5":x.id.startsWith("wb6")?"WB6":x.id.startsWith("wb7")?"WB7":x.id.startsWith("wb8")?"WB8":x.id.startsWith("lb10")?"LB10":x.id.startsWith("lb11")?"LB11":x.id.startsWith("lb12")?"LB12":x.id.startsWith("lb13")?"LB13":x.id.startsWith("lb14")?"LB14":x.id.startsWith("lb1")?"LB1":x.id.startsWith("lb2")?"LB2":x.id.startsWith("lb3")?"LB3":x.id.startsWith("lb4")?"LB4":x.id.startsWith("lb5")?"LB5":x.id.startsWith("lb6")?"LB6":x.id.startsWith("lb7")?"LB7":x.id.startsWith("lb8")?"LB8":x.id.startsWith("lb9")?"LB9":x.id.startsWith("yarifinal")?"YariFinal":x.id==="seventh_eighth"?"7-8":x.id==="lbfinal"?"LBFinal":x.id==="fifth_sixth"?"5-6":x.id==="final"?"Final":x.id==="grandfinal"?"GrandFinal":"WB1"}zt.useEffect(()=>{if(s.length===0)return;const x=Qm.indexOf(u);if(x===-1||x===Qm.length-1||!Y(u,s))return;const g=Qm[x+1],w=H();if(w.length>0){const h=[...s,...w];a(h),f(g),V(h,o,A,g)}},[s]),zt.useEffect(()=>{},[u,s]);function H(){const x=s,g=Qm.indexOf(u);switch(Qm[g+1]){case"WB2":{const h=x.filter(S=>K(S)==="WB1"&&S.winnerId&&!S.isBye).map(S=>S.winnerId),y=x.filter(S=>K(S)==="WB1"&&S.isBye).map(S=>S.player1Id),d=[...h,...y];if(d.length!==256)return[];const M=[];for(let S=0;S<d.length;S+=2)S+1<d.length&&M.push({id:`wb2_${Math.floor(S/2)+1}`,player1Id:d[S],player2Id:d[S+1],bracket:"winner",round:2,matchNumber:Math.floor(S/2)+1,isBye:!1,description:de.createMatchDescription("WB2",Math.floor(S/2)+1),timestamp:Date.now()});return M}case"LB1":{const h=x.filter(se=>K(se)==="WB1"&&se.winnerId&&!se.isBye).map(se=>se.player1Id===se.winnerId?se.player2Id:se.player1Id).filter(Boolean),y=x.filter(se=>K(se)==="WB2"&&se.winnerId&&!se.isBye).map(se=>se.player1Id===se.winnerId?se.player2Id:se.player1Id).filter(Boolean),d=[...h,...y],M=256-d.length,S=d.slice(0,M),W=d.slice(M),$=[];S.forEach((se,me)=>{$.push({id:`lb1_bye_${me+1}`,player1Id:se,player2Id:"",bracket:"loser",round:1,matchNumber:me+1,isBye:!0,description:`${de.getDescription("LB1")} - Bye for ${te(se)}`,timestamp:Date.now()})});for(let se=0;se<W.length;se+=2)se+1<W.length&&$.push({id:`lb1_${Math.floor(se/2)+1}`,player1Id:W[se],player2Id:W[se+1],bracket:"loser",round:1,matchNumber:M+Math.floor(se/2)+1,isBye:!1,description:de.createMatchDescription("LB1",Math.floor(se/2)+1),timestamp:Date.now()});return $}case"LB2":{const h=[...x.filter(d=>K(d)==="LB1"&&d.winnerId&&!d.isBye).map(d=>d.winnerId),...x.filter(d=>K(d)==="LB1"&&d.isBye).map(d=>d.player1Id)];if(h.length!==128)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`lb2_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"loser",round:2,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("LB2",Math.floor(d/2)+1)});return y}case"WB3":{const h=x.filter(d=>K(d)==="WB2"&&d.winnerId&&!d.isBye).map(d=>d.winnerId);if(h.length!==128)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`wb3_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"winner",round:3,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("WB3",Math.floor(d/2)+1)});return y}case"LB3":{const h=x.filter(S=>K(S)==="LB2"&&S.winnerId&&!S.isBye).map(S=>S.winnerId),y=x.filter(S=>K(S)==="WB3"&&S.winnerId&&!S.isBye).map(S=>S.player1Id===S.winnerId?S.player2Id:S.player1Id).filter(Boolean),d=[...h,...y];if(d.length!==128)return[];const M=[];for(let S=0;S<d.length;S+=2)S+1<d.length&&M.push({id:`lb3_${Math.floor(S/2)+1}`,player1Id:d[S],player2Id:d[S+1],bracket:"loser",round:3,matchNumber:Math.floor(S/2)+1,isBye:!1,description:de.createMatchDescription("LB3",Math.floor(S/2)+1)});return M}case"LB4":{const h=x.filter(d=>K(d)==="LB3"&&d.winnerId&&!d.isBye).map(d=>d.winnerId);if(h.length!==64)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`lb4_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"loser",round:4,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("LB4",Math.floor(d/2)+1)});return y}case"WB4":{const h=x.filter(d=>K(d)==="WB3"&&d.winnerId&&!d.isBye).map(d=>d.winnerId);if(h.length!==64)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`wb4_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"winner",round:4,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("WB4",Math.floor(d/2)+1)});return y}case"LB5":{const h=x.filter(S=>K(S)==="LB4"&&S.winnerId&&!S.isBye).map(S=>S.winnerId),y=x.filter(S=>K(S)==="WB4"&&S.winnerId&&!S.isBye).map(S=>S.player1Id===S.winnerId?S.player2Id:S.player1Id).filter(Boolean),d=[...h,...y];if(d.length!==64)return[];const M=[];for(let S=0;S<d.length;S+=2)S+1<d.length&&M.push({id:`lb5_${Math.floor(S/2)+1}`,player1Id:d[S],player2Id:d[S+1],bracket:"loser",round:5,matchNumber:Math.floor(S/2)+1,isBye:!1,description:de.createMatchDescription("LB5",Math.floor(S/2)+1)});return M}case"LB6":{const h=x.filter(d=>K(d)==="LB5"&&d.winnerId&&!d.isBye).map(d=>d.winnerId);if(h.length!==32)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`lb6_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"loser",round:6,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("LB6",Math.floor(d/2)+1)});return y}case"WB5":{const h=x.filter(d=>K(d)==="WB4"&&d.winnerId&&!d.isBye).map(d=>d.winnerId);if(h.length!==32)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`wb5_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"winner",round:5,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("WB5",Math.floor(d/2)+1)});return y}case"LB7":{const h=x.filter(S=>K(S)==="LB6"&&S.winnerId&&!S.isBye).map(S=>S.winnerId),y=x.filter(S=>K(S)==="WB5"&&S.winnerId&&!S.isBye).map(S=>S.player1Id===S.winnerId?S.player2Id:S.player1Id).filter(Boolean),d=[...h,...y];if(d.length!==32)return[];const M=[];for(let S=0;S<d.length;S+=2)S+1<d.length&&M.push({id:`lb7_${Math.floor(S/2)+1}`,player1Id:d[S],player2Id:d[S+1],bracket:"loser",round:7,matchNumber:Math.floor(S/2)+1,isBye:!1,description:de.createMatchDescription("LB7",Math.floor(S/2)+1)});return M}case"LB8":{const h=x.filter(d=>K(d)==="LB7"&&d.winnerId&&!d.isBye).map(d=>d.winnerId);if(h.length!==16)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`lb8_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"loser",round:8,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("LB8",Math.floor(d/2)+1)});return y}case"WB6":{const h=x.filter(d=>K(d)==="WB5"&&d.winnerId&&!d.isBye).map(d=>d.winnerId);if(h.length!==16)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`wb6_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"winner",round:6,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("WB6",Math.floor(d/2)+1)});return y}case"LB9":{const h=x.filter(S=>K(S)==="LB8"&&S.winnerId&&!S.isBye).map(S=>S.winnerId),y=x.filter(S=>K(S)==="WB6"&&S.winnerId&&!S.isBye).map(S=>S.player1Id===S.winnerId?S.player2Id:S.player1Id).filter(Boolean),d=[...h,...y];if(d.length!==16)return[];const M=[];for(let S=0;S<d.length;S+=2)S+1<d.length&&M.push({id:`lb9_${Math.floor(S/2)+1}`,player1Id:d[S],player2Id:d[S+1],bracket:"loser",round:9,matchNumber:Math.floor(S/2)+1,isBye:!1,description:de.createMatchDescription("LB9",Math.floor(S/2)+1)});return M}case"LB10":{const h=x.filter(d=>K(d)==="LB9"&&d.winnerId&&!d.isBye).map(d=>d.winnerId);if(h.length!==8)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`lb10_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"loser",round:10,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("LB10",Math.floor(d/2)+1)});return y}case"WB7":{const h=x.filter(d=>K(d)==="WB6"&&d.winnerId&&!d.isBye).map(d=>d.winnerId);if(h.length!==8)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`wb7_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"winner",round:7,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("WB7",Math.floor(d/2)+1)});return y}case"LB11":{const h=x.filter(S=>K(S)==="LB10"&&S.winnerId&&!S.isBye).map(S=>S.winnerId),y=x.filter(S=>K(S)==="WB7"&&S.winnerId&&!S.isBye).map(S=>S.player1Id===S.winnerId?S.player2Id:S.player1Id).filter(Boolean),d=[...h,...y];if(d.length!==8)return[];const M=[];for(let S=0;S<d.length;S+=2)S+1<d.length&&M.push({id:`lb11_${Math.floor(S/2)+1}`,player1Id:d[S],player2Id:d[S+1],bracket:"loser",round:11,matchNumber:Math.floor(S/2)+1,isBye:!1,description:de.createMatchDescription("LB11",Math.floor(S/2)+1),timestamp:Date.now()});return M}case"LB12":{const h=x.filter(d=>K(d)==="LB11"&&d.winnerId&&!d.isBye).map(d=>d.winnerId);if(h.length!==4)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`lb12_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"loser",round:12,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("LB12",Math.floor(d/2)+1)});return y}case"WB8":{const h=x.filter(d=>K(d)==="WB7"&&d.winnerId&&!d.isBye).map(d=>d.winnerId);if(h.length!==4)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`wb8_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"winner",round:8,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("WB_QuarterFinal",Math.floor(d/2)+1)});return y}case"LB13":{const h=x.filter(S=>K(S)==="LB12"&&S.winnerId&&!S.isBye).map(S=>S.winnerId),y=x.filter(S=>K(S)==="WB8"&&S.winnerId&&!S.isBye).map(S=>S.player1Id===S.winnerId?S.player2Id:S.player1Id).filter(Boolean),d=[...h,...y];if(d.length!==4)return[];const M=[];for(let S=0;S<d.length;S+=2)S+1<d.length&&M.push({id:`lb13_${Math.floor(S/2)+1}`,player1Id:d[S],player2Id:d[S+1],bracket:"loser",round:13,matchNumber:Math.floor(S/2)+1,isBye:!1,description:de.createMatchDescription("LB13",Math.floor(S/2)+1)});return M}case"YariFinal":{const h=x.filter(d=>K(d)==="WB8"&&d.winnerId&&!d.isBye).map(d=>d.winnerId);if(h.length!==2)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`yarifinal_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"winner",round:9,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.getDescription("WB_SemiFinal")});return y}case"LB14":{const h=x.filter(d=>K(d)==="LB13"&&d.winnerId&&!d.isBye).map(d=>d.winnerId);if(h.length!==2)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`lb14_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"loser",round:14,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("LB14",Math.floor(d/2)+1)});return y}case"7-8":{const h=x.filter(y=>K(y)==="LB12"&&y.winnerId&&!y.isBye).map(y=>y.player1Id===y.winnerId?y.player2Id:y.player1Id).filter(Boolean);return h.length!==2?[]:[{id:"seventh_eighth",player1Id:h[0],player2Id:h[1],bracket:"placement",round:15,matchNumber:1,isBye:!1,description:de.getDescription("7-8")}]}case"LBFinal":{const h=x.filter(d=>K(d)==="YariFinal"&&d.winnerId&&!d.isBye).map(d=>d.player1Id===d.winnerId?d.player2Id:d.player1Id).filter(Boolean),y=x.filter(d=>K(d)==="LB14"&&d.winnerId&&!d.isBye).map(d=>d.winnerId);return h.length!==1||y.length!==1?[]:[{id:"lbfinal",player1Id:y[0],player2Id:h[0],bracket:"loser",round:16,matchNumber:1,isBye:!1,description:de.getDescription("LB_Final")}]}case"5-6":{const h=x.filter(y=>K(y)==="LB13"&&y.winnerId&&!y.isBye).map(y=>y.player1Id===y.winnerId?y.player2Id:y.player1Id).filter(Boolean);return h.length!==2?[]:[{id:"fifth_sixth",player1Id:h[0],player2Id:h[1],bracket:"placement",round:17,matchNumber:1,isBye:!1,description:de.getDescription("5-6")}]}case"Final":{const h=x.filter(d=>K(d)==="YariFinal"&&d.winnerId&&!d.isBye).map(d=>d.winnerId),y=x.filter(d=>K(d)==="LBFinal"&&d.winnerId&&!d.isBye).map(d=>d.winnerId);return h.length!==1||y.length!==1?[]:[{id:"final",player1Id:h[0],player2Id:y[0],bracket:"winner",round:18,matchNumber:1,isBye:!1,description:de.getDescription("Final")}]}case"GrandFinal":{const h=x.find(S=>K(S)==="Final"&&S.winnerId&&!S.isBye),y=x.find(S=>K(S)==="LBFinal"&&S.winnerId&&!S.isBye);if(!h||!y)return[];const d=h.winnerId,M=y.winnerId;if(d===M&&d){const S=d===h.player1Id?h.player2Id:h.player1Id;if(S&&S!=="")return[{id:"grandfinal",player1Id:d,player2Id:S,bracket:"winner",round:19,matchNumber:1,isBye:!1,description:de.getDescription("GrandFinal")}]}return[]}default:return[]}}const te=x=>{if(!x)return"";const g=r.find(w=>w.id===x);return g?`${g.name} ${g.surname}`:""},ue=()=>{if(U.length>0){p(!0);const x=U[U.length-1],w=s.find($=>{var se;return $.winnerId&&!((se=x.find(me=>me.id===$.id))!=null&&se.winnerId)}),h=U.slice(0,-1);a(x),Q(h),A&&c(!1);let y={...o};if(w){const $=w.id;$==="final"||$==="grandfinal"?(delete y.first,delete y.second):$==="lbfinal"?delete y.third:$==="seventh_eighth"?(delete y.seventh,delete y.eighth):$==="fifth_sixth"?(delete y.fifth,delete y.sixth):$==="lb14_1"&&delete y.fourth}l(y);const d=x[x.length-1];if(d){const $=K(d);f($)}const M=x.map($=>$.id);C($=>{const se={...$};return Object.keys(se).forEach(me=>{M.includes(me)||delete se[me]}),se});const S={matches:x,rankings:y,tournamentComplete:!1,currentRoundKey:K(x[x.length-1]||x[0]),matchHistory:h,timestamp:new Date().toISOString()},W=r.map($=>$.id).sort().join("-");Pe.saveDoubleEliminationState(257,W,S,i),setTimeout(()=>{p(!1)},100)}},oe=(x,g)=>{const w=[...U,[...s]];Q(w),k(s.find(h=>h.id===x)||null),a(h=>{var S;const y=h.map(W=>W.id===x?{...W,winnerId:g}:W);if(t){const W=y.find($=>$.id===x);if(W){const $=W.player1Id===g?W.player2Id:W.player1Id;t("double-elimination",g,$)}}const d=y.find(W=>W.id==="final"),M=y.find(W=>W.id==="grandfinal");if(d!=null&&d.winnerId){const W=(S=y.find(se=>se.id==="lbfinal"))==null?void 0:S.winnerId,$=d.winnerId;if(!(W&&$===W)){const se=re(y);l(se),c(!0),n&&n(se)}}else if(M!=null&&M.winnerId){const W=re(y);l(W),c(!0),n&&n(W)}return V(y,o,A,u),y})},re=x=>{const g={},w=x.find(me=>me.id==="final"),h=x.find(me=>me.id==="grandfinal"),y=x.find(me=>me.id==="lbfinal"),d=y==null?void 0:y.winnerId,M=w==null?void 0:w.winnerId,S=d&&M&&M===d;h!=null&&h.winnerId?(g.first=h.winnerId,g.second=h.winnerId===h.player1Id?h.player2Id:h.player1Id):w!=null&&w.winnerId&&!S&&(g.first=w.winnerId,g.second=w.winnerId===w.player1Id?w.player2Id:w.player1Id),y!=null&&y.winnerId&&(g.third=y.winnerId===y.player1Id?y.player2Id:y.player1Id);const W=x.find(me=>me.id==="lb14_1");W!=null&&W.winnerId&&(g.fourth=W.winnerId===W.player1Id?W.player2Id:W.player1Id);const $=x.find(me=>me.id==="fifth_sixth");$!=null&&$.winnerId&&(g.fifth=$.winnerId,g.sixth=$.winnerId===$.player1Id?$.player2Id:$.player1Id);const se=x.find(me=>me.id==="seventh_eighth");return se!=null&&se.winnerId&&(g.seventh=se.winnerId,g.eighth=se.winnerId===se.player1Id?se.player2Id:se.player1Id),g},J=(x,g)=>{C(w=>({...w,[x]:g}))},O=x=>{D[x]&&(oe(x,D[x]),C(g=>({...g,[x]:null})))},j=x=>{C(g=>({...g,[x]:null}))},T=x=>{const g=te(x.player1Id),w=x.player2Id?te(x.player2Id):"TBD",h=D[x.id]||null;return B.jsx(wr,{matchId:x.id,fixtureId:i,player1Name:g,player2Name:w,winnerId:x.winnerId,player1Id:x.player1Id||"",player2Id:x.player2Id||"",bracket:x.bracket,round:x.round,matchNumber:x.matchNumber,isBye:x.isBye,currentSelectedWinner:h,onWinnerSelect:y=>J(x.id,y),onWinnerConfirm:()=>O(x.id),onSelectionCancel:()=>j(x.id),playersLength:r.length,matchTitle:x.description})};if(r.length<257||r.length>383)return B.jsxs("div",{className:"text-center p-8",children:[B.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Uygun Olmayan Oyuncu Sayısı"}),B.jsxs("p",{className:"text-gray-600",children:["Bu turnuva formatı 257-383 oyuncu arası için tasarlanmıştır. Mevcut oyuncu sayısı: ",r.length]})]});const _=s.filter(x=>K(x)===u),L=re(s),v=!!(L.first&&L.second);return B.jsxs("div",{className:"px-3 sm:px-6 py-6 bg-gray-50 min-h-screen",children:[B.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[B.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:i&&((E=Ye.getFixtureById(i))==null?void 0:E.name)||""}),B.jsxs("div",{className:"flex gap-4",children:[B.jsxs("button",{onClick:()=>{window.confirm("Turnuvayı sıfırlamak istediğinizden emin misiniz? Bu işlem geri alınamaz.")&&(q(),G(),C({}),Q([]),k(null))},className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg shadow hover:from-red-600 hover:to-red-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Turnuvayı Sıfırla"]}),U.length>0&&B.jsxs("button",{onClick:ue,className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg shadow hover:from-blue-600 hover:to-blue-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Bir Önceki Maç"]})]})]}),B.jsx(Nn,{activeTab:I,onTabChange:dt.createTabChangeHandler(F,i)}),B.jsx("div",{className:"max-w-4xl mx-auto"}),I==="active"&&!v&&_.filter(x=>!x.isBye&&!x.winnerId).length>0&&B.jsx("div",{className:"flex justify-center mb-4",children:B.jsx("button",{onClick:()=>{_.filter(x=>!x.isBye&&!x.winnerId).forEach(x=>{const g=Math.random()<.5?x.player1Id:x.player2Id;oe(x.id,g)})},className:"bg-green-500 text-white px-6 py-2 rounded-lg hover:bg-green-600 transition-colors shadow-md",children:"Otomatik Kazananları Seç"})}),I==="active"&&B.jsx(B.Fragment,{children:v?B.jsx("div",{className:"max-w-4xl mx-auto",children:B.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl p-8 text-center shadow-lg",children:B.jsxs("div",{className:"mb-6",children:[B.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:B.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),B.jsx("h2",{className:"text-3xl font-bold text-green-800 mb-2",children:"🏆 Turnuva Tamamlandı!"}),B.jsx("p",{className:"text-green-700 text-lg mb-6",children:"Tüm maçlar başarıyla tamamlandı. Sonuçları ve sıralamaları görmek için aşağıdaki butona tıklayın."}),B.jsxs("button",{onClick:()=>dt.createTabChangeHandler(F,i)("rankings"),className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold rounded-lg shadow-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200 transform hover:scale-105",children:[B.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Sıralama Sekmesine Git"]})]})})}):B.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4 max-w-7xl w-full mx-auto",children:_.filter(x=>!x.isBye&&!x.winnerId).map(T)})}),I==="completed"&&B.jsx(kn,{matches:s,players:r,getPlayerName:te}),I==="rankings"&&B.jsx(Mn,{rankings:re(s),players:r,getPlayerName:te})]})},Om=["WB1","LB1","WB2","LB2","LB3","WB3","LB4","LB5","WB4","LB6","LB7","WB5","LB8","LB9","WB6","LB10","LB11","WB7","LB12","LB13","WB8","LB14","Semifinals","LB15","7th8th","LBFinal","5th6th","Final","GrandFinal"],pie=({players:r,resetKey:e,onMatchResult:t,onTournamentComplete:n,fixtureId:i})=>{var x;const[s,a]=z.useState([]),[o,l]=z.useState({}),[A,c]=z.useState("WB1"),[u,f]=z.useState(!1),[,p]=z.useState(!1),[I,F]=z.useState(dt.getInitialTab(i)),[D,C]=z.useState({}),[,k]=z.useState(null),[U,Q]=z.useState([]),V=(g,w,h,y)=>{const d={matches:g,rankings:w,tournamentComplete:h,currentRoundKey:y,matchHistory:U,timestamp:new Date().toISOString()},M=r.map(S=>S.id).sort().join("-");Pe.saveDoubleEliminationState(384,M,d,i)},Z=()=>{try{const g=r.map(h=>h.id).sort().join("-"),w=Pe.getDoubleEliminationState(384,g,i);if(w)return a(w.matches||[]),l(w.rankings||{}),f(w.tournamentComplete||!1),c(w.currentRoundKey||"WB1"),Q(w.matchHistory||[]),k(null),!0}catch{}return!1},q=()=>{const g=r.map(w=>w.id).sort().join("-");Pe.clearDoubleEliminationState(384,g,i),Q([])},G=()=>{const w=512-r.length,h=[],y=r.slice(0,r.length-w),d=r.slice(r.length-w);for(let M=0;M<y.length;M+=2)if(M+1<y.length){const S={id:`WB1_${Math.floor(M/2)+1}`,player1Id:y[M].id,player2Id:y[M+1].id,bracket:"winner",round:1,matchNumber:Math.floor(M/2)+1,isBye:!1,description:de.createMatchDescription("WB1",Math.floor(M/2)+1)};h.push(S)}d.forEach((M,S)=>{const W={id:`WB1_bye_${S+1}`,player1Id:M.id,player2Id:"",bracket:"winner",round:1,matchNumber:Math.floor(y.length/2)+S+1,isBye:!0,description:`${de.getDescription("WB1")} - Bye for ${M.name}`};h.push(W)}),a(h),l({}),f(!1),c("WB1"),q()},Y=(g,w)=>{const h=w.filter(M=>K(M)===g),y=h.filter(M=>!M.isBye),d=h.filter(M=>M.isBye);return y.length===0&&d.length>0?!0:y.length>0&&y.every(M=>M.winnerId)};function K(g){const w=g.id;if(w.startsWith("WB")||w.startsWith("wb")){const h=w.match(/[Ww][Bb](\d+)/);if(h){const y=parseInt(h[1]);if(y>=1&&y<=8)return`WB${y}`}}if(w.startsWith("LB")||w.startsWith("lb")){const h=w.match(/[Ll][Bb](\d+)/);if(h){const y=parseInt(h[1]);if(y>=1&&y<=15)return`LB${y}`}}return w.includes("semifinals")?"Semifinals":w.includes("lbfinal")?"LBFinal":w.includes("grandfinal")?"GrandFinal":w.includes("final")?"Final":w.includes("fifth_sixth")?"5th6th":w.includes("seventh_eighth")?"7th8th":"WB1"}function H(g,w){switch(w){case"LB1":{const y=g.filter($=>K($)==="WB1"&&$.winnerId&&!$.isBye).map($=>$.player1Id===$.winnerId?$.player2Id:$.player1Id).filter(Boolean),d=256-y.length,M=y.slice(0,d),S=y.slice(d),W=[];M.forEach(($,se)=>{W.push({id:`lb1_bye_${se+1}`,player1Id:$,player2Id:"",bracket:"loser",round:1,matchNumber:se+1,isBye:!0,description:`${de.getDescription("LB1")} - Bye for ${ue($)}`})});for(let $=0;$<S.length;$+=2)$+1<S.length&&W.push({id:`lb1_${Math.floor($/2)+1}`,player1Id:S[$],player2Id:S[$+1],bracket:"loser",round:1,matchNumber:d+Math.floor($/2)+1,isBye:!1,description:de.createMatchDescription("LB1",Math.floor($/2)+1)});return W}case"WB2":{const h=g.filter(S=>K(S)==="WB1"&&S.winnerId&&!S.isBye).map(S=>S.winnerId),y=g.filter(S=>K(S)==="WB1"&&S.isBye).map(S=>S.player1Id),d=[...h,...y];if(d.length!==256)return[];const M=[];for(let S=0;S<d.length;S+=2)S+1<d.length&&M.push({id:`wb2_${Math.floor(S/2)+1}`,player1Id:d[S],player2Id:d[S+1],bracket:"winner",round:2,matchNumber:Math.floor(S/2)+1,isBye:!1,description:de.createMatchDescription("WB2",Math.floor(S/2)+1)});return M}case"LB2":{const h=[...g.filter(S=>K(S)==="LB1"&&S.winnerId&&!S.isBye).map(S=>S.winnerId),...g.filter(S=>K(S)==="LB1"&&S.isBye).map(S=>S.player1Id)],y=g.filter(S=>K(S)==="WB2"&&S.winnerId&&!S.isBye).map(S=>S.player1Id===S.winnerId?S.player2Id:S.player1Id).filter(Boolean),d=[...h,...y];if(d.length!==256)return[];const M=[];for(let S=0;S<d.length;S+=2)S+1<d.length&&M.push({id:`lb2_${Math.floor(S/2)+1}`,player1Id:d[S],player2Id:d[S+1],bracket:"loser",round:2,matchNumber:Math.floor(S/2)+1,isBye:!1,description:de.createMatchDescription("LB2",Math.floor(S/2)+1)});return M}case"LB3":{const h=g.filter(d=>K(d)==="LB2"&&d.winnerId&&!d.isBye).map(d=>d.winnerId);if(h.length!==128)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`lb3_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"loser",round:3,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("LB3",Math.floor(d/2)+1)});return y}case"WB3":{const h=g.filter(d=>K(d)==="WB2"&&d.winnerId&&!d.isBye).map(d=>d.winnerId);if(h.length!==128)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`wb3_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"winner",round:3,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("WB3",Math.floor(d/2)+1)});return y}case"LB4":{const h=g.filter(S=>K(S)==="LB3"&&S.winnerId&&!S.isBye).map(S=>S.winnerId),y=g.filter(S=>K(S)==="WB3"&&S.winnerId&&!S.isBye).map(S=>S.player1Id===S.winnerId?S.player2Id:S.player1Id).filter(Boolean),d=[...h,...y];if(d.length!==128)return[];const M=[];for(let S=0;S<d.length;S+=2)S+1<d.length&&M.push({id:`lb4_${Math.floor(S/2)+1}`,player1Id:d[S],player2Id:d[S+1],bracket:"loser",round:4,matchNumber:Math.floor(S/2)+1,isBye:!1,description:de.createMatchDescription("LB4",Math.floor(S/2)+1)});return M}case"LB5":{const h=g.filter(d=>K(d)==="LB4"&&d.winnerId&&!d.isBye).map(d=>d.winnerId);if(h.length!==64)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`lb5_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"loser",round:5,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("LB5",Math.floor(d/2)+1)});return y}case"WB4":{const h=g.filter(d=>K(d)==="WB3"&&d.winnerId&&!d.isBye).map(d=>d.winnerId);if(h.length!==64)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`wb4_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"winner",round:4,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("WB4",Math.floor(d/2)+1)});return y}case"LB6":{const h=g.filter(S=>K(S)==="LB5"&&S.winnerId&&!S.isBye).map(S=>S.winnerId),y=g.filter(S=>K(S)==="WB4"&&S.winnerId&&!S.isBye).map(S=>S.player1Id===S.winnerId?S.player2Id:S.player1Id).filter(Boolean),d=[...h,...y];if(d.length!==64)return[];const M=[];for(let S=0;S<d.length;S+=2)S+1<d.length&&M.push({id:`lb6_${Math.floor(S/2)+1}`,player1Id:d[S],player2Id:d[S+1],bracket:"loser",round:6,matchNumber:Math.floor(S/2)+1,isBye:!1,description:de.createMatchDescription("LB6",Math.floor(S/2)+1)});return M}case"LB7":{const h=g.filter(d=>K(d)==="LB6"&&d.winnerId&&!d.isBye).map(d=>d.winnerId);if(h.length!==32)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`lb7_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"loser",round:7,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("LB7",Math.floor(d/2)+1)});return y}case"WB5":{const h=g.filter(d=>K(d)==="WB4"&&d.winnerId&&!d.isBye).map(d=>d.winnerId);if(h.length!==32)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`wb5_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"winner",round:5,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("WB5",Math.floor(d/2)+1)});return y}case"LB8":{const h=g.filter(S=>K(S)==="LB7"&&S.winnerId&&!S.isBye).map(S=>S.winnerId),y=g.filter(S=>K(S)==="WB5"&&S.winnerId&&!S.isBye).map(S=>S.player1Id===S.winnerId?S.player2Id:S.player1Id).filter(Boolean),d=[...h,...y];if(d.length!==32)return[];const M=[];for(let S=0;S<d.length;S+=2)S+1<d.length&&M.push({id:`lb8_${Math.floor(S/2)+1}`,player1Id:d[S],player2Id:d[S+1],bracket:"loser",round:8,matchNumber:Math.floor(S/2)+1,isBye:!1,description:de.createMatchDescription("LB8",Math.floor(S/2)+1)});return M}case"LB9":{const h=g.filter(d=>K(d)==="LB8"&&d.winnerId&&!d.isBye).map(d=>d.winnerId);if(h.length!==16)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`lb9_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"loser",round:9,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("LB9",Math.floor(d/2)+1)});return y}case"WB6":{const h=g.filter(d=>K(d)==="WB5"&&d.winnerId&&!d.isBye).map(d=>d.winnerId);if(h.length!==16)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`wb6_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"winner",round:6,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("WB6",Math.floor(d/2)+1)});return y}case"LB10":{const h=g.filter(S=>K(S)==="LB9"&&S.winnerId&&!S.isBye).map(S=>S.winnerId),y=g.filter(S=>K(S)==="WB6"&&S.winnerId&&!S.isBye).map(S=>S.player1Id===S.winnerId?S.player2Id:S.player1Id).filter(Boolean),d=[...h,...y];if(d.length!==16)return[];const M=[];for(let S=0;S<d.length;S+=2)S+1<d.length&&M.push({id:`lb10_${Math.floor(S/2)+1}`,player1Id:d[S],player2Id:d[S+1],bracket:"loser",round:10,matchNumber:Math.floor(S/2)+1,isBye:!1,description:de.createMatchDescription("LB10",Math.floor(S/2)+1)});return M}case"LB11":{const h=g.filter(d=>K(d)==="LB10"&&d.winnerId&&!d.isBye).map(d=>d.winnerId);if(h.length!==8)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`lb11_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"loser",round:11,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("LB11",Math.floor(d/2)+1)});return y}case"WB7":{const h=g.filter(d=>K(d)==="WB6"&&d.winnerId&&!d.isBye).map(d=>d.winnerId);if(h.length!==8)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`wb7_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"winner",round:7,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("WB7",Math.floor(d/2)+1)});return y}case"LB12":{const h=g.filter(S=>K(S)==="LB11"&&S.winnerId&&!S.isBye).map(S=>S.winnerId),y=g.filter(S=>K(S)==="WB7"&&S.winnerId&&!S.isBye).map(S=>S.player1Id===S.winnerId?S.player2Id:S.player1Id).filter(Boolean),d=[...h,...y];if(d.length!==8)return[];const M=[];for(let S=0;S<d.length;S+=2)S+1<d.length&&M.push({id:`lb12_${Math.floor(S/2)+1}`,player1Id:d[S],player2Id:d[S+1],bracket:"loser",round:12,matchNumber:Math.floor(S/2)+1,isBye:!1,description:de.createMatchDescription("LB12",Math.floor(S/2)+1)});return M}case"LB13":{const h=g.filter(d=>K(d)==="LB12"&&d.winnerId&&!d.isBye).map(d=>d.winnerId);if(h.length!==4)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`lb13_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"loser",round:13,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("LB13",Math.floor(d/2)+1)});return y}case"WB8":{const h=g.filter(d=>K(d)==="WB7"&&d.winnerId&&!d.isBye).map(d=>d.winnerId);if(h.length!==4)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`wb8_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"winner",round:8,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("WB_QuarterFinal",Math.floor(d/2)+1)});return y}case"LB14":{const h=g.filter(S=>K(S)==="LB13"&&S.winnerId&&!S.isBye).map(S=>S.winnerId),y=g.filter(S=>K(S)==="WB8"&&S.winnerId&&!S.isBye).map(S=>S.player1Id===S.winnerId?S.player2Id:S.player1Id).filter(Boolean),d=[...h,...y];if(d.length!==4)return[];const M=[];for(let S=0;S<d.length;S+=2)S+1<d.length&&M.push({id:`lb14_${Math.floor(S/2)+1}`,player1Id:d[S],player2Id:d[S+1],bracket:"loser",round:14,matchNumber:Math.floor(S/2)+1,isBye:!1,description:de.createMatchDescription("LB14",Math.floor(S/2)+1)});return M}case"Semifinals":{const h=g.filter(d=>K(d)==="WB8"&&d.winnerId&&!d.isBye).map(d=>d.winnerId);if(h.length!==2)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`semifinals_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"winner",round:9,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.getDescription("WB_SemiFinal")});return y}case"LB15":{const h=g.filter(d=>K(d)==="LB14"&&d.winnerId&&!d.isBye).map(d=>d.winnerId);if(h.length!==2)return[];const y=[];for(let d=0;d<h.length;d+=2)d+1<h.length&&y.push({id:`lb15_${Math.floor(d/2)+1}`,player1Id:h[d],player2Id:h[d+1],bracket:"loser",round:15,matchNumber:Math.floor(d/2)+1,isBye:!1,description:de.createMatchDescription("LB15",Math.floor(d/2)+1)});return y}case"7th8th":{const h=g.filter(y=>K(y)==="LB13"&&y.winnerId&&!y.isBye).map(y=>y.player1Id===y.winnerId?y.player2Id:y.player1Id).filter(Boolean);return h.length!==2?[]:[{id:"seventh_eighth",player1Id:h[0],player2Id:h[1],bracket:"placement",round:16,matchNumber:1,isBye:!1,description:de.getDescription("7-8")}]}case"LBFinal":{const h=g.filter(d=>K(d)==="Semifinals"&&d.winnerId&&!d.isBye).map(d=>d.player1Id===d.winnerId?d.player2Id:d.player1Id).filter(Boolean),y=g.filter(d=>K(d)==="LB15"&&d.winnerId&&!d.isBye).map(d=>d.winnerId);return h.length!==1||y.length!==1?[]:[{id:"lbfinal",player1Id:y[0],player2Id:h[0],bracket:"loser",round:17,matchNumber:1,isBye:!1,description:de.getDescription("LB_Final")}]}case"5th6th":{const h=g.filter(y=>K(y)==="LB14"&&y.winnerId&&!y.isBye).map(y=>y.player1Id===y.winnerId?y.player2Id:y.player1Id).filter(Boolean);return h.length!==2?[]:[{id:"fifth_sixth",player1Id:h[0],player2Id:h[1],bracket:"placement",round:18,matchNumber:1,isBye:!1,description:de.getDescription("5-6")}]}case"Final":{const h=g.filter(M=>K(M)==="Semifinals"&&M.winnerId&&!M.isBye).map(M=>M.winnerId),y=g.filter(M=>K(M)==="LBFinal"&&M.winnerId&&!M.isBye).map(M=>M.winnerId);return h.length!==1||y.length!==1?[]:[{id:"final",player1Id:h[0],player2Id:y[0],bracket:"winner",round:19,matchNumber:1,isBye:!1,description:de.getDescription("Final")}]}case"GrandFinal":{const h=g.find(S=>K(S)==="Final"&&S.winnerId&&!S.isBye),y=g.find(S=>K(S)==="LBFinal"&&S.winnerId&&!S.isBye);if(!h||!y)return[];const d=h.winnerId,M=y.winnerId;if(d===M&&d){const S=d===h.player1Id?h.player2Id:h.player1Id;if(S&&S!=="")return[{id:"grandfinal",player1Id:d,player2Id:S,bracket:"winner",round:20,matchNumber:1,isBye:!1,description:de.getDescription("GrandFinal")}]}return[]}default:return[]}}function te(){const g=s,w=Om.indexOf(A),h=Om[w+1];return H(g,h)}const ue=g=>{if(!g)return"";const w=r.find(h=>h.id===g);return w?`${w.name} ${w.surname}`:""},oe=()=>{if(U.length>0){p(!0);const g=U[U.length-1],h=s.find(se=>{var me;return se.winnerId&&!((me=g.find(pe=>pe.id===se.id))!=null&&me.winnerId)}),y=U.slice(0,-1);a(g),Q(y),u&&f(!1);let d={...o};if(h){const se=h.id;se==="final"||se==="grandfinal"?(delete d.first,delete d.second):se==="lbfinal"?delete d.third:se==="seventh_eighth"?(delete d.seventh,delete d.eighth):se==="fifth_sixth"?(delete d.fifth,delete d.sixth):se==="lb15_1"&&delete d.fourth}l(d);const M=g[g.length-1];if(M){const se=K(M);c(se)}const S=g.map(se=>se.id);C(se=>{const me={...se};return Object.keys(me).forEach(pe=>{S.includes(pe)||delete me[pe]}),me});const W={matches:g,rankings:d,tournamentComplete:!1,currentRoundKey:K(g[g.length-1]||g[0]),matchHistory:y,timestamp:new Date().toISOString()},$=r.map(se=>se.id).sort().join("-");Pe.saveDoubleEliminationState(384,$,W,i),setTimeout(()=>{p(!1)},100)}},re=(g,w)=>{const h=[...U,[...s]];Q(h),k(s.find(y=>y.id===g)||null),a(y=>{var W;const d=y.map($=>$.id===g?{...$,winnerId:w}:$);if(t){const $=d.find(se=>se.id===g);if($){const se=$.player1Id===w?$.player2Id:$.player1Id;t("double-elimination",w,se)}}const M=d.find($=>$.id==="final"),S=d.find($=>$.id==="grandfinal");if(M!=null&&M.winnerId){const $=(W=d.find(me=>me.id==="lbfinal"))==null?void 0:W.winnerId,se=M.winnerId;if(!($&&se===$)){const me=_(d);l(me),f(!0),n&&n(me)}}else if(S!=null&&S.winnerId){const $=_(d);l($),f(!0),n&&n($)}return V(d,o,u,A),d})},J=(g,w)=>{C(h=>({...h,[g]:w}))},O=g=>{D[g]&&(re(g,D[g]),C(w=>({...w,[g]:null})))},j=g=>{C(w=>({...w,[g]:null}))},T=g=>{const w=ue(g.player1Id),h=g.player2Id?ue(g.player2Id):"TBD",y=D[g.id]||null;return B.jsx(wr,{matchId:g.id,fixtureId:i,player1Name:w,player2Name:h,winnerId:g.winnerId,player1Id:g.player1Id||"",player2Id:g.player2Id||"",bracket:g.bracket,round:g.round,matchNumber:g.matchNumber,isBye:g.isBye,currentSelectedWinner:y,onWinnerSelect:d=>J(g.id,d),onWinnerConfirm:()=>O(g.id),onSelectionCancel:()=>j(g.id),playersLength:r.length,matchTitle:g.description})};z.useEffect(()=>{Z()||G()},[r.length]),z.useEffect(()=>{e&&G()},[e]),z.useEffect(()=>{if(s.filter(w=>w.isBye&&!w.winnerId).length>0){const w=s.map(h=>h.isBye&&!h.winnerId?{...h,winnerId:h.player1Id}:h);a(w),V(w,{},u,A)}},[s,u,A]),z.useEffect(()=>{if(u&&s.length>0){const g=_(s),w=JSON.stringify({}),h=JSON.stringify(g);w!==h&&V(s,g,u,A)}},[s,u,A]),z.useEffect(()=>{if(s.length===0)return;const g=Om.indexOf(A);if(g===-1||g===Om.length-1||!Y(A,s))return;const w=Om[g+1],h=te();if(h.length>0){const y=[...s,...h];a(y),c(w),V(y,{},!1,w)}},[s,A]),z.useEffect(()=>{},[A]);const _=g=>{const w={},h=g.find(pe=>pe.id==="final"),y=g.find(pe=>pe.id==="grandfinal"),d=g.find(pe=>pe.id==="lbfinal"),M=d==null?void 0:d.winnerId,S=h==null?void 0:h.winnerId,W=M&&S&&S===M;y!=null&&y.winnerId?(w.first=y.winnerId,w.second=y.winnerId===y.player1Id?y.player2Id:y.player1Id):h!=null&&h.winnerId&&!W&&(w.first=h.winnerId,w.second=h.winnerId===h.player1Id?h.player2Id:h.player1Id),d!=null&&d.winnerId&&(w.third=d.winnerId===d.player1Id?d.player2Id:d.player1Id);const $=g.find(pe=>pe.id==="lb15_1");$!=null&&$.winnerId&&(w.fourth=$.winnerId===$.player1Id?$.player2Id:$.player1Id);const se=g.find(pe=>pe.id==="fifth_sixth");se!=null&&se.winnerId&&(w.fifth=se.winnerId,w.sixth=se.winnerId===se.player1Id?se.player2Id:se.player1Id);const me=g.find(pe=>pe.id==="seventh_eighth");return me!=null&&me.winnerId&&(w.seventh=me.winnerId,w.eighth=me.winnerId===me.player1Id?me.player2Id:me.player1Id),w};if(r.length<384||r.length>512)return B.jsxs("div",{className:"text-center p-8",children:[B.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Uygun Olmayan Oyuncu Sayısı"}),B.jsxs("p",{className:"text-gray-600",children:["Bu turnuva formatı 384-512 oyuncu arası için tasarlanmıştır. Mevcut oyuncu sayısı: ",r.length]})]});const L=s.filter(g=>K(g)===A),v=_(s),E=!!(v.first&&v.second);return B.jsxs("div",{className:"px-3 sm:px-6 py-6 bg-gray-50 min-h-screen",children:[B.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[B.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:i&&((x=Ye.getFixtureById(i))==null?void 0:x.name)||""}),B.jsxs("div",{className:"flex gap-4",children:[B.jsxs("button",{onClick:()=>{window.confirm("Turnuvayı sıfırlamak istediğinizden emin misiniz? Bu işlem geri alınamaz.")&&(q(),G(),C({}),Q([]),k(null))},className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg shadow hover:from-red-600 hover:to-red-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Turnuvayı Sıfırla"]}),U.length>0&&B.jsxs("button",{onClick:oe,className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg shadow hover:from-blue-600 hover:to-blue-700 transition-all duration-200 text-sm font-semibold",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Bir Önceki Maç"]})]})]}),B.jsx(Nn,{activeTab:I,onTabChange:dt.createTabChangeHandler(F,i)}),B.jsx("div",{className:"max-w-4xl mx-auto"}),I==="active"&&!E&&L.filter(g=>!g.isBye&&!g.winnerId).length>0&&B.jsx("div",{className:"flex justify-center mb-4",children:B.jsx("button",{onClick:()=>{L.filter(g=>!g.isBye&&!g.winnerId).forEach(g=>{const w=Math.random()<.5?g.player1Id:g.player2Id;re(g.id,w)})},className:"bg-green-500 text-white px-6 py-2 rounded-lg hover:bg-green-600 transition-colors shadow-md",children:"Otomatik Kazananları Seç"})}),I==="active"&&B.jsx(B.Fragment,{children:E?B.jsx("div",{className:"max-w-4xl mx-auto",children:B.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl p-8 text-center shadow-lg",children:B.jsxs("div",{className:"mb-6",children:[B.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:B.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),B.jsx("h2",{className:"text-3xl font-bold text-green-800 mb-2",children:"🏆 Turnuva Tamamlandı!"}),B.jsx("p",{className:"text-green-700 text-lg mb-6",children:"Tüm maçlar başarıyla tamamlandı. Sonuçları ve sıralamaları görmek için aşağıdaki butona tıklayın."}),B.jsxs("button",{onClick:()=>dt.createTabChangeHandler(F,i)("rankings"),className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold rounded-lg shadow-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200 transform hover:scale-105",children:[B.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Sıralama Sekmesine Git"]})]})})}):B.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4 max-w-7xl w-full mx-auto",children:L.filter(g=>!g.isBye&&!g.winnerId).map(T)})}),I==="completed"&&B.jsx(kn,{matches:s,players:r,getPlayerName:ue}),I==="rankings"&&B.jsx(Mn,{rankings:_(s),players:r,getPlayerName:ue})]})},gie=()=>{const{t:r}=Xn(),e=PA(),t=YB(),[n]=o9(),[i,s]=z.useState([]),[a,o]=z.useState([]),[l,A]=z.useState(null),[c,u]=z.useState(!0),[f,p]=z.useState(null),[I,F]=z.useState({isOpen:!1,fixtureId:null,fixtureName:""}),D=z.useRef([]);D.current=a,z.useEffect(()=>{const q=localStorage.getItem("arm-wrestling-players");if(q)try{const Y=JSON.parse(q);s(Y)}catch{}const G=Ye.getMatchesData();if(o(G.fixtures),G.activeFixtureId){const Y=G.fixtures.find(K=>K.id===G.activeFixtureId);A(Y||null)}u(!1)},[]),z.useEffect(()=>{if(!c&&a.length>0){const q=n.get("tab"),G=n.get("fixture");if(q&&p(q),G){const Y=a.find(K=>K.id===G);Y&&(A(Y),Ye.setActiveFixture(G))}if(q||G){const Y=window.location.pathname;window.history.replaceState({},"",Y)}}},[c,a,n]),z.useEffect(()=>{if(!c){const G={fixtures:a.map(Y=>({...Y,activeTab:Ye.getFixtureActiveTab(Y.id)})),activeFixtureId:l==null?void 0:l.id,lastUpdated:new Date().toISOString()};Ye.saveMatchesData(G)}},[a,l,c]),z.useEffect(()=>{if(e.state){const q=e.state,G=D.current.find(K=>K.tournamentId===q.tournament.id&&K.weightRangeId===q.weightRange.id);if(G){A(G),Ye.setActiveFixture(G.id),window.history.replaceState({},document.title);return}const Y=i.filter(K=>{var J;const H=K.weight>=q.weightRange.min&&K.weight<=q.weightRange.max,te=!((J=q.weightRange.excludedPlayerIds)!=null&&J.includes(K.id)),ue=!q.tournament.genderFilter||K.gender===q.tournament.genderFilter,oe=!q.tournament.handPreferenceFilter||K.handPreference===q.tournament.handPreferenceFilter||K.handPreference==="both";let re=!0;if(K.birthday&&(q.tournament.birthYearMin||q.tournament.birthYearMax)){const O=new Date(K.birthday).getFullYear();q.tournament.birthYearMin&&O<q.tournament.birthYearMin&&(re=!1),q.tournament.birthYearMax&&O>q.tournament.birthYearMax&&(re=!1)}return H&&te&&ue&&oe&&re});if(Y.length>0){const K=Ye.createNewFixture(q.tournament,q.weightRange,Y),H={...K,activeTab:Ye.getFixtureActiveTab(K.id)};o(te=>[...te,H]),A(H),Ye.setActiveFixture(K.id),window.history.replaceState({},document.title)}}},[e.state,i]);const C=q=>{const G=a.find(Y=>Y.id===q);G&&(A(G),Ye.setActiveFixture(q),p(null))},k=(q,G)=>{F({isOpen:!0,fixtureId:q,fixtureName:G})},U=()=>{I.fixtureId&&(Ye.deleteFixture(I.fixtureId),o(q=>q.filter(G=>G.id!==I.fixtureId)),(l==null?void 0:l.id)===I.fixtureId&&(A(null),Ye.setActiveFixture(null)))},Q=(q,G,Y)=>{if(!l)return;const K={matchId:`match-${Date.now()}`,winnerId:G,loserId:Y,timestamp:new Date().toISOString(),type:q};Ye.addMatchResult(l.id,K),o(H=>H.map(te=>te.id===l.id?{...te,results:[...te.results,K],lastUpdated:new Date().toISOString(),activeTab:Ye.getFixtureActiveTab(te.id)}:te))},V=q=>{if(!l)return;Ye.completeFixtureWithRankings(l.id,q);const G={...l,status:"completed",rankings:q,completedAt:new Date().toISOString(),lastUpdated:new Date().toISOString(),activeTab:Ye.getFixtureActiveTab(l.id)};o(Y=>Y.map(K=>K.id===l.id?G:K)),A(G)},Z=()=>{if(!l||l.players.length===0)return B.jsx("div",{className:"text-center text-gray-600",children:"No players in this fixture"});const q=l.players.length,G={players:l.players,onMatchResult:Q,onTournamentComplete:V,fixtureId:l.id};switch(q){case 1:return B.jsx(Yne,{...G},l.id);case 2:return B.jsx(Xne,{...G},l.id);case 3:return B.jsx(Jne,{...G},l.id);case 4:return B.jsx(Zne,{...G},l.id);case 5:return B.jsx(eie,{...G},l.id);case 6:return B.jsx(tie,{...G},l.id);case 7:return B.jsx(rie,{...G},l.id);case 8:return B.jsx(nie,{...G},l.id);case 9:case 10:case 11:return B.jsx(iie,{...G},l.id);case 12:case 13:case 14:case 15:case 16:return B.jsx(sie,{...G},l.id);case 17:case 18:case 19:case 20:case 21:case 22:case 23:return B.jsx(aie,{...G},l.id);case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 32:return B.jsx(oie,{...G},l.id);case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:return B.jsx(lie,{...G},l.id);case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 58:case 59:case 60:case 61:case 62:case 63:case 64:return B.jsx(Aie,{...G},l.id);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 91:case 92:case 93:case 94:case 95:return B.jsx(cie,{...G},l.id);case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:case 123:case 124:case 125:case 126:case 127:case 128:return B.jsx(uie,{...G},l.id);case 129:case 130:case 131:case 132:case 133:case 134:case 135:case 136:case 137:case 138:case 139:case 140:case 141:case 142:case 143:case 144:case 145:case 146:case 147:case 148:case 149:case 150:case 151:case 152:case 153:case 154:case 155:case 156:case 157:case 158:case 159:case 160:case 161:case 162:case 163:case 164:case 165:case 166:case 167:case 168:case 169:case 170:case 171:case 172:case 173:case 174:case 175:case 176:case 177:case 178:case 179:case 180:case 181:case 182:case 183:case 184:case 185:case 186:case 187:case 188:case 189:case 190:case 191:return B.jsx(die,{...G},l.id);case 192:case 193:case 194:case 195:case 196:case 197:case 198:case 199:case 200:case 201:case 202:case 203:case 204:case 205:case 206:case 207:case 208:case 209:case 210:case 211:case 212:case 213:case 214:case 215:case 216:case 217:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 240:case 241:case 242:case 243:case 244:case 245:case 246:case 247:case 248:case 249:case 250:case 251:case 252:case 253:case 254:case 255:case 256:return B.jsx(hie,{...G},l.id);case 257:case 258:case 259:case 260:case 261:case 262:case 263:case 264:case 265:case 266:case 267:case 268:case 269:case 270:case 271:case 272:case 273:case 274:case 275:case 276:case 277:case 278:case 279:case 280:case 281:case 282:case 283:case 284:case 285:case 286:case 287:case 288:case 289:case 290:case 291:case 292:case 293:case 294:case 295:case 296:case 297:case 298:case 299:case 300:case 301:case 302:case 303:case 304:case 305:case 306:case 307:case 308:case 309:case 310:case 311:case 312:case 313:case 314:case 315:case 316:case 317:case 318:case 319:case 320:case 321:case 322:case 323:case 324:case 325:case 326:case 327:case 328:case 329:case 330:case 331:case 332:case 333:case 334:case 335:case 336:case 337:case 338:case 339:case 340:case 341:case 342:case 343:case 344:case 345:case 346:case 347:case 348:case 349:case 350:case 351:case 352:case 353:case 354:case 355:case 356:case 357:case 358:case 359:case 360:case 361:case 362:case 363:case 364:case 365:case 366:case 367:case 368:case 369:case 370:case 371:case 372:case 373:case 374:case 375:case 376:case 377:case 378:case 379:case 380:case 381:case 382:case 383:return B.jsx(fie,{...G},l.id);default:return B.jsx(pie,{...G},l.id)}};return c?B.jsx(Vne,{}):B.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-blue-50 via-white to-purple-50 flex flex-col items-center justify-start py-6 sm:py-8 px-3 sm:px-2",children:[B.jsx("div",{className:"w-full max-w-7xl px-0 sm:px-6 lg:px-8",children:B.jsxs("div",{className:"transition-all duration-300 bg-transparent p-0 border-0 rounded-none shadow-none sm:backdrop-blur-md sm:bg-white/80 sm:rounded-2xl sm:border sm:border-gray-200 sm:shadow-2xl sm:p-6",children:[a.length>0&&B.jsx("div",{className:"mb-8",children:B.jsx(qne,{fixtures:a,onFixtureSelect:C,onFixtureClose:k,activeFixtureId:l==null?void 0:l.id})}),l?B.jsx("div",{className:"space-y-6",children:B.jsx("div",{className:"overflow-x-auto px-0 sm:px-2",children:Z()})}):B.jsxs("div",{className:"text-center py-12",children:[B.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-100 to-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:B.jsx("svg",{className:"w-12 h-12 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),B.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r("matches.noActiveFixtures")}),B.jsx("p",{className:"text-gray-600 mb-6",children:r("matches.startTournamentMessage")}),B.jsx("button",{onClick:()=>t("/tournaments"),className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-400 to-blue-600 text-white rounded-lg shadow hover:from-blue-500 hover:to-blue-700 transition-all duration-200 text-base font-semibold",children:r("matches.goToTournaments")})]})]})}),B.jsx(zne,{isOpen:I.isOpen,onClose:()=>F({isOpen:!1,fixtureId:null,fixtureName:""}),onConfirm:U,title:r("matches.deleteFixture"),message:r("matches.deleteFixtureMessage",{fixtureName:I.fixtureName}),confirmText:r("matches.deleteFixture"),cancelText:r("matches.cancel")})]})},o6=()=>{const{i18n:r,t:e}=Xn(),t=n=>{r.changeLanguage(n)};return B.jsx("div",{className:"flex items-center gap-2",children:B.jsxs("div",{className:"inline-flex p-1 rounded-full bg-gray-100 border border-gray-200 shadow-inner",children:[B.jsx("button",{onClick:()=>t("en"),className:`px-3 py-1.5 text-xs font-semibold rounded-full transition-colors ${r.language==="en"?"bg-white text-blue-700 shadow border border-blue-200":"text-gray-600 hover:text-gray-800"}`,"aria-pressed":r.language==="en",children:"EN"}),B.jsx("button",{onClick:()=>t("tr"),className:`px-3 py-1.5 text-xs font-semibold rounded-full transition-colors ${r.language==="tr"?"bg-white text-blue-700 shadow border border-blue-200":"text-gray-600 hover:text-gray-800"}`,"aria-pressed":r.language==="tr",children:"TR"})]})})},mie=()=>{const{t:r}=Xn(),[e,t]=z.useState(!1),n=()=>t(i=>!i);return B.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-40 bg-white/90 backdrop-blur supports-[backdrop-filter]:bg-white/70 shadow-sm border-b border-gray-100",children:[B.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:B.jsxs("div",{className:"flex justify-between items-center h-16",children:[B.jsx("div",{className:"flex items-center",children:B.jsx(Zi,{to:"/",className:"text-2xl font-extrabold bg-gradient-to-r from-blue-600 to-indigo-700 bg-clip-text text-transparent tracking-tight",onClick:()=>t(!1),children:"ArmWrestle Pro"})}),B.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[B.jsx(Zi,{to:"/players",className:"text-gray-600 hover:text-blue-600 transition-colors duration-200",children:r("navigation.players")}),B.jsx(Zi,{to:"/tournaments",className:"text-gray-600 hover:text-blue-600 transition-colors duration-200",children:r("navigation.tournaments")}),B.jsx(Zi,{to:"/matches",className:"text-gray-600 hover:text-blue-600 transition-colors duration-200",children:r("navigation.matches")}),B.jsx(o6,{})]}),B.jsxs("button",{className:"md:hidden inline-flex items-center justify-center p-2 rounded-md text-gray-600 hover:text-blue-600 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-600","aria-expanded":e,"aria-label":"Toggle navigation menu",onClick:n,children:[B.jsx("svg",{className:`h-6 w-6 ${e?"hidden":"block"}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),B.jsx("svg",{className:`h-6 w-6 ${e?"block":"hidden"}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]})}),B.jsx("div",{className:`${e?"opacity-100 max-h-[70vh]":"opacity-0 max-h-0 pointer-events-none"} md:hidden transition-all duration-300 overflow-hidden absolute left-0 right-0 top-16 z-40 bg-white/90 backdrop-blur supports-[backdrop-filter]:bg-white/70 border-t border-gray-100 shadow-lg`,children:B.jsxs("div",{className:"px-4 py-3 space-y-2 max-h-[70vh] overflow-auto",children:[B.jsx(Zi,{to:"/players",onClick:()=>t(!1),className:"block w-full text-center px-3 py-2 rounded-lg text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:r("navigation.players")}),B.jsx(Zi,{to:"/tournaments",onClick:()=>t(!1),className:"block w-full text-center px-3 py-2 rounded-lg text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:r("navigation.tournaments")}),B.jsx(Zi,{to:"/matches",onClick:()=>t(!1),className:"block w-full text-center px-3 py-2 rounded-lg text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:r("navigation.matches")}),B.jsx("div",{className:"pt-2 border-t border-gray-100 flex justify-center",children:B.jsx(o6,{})})]})})]})},yie=()=>B.jsxs("div",{className:"min-h-screen bg-gray-50 w-screen",children:[B.jsx(mie,{}),B.jsx("main",{className:"w-screen pt-16",children:B.jsx(LW,{})})]}),wie=()=>B.jsx(r9,{basename:"/Armrestling-website/",children:B.jsx(kW,{children:B.jsxs(wf,{element:B.jsx(yie,{}),children:[B.jsx(wf,{path:"/",element:B.jsx(W9,{})}),B.jsx(wf,{path:"/players",element:B.jsx(gX,{})}),B.jsx(wf,{path:"/tournaments",element:B.jsx($ne,{})}),B.jsx(wf,{path:"/matches",element:B.jsx(gie,{})})]})})});b_(document.getElementById("root")).render(B.jsx(z.StrictMode,{children:B.jsx(wie,{})}));export{Y9 as _,bie as c,uF as g};
